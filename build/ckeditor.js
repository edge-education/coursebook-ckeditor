!function(t){const e=t.en=t.en||{};e.dictionary=Object.assign(e.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align center":"Align center","Align left":"Align left","Align right":"Align right",All:"All","Almost equal to":"Almost equal to",Angle:"Angle","Approximately equal to":"Approximately equal to",Aquamarine:"Aquamarine",Arrows:"Arrows","Asterisk operator":"Asterisk operator","Austral sign":"Austral sign","back with leftwards arrow above":"back with leftwards arrow above",Big:"Big","Bitcoin sign":"Bitcoin sign",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Cancel:"Cancel","Cedi sign":"Cedi sign","Cent sign":"Cent sign","Character categories":"Character categories","Characters: %0":"Characters: %0","Choose heading":"Choose heading",Clear:"Clear","Click to edit block":"Click to edit block",Code:"Code","Colon sign":"Colon sign","Contains as member":"Contains as member","Copyright sign":"Copyright sign","Cruzeiro sign":"Cruzeiro sign",Currency:"Currency","Currency sign":"Currency sign","Decrease indent":"Decrease indent",Default:"Default","Degree sign":"Degree sign","Dim grey":"Dim grey","Division sign":"Division sign","Document colors":"Document colors","Dollar sign":"Dollar sign","Dong sign":"Dong sign","Double dagger":"Double dagger","Double exclamation mark":"Double exclamation mark","Double low-9 quotation mark":"Double low-9 quotation mark","Double question mark":"Double question mark",Downloadable:"Downloadable","downwards arrow to bar":"downwards arrow to bar","downwards dashed arrow":"downwards dashed arrow","downwards double arrow":"downwards double arrow","downwards simple arrow":"downwards simple arrow","Drachma sign":"Drachma sign","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Element of":"Element of","Em dash":"Em dash","Empty set":"Empty set","En dash":"En dash","end with leftwards arrow above":"end with leftwards arrow above","Euro sign":"Euro sign","Euro-currency sign":"Euro-currency sign","Exclamation question mark":"Exclamation question mark",Find:"Find","Find and replace":"Find and replace","Find in text…":"Find in text…","Font Background Color":"Font Background Color","Font Color":"Font Color","Font Family":"Font Family","Font Size":"Font Size","For all":"For all","Fraction slash":"Fraction slash","French franc sign":"French franc sign","German penny sign":"German penny sign","Greater-than or equal to":"Greater-than or equal to","Greater-than sign":"Greater-than sign",Green:"Green",Grey:"Grey","Guarani sign":"Guarani sign",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",HEX:"HEX","Horizontal ellipsis":"Horizontal ellipsis","Horizontal line":"Horizontal line","Hryvnia sign":"Hryvnia sign","HTML object":"HTML object",Huge:"Huge","Identical to":"Identical to","Increase indent":"Increase indent","Indian rupee sign":"Indian rupee sign",Infinity:"Infinity","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block",Integral:"Integral",Intersection:"Intersection","Inverted exclamation mark":"Inverted exclamation mark","Inverted question mark":"Inverted question mark",Italic:"Italic",Justify:"Justify","Kip sign":"Kip sign",Latin:"Latin","Latin capital letter a with breve":"Latin capital letter a with breve","Latin capital letter a with macron":"Latin capital letter a with macron","Latin capital letter a with ogonek":"Latin capital letter a with ogonek","Latin capital letter c with acute":"Latin capital letter c with acute","Latin capital letter c with caron":"Latin capital letter c with caron","Latin capital letter c with circumflex":"Latin capital letter c with circumflex","Latin capital letter c with dot above":"Latin capital letter c with dot above","Latin capital letter d with caron":"Latin capital letter d with caron","Latin capital letter d with stroke":"Latin capital letter d with stroke","Latin capital letter e with breve":"Latin capital letter e with breve","Latin capital letter e with caron":"Latin capital letter e with caron","Latin capital letter e with dot above":"Latin capital letter e with dot above","Latin capital letter e with macron":"Latin capital letter e with macron","Latin capital letter e with ogonek":"Latin capital letter e with ogonek","Latin capital letter eng":"Latin capital letter eng","Latin capital letter g with breve":"Latin capital letter g with breve","Latin capital letter g with cedilla":"Latin capital letter g with cedilla","Latin capital letter g with circumflex":"Latin capital letter g with circumflex","Latin capital letter g with dot above":"Latin capital letter g with dot above","Latin capital letter h with circumflex":"Latin capital letter h with circumflex","Latin capital letter h with stroke":"Latin capital letter h with stroke","Latin capital letter i with breve":"Latin capital letter i with breve","Latin capital letter i with dot above":"Latin capital letter i with dot above","Latin capital letter i with macron":"Latin capital letter i with macron","Latin capital letter i with ogonek":"Latin capital letter i with ogonek","Latin capital letter i with tilde":"Latin capital letter i with tilde","Latin capital letter j with circumflex":"Latin capital letter j with circumflex","Latin capital letter k with cedilla":"Latin capital letter k with cedilla","Latin capital letter l with acute":"Latin capital letter l with acute","Latin capital letter l with caron":"Latin capital letter l with caron","Latin capital letter l with cedilla":"Latin capital letter l with cedilla","Latin capital letter l with middle dot":"Latin capital letter l with middle dot","Latin capital letter l with stroke":"Latin capital letter l with stroke","Latin capital letter n with acute":"Latin capital letter n with acute","Latin capital letter n with caron":"Latin capital letter n with caron","Latin capital letter n with cedilla":"Latin capital letter n with cedilla","Latin capital letter o with breve":"Latin capital letter o with breve","Latin capital letter o with double acute":"Latin capital letter o with double acute","Latin capital letter o with macron":"Latin capital letter o with macron","Latin capital letter r with acute":"Latin capital letter r with acute","Latin capital letter r with caron":"Latin capital letter r with caron","Latin capital letter r with cedilla":"Latin capital letter r with cedilla","Latin capital letter s with acute":"Latin capital letter s with acute","Latin capital letter s with caron":"Latin capital letter s with caron","Latin capital letter s with cedilla":"Latin capital letter s with cedilla","Latin capital letter s with circumflex":"Latin capital letter s with circumflex","Latin capital letter t with caron":"Latin capital letter t with caron","Latin capital letter t with cedilla":"Latin capital letter t with cedilla","Latin capital letter t with stroke":"Latin capital letter t with stroke","Latin capital letter u with breve":"Latin capital letter u with breve","Latin capital letter u with double acute":"Latin capital letter u with double acute","Latin capital letter u with macron":"Latin capital letter u with macron","Latin capital letter u with ogonek":"Latin capital letter u with ogonek","Latin capital letter u with ring above":"Latin capital letter u with ring above","Latin capital letter u with tilde":"Latin capital letter u with tilde","Latin capital letter w with circumflex":"Latin capital letter w with circumflex","Latin capital letter y with circumflex":"Latin capital letter y with circumflex","Latin capital letter y with diaeresis":"Latin capital letter y with diaeresis","Latin capital letter z with acute":"Latin capital letter z with acute","Latin capital letter z with caron":"Latin capital letter z with caron","Latin capital letter z with dot above":"Latin capital letter z with dot above","Latin capital ligature ij":"Latin capital ligature ij","Latin capital ligature oe":"Latin capital ligature oe","Latin small letter a with breve":"Latin small letter a with breve","Latin small letter a with macron":"Latin small letter a with macron","Latin small letter a with ogonek":"Latin small letter a with ogonek","Latin small letter c with acute":"Latin small letter c with acute","Latin small letter c with caron":"Latin small letter c with caron","Latin small letter c with circumflex":"Latin small letter c with circumflex","Latin small letter c with dot above":"Latin small letter c with dot above","Latin small letter d with caron":"Latin small letter d with caron","Latin small letter d with stroke":"Latin small letter d with stroke","Latin small letter dotless i":"Latin small letter dotless i","Latin small letter e with breve":"Latin small letter e with breve","Latin small letter e with caron":"Latin small letter e with caron","Latin small letter e with dot above":"Latin small letter e with dot above","Latin small letter e with macron":"Latin small letter e with macron","Latin small letter e with ogonek":"Latin small letter e with ogonek","Latin small letter eng":"Latin small letter eng","Latin small letter f with hook":"Latin small letter f with hook","Latin small letter g with breve":"Latin small letter g with breve","Latin small letter g with cedilla":"Latin small letter g with cedilla","Latin small letter g with circumflex":"Latin small letter g with circumflex","Latin small letter g with dot above":"Latin small letter g with dot above","Latin small letter h with circumflex":"Latin small letter h with circumflex","Latin small letter h with stroke":"Latin small letter h with stroke","Latin small letter i with breve":"Latin small letter i with breve","Latin small letter i with macron":"Latin small letter i with macron","Latin small letter i with ogonek":"Latin small letter i with ogonek","Latin small letter i with tilde":"Latin small letter i with tilde","Latin small letter j with circumflex":"Latin small letter j with circumflex","Latin small letter k with cedilla":"Latin small letter k with cedilla","Latin small letter kra":"Latin small letter kra","Latin small letter l with acute":"Latin small letter l with acute","Latin small letter l with caron":"Latin small letter l with caron","Latin small letter l with cedilla":"Latin small letter l with cedilla","Latin small letter l with middle dot":"Latin small letter l with middle dot","Latin small letter l with stroke":"Latin small letter l with stroke","Latin small letter long s":"Latin small letter long s","Latin small letter n preceded by apostrophe":"Latin small letter n preceded by apostrophe","Latin small letter n with acute":"Latin small letter n with acute","Latin small letter n with caron":"Latin small letter n with caron","Latin small letter n with cedilla":"Latin small letter n with cedilla","Latin small letter o with breve":"Latin small letter o with breve","Latin small letter o with double acute":"Latin small letter o with double acute","Latin small letter o with macron":"Latin small letter o with macron","Latin small letter r with acute":"Latin small letter r with acute","Latin small letter r with caron":"Latin small letter r with caron","Latin small letter r with cedilla":"Latin small letter r with cedilla","Latin small letter s with acute":"Latin small letter s with acute","Latin small letter s with caron":"Latin small letter s with caron","Latin small letter s with cedilla":"Latin small letter s with cedilla","Latin small letter s with circumflex":"Latin small letter s with circumflex","Latin small letter t with caron":"Latin small letter t with caron","Latin small letter t with cedilla":"Latin small letter t with cedilla","Latin small letter t with stroke":"Latin small letter t with stroke","Latin small letter u with breve":"Latin small letter u with breve","Latin small letter u with double acute":"Latin small letter u with double acute","Latin small letter u with macron":"Latin small letter u with macron","Latin small letter u with ogonek":"Latin small letter u with ogonek","Latin small letter u with ring above":"Latin small letter u with ring above","Latin small letter u with tilde":"Latin small letter u with tilde","Latin small letter w with circumflex":"Latin small letter w with circumflex","Latin small letter y with circumflex":"Latin small letter y with circumflex","Latin small letter z with acute":"Latin small letter z with acute","Latin small letter z with caron":"Latin small letter z with caron","Latin small letter z with dot above":"Latin small letter z with dot above","Latin small ligature ij":"Latin small ligature ij","Latin small ligature oe":"Latin small ligature oe","Left double quotation mark":"Left double quotation mark","Left single quotation mark":"Left single quotation mark","Left-pointing double angle quotation mark":"Left-pointing double angle quotation mark","leftwards arrow to bar":"leftwards arrow to bar","leftwards dashed arrow":"leftwards dashed arrow","leftwards double arrow":"leftwards double arrow","leftwards simple arrow":"leftwards simple arrow","Less-than or equal to":"Less-than or equal to","Less-than sign":"Less-than sign","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Lira sign":"Lira sign","Livre tournois sign":"Livre tournois sign","Logical and":"Logical and","Logical or":"Logical or",Macron:"Macron","Manat sign":"Manat sign","Match case":"Match case",Mathematical:"Mathematical","Mill sign":"Mill sign","Minus sign":"Minus sign","Multiplication sign":"Multiplication sign","N-ary product":"N-ary product","N-ary summation":"N-ary summation",Nabla:"Nabla","Naira sign":"Naira sign","New sheqel sign":"New sheqel sign",Next:"Next","Next result":"Next result","No results found":"No results found","No searchable items":"No searchable items","Nordic mark sign":"Nordic mark sign","Not an element of":"Not an element of","Not equal to":"Not equal to","Not sign":"Not sign","on with exclamation mark with left right arrow above":"on with exclamation mark with left right arrow above","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Overline:"Overline",Paragraph:"Paragraph","Paragraph sign":"Paragraph sign","Partial differential":"Partial differential","Per mille sign":"Per mille sign","Per ten thousand sign":"Per ten thousand sign","Peseta sign":"Peseta sign","Peso sign":"Peso sign","Plus-minus sign":"Plus-minus sign","Pound sign":"Pound sign","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Previous result":"Previous result","Proportional to":"Proportional to",Purple:"Purple","Question exclamation mark":"Question exclamation mark",Red:"Red",Redo:"Redo","Registered sign":"Registered sign","Remove color":"Remove color","Remove Format":"Remove Format",Replace:"Replace","Replace all":"Replace all","Replace with…":"Replace with…","Reversed paragraph sign":"Reversed paragraph sign","Rich Text Editor":"Rich Text Editor","Rich Text Editor. Editing area: %0":"Rich Text Editor. Editing area: %0","Right double quotation mark":"Right double quotation mark","Right single quotation mark":"Right single quotation mark","Right-pointing double angle quotation mark":"Right-pointing double angle quotation mark","rightwards arrow to bar":"rightwards arrow to bar","rightwards dashed arrow":"rightwards dashed arrow","rightwards double arrow":"rightwards double arrow","rightwards simple arrow":"rightwards simple arrow","Ruble sign":"Ruble sign","Rupee sign":"Rupee sign",Save:"Save","Section sign":"Section sign","Select all":"Select all","Show more items":"Show more items","Show options":"Show options","Single left-pointing angle quotation mark":"Single left-pointing angle quotation mark","Single low-9 quotation mark":"Single low-9 quotation mark","Single right-pointing angle quotation mark":"Single right-pointing angle quotation mark",Small:"Small","soon with rightwards arrow above":"soon with rightwards arrow above","Special characters":"Special characters","Spesmilo sign":"Spesmilo sign","Square root":"Square root",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript","Tenge sign":"Tenge sign",Text:"Text","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text to find must not be empty.":"Text to find must not be empty.","There exists":"There exists","This link has no URL":"This link has no URL","Tilde operator":"Tilde operator",Tiny:"Tiny","Tip: Find some text first in order to replace it.":"Tip: Find some text first in order to replace it.","top with upwards arrow above":"top with upwards arrow above","Trade mark sign":"Trade mark sign","Tugrik sign":"Tugrik sign","Turkish lira sign":"Turkish lira sign",Turquoise:"Turquoise","Two dot leader":"Two dot leader","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Union:"Union",Unlink:"Unlink","up down arrow with base":"up down arrow with base","Upload in progress":"Upload in progress","upwards arrow to bar":"upwards arrow to bar","upwards dashed arrow":"upwards dashed arrow","upwards double arrow":"upwards double arrow","upwards simple arrow":"upwards simple arrow","Vulgar fraction one half":"Vulgar fraction one half","Vulgar fraction one quarter":"Vulgar fraction one quarter","Vulgar fraction three quarters":"Vulgar fraction three quarters",White:"White","Whole words only":"Whole words only","Widget toolbar":"Widget toolbar","Won sign":"Won sign","Words: %0":"Words: %0",Yellow:"Yellow","Yen sign":"Yen sign"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),
/*!
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */
function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.InlineEditor=e():t.InlineEditor=e()}(self,(()=>(()=>{var t={8168:(t,e,o)=>{const n=o(8874),r={};for(const t of Object.keys(n))r[n[t]]=t;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=i;for(const t of Object.keys(i)){if(!("channels"in i[t]))throw new Error("missing channels property: "+t);if(!("labels"in i[t]))throw new Error("missing channel labels property: "+t);if(i[t].labels.length!==i[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:o}=i[t];delete i[t].channels,delete i[t].labels,Object.defineProperty(i[t],"channels",{value:e}),Object.defineProperty(i[t],"labels",{value:o})}i.rgb.hsl=function(t){const e=t[0]/255,o=t[1]/255,n=t[2]/255,r=Math.min(e,o,n),i=Math.max(e,o,n),s=i-r;let l,a;i===r?l=0:e===i?l=(o-n)/s:o===i?l=2+(n-e)/s:n===i&&(l=4+(e-o)/s),l=Math.min(60*l,360),l<0&&(l+=360);const d=(r+i)/2;return a=i===r?0:d<=.5?s/(i+r):s/(2-i-r),[l,100*a,100*d]},i.rgb.hsv=function(t){let e,o,n,r,i;const s=t[0]/255,l=t[1]/255,a=t[2]/255,d=Math.max(s,l,a),c=d-Math.min(s,l,a),h=function(t){return(d-t)/6/c+.5};return 0===c?(r=0,i=0):(i=c/d,e=h(s),o=h(l),n=h(a),s===d?r=n-o:l===d?r=1/3+e-n:a===d&&(r=2/3+o-e),r<0?r+=1:r>1&&(r-=1)),[360*r,100*i,100*d]},i.rgb.hwb=function(t){const e=t[0],o=t[1];let n=t[2];const r=i.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(o,n));return n=1-1/255*Math.max(e,Math.max(o,n)),[r,100*s,100*n]},i.rgb.cmyk=function(t){const e=t[0]/255,o=t[1]/255,n=t[2]/255,r=Math.min(1-e,1-o,1-n);return[100*((1-e-r)/(1-r)||0),100*((1-o-r)/(1-r)||0),100*((1-n-r)/(1-r)||0),100*r]},i.rgb.keyword=function(t){const e=r[t];if(e)return e;let o,i=1/0;for(const e of Object.keys(n)){const r=n[e],a=(l=r,((s=t)[0]-l[0])**2+(s[1]-l[1])**2+(s[2]-l[2])**2);a<i&&(i=a,o=e)}var s,l;return o},i.keyword.rgb=function(t){return n[t]},i.rgb.xyz=function(t){let e=t[0]/255,o=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;return[100*(.4124*e+.3576*o+.1805*n),100*(.2126*e+.7152*o+.0722*n),100*(.0193*e+.1192*o+.9505*n)]},i.rgb.lab=function(t){const e=i.rgb.xyz(t);let o=e[0],n=e[1],r=e[2];o/=95.047,n/=100,r/=108.883,o=o>.008856?o**(1/3):7.787*o+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(o-n),200*(n-r)]},i.hsl.rgb=function(t){const e=t[0]/360,o=t[1]/100,n=t[2]/100;let r,i,s;if(0===o)return s=255*n,[s,s,s];r=n<.5?n*(1+o):n+o-n*o;const l=2*n-r,a=[0,0,0];for(let t=0;t<3;t++)i=e+1/3*-(t-1),i<0&&i++,i>1&&i--,s=6*i<1?l+6*(r-l)*i:2*i<1?r:3*i<2?l+(r-l)*(2/3-i)*6:l,a[t]=255*s;return a},i.hsl.hsv=function(t){const e=t[0];let o=t[1]/100,n=t[2]/100,r=o;const i=Math.max(n,.01);n*=2,o*=n<=1?n:2-n,r*=i<=1?i:2-i;return[e,100*(0===n?2*r/(i+r):2*o/(n+o)),100*((n+o)/2)]},i.hsv.rgb=function(t){const e=t[0]/60,o=t[1]/100;let n=t[2]/100;const r=Math.floor(e)%6,i=e-Math.floor(e),s=255*n*(1-o),l=255*n*(1-o*i),a=255*n*(1-o*(1-i));switch(n*=255,r){case 0:return[n,a,s];case 1:return[l,n,s];case 2:return[s,n,a];case 3:return[s,l,n];case 4:return[a,s,n];case 5:return[n,s,l]}},i.hsv.hsl=function(t){const e=t[0],o=t[1]/100,n=t[2]/100,r=Math.max(n,.01);let i,s;s=(2-o)*n;const l=(2-o)*r;return i=o*r,i/=l<=1?l:2-l,i=i||0,s/=2,[e,100*i,100*s]},i.hwb.rgb=function(t){const e=t[0]/360;let o=t[1]/100,n=t[2]/100;const r=o+n;let i;r>1&&(o/=r,n/=r);const s=Math.floor(6*e),l=1-n;i=6*e-s,0!=(1&s)&&(i=1-i);const a=o+i*(l-o);let d,c,h;switch(s){default:case 6:case 0:d=l,c=a,h=o;break;case 1:d=a,c=l,h=o;break;case 2:d=o,c=l,h=a;break;case 3:d=o,c=a,h=l;break;case 4:d=a,c=o,h=l;break;case 5:d=l,c=o,h=a}return[255*d,255*c,255*h]},i.cmyk.rgb=function(t){const e=t[0]/100,o=t[1]/100,n=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,o*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]},i.xyz.rgb=function(t){const e=t[0]/100,o=t[1]/100,n=t[2]/100;let r,i,s;return r=3.2406*e+-1.5372*o+-.4986*n,i=-.9689*e+1.8758*o+.0415*n,s=.0557*e+-.204*o+1.057*n,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,r=Math.min(Math.max(0,r),1),i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),[255*r,255*i,255*s]},i.xyz.lab=function(t){let e=t[0],o=t[1],n=t[2];e/=95.047,o/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*o-16,500*(e-o),200*(o-n)]},i.lab.xyz=function(t){let e,o,n;o=(t[0]+16)/116,e=t[1]/500+o,n=o-t[2]/200;const r=o**3,i=e**3,s=n**3;return o=r>.008856?r:(o-16/116)/7.787,e=i>.008856?i:(e-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,e*=95.047,o*=100,n*=108.883,[e,o,n]},i.lab.lch=function(t){const e=t[0],o=t[1],n=t[2];let r;r=360*Math.atan2(n,o)/2/Math.PI,r<0&&(r+=360);return[e,Math.sqrt(o*o+n*n),r]},i.lch.lab=function(t){const e=t[0],o=t[1],n=t[2]/360*2*Math.PI;return[e,o*Math.cos(n),o*Math.sin(n)]},i.rgb.ansi16=function(t,e=null){const[o,n,r]=t;let s=null===e?i.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),0===s)return 30;let l=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(o/255));return 2===s&&(l+=60),l},i.hsv.ansi16=function(t){return i.rgb.ansi16(i.hsv.rgb(t),t[2])},i.rgb.ansi256=function(t){const e=t[0],o=t[1],n=t[2];if(e===o&&o===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(o/255*5)+Math.round(n/255*5)},i.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const o=.5*(1+~~(t>50));return[(1&e)*o*255,(e>>1&1)*o*255,(e>>2&1)*o*255]},i.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},i.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},i.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let o=e[0];3===e[0].length&&(o=o.split("").map((t=>t+t)).join(""));const n=parseInt(o,16);return[n>>16&255,n>>8&255,255&n]},i.rgb.hcg=function(t){const e=t[0]/255,o=t[1]/255,n=t[2]/255,r=Math.max(Math.max(e,o),n),i=Math.min(Math.min(e,o),n),s=r-i;let l,a;return l=s<1?i/(1-s):0,a=s<=0?0:r===e?(o-n)/s%6:r===o?2+(n-e)/s:4+(e-o)/s,a/=6,a%=1,[360*a,100*s,100*l]},i.hsl.hcg=function(t){const e=t[1]/100,o=t[2]/100,n=o<.5?2*e*o:2*e*(1-o);let r=0;return n<1&&(r=(o-.5*n)/(1-n)),[t[0],100*n,100*r]},i.hsv.hcg=function(t){const e=t[1]/100,o=t[2]/100,n=e*o;let r=0;return n<1&&(r=(o-n)/(1-n)),[t[0],100*n,100*r]},i.hcg.rgb=function(t){const e=t[0]/360,o=t[1]/100,n=t[2]/100;if(0===o)return[255*n,255*n,255*n];const r=[0,0,0],i=e%1*6,s=i%1,l=1-s;let a=0;switch(Math.floor(i)){case 0:r[0]=1,r[1]=s,r[2]=0;break;case 1:r[0]=l,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=s;break;case 3:r[0]=0,r[1]=l,r[2]=1;break;case 4:r[0]=s,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=l}return a=(1-o)*n,[255*(o*r[0]+a),255*(o*r[1]+a),255*(o*r[2]+a)]},i.hcg.hsv=function(t){const e=t[1]/100,o=e+t[2]/100*(1-e);let n=0;return o>0&&(n=e/o),[t[0],100*n,100*o]},i.hcg.hsl=function(t){const e=t[1]/100,o=t[2]/100*(1-e)+.5*e;let n=0;return o>0&&o<.5?n=e/(2*o):o>=.5&&o<1&&(n=e/(2*(1-o))),[t[0],100*n,100*o]},i.hcg.hwb=function(t){const e=t[1]/100,o=e+t[2]/100*(1-e);return[t[0],100*(o-e),100*(1-o)]},i.hwb.hcg=function(t){const e=t[1]/100,o=1-t[2]/100,n=o-e;let r=0;return n<1&&(r=(o-n)/(1-n)),[t[0],100*n,100*r]},i.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},i.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},i.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},i.gray.hsl=function(t){return[0,0,t[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(t){return[0,100,t[0]]},i.gray.cmyk=function(t){return[0,0,0,t[0]]},i.gray.lab=function(t){return[t[0],0,0]},i.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),o=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(o.length)+o},i.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},2085:(t,e,o)=>{const n=o(8168),r=o(4111),i={};Object.keys(n).forEach((t=>{i[t]={},Object.defineProperty(i[t],"channels",{value:n[t].channels}),Object.defineProperty(i[t],"labels",{value:n[t].labels});const e=r(t);Object.keys(e).forEach((o=>{const n=e[o];i[t][o]=function(t){const e=function(...e){const o=e[0];if(null==o)return o;o.length>1&&(e=o);const n=t(e);if("object"==typeof n)for(let t=n.length,e=0;e<t;e++)n[e]=Math.round(n[e]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(n),i[t][o].raw=function(t){const e=function(...e){const o=e[0];return null==o?o:(o.length>1&&(e=o),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)}))})),t.exports=i},4111:(t,e,o)=>{const n=o(8168);function r(t){const e=function(){const t={},e=Object.keys(n);for(let o=e.length,n=0;n<o;n++)t[e[n]]={distance:-1,parent:null};return t}(),o=[t];for(e[t].distance=0;o.length;){const t=o.pop(),r=Object.keys(n[t]);for(let n=r.length,i=0;i<n;i++){const n=r[i],s=e[n];-1===s.distance&&(s.distance=e[t].distance+1,s.parent=t,o.unshift(n))}}return e}function i(t,e){return function(o){return e(t(o))}}function s(t,e){const o=[e[t].parent,t];let r=n[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)o.unshift(e[s].parent),r=i(n[e[s].parent][s],r),s=e[s].parent;return r.conversion=o,r}t.exports=function(t){const e=r(t),o={},n=Object.keys(e);for(let t=n.length,r=0;r<t;r++){const t=n[r];null!==e[t].parent&&(o[t]=s(t,e))}return o}},8874:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},6047:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck-content figure.image{clear:both;display:block;margin:.9em auto;margin-block-end:1em;margin-block-start:0;min-width:100%;padding:0 2px;text-align:left}.ck-content figure.image *{pointer-events:none;width:100%}.ck-content figure.image p{margin-bottom:0}.ck-content figure.image figcaption{background-color:transparent;display:block;pointer-events:none}","",{version:3,sources:["webpack://./cb-media/assets/styles.css"],names:[],mappings:"AAAA,yBAEC,UAAW,CADX,aAAc,CAGd,gBAAkB,CAIlB,oBAAqB,CADrB,oBAAqB,CAFrB,cAAe,CACf,aAAc,CAHd,eAMD,CAEA,2BACC,mBAAoB,CACpB,UACD,CAEA,2BACC,eACD,CAEA,oCAEC,4BAA6B,CAD7B,aAAc,CAEd,mBACD",sourcesContent:[".ck-content figure.image {\n\tdisplay: block;\n\tclear: both;\n\ttext-align: left;\n\tmargin: 0.9em auto;\n\tmin-width: 100%;\n\tpadding: 0 2px;\n\tmargin-block-start: 0;\n\tmargin-block-end: 1em;\n}\n\n.ck-content figure.image * {\n\tpointer-events: none;\n\twidth: 100%\n}\n\n.ck-content figure.image p {\n\tmargin-bottom: 0;\n}\n\n.ck-content figure.image figcaption {\n\tdisplay: block;\n\tbackground-color: transparent;\n\tpointer-events: none;\n}\n"],sourceRoot:""}]);const l=s},6941:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}","",{version:3,sources:["webpack://./edge-list/theme/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-collapsible.ck-collapsible_collapsed {\n\t& > .ck-collapsible__children {\n\t\tdisplay: none;\n\t}\n}\n"],sourceRoot:""}]);const l=s},1204:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./edge-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-editor__editable .ck-list-bogus-paragraph {\n\tdisplay: block;\n}\n"],sourceRoot:""}]);const l=s},2382:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,'.ck-content ol{list-style-type:decimal}.ck-content ol[bracketed]{list-style-type:decimal-bracketed}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol[bracketed]{list-style-type:lower-latin-bracketed}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol[bracketed]{list-style-type:lower-roman-bracketed}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol[bracketed]{list-style-type:upper-latin-bracketed}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ol ol ol ol ol[bracketed]{list-style-type:upper-roman-bracketed}ol[style*="list-style-type:decimal"][bracketed]{list-style-type:decimal-bracketed!important}ol[style*="list-style-type:decimal-leading-zero"][bracketed]{list-style-type:decimal-leading-zero-bracketed!important}ol[style*="list-style-type:lower-roman"][bracketed]{list-style-type:lower-roman-bracketed!important}ol[style*="list-style-type:upper-latin"][bracketed]{list-style-type:upper-latin-bracketed!important}ol[style*="list-style-type:lower-latin"][bracketed]{list-style-type:lower-latin-bracketed!important}ol[style*="list-style-type:upper-roman"][bracketed]{list-style-type:upper-roman-bracketed!important}.ck-editor.ck-content ol,.ck-editor.ck-content ul{padding-left:2.5px}.component li{padding-left:16px}.ck-editor.ck-content li{padding-left:20px}:root{--filled-diamond:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NjIuMDcgNTYyLjA3Ij48cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtNDUgMjgxLjAyOCAyODEuMDM0KSIgc3R5bGU9InN0cm9rZS13aWR0aDowIiBkPSJNODIuMzEgODIuMzFoMzk3LjQ0djM5Ny40NEg4Mi4zMXoiLz48L3N2Zz4=");--filled-square:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NTYuMDcgNDU2LjA3Ij48cGF0aCBzdHlsZT0ic3Ryb2tlLXdpZHRoOjAiIGQ9Ik0wIDBoNDU2LjA3djQ1Ni4wN0gweiIvPjwvc3ZnPg==");--filled-circle:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NTYuMDcgNDU2LjA3Ij48Y2lyY2xlIGN4PSIyMjguMDMiIGN5PSIyMjguMDMiIHI9IjIyOC4wMyIgc3R5bGU9InN0cm9rZS13aWR0aDowIi8+PC9zdmc+");--hollow-diamond:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OTAuMzUgNTkwLjM1Ij48cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtNDUgMjk1LjE2NyAyOTUuMTc4KSIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDtzdHJva2UtbWl0ZXJsaW1pdDoxMDtzdHJva2Utd2lkdGg6MjBweCIgZD0iTTk2LjQ1IDk2LjQ1aDM5Ny40NHYzOTcuNDRIOTYuNDV6Ii8+PC9zdmc+");--hollow-square:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NzYuMDcgNDc2LjA3Ij48cGF0aCBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwO3N0cm9rZS1taXRlcmxpbWl0OjEwO3N0cm9rZS13aWR0aDoyMHB4IiBkPSJNMTAgMTBoNDU2LjA3djQ1Ni4wN0gxMHoiLz48L3N2Zz4=");--hollow-circle:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NzYuMDcgNDc2LjA3Ij48Y2lyY2xlIGN4PSIyMzguMDMiIGN5PSIyMzguMDMiIHI9IjIyOC4wMyIgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDtzdHJva2UtbWl0ZXJsaW1pdDoxMDtzdHJva2Utd2lkdGg6MjBweCIvPjwvc3ZnPg==")}.ck-content ul{li{list-style-type:none!important;position:relative}li:before{content:var(--filled-circle);left:-2px;position:absolute;top:-2px;width:3px}}.ck-content ul ul{list-style-type:square-solid}.ck-content ul ul>li:before{content:var(--filled-square);left:-2px;position:absolute;top:-2px;width:3px}.ck-content ul ul ul{list-style-type:diamond-filled}.ck-content ul ul ul>li:before{content:var(--filled-diamond);left:-2px;position:absolute;top:-1px;width:4px}.ck-content ul ul ul ul{list-style-type:circle-hollow}.ck-content ul ul ul ul>li:before{content:var(--hollow-circle);left:-2px;position:absolute;top:-2px;width:3px}.ck-content ul ul ul ul ul{list-style-type:square-hollow}.ck-content ul ul ul ul ul>li:before{content:var(--hollow-square);left:-2px;position:absolute;top:-2px;width:3px}.ck-content ul ul ul ul ul ul{list-style-type:diamond-hollow}.ck-content ul ul ul ul ul ul>li:before{content:var(--hollow-diamond);left:-2px;position:absolute;top:-1px;width:4px}.ck-content ul ul ul ul ul ul ul{li{position:relative}li:before{content:var(--filled-circle);left:-2px;position:absolute;top:-2px;width:3px}}.ck-content ul ul ul ul ul ul ul ul{list-style-type:square-solid}.ck-content ul ul ul ul ul ul ul ul>li:before{content:var(--filled-square);left:-2px;position:absolute;top:-2px;width:3px}.ck-content ul ul ul ul ul ul ul ul ul{list-style-type:diamond-filled}.ck-content ul ul ul ul ul ul ul ul ul>li:before{content:var(--filled-diamond);left:-2px;position:absolute;top:-1px;width:4px}.ck-content ul ul ul ul ul ul ul ul ul ul{list-style-type:circle-hollow}.ck-content ul ul ul ul ul ul ul ul ul ul>li:before{content:var(--hollow-circle);left:-2px;position:absolute;top:-2px;width:3px}.ck-content ul ul ul ul ul ul ul ul ul ul ul{list-style-type:square-hollow}.ck-content ul ul ul ul ul ul ul ul ul ul ul>li:before{content:var(--hollow-square);left:-2px;position:absolute;top:-2px;width:3px}.ck-content ul ul ul ul ul ul ul ul ul ul ul ul{list-style-type:diamond-hollow}.ck-content ul ul ul ul ul ul ul ul ul ul ul ul>li:before{content:var(--hollow-diamond);left:-2px;position:absolute;top:-1px;width:4px}',"",{version:3,sources:["webpack://./edge-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAqCD,CAnCC,0BACC,iCACD,CAEA,kBACC,2BA6BD,CA3BC,6BACC,qCACD,CAEA,qBACC,2BAqBD,CAnBC,gCACC,qCACD,CAEA,wBACC,2BAaD,CAXC,mCACC,qCACD,CAEA,2BACC,2BAKD,CAHC,sCACC,qCACD,CAOL,gDACC,2CACD,CAEA,6DACC,wDACD,CAMA,oDACC,+CACD,CAEA,oDACC,+CACD,CAEA,oDACC,+CACD,CAEA,oDACC,+CACD,CAEA,kDACC,kBACD,CAEA,cACC,iBACD,CAEA,yBACC,iBACD,CAEA,MACC,sSAAme,CACne,iOAAkY,CAClY,6OAA0Y,CAC1Y,kWAA2hB,CAC3hB,iSAAkd,CACld,6SACD,CAEA,eACC,GACC,8BAAgC,CAChC,iBASD,CAPC,UACC,4BAA6B,CAE7B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CA+JF,CA3JC,kBACC,4BAyJD,CAtJE,4BACC,4BAA6B,CAE7B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAGD,qBACC,8BA2ID,CAxIE,+BACC,6BAA8B,CAE9B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAGD,wBACC,6BA6HD,CA1HE,kCACC,4BAA6B,CAE7B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAGD,2BACC,6BA+GD,CA5GE,qCACC,4BAA6B,CAE7B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAGD,8BACC,8BAiGD,CA9FE,wCACC,6BAA8B,CAE9B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAGD,iCACC,GACC,iBASD,CAPC,UACC,4BAA6B,CAE7B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CA0EF,CAtEC,oCACC,4BAoED,CAjEE,8CACC,4BAA6B,CAE7B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAGD,uCACC,8BAsDD,CAnDE,iDACC,6BAA8B,CAE9B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAGD,0CACC,6BAwCD,CArCE,oDACC,4BAA6B,CAE7B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAGD,6CACC,6BA0BD,CAvBE,uDACC,4BAA6B,CAE7B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAGD,gDACC,8BAYD,CATE,0DACC,6BAA8B,CAE9B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content ol {\n\tlist-style-type: decimal;\n\n\t&[bracketed] {\n\t\tlist-style-type: decimal-bracketed;\n\t}\n\n\t& ol {\n\t\tlist-style-type: lower-latin;\n\n\t\t&[bracketed] {\n\t\t\tlist-style-type: lower-latin-bracketed;\n\t\t}\n\n\t\t& ol {\n\t\t\tlist-style-type: lower-roman;\n\n\t\t\t&[bracketed] {\n\t\t\t\tlist-style-type: lower-roman-bracketed;\n\t\t\t}\n\n\t\t\t& ol {\n\t\t\t\tlist-style-type: upper-latin;\n\n\t\t\t\t&[bracketed] {\n\t\t\t\t\tlist-style-type: upper-latin-bracketed;\n\t\t\t\t}\n\n\t\t\t\t& ol {\n\t\t\t\t\tlist-style-type: upper-roman;\n\n\t\t\t\t\t&[bracketed] {\n\t\t\t\t\t\tlist-style-type: upper-roman-bracketed;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nol[style*='list-style-type:decimal'][bracketed] {\n\tlist-style-type: decimal-bracketed !important;\n}\n\nol[style*='list-style-type:decimal-leading-zero'][bracketed] {\n\tlist-style-type: decimal-leading-zero-bracketed !important;\n}\n\nol[style*='list-style-type:lower-latin'][bracketed] {\n\tlist-style-type: lower-latin-bracketed !important;;\n}\n\nol[style*='list-style-type:lower-roman'][bracketed] {\n\tlist-style-type: lower-roman-bracketed !important;;\n}\n\nol[style*='list-style-type:upper-latin'][bracketed] {\n\tlist-style-type: upper-latin-bracketed !important;;\n}\n\nol[style*='list-style-type:lower-latin'][bracketed] {\n\tlist-style-type: lower-latin-bracketed !important;;\n}\n\nol[style*='list-style-type:upper-roman'][bracketed] {\n\tlist-style-type: upper-roman-bracketed !important;;\n}\n\n.ck-editor.ck-content ul, .ck-editor.ck-content ol {\n\tpadding-left: 2.5px;\n}\n\n.component li {\n\tpadding-left: 16px;\n}\n\n.ck-editor.ck-content li {\n\tpadding-left: 20px;\n}\n\n:root {\n\t--filled-diamond: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJMYXllcl8yIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NjIuMDcgNTYyLjA3Ij48ZGVmcz48c3R5bGU+LmNscy0xe3N0cm9rZS13aWR0aDowcHg7fTwvc3R5bGU+PC9kZWZzPjxnIGlkPSJMYXllcl8xLTIiPjxyZWN0IGNsYXNzPSJjbHMtMSIgeD0iODIuMzEiIHk9IjgyLjMxIiB3aWR0aD0iMzk3LjQ0IiBoZWlnaHQ9IjM5Ny40NCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExNi40MSAyODEuMDMpIHJvdGF0ZSgtNDUpIi8+PC9nPjwvc3ZnPg==');\n\t--filled-square: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJMYXllcl8yIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NTYuMDcgNDU2LjA3Ij48ZGVmcz48c3R5bGU+LmNscy0xe3N0cm9rZS13aWR0aDowcHg7fTwvc3R5bGU+PC9kZWZzPjxnIGlkPSJMYXllcl8xLTIiPjxyZWN0IGNsYXNzPSJjbHMtMSIgd2lkdGg9IjQ1Ni4wNyIgaGVpZ2h0PSI0NTYuMDciLz48L2c+PC9zdmc+');\n\t--filled-circle: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJMYXllcl8yIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NTYuMDcgNDU2LjA3Ij48ZGVmcz48c3R5bGU+LmNscy0xe3N0cm9rZS13aWR0aDowcHg7fTwvc3R5bGU+PC9kZWZzPjxnIGlkPSJMYXllcl8xLTIiPjxjaXJjbGUgY2xhc3M9ImNscy0xIiBjeD0iMjI4LjAzIiBjeT0iMjI4LjAzIiByPSIyMjguMDMiLz48L2c+PC9zdmc+');\n\t--hollow-diamond: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJMYXllcl8yIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OTAuMzUgNTkwLjM1Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6bm9uZTtzdHJva2U6IzAwMDtzdHJva2UtbWl0ZXJsaW1pdDoxMDtzdHJva2Utd2lkdGg6MjBweDt9PC9zdHlsZT48L2RlZnM+PGcgaWQ9IkxheWVyXzEtMiI+PHJlY3QgY2xhc3M9ImNscy0xIiB4PSI5Ni40NSIgeT0iOTYuNDUiIHdpZHRoPSIzOTcuNDQiIGhlaWdodD0iMzk3LjQ0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTIyLjI3IDI5NS4xNykgcm90YXRlKC00NSkiLz48L2c+PC9zdmc+');\n\t--hollow-square: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJMYXllcl8yIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NzYuMDcgNDc2LjA3Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6bm9uZTtzdHJva2U6IzAwMDtzdHJva2UtbWl0ZXJsaW1pdDoxMDtzdHJva2Utd2lkdGg6MjBweDt9PC9zdHlsZT48L2RlZnM+PGcgaWQ9IkxheWVyXzEtMiI+PHJlY3QgY2xhc3M9ImNscy0xIiB4PSIxMCIgeT0iMTAiIHdpZHRoPSI0NTYuMDciIGhlaWdodD0iNDU2LjA3Ii8+PC9nPjwvc3ZnPg==');\n\t--hollow-circle: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJMYXllcl8yIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NzYuMDcgNDc2LjA3Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6bm9uZTtzdHJva2U6IzAwMDtzdHJva2UtbWl0ZXJsaW1pdDoxMDtzdHJva2Utd2lkdGg6MjBweDt9PC9zdHlsZT48L2RlZnM+PGcgaWQ9IkxheWVyXzEtMiI+PGNpcmNsZSBjbGFzcz0iY2xzLTEiIGN4PSIyMzguMDMiIGN5PSIyMzguMDMiIHI9IjIyOC4wMyIvPjwvZz48L3N2Zz4=');\n}\n\n.ck-content ul {\n\tli {\n\t\tlist-style-type: none !important;\n\t\tposition: relative;\n\n\t\t&:before {\n\t\t\tcontent: var(--filled-circle);\n\t\t\tposition: absolute;\n\t\t\tleft: -2px;\n\t\t\ttop: -2px;\n\t\t\twidth: 3px\n\t\t}\n\t}\n\n\n\t& ul {\n\t\tlist-style-type: square-solid;\n\n\t\t& > li {\n\t\t\t&:before {\n\t\t\t\tcontent: var(--filled-square);\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: -2px;\n\t\t\t\ttop: -2px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t}\n\n\t\t& ul {\n\t\t\tlist-style-type: diamond-filled;\n\n\t\t\t& > li {\n\t\t\t\t&:before {\n\t\t\t\t\tcontent: var(--filled-diamond);\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tleft: -2px;\n\t\t\t\t\ttop: -1px;\n\t\t\t\t\twidth: 4px\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& ul {\n\t\t\t\tlist-style-type: circle-hollow;\n\n\t\t\t\t& > li {\n\t\t\t\t\t&:before {\n\t\t\t\t\t\tcontent: var(--hollow-circle);\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tleft: -2px;\n\t\t\t\t\t\ttop: -2px;\n\t\t\t\t\t\twidth: 3px;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t& ul {\n\t\t\t\t\tlist-style-type: square-hollow;\n\n\t\t\t\t\t& > li {\n\t\t\t\t\t\t&:before {\n\t\t\t\t\t\t\tcontent: var(--hollow-square);\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\tleft: -2px;\n\t\t\t\t\t\t\ttop: -2px;\n\t\t\t\t\t\t\twidth: 3px;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t& ul {\n\t\t\t\t\t\tlist-style-type: diamond-hollow;\n\n\t\t\t\t\t\t& > li {\n\t\t\t\t\t\t\t&:before {\n\t\t\t\t\t\t\t\tcontent: var(--hollow-diamond);\n\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\tleft: -2px;\n\t\t\t\t\t\t\t\ttop: -1px;\n\t\t\t\t\t\t\t\twidth: 4px;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t& ul {\n\t\t\t\t\t\t\tli {\n\t\t\t\t\t\t\t\tposition: relative;\n\n\t\t\t\t\t\t\t\t&:before {\n\t\t\t\t\t\t\t\t\tcontent: var(--filled-circle);\n\t\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\t\tleft: -2px;\n\t\t\t\t\t\t\t\t\ttop: -2px;\n\t\t\t\t\t\t\t\t\twidth: 3px\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t& ul {\n\t\t\t\t\t\t\t\tlist-style-type: square-solid;\n\n\t\t\t\t\t\t\t\t& > li {\n\t\t\t\t\t\t\t\t\t&:before {\n\t\t\t\t\t\t\t\t\t\tcontent: var(--filled-square);\n\t\t\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\t\t\tleft: -2px;\n\t\t\t\t\t\t\t\t\t\ttop: -2px;\n\t\t\t\t\t\t\t\t\t\twidth: 3px;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t& ul {\n\t\t\t\t\t\t\t\t\tlist-style-type: diamond-filled;\n\n\t\t\t\t\t\t\t\t\t& > li {\n\t\t\t\t\t\t\t\t\t\t&:before {\n\t\t\t\t\t\t\t\t\t\t\tcontent: var(--filled-diamond);\n\t\t\t\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\t\t\t\tleft: -2px;\n\t\t\t\t\t\t\t\t\t\t\ttop: -1px;\n\t\t\t\t\t\t\t\t\t\t\twidth: 4px\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t& ul {\n\t\t\t\t\t\t\t\t\t\tlist-style-type: circle-hollow;\n\n\t\t\t\t\t\t\t\t\t\t& > li {\n\t\t\t\t\t\t\t\t\t\t\t&:before {\n\t\t\t\t\t\t\t\t\t\t\t\tcontent: var(--hollow-circle);\n\t\t\t\t\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\t\t\t\t\tleft: -2px;\n\t\t\t\t\t\t\t\t\t\t\t\ttop: -2px;\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 3px;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t& ul {\n\t\t\t\t\t\t\t\t\t\t\tlist-style-type: square-hollow;\n\n\t\t\t\t\t\t\t\t\t\t\t& > li {\n\t\t\t\t\t\t\t\t\t\t\t\t&:before {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: var(--hollow-square);\n\t\t\t\t\t\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\t\t\t\t\t\tleft: -2px;\n\t\t\t\t\t\t\t\t\t\t\t\t\ttop: -2px;\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 3px;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t& ul {\n\t\t\t\t\t\t\t\t\t\t\t\tlist-style-type: diamond-hollow;\n\n\t\t\t\t\t\t\t\t\t\t\t\t& > li {\n\t\t\t\t\t\t\t\t\t\t\t\t\t&:before {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: var(--hollow-diamond);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tleft: -2px;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttop: -1px;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 4px;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const l=s},1467:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const l=s},1168:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,'.ck.ck-list-styles-list{display:grid;width:100%}.ck-numbered-list-properties__bracketed,.ck-numbered-list-properties__reversed-order{display:flex!important;width:100%!important}@counter-style decimal-bracketed{system:extends decimal;prefix:"(";suffix:")"}@counter-style lower-latin-bracketed{system:extends lower-latin;prefix:"(";suffix:")"}@counter-style lower-roman-bracketed{system:extends lower-roman;prefix:"(";suffix:")"}@counter-style upper-latin-bracketed{system:extends upper-latin;prefix:"(";suffix:")"}@counter-style upper-roman-bracketed{system:extends upper-roman;prefix:"(";suffix:")"}@counter-style decimal-leading-zero-bracketed{system:extends decimal-leading-zero;prefix:"(";suffix:")"}@counter-style diamond-hollow{system:cyclic;symbols:"◇";suffix:""}@counter-style diamond-filled{system:cyclic;symbols:"◆";suffix:""}@counter-style square-hollow{system:cyclic;symbols:"□";suffix:""}@counter-style square-solid{system:cyclic;symbols:"■";suffix:""}@counter-style circle-hollow{system:cyclic;symbols:"○";suffix:""}@counter-style circle-solid{system:cyclic;symbols:"●";suffix:""}ul li::marker{text-align:left!important;text-align-last:left!important;text-indent:10px!important}@counter-style blank{system:cyclic;symbols:" ";suffix:" "}.ck-content{ul[style*="list-style-type:diamond-hollow;"]>li:before{content:var(--hollow-diamond);left:-2px;position:absolute;top:-1px;width:4px}ul[style*="list-style-type:diamond-filled;"]>li:before{content:var(--filled-diamond);left:-2px;position:absolute;top:-1px;width:4px}ul[style*="list-style-type:square-hollow;"]>li:before{content:var(--hollow-square);left:-2px;position:absolute;top:-2px;width:3px}ul[style*="list-style-type:circle-solid;"]>li:before{content:var(--filled-circle);left:-2px;position:absolute;top:-2px;width:3px}ul[style*="list-style-type:square-solid;"]>li:before{content:var(--filled-square);left:-2px;position:absolute;top:-2px;width:3px}ul[style*="list-style-type:circle-hollow;"]>li:before{content:var(--hollow-circle);left:-2px;position:absolute;top:-2px;width:3px}ul[style*="list-style-type:blank;"]>li:before{content:"";display:none}}.component ol,.component ul{padding-left:1rem}.component ol ol,.component ol ul,.component ul ol,.component ul ul{margin:0}:root{--ck-list-style-button-size:34px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(4,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}',"",{version:3,sources:["webpack://./edge-list/theme/liststyles.css"],names:[],mappings:"AAKA,wBACC,YAAa,CACb,UACD,CAEA,qFAGC,sBAAwB,CADxB,oBAED,CAGA,iCACC,sBAAuB,CACvB,UAAW,CACX,UACD,CAEA,qCACC,0BAA2B,CAC3B,UAAW,CACX,UACD,CAEA,qCACC,0BAA2B,CAC3B,UAAW,CACX,UACD,CAEA,qCACC,0BAA2B,CAC3B,UAAW,CACX,UACD,CAEA,qCACC,0BAA2B,CAC3B,UAAW,CACX,UACD,CAEA,8CACC,mCAAoC,CACpC,UAAW,CACX,UACD,CAGA,8BACC,aAAc,CACd,WAAY,CACZ,SACD,CAEA,8BACC,aAAc,CACd,WAAY,CACZ,SACD,CAEA,6BACC,aAAc,CACd,WAAY,CACZ,SACD,CAGA,4BACC,aAAc,CACd,WAAY,CACZ,SACD,CAEA,6BACC,aAAc,CACd,WAAY,CACZ,SACD,CAEA,4BACC,aAAc,CACd,WAAY,CACZ,SACD,CAEA,cACC,yBAA2B,CAC3B,8BAAgC,CAChC,0BACD,CAGA,qBACC,aAAc,CACd,WAAY,CACZ,UACD,CAEA,YACC,uDACC,6BAA8B,CAE9B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAEA,uDACC,6BAA8B,CAE9B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAEA,sDACC,4BAA6B,CAE7B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAEA,qDACC,4BAA6B,CAE7B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAEA,qDACC,4BAA6B,CAE7B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAEA,sDACC,4BAA6B,CAE7B,SAAU,CADV,iBAAkB,CAElB,QAAS,CACT,SACD,CAEA,8CACC,UAAW,CACX,YACD,CACD,CAEA,4BAEC,iBACD,CAEA,oEAIC,QACD,CAEA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCAgBD,CAZC,mCAKC,sBAAuB,CADvB,QAAS,CADT,SAQD,CAJC,+EALA,uCAAwC,CADxC,sCASA,CAIF,YAIC,uBAAwB,CAFxB,0BAA2B,CAD3B,yBAA0B,CAK1B,qBAiBD,CAfC,0BAHA,cAKA,CAKC,sEACC,aAKD,CAHC,+CACC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-list-styles-list {\n\tdisplay: grid;\n\twidth: 100%;\n}\n\n.ck-numbered-list-properties__reversed-order,\n.ck-numbered-list-properties__bracketed {\n\twidth: 100% !important;\n\tdisplay: flex !important;\n}\n\n\n@counter-style decimal-bracketed {\n\tsystem: extends decimal;\n\tprefix: '(';\n\tsuffix: ')';\n}\n\n@counter-style lower-latin-bracketed {\n\tsystem: extends lower-latin;\n\tprefix: '(';\n\tsuffix: ')';\n}\n\n@counter-style lower-roman-bracketed {\n\tsystem: extends lower-roman;\n\tprefix: '(';\n\tsuffix: ')';\n}\n\n@counter-style upper-latin-bracketed {\n\tsystem: extends upper-latin;\n\tprefix: '(';\n\tsuffix: ')';\n}\n\n@counter-style upper-roman-bracketed {\n\tsystem: extends upper-roman;\n\tprefix: '(';\n\tsuffix: ')';\n}\n\n@counter-style decimal-leading-zero-bracketed {\n\tsystem: extends decimal-leading-zero;\n\tprefix: '(';\n\tsuffix: ')';\n}\n\n\n@counter-style diamond-hollow {\n\tsystem: cyclic;\n\tsymbols: '◇';\n\tsuffix: '';\n}\n\n@counter-style diamond-filled {\n\tsystem: cyclic;\n\tsymbols: '◆';\n\tsuffix: '';\n}\n\n@counter-style square-hollow {\n\tsystem: cyclic;\n\tsymbols: '□';\n\tsuffix: '';\n}\n\n\n@counter-style square-solid {\n\tsystem: cyclic;\n\tsymbols: '■';\n\tsuffix: '';\n}\n\n@counter-style circle-hollow {\n\tsystem: cyclic;\n\tsymbols: '○';\n\tsuffix: '';\n}\n\n@counter-style circle-solid {\n\tsystem: cyclic;\n\tsymbols: '●';\n\tsuffix: '';\n}\n\nul li::marker {\n\ttext-align: left !important;\n\ttext-align-last: left !important;\n\ttext-indent: 10px !important;\n}\n\n\n@counter-style blank {\n\tsystem: cyclic;\n\tsymbols: ' ';\n\tsuffix: ' ';\n}\n\n.ck-content {\n\tul[style*='list-style-type:diamond-hollow;'] > li:before {\n\t\tcontent: var(--hollow-diamond);\n\t\tposition: absolute;\n\t\tleft: -2px;\n\t\ttop: -1px;\n\t\twidth: 4px;\n\t}\n\n\tul[style*='list-style-type:diamond-filled;'] > li:before {\n\t\tcontent: var(--filled-diamond);\n\t\tposition: absolute;\n\t\tleft: -2px;\n\t\ttop: -1px;\n\t\twidth: 4px;\n\t}\n\n\tul[style*='list-style-type:square-hollow;'] > li:before {\n\t\tcontent: var(--hollow-square);\n\t\tposition: absolute;\n\t\tleft: -2px;\n\t\ttop: -2px;\n\t\twidth: 3px;\n\t}\n\n\tul[style*='list-style-type:circle-solid;'] > li:before {\n\t\tcontent: var(--filled-circle);\n\t\tposition: absolute;\n\t\tleft: -2px;\n\t\ttop: -2px;\n\t\twidth: 3px;\n\t}\n\n\tul[style*='list-style-type:square-solid;'] > li:before {\n\t\tcontent: var(--filled-square);\n\t\tposition: absolute;\n\t\tleft: -2px;\n\t\ttop: -2px;\n\t\twidth: 3px;\n\t}\n\n\tul[style*='list-style-type:circle-hollow;'] > li:before {\n\t\tcontent: var(--hollow-circle);\n\t\tposition: absolute;\n\t\tleft: -2px;\n\t\ttop: -2px;\n\t\twidth: 3px;\n\t}\n\n\tul[style*='list-style-type:blank;'] > li:before {\n\t\tcontent: '';\n\t\tdisplay: none\n\t}\n}\n\n.component ol,\n.component ul {\n\tpadding-left: 1rem;\n}\n\n.component ol ol,\n.component ol ul,\n.component ul ol,\n.component ul ul {\n\tmargin: 0;\n}\n\n:root {\n\t--ck-list-style-button-size: 34px;\n}\n\n.ck.ck-list-styles-list {\n\tgrid-template-columns: repeat( 4, auto );\n\trow-gap: var(--ck-spacing-medium);\n\tcolumn-gap: var(--ck-spacing-medium);\n\tpadding: var(--ck-spacing-large);\n\n\t& .ck-button {\n\t\twidth: var(--ck-list-style-button-size);\n\t\theight: var(--ck-list-style-button-size);\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tbox-sizing: content-box;\n\n\t\t& .ck-icon {\n\t\t\twidth: var(--ck-list-style-button-size);\n\t\t\theight: var(--ck-list-style-button-size);\n\t\t}\n\t}\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\tfont-size: .8333350694em;\n\tcursor: inherit;\n\twill-change: transform;\n\n\t& * {\n\t\tcursor: inherit;\n\t}\n\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n"],sourceRoot:""}]);const l=s},1520:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./edge-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAwEA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAlFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAiFC,CAFA,wDAhEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAgEA,CA5DD,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FApHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAmHA,CAFA,wGAlGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAkGD,CA9FA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UAKD,CAEA,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-todo-list-checkmark-size: 16px;\n}\n\n@define-mixin todo-list-checkbox {\n\t-webkit-appearance: none;\n\tdisplay: inline-block;\n\tposition: relative;\n\twidth: var(--ck-todo-list-checkmark-size);\n\theight: var(--ck-todo-list-checkmark-size);\n\tvertical-align: middle;\n\n\t/* Needed on iOS */\n\tborder: 0;\n\n\t/* LTR styles */\n\tleft: -25px;\n\tmargin-right: -15px;\n\tright: 0;\n\tmargin-left: 0;\n\n\t/* RTL styles */\n\t@nest [dir=rtl]& {\n\t\tleft: 0;\n\t\tmargin-right: 0;\n\t\tright: -25px;\n\t\tmargin-left: -15px;\n\t}\n\n\t&::before {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbox-sizing: border-box;\n\t\tcontent: '';\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder: 1px solid hsl(0, 0%, 20%);\n\t\tborder-radius: 2px;\n\t\ttransition: 250ms ease-in-out box-shadow;\n\t}\n\n\t&::after {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbox-sizing: content-box;\n\t\tpointer-events: none;\n\t\tcontent: '';\n\n\t\t/* Calculate tick position, size and border-width proportional to the checkmark size. */\n\t\tleft: calc( var(--ck-todo-list-checkmark-size) / 3 );\n\t\ttop: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\n\t\twidth: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\n\t\theight: calc( var(--ck-todo-list-checkmark-size) / 2.6 );\n\t\tborder-style: solid;\n\t\tborder-color: transparent;\n\t\tborder-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;\n\t\ttransform: rotate(45deg);\n\t}\n\n\t&[checked] {\n\t\t&::before {\n\t\t\tbackground: hsl(126, 64%, 41%);\n\t\t\tborder-color: hsl(126, 64%, 41%);\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: hsl(0, 0%, 100%);\n\t\t}\n\t}\n}\n\n/*\n * To-do list content styles.\n */\n.ck-content .todo-list {\n\tlist-style: none;\n\n\t& li {\n\t\tposition: relative;\n\t\tmargin-bottom: 5px;\n\n\t\t& .todo-list {\n\t\t\tmargin-top: 5px;\n\t\t}\n\t}\n\n\t& .todo-list__label {\n\t\t& > input {\n\t\t\t@mixin todo-list-checkbox;\n\t\t}\n\n\t\t& .todo-list__label__description {\n\t\t\tvertical-align: middle;\n\t\t}\n\n\t\t&.todo-list__label_without-description input[type=checkbox] {\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n\n/*\n * To-do list editing view styles.\n */\n.ck-editor__editable.ck-content .todo-list .todo-list__label {\n\t/*\n\t * To-do list should be interactive only during the editing\n\t * (https://github.com/ckeditor/ckeditor5/issues/2090).\n\t */\n\t& > input,\n\t& > span[contenteditable=false] > input {\n\t\tcursor: pointer;\n\n\t\t&:hover::before {\n\t\t\tbox-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);\n\t\t}\n\t}\n\n\t/*\n\t * Document Lists - editing view has an additional span around checkbox.\n\t */\n\t& > span[contenteditable=false] > input {\n\t\t@mixin todo-list-checkbox;\n\t}\n\n\t&.todo-list__label_without-description {\n\t\t& input[type=checkbox] {\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const l=s},2919:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,"[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./edge-table/theme/ckeditor5-table/colorinput.css"],names:[],mappings:"AAYC,+CAGE,4BAA6B,CAD7B,yBAeF,CAjBA,+CAQE,2BAA4B,CAD5B,wBAUF,CAHC,2CACC,SACD,CAIA,wEACC,SAyCD,CA1CA,kFAKE,2BAA4B,CAD5B,wBAsCF,CAnCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA6BF,CA1BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GAIC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-dir $direction {\n\t@nest [dir="$(direction)"] & {\n\t\t@mixin-content;\n\t}\n}\n\n.ck.ck-input-color {\n\t& > .ck.ck-input-text {\n\t\t@mixin ck-dir ltr {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* Make sure the focused input is always on top of the dropdown button so its\n\t\t   outline and border are never cropped (also when the input is read-only). */\n\n\t\t&:focus {\n\t\t\tz-index: 0;\n\t\t}\n\t}\n\n\t& > .ck.ck-dropdown {\n\t\t& > .ck.ck-button.ck-input-color__button {\n\t\t\tpadding: 0;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\n\t\t\t\t&:not(:focus) {\n\t\t\t\t\tborder-left: 1px solid transparent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t\t&:not(:focus) {\n\t\t\t\t\tborder-right: 1px solid transparent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&.ck-disabled {\n\t\t\t\tbackground: var(--ck-color-input-disabled-background);\n\t\t\t}\n\n\t\t\t& > .ck.ck-input-color__button__preview {\n\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t\tborder: 1px solid var(--ck-color-input-border);\n\n\t\t\t\t& > .ck.ck-input-color__button__preview__no-color-indicator {\n\t\t\t\t\ttop: -30%;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\theight: 150%;\n\t\t\t\t\twidth: 8%;\n\t\t\t\t\tbackground: hsl(0, 100%, 50%);\n\t\t\t\t\tborder-radius: 2px;\n\t\t\t\t\ttransform: rotate(45deg);\n\t\t\t\t\ttransform-origin: 50%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-input-color__remove-color {\n\t\twidth: 100%;\n\t\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\n\n\t\tborder-bottom-left-radius: 0;\n\t\tborder-bottom-right-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-bottom: 1px solid var(--ck-color-input-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tborder-top-right-radius: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tborder-top-left-radius: 0;\n\t\t}\n\n\t\t& .ck.ck-icon {\n\t\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: 0;\n\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const l=s},6584:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./edge-table/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form {\n\tpadding: 0 0 var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t& .ck.ck-input-text {\n\t\tmin-width: 100%;\n\t\twidth: 0;\n\t}\n\n\t& .ck.ck-dropdown {\n\t\tmin-width: 100%;\n\n\t\t& .ck-dropdown__button {\n\t\t\t&:not(:focus) {\n\t\t\t\tborder: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t& .ck-button__label {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const l=s},7045:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./edge-table/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAWA,iBACC,4DA4BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-dir $direction {\n\t@nest [dir="$(direction)"] & {\n\t\t@mixin-content;\n\t}\n}\n\n.ck.ck-form__row {\n\tpadding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;\n\n\t/* Ignore labels that work as fieldset legends */\n\n\t& > *:not(.ck-label) {\n\t\t& + * {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck-label {\n\t\twidth: 100%;\n\t\tmin-width: 100%;\n\t}\n\n\t&.ck-table-form__action-row {\n\t\tmargin-top: var(--ck-spacing-large);\n\n\t\t& .ck-button .ck-button__label {\n\t\t\tcolor: var(--ck-color-text);\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const l=s},8488:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,":root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./edge-table/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label,\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);const l=s},8574:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./edge-table/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAKA,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-cell-properties-form {\n\twidth: 320px;\n\n\t& .ck-form__row {\n\t\t&.ck-table-cell-properties-form__padding-row {\n\t\t\talign-self: flex-end;\n\t\t\tpadding: 0;\n\t\t\twidth: 25%;\n\t\t}\n\n\t\t&.ck-table-cell-properties-form__alignment-row {\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\tbackground: none;\n\n\t\t\t\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const l=s},3285:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background)}","",{version:3,sources:["webpack://./edge-table/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAQD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-table-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\t/*border-style: none;*/\n\t\t\t/*outline: 1px solid var(--ck-color-focus-border);*/\n\t\t\t/*outline-offset: -1px; !* progressive enhancement - no IE support *!*/\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const l=s},7796:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,":root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-toolbar{margin-left:0!important;margin-top:10px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./edge-table/theme/ckeditor5-table/tableform.css"],names:[],mappings:"AAKA,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,sEAEC,uBAAwB,CADxB,eAED,CAEA,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA0BD,CAxBC,8EAEC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAWD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAIA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-properties-error-arrow-size: 6px;\n\t--ck-table-properties-min-error-width: 150px;\n}\n\n.ck.ck-table-form {\n\t& .ck-form__row {\n\t\t&.ck-table-form__border-row {\n\t\t\t& .ck-labeled-field-view {\n\t\t\t\t& > .ck-label {\n\t\t\t\t\tfont-size: var(--ck-font-size-tiny);\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-toolbar {\n\t\t\t\tmargin-top: 10px;\n\t\t\t\tmargin-left: 0 !important\n\t\t\t}\n\n\t\t\t& .ck-table-form__border-style,\n\t\t\t& .ck-table-form__border-width {\n\t\t\t\twidth: 80px;\n\t\t\t\tmin-width: 80px;\n\t\t\t\tmax-width: 80px;\n\t\t\t}\n\t\t}\n\n\t\t&.ck-table-form__dimensions-row {\n\t\t\tpadding: 0;\n\n\t\t\t& .ck-table-form__dimensions-row__width,\n\t\t\t& .ck-table-form__dimensions-row__height {\n\t\t\t\tmargin: 0\n\t\t\t}\n\n\t\t\t& .ck-table-form__dimension-operator {\n\t\t\t\talign-self: flex-end;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\theight: var(--ck-ui-component-min-height);\n\t\t\t\tline-height: var(--ck-ui-component-min-height);\n\t\t\t\tmargin: 0 var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-labeled-field-view {\n\t\tpadding-top: var(--ck-spacing-standard);\n\n\t\t& .ck.ck-labeled-field-view__status {\n\n\t\t\tbackground: var(--ck-color-base-error);\n\t\t\tcolor: var(--ck-color-base-background);\n\t\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\t\tmin-width: var(--ck-table-properties-min-error-width);\n\t\t\ttext-align: center;\n\n\t\t\t/* The arrow pointing towards the field. */\n\n\t\t\t&::after {\n\t\t\t\tborder-color: transparent transparent var(--ck-color-base-error) transparent;\n\t\t\t\tborder-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\tanimation: ck-table-form-labeled-view-status-appear .15s ease both;\n\t\t}\n\n\t\t/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */\n\n\t\t& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n@keyframes ck-table-form-labeled-view-status-appear {\n\t0% {\n\t\topacity: 0;\n\t}\n\n\t100% {\n\t\topacity: 1;\n\t}\n}\n"],sourceRoot:""}]);const l=s},935:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./edge-table/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAKA,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-properties-form {\n\twidth: 320px;\n\n\t& .ck-form__row {\n\t\t&.ck-table-properties-form__alignment-row {\n\t\t\talign-self: flex-end;\n\t\t\tpadding: 0;\n\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\tbackground: none;\n\n\t\t\t\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\n\t\t\t\t& .ck-toolbar__items > * {\n\t\t\t\t\twidth: 40px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const l=s},7614:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./edge-table/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const l=s},7215:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}","",{version:3,sources:["webpack://./edge-table/theme/colorinput.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-input-color {\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row-reverse;\n\n\t& > input.ck.ck-input-text {\n\t\tmin-width: auto;\n\t\tflex-grow: 1;\n\t}\n\n\t& > div.ck.ck-dropdown {\n\t\tmin-width: auto;\n\n\t\t/* This dropdown has no arrow but a color preview instead. */\n\t\t& > .ck-input-color__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck.ck-input-color__button {\n\t\t/* Resolving issue with misaligned buttons on Safari (see #10589) */\n\t\tdisplay: flex;\n\n\t\t& .ck.ck-input-color__button__preview {\n\t\t\tposition: relative;\n\t\t\toverflow: hidden;\n\n\t\t\t& > .ck.ck-input-color__button__preview__no-color-indicator {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const l=s},2754:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const l=s},650:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}","",{version:3,sources:["webpack://./edge-table/theme/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\n\t/* Ignore labels that work as fieldset legends */\n\t& > *:not(.ck-label) {\n\t\tflex-grow: 1;\n\t}\n\n\t&.ck-table-form__action-row {\n\t\t& .ck-button-save,\n\t\t& .ck-button-cancel {\n\t\t\tjustify-content: center;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const l=s},1232:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./edge-table/theme/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CAEA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label,\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n"],sourceRoot:""}]);const l=s},1764:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck .table-template-view{border-top:#2b2e34;padding:10px;h3{font-size:16px;text-align:center;width:100%}}.ck .table-template-group{max-height:150px;overflow:auto;.table-template-item{padding:5px}}","",{version:3,sources:["webpack://./edge-table/theme/inserttabletemplate.css"],names:[],mappings:"AACA,yBACC,kBAAmB,CACnB,YAAa,CAEb,GAEC,cAAe,CACf,iBAAkB,CAFlB,UAGD,CACD,CAEA,0BACC,gBAAiB,CACjB,aAAc,CAEd,qBACC,WACD,CACD",sourcesContent:["\n.ck .table-template-view {\n\tborder-top: #2B2E34;\n\tpadding: 10px;\n\n\th3 {\n\t\twidth: 100%;\n\t\tfont-size: 16px;\n\t\ttext-align: center;\n\t}\n}\n\n.ck .table-template-group {\n\tmax-height: 150px;\n\toverflow: auto;\n\n\t.table-template-item {\n\t\tpadding: 5px;\n\t}\n}"],sourceRoot:""}]);const l=s},3718:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./edge-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAEC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAEC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\t/*border: 1px double #f8f8fa;*/\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\t/*border: 1px solid #f8f8fa;*/\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir='rtl'] .table th {\n\ttext-align: right;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n"],sourceRoot:""}]);const l=s},5897:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,":root{--ck-color-table-caption-background:#f7f7f7;--ck-color-table-caption-text:#333;--ck-color-table-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-table-caption-background);caption-side:top;color:var(--ck-color-table-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-table-caption-highlighted-background)}to{background-color:var(--ck-color-table-caption-background)}}","",{version:3,sources:["webpack://./edge-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAMC,yDAA0D,CAJ1D,gBAAiB,CAGjB,wCAAyC,CAJzC,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-table-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-table-caption-highlighted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .table > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: top;\n\tword-break: break-word;\n\ttext-align: center;\n\tcolor: var(--ck-color-table-caption-text);\n\tbackground-color: var(--ck-color-table-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .table > figcaption {\n\t&.table__caption_highlighted {\n\t\tanimation: ck-table-caption-highlight .6s ease-out;\n\t}\n\n\t&.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the table caption placeholder doesn't overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@keyframes ck-table-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-table-caption-highlighted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-table-caption-background);\n\t}\n}\n"],sourceRoot:""}]);const l=s},566:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}","",{version:3,sources:["webpack://./edge-table/theme/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-cell-properties-form {\n\t& .ck-form__row {\n\t\t&.ck-table-cell-properties-form__alignment-row {\n\t\t\tflex-wrap: wrap;\n\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\t&:first-of-type {\n\t\t\t\t\t/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */\n\t\t\t\t\tflex-grow: 0.57;\n\t\t\t\t}\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\t/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */\n\t\t\t\t\tflex-grow: 0.43;\n\t\t\t\t}\n\n\t\t\t\t& .ck-button {\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const l=s},8986:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,":root{--ck-color-table-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-table-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./edge-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,iEAAkE,CAClE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAEC,iBACD,CAEA,wDAOC,gBAAiB,CAGjB,iBAAkB,CATlB,iBAAkB,CAOlB,oDAAqD,CAFrD,aAAc,CAKd,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,2DAA4D,CAC5D,WACD,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-column-resizer-hover: var(--ck-color-base-active);\n\t--ck-table-column-resizer-width: 7px;\n\n\t/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.\n\t   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */\n\t--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);\n}\n\n.ck-content .table .ck-table-resized {\n\ttable-layout: fixed;\n}\n\n.ck-content .table table {\n\toverflow: hidden;\n}\n\n.ck-content .table td,\n.ck-content .table th {\n\tposition: relative;\n}\n\n.ck.ck-editor__editable .table .ck-table-column-resizer {\n\tposition: absolute;\n\t/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,\n\t   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as\n\t   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally\n\t   unrealistic height for a single table. */\n\ttop: -999999px;\n\tbottom: -999999px;\n\tright: var(--ck-table-column-resizer-position-offset);\n\twidth: var(--ck-table-column-resizer-width);\n\tcursor: col-resize;\n\tuser-select: none;\n\tz-index: var(--ck-z-default);\n}\n\n.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {\n\tdisplay: none;\n}\n\n/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,\n   all resizers must be hidden while the table is dragged. */\n.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {\n\tdisplay: none;\n}\n\n.ck.ck-editor__editable .table .ck-table-column-resizer:hover,\n.ck.ck-editor__editable .table .ck-table-column-resizer__active {\n\tbackground-color: var(--ck-color-table-column-resizer-hover);\n\topacity: 0.25;\n}\n\n.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {\n\tleft: var(--ck-table-column-resizer-position-offset);\n\tright: unset;\n}\n"],sourceRoot:""}]);const l=s},8777:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}","",{version:3,sources:["webpack://./edge-table/theme/tableediting.css"],names:[],mappings:"AAWA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/*\n * Note: This file should contain the wireframe styles only. But since there are no such styles,\n * it acts as a message to the builder telling that it should look for the corresponding styles\n * **in the theme** when compiling the editor.\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n"],sourceRoot:""}]);const l=s},941:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}',"",{version:3,sources:["webpack://./edge-table/theme/tableform.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-form {\n\t& .ck-form__row {\n\t\t&.ck-table-form__border-row {\n\t\t\tflex-wrap: wrap;\n\t\t}\n\n\t\t&.ck-table-form__background-row {\n\t\t\tflex-wrap: wrap;\n\t\t}\n\n\t\t&.ck-table-form__dimensions-row {\n\t\t\tflex-wrap: wrap;\n\t\t\talign-items: center;\n\n\t\t\t& .ck-labeled-field-view {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column-reverse;\n\t\t\t\talign-items: center;\n\n\t\t\t\t& .ck.ck-dropdown {\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-table-form__dimension-operator {\n\t\t\t\tflex-grow: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-labeled-field-view {\n\t\t/* Allow absolute positioning of the status (error) balloons. */\n\t\tposition: relative;\n\n\t\t& .ck.ck-labeled-field-view__status {\n\t\t\tposition: absolute;\n\t\t\tleft: 50%;\n\t\t\tbottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );\n\t\t\ttransform: translate(-50%,100%);\n\n\t\t\t/* Make sure the balloon status stays on top of other form elements. */\n\t\t\tz-index: 1;\n\n\t\t\t/* The arrow pointing towards the field. */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: calc( -1 * var(--ck-table-properties-error-arrow-size) );\n\t\t\t\tleft: 50%;\n\t\t\t\ttransform: translateX( -50% );\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const l=s},6174:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.spacer{display:flex;height:10px!important}","",{version:3,sources:["webpack://./edge-table/theme/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CAKH,QACC,YAAa,CACb,qBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-properties-form {\n\t& .ck-form__row {\n\t\t&.ck-table-properties-form__alignment-row {\n\t\t\tflex-wrap: wrap;\n\t\t\tflex-basis: 0;\n\t\t\talign-content: baseline;\n\n\t\t\t& .ck.ck-toolbar .ck-toolbar__items {\n\t\t\t\tflex-wrap: nowrap;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.spacer {\n\tdisplay: flex;\n\theight: 10px !important;\n}\n"],sourceRoot:""}]);const l=s},4231:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const l=s},7374:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".math-wrapper{align-items:center;display:flex;justify-content:center;z-index:101}.math-wrapper,.math-wrapper .overlay{box-sizing:border-box;height:100vh;left:0;position:fixed;top:0;width:100%}.math-wrapper .overlay{background-color:#f8f8fa;opacity:.9;padding:1rem}.math-wrapper .math-modal{background-color:#fff;border-radius:.375rem;border-style:none;box-shadow:0 20px 60px -2px rgba(27,33,58,.4);box-sizing:border-box;padding:20px;position:relative;width:400px}.math-wrapper .math-modal h3{color:#1d3b6d!important;font-size:1.5rem;font-weight:700;line-height:2rem;margin-bottom:20px}.math-wrapper .cb-close{cursor:pointer;position:absolute;right:20px;top:20px}.math-wrapper .apply{background-color:#1d3b6d;border-radius:.375rem;color:#fff;cursor:pointer;font-family:Barlow,serif;font-size:.875rem;line-height:1.5rem;padding:.625rem 1rem;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1);width:100%}.math-wrapper .apply:hover{background-color:#18315a}.mfe-wrapper{border-color:#d5d5d5;border-radius:.375rem;border-width:1px;margin-bottom:10px;width:100%}.math-wrapper .toggle{color:#1d3b6d;cursor:pointer;font-size:14px;margin-bottom:10px}.math-wrapper textarea{--tw-border-opacity:1;--tw-text-opacity:1;background-color:transparent;border-color:#d5d5d5;border-radius:.375rem;border-width:1px;box-sizing:border-box;color:#393939;display:none;font-size:.875rem;font-weight:400;line-height:1.25rem;margin-bottom:20px;margin-top:1px;outline:2px solid transparent;outline-offset:2px;padding:.875rem 3rem .5rem 1rem;position:relative;width:100%}.math-wrapper textarea.active{display:block}","",{version:3,sources:["webpack://./equations/assets/styles.css"],names:[],mappings:"AAAA,cAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAMvB,WACD,CAEA,qCAJC,qBAAsB,CADtB,YAAa,CAHb,MAAO,CAJP,cAAe,CAKf,KAAM,CACN,UAgBD,CAVA,uBAMC,wBAAsC,CAEtC,UAAY,CADZ,YAGD,CAEA,0BAOC,qBAAsC,CAFtC,qBAAuB,CACvB,iBAAkB,CAFlB,6CAAkD,CADlD,qBAAsB,CAKtB,YAAa,CAPb,iBAAkB,CAClB,WAOD,CAEA,6BAKC,uBAAoC,CAHpC,gBAAiB,CAEjB,eAAgB,CADhB,gBAAiB,CAFjB,kBAKD,CAEA,wBAIC,cAAe,CAHf,iBAAkB,CAElB,UAAW,CADX,QAGD,CAEA,qBAMC,wBAAoC,CAJpC,qBAAuB,CAQvB,UAAW,CATX,cAAe,CAMf,wBAA4B,CAH5B,iBAAmB,CACnB,kBAAmB,CAFnB,oBAAsB,CAKtB,uBAA0B,CAC1B,kDAAwD,CAExD,UACD,CAEA,2BACC,wBACD,CAEA,aAIC,oBAAkC,CAFlC,qBAAuB,CACvB,gBAAiB,CAEjB,kBAAmB,CAJnB,UAKD,CAEA,sBAGC,aAAc,CACd,cAAe,CAFf,cAAe,CADf,kBAID,CAEA,uBASC,qBAAsB,CAOtB,mBAAoB,CALpB,4BAA6B,CAD7B,oBAAkC,CAHlC,qBAAuB,CACvB,gBAAiB,CAJjB,qBAAsB,CAatB,aAAwB,CAZxB,YAAa,CAQb,iBAAmB,CAEnB,eAAgB,CADhB,mBAAoB,CAXpB,kBAAmB,CADnB,cAAe,CAgBf,6BAA8B,CAC9B,kBAAmB,CAPnB,+BAAkC,CAXlC,iBAAkB,CAKlB,UAcD,CAEA,8BACC,aACD",sourcesContent:[".math-wrapper {\n\tposition: fixed;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100vh;\n\tbox-sizing: border-box;\n\tz-index: 101;\n}\n\n.math-wrapper .overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100vh;\n\tbackground-color: rgb(248 248 250 / 1);\n\tpadding: 1rem;\n\topacity: 0.9;\n\tbox-sizing: border-box;\n}\n\n.math-wrapper .math-modal {\n\tposition: relative;\n\twidth: 400px;\n\tbox-sizing: border-box;\n\tbox-shadow: 0 20px 60px -2px rgba(27, 33, 58, 0.4);\n\tborder-radius: 0.375rem;\n\tborder-style: none;\n\tbackground-color: rgb(255 255 255 / 1);\n\tpadding: 20px;\n}\n\n.math-wrapper .math-modal h3 {\n\tmargin-bottom: 20px;\n\tfont-size: 1.5rem;\n\tline-height: 2rem;\n\tfont-weight: 700;\n\tcolor: rgb(29 59 109 / 1) !important;\n}\n\n.math-wrapper .cb-close {\n\tposition: absolute;\n\ttop: 20px;\n\tright: 20px;\n\tcursor: pointer;\n}\n\n.math-wrapper .apply {\n\tcursor: pointer;\n\tborder-radius: 0.375rem;\n\tpadding: 0.625rem 1rem;\n\tfont-size: 0.875rem;\n\tline-height: 1.5rem;\n\tbackground-color: rgb(29 59 109 / 1);\n\tfont-family: 'Barlow', serif;\n\ttransition-duration: 200ms;\n\ttransition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n\tcolor: #fff;\n\twidth: 100%;\n}\n\n.math-wrapper .apply:hover {\n\tbackground-color: rgb(24 49 90 / 1);\n}\n\n.mfe-wrapper {\n\twidth: 100%;\n\tborder-radius: 0.375rem;\n\tborder-width: 1px;\n\tborder-color: rgb(213 213 213 / 1);\n\tmargin-bottom: 10px;\n}\n\n.math-wrapper .toggle {\n\tmargin-bottom: 10px;\n\tfont-size: 14px;\n\tcolor: #1d3b6d;\n\tcursor: pointer;\n}\n\n.math-wrapper textarea {\n\tposition: relative;\n\tmargin-top: 1px;\n\tmargin-bottom: 20px;\n\tbox-sizing: border-box;\n\tdisplay: none;\n\twidth: 100%;\n\tborder-radius: 0.375rem;\n\tborder-width: 1px;\n\t--tw-border-opacity: 1;\n\tborder-color: rgb(213 213 213 / 1);\n\tbackground-color: transparent;\n\tpadding: 0.875rem 3rem 0.5rem 1rem;\n\tfont-size: 0.875rem;\n\tline-height: 1.25rem;\n\tfont-weight: 400;\n\t--tw-text-opacity: 1;\n\tcolor: rgb(57 57 57 / 1);\n\toutline: 2px solid transparent;\n\toutline-offset: 2px;\n}\n\n.math-wrapper textarea.active {\n\tdisplay: block\n}\n"],sourceRoot:""}]);const l=s},5363:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content code {\n\tbackground-color: hsla(0, 0%, 78%, 0.3);\n\tpadding: .15em;\n\tborder-radius: 2px;\n}\n\n.ck.ck-editor__editable .ck-code_selected  {\n\tbackground-color: hsla(0, 0%, 78%, 0.5);\n}\n"],sourceRoot:""}]);const l=s},3789:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);const l=s},799:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n.ck.ck-clipboard-drop-target-line {\n\tposition: absolute;\n\tpointer-events: none;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import \"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\";\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border);\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: '';\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n\n.ck.ck-clipboard-drop-target-line {\n\theight: 0;\n\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\tbackground: var(--ck-clipboard-drop-target-color);\n\tmargin-top: -1px;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder-style: solid;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tleft: -1px;\n\n\t\t\tborder-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);\n\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tright: -1px;\n\n\t\t\tborder-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;\n\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const l=s},7372:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]);const l=s},5037:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);const l=s},2218:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck-find-result{background:var(--ck-color-highlight-background);color:var(--ck-color-text)}.ck-find-result_selected{background:#ff9633}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplace.css"],names:[],mappings:"AAKA,gBACC,+CAAgD,CAChD,0BACD,CAEA,yBACC,kBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-find-result {\n\tbackground: var(--ck-color-highlight-background);\n\tcolor: var(--ck-color-text);\n}\n\n.ck-find-result_selected {\n\tbackground: hsl(29, 100%, 60%);\n}\n"],sourceRoot:""}]);const l=s},3403:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-find-and-replace-form{max-width:100%}.ck.ck-find-and-replace-form fieldset{display:flex}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{position:absolute}.ck.ck-find-and-replace-form{width:400px}.ck.ck-find-and-replace-form:focus{outline:none}.ck.ck-find-and-replace-form fieldset{align-content:stretch;align-items:center;border:0;flex-direction:row;flex-wrap:nowrap;margin:0;padding:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset>.ck-button{flex:0 0 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset>*+*{margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset>*+*{margin-right:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view{flex:1 1 auto}.ck.ck-find-and-replace-form fieldset .ck-labeled-field-view .ck-input{min-width:50px;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find{align-items:flex-start}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find{font-weight:700}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-find .ck-button__label{padding-left:var(--ck-spacing-large);padding-right:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-prev>.ck-icon{transform:rotate(90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button-next>.ck-icon{transform:rotate(-90deg)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{left:var(--ck-spacing-standard)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-results-counter{color:var(--ck-color-base-border)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace{flex-wrap:wrap;justify-content:flex-end;margin-top:calc(var(--ck-spacing-large)*-1)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view{margin-bottom:var(--ck-spacing-large)}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-options-dropdown{margin-left:0;margin-right:auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view,.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-labeled-field-view .ck-input{width:100%}@media screen and (max-width:600px){.ck.ck-find-and-replace-form{width:300px}.ck.ck-find-and-replace-form fieldset{flex-wrap:wrap}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find .ck-labeled-field-view{flex:1 0 auto;margin-bottom:var(--ck-spacing-standard);width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button{text-align:center}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{flex:1 1 auto}[dir=ltr] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-left:0}[dir=rtl] .ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type{margin-right:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__find>.ck-button:first-of-type .ck-button__label{text-align:center;width:100%}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>:not(.ck-labeled-field-view){flex:1 1 auto}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-dropdown:not(.ck-labeled-field-view){flex-grow:0}.ck.ck-find-and-replace-form fieldset.ck-find-and-replace-form__replace>.ck-button:not(.ck-labeled-field-view)>.ck-button__label{text-align:center;width:100%}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-find-and-replace/theme/findandreplaceform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-find-and-replace/findandreplaceform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAKA,6BACC,cAUD,CARC,sCACC,YAMD,CAHC,yFACC,iBACD,CCNF,6BACC,WAyGD,CAnGC,mCACC,YACD,CAEA,sCAIC,qBAAsB,CADtB,kBAAmB,CAInB,QAAS,CANT,kBAAmB,CACnB,gBAAiB,CAMjB,QAAS,CAFT,+BAwFD,CApFC,iDACC,aACD,CAGC,oDACC,sCACD,CAIA,oDACC,uCACD,CAGD,6DACC,aAMD,CAJC,uEAEC,cAAe,CADf,UAED,CAID,qEAEC,sBAkCD,CAhCC,qFACC,eAOD,CAJC,uGACC,oCAAqC,CACrC,qCACD,CAGD,8FACC,uBACD,CAEA,8FACC,wBACD,CAEA,yFACC,OAAQ,CACR,0BAWD,CAbA,mGAKE,gCAQF,CAbA,mGASE,+BAIF,CAbA,yFAYC,iCACD,CAID,wEACC,cAAe,CACf,wBAAyB,CACzB,2CAeD,CAbC,+FACC,qCACD,CAEA,6FAEC,aAAc,CADd,iBAED,CAEA,wMAEC,UACD,CCzGF,oCD+GA,6BACC,WAiDD,CA/CC,sCACC,cA6CD,CAzCE,4FACC,aAAc,CAEd,wCAAyC,CADzC,UAED,CAEA,gFACC,iBAkBD,CAhBC,8FACC,aAcD,CAfA,wGAIE,aAWF,CAfA,wGAQE,cAOF,CAJC,gHAEC,iBAAkB,CADlB,UAED,CAMH,qGACC,aAUD,CARC,iHACC,WACD,CAEA,iIAEC,iBAAkB,CADlB,UAED,CC5JH",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-find-and-replace-form {\n\tmax-width: 100%;\n\n\t& fieldset {\n\t\tdisplay: flex;\n\n\t\t/* The find fieldset */\n\t\t&.ck-find-and-replace-form__find .ck-results-counter {\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-find-and-replace-form {\n\twidth: 400px;\n\n\t/*\n\t * The <form> needs tabindex="-1" for proper Esc handling after being clicked\n\t * but the side effect is that this creates a nasty focus outline in some browsers.\n\t */\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\t& fieldset {\n\t\tflex-direction: row;\n\t\tflex-wrap: nowrap;\n\t\talign-items: center;\n\t\talign-content: stretch;\n\n\t\tpadding: var(--ck-spacing-large);\n\t\tborder: 0;\n\t\tmargin: 0;\n\n\t\t& > .ck-button {\n\t\t\tflex: 0 0 auto;\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\t& > * + * {\n\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t& > * + * {\n\t\t\t\tmargin-right: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex: 1 1 auto;\n\n\t\t\t& .ck-input {\n\t\t\t\twidth: 100%;\n\t\t\t\tmin-width: 50px;\n\t\t\t}\n\t\t}\n\n\t\t/* The find fieldset */\n\t\t&.ck-find-and-replace-form__find {\n\t\t\t/* To display all controls in line when there\'s an error under the input */\n\t\t\talign-items: flex-start;\n\n\t\t\t& > .ck-button-find {\n\t\t\t\tfont-weight: bold;\n\n\t\t\t\t/* Beef the find button up a little. It\'s the main action button in the form */\n\t\t\t\t& .ck-button__label {\n\t\t\t\t\tpadding-left: var(--ck-spacing-large);\n\t\t\t\t\tpadding-right: var(--ck-spacing-large);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& > .ck-button-prev > .ck-icon {\n\t\t\t\ttransform: rotate(90deg);\n\t\t\t}\n\n\t\t\t& > .ck-button-next > .ck-icon {\n\t\t\t\ttransform: rotate(-90deg);\n\t\t\t}\n\n\t\t\t& .ck-results-counter {\n\t\t\t\ttop: 50%;\n\t\t\t\ttransform: translateY(-50%);\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tright: var(--ck-spacing-standard);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tleft: var(--ck-spacing-standard);\n\t\t\t\t}\n\n\t\t\t\tcolor: var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t/* The replace fieldset */\n\t\t&.ck-find-and-replace-form__replace {\n\t\t\tflex-wrap: wrap;\n\t\t\tjustify-content: flex-end;\n\t\t\tmargin-top: calc( -1 * var(--ck-spacing-large) );\n\n\t\t\t& > .ck-labeled-field-view {\n\t\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\t}\n\n\t\t\t& > .ck-options-dropdown {\n\t\t\t\tmargin-right: auto;\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t& > .ck-labeled-field-view,\n\t\t\t& > .ck-labeled-field-view .ck-input {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t}\n}\n\n@mixin ck-media-phone {\n\t.ck.ck-find-and-replace-form {\n\t\twidth: 300px;\n\n\t\t& fieldset {\n\t\t\tflex-wrap: wrap;\n\n\t\t\t/* The find fieldset */\n\t\t\t&.ck-find-and-replace-form__find {\n\t\t\t\t& .ck-labeled-field-view {\n\t\t\t\t\tflex: 1 0 auto;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmargin-bottom: var(--ck-spacing-standard);\n\t\t\t\t}\n\n\t\t\t\t& > .ck-button {\n\t\t\t\t\ttext-align: center;\n\n\t\t\t\t\t&:first-of-type {\n\t\t\t\t\t\tflex: 1 1 auto;\n\n\t\t\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\t\t\tmargin-left: 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\t\t\tmargin-right: 0;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t& .ck-button__label {\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/* The replace fieldset */\n\t\t\t&.ck-find-and-replace-form__replace > :not(.ck-labeled-field-view) {\n\t\t\t\tflex: 1 1 auto;\n\n\t\t\t\t&.ck-dropdown {\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t}\n\n\t\t\t\t&.ck-button > .ck-button__label {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const l=s},5991:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck-content .text-tiny{font-size:.7em}.ck-content .text-small{font-size:.85em}.ck-content .text-big{font-size:1.4em}.ck-content .text-huge{font-size:1.8em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-font/theme/fontsize.css"],names:[],mappings:"AAUC,uBACC,cACD,CAEA,wBACC,eACD,CAEA,sBACC,eACD,CAEA,uBACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* The values should be synchronized with the "FONT_SIZE_PRESET_UNITS" object in the "/src/fontsize/utils.js" file. */\n\n/* Styles should be prefixed with the `.ck-content` class.\nSee https://github.com/ckeditor/ckeditor5/issues/6636 */\n.ck-content {\n\t& .text-tiny {\n\t\tfont-size: .7em;\n\t}\n\n\t& .text-small {\n\t\tfont-size: .85em;\n\t}\n\n\t& .text-big {\n\t\tfont-size: 1.4em;\n\t}\n\n\t& .text-huge {\n\t\tfont-size: 1.8em;\n\t}\n}\n'],sourceRoot:""}]);const l=s},4249:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);const l=s},9893:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck-editor__editable .ck-horizontal-line{display:flow-root}.ck-content hr{background:#dedede;border:0;height:4px;margin:15px 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-horizontal-line/theme/horizontalline.css"],names:[],mappings:"AAMA,yCAEC,iBACD,CAEA,eAGC,kBAA2B,CAC3B,QAAS,CAFT,UAAW,CADX,aAID",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n\n.ck-editor__editable .ck-horizontal-line {\n\t/* Necessary to render properly next to floated objects, e.g. side image case. */\n\tdisplay: flow-root;\n}\n\n.ck-content hr {\n\tmargin: 15px 0;\n\theight: 4px;\n\tbackground: hsl(0, 0%, 87%);\n\tborder: 0;\n}\n"],sourceRoot:""}]);const l=s},1710:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,":root{--ck-html-object-embed-unfocused-outline-width:1px}.ck-widget.html-object-embed{background-color:var(--ck-color-base-foreground);font-size:var(--ck-font-size-base);min-width:calc(76px + var(--ck-spacing-standard));padding:var(--ck-spacing-small);padding-top:calc(var(--ck-font-size-tiny) + var(--ck-spacing-large))}.ck-widget.html-object-embed:not(.ck-widget_selected):not(:hover){outline:var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border)}.ck-widget.html-object-embed:before{background:#999;border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius);color:var(--ck-color-base-background);content:attr(data-html-object-embed-label);font-family:var(--ck-font-face);font-size:var(--ck-font-size-tiny);font-style:normal;font-weight:400;left:var(--ck-spacing-standard);padding:calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);position:absolute;top:0;transition:background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck-widget.html-object-embed .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before{margin-left:50px}.ck-widget.html-object-embed .html-object-embed__content{pointer-events:none}div.ck-widget.html-object-embed{margin:1em auto}span.ck-widget.html-object-embed{display:inline-block}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-html-support/theme/datafilter.css"],names:[],mappings:"AAKA,MACC,kDACD,CAEA,6BAEC,gDAAiD,CADjD,kCAAmC,CAKnC,iDAAkD,CAHlD,+BAAgC,CAEhC,oEAgCD,CA7BC,kEACC,wGACD,CAEA,oCAOC,eAA4B,CAG5B,iEAAkE,CAClE,qCAAsC,CAPtC,0CAA2C,CAS3C,+BAAgC,CADhC,kCAAmC,CAVnC,iBAAkB,CADlB,eAAmB,CAKnB,+BAAgC,CAGhC,yIAA0I,CAN1I,iBAAkB,CAElB,KAAM,CAGN,0GAMD,CAGA,2HACC,gBACD,CAEA,yDAEC,mBACD,CAGD,gCACC,eACD,CAEA,iCACC,oBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-html-object-embed-unfocused-outline-width: 1px;\n}\n\n.ck-widget.html-object-embed {\n\tfont-size: var(--ck-font-size-base);\n\tbackground-color: var(--ck-color-base-foreground);\n\tpadding: var(--ck-spacing-small);\n\t/* Leave space for label */\n\tpadding-top: calc(var(--ck-font-size-tiny) + var(--ck-spacing-large));\n\tmin-width: calc(76px + var(--ck-spacing-standard));\n\n\t&:not(.ck-widget_selected):not(:hover) {\n\t\toutline: var(--ck-html-object-embed-unfocused-outline-width) dashed var(--ck-color-widget-blurred-border);\n\t}\n\n\t&::before {\n\t\tfont-weight: normal;\n\t\tfont-style: normal;\n\t\tposition: absolute;\n\t\tcontent: attr(data-html-object-embed-label);\n\t\ttop: 0;\n\t\tleft: var(--ck-spacing-standard);\n\t\tbackground: hsl(0deg 0% 60%);\n\t\ttransition: background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\t\tpadding: calc(var(--ck-spacing-tiny) + var(--ck-html-object-embed-unfocused-outline-width)) var(--ck-spacing-small) var(--ck-spacing-tiny);\n\t\tborder-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);\n\t\tcolor: var(--ck-color-base-background);\n\t\tfont-size: var(--ck-font-size-tiny);\n\t\tfont-family: var(--ck-font-face);\n\t}\n\n\t/* Make space for label. */\n\t& .ck-widget__type-around .ck-widget__type-around__button.ck-widget__type-around__button_before {\n\t\tmargin-left: 50px;\n\t}\n\n\t& .html-object-embed__content {\n\t\t/* Disable user interaction with embed content */\n\t\tpointer-events: none;\n\t}\n}\n\ndiv.ck-widget.html-object-embed {\n\tmargin: 1em auto;\n}\n\nspan.ck-widget.html-object-embed {\n\tdisplay: inline-block;\n}\n\n"],sourceRoot:""}]);const l=s},3925:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const l=s},7536:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const l=s},4874:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& > .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\twidth: 50%;\n\t\tborder-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const l=s},4330:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Match the icon size with the upload indicator brought by the image upload feature. */\n\t--ck-link-image-indicator-icon-size: 20;\n\t--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tcontent: "";\n\n\t\t\t/*\n\t\t\t * Smaller images should have the icon closer to the border.\n\t\t\t * Match the icon position with the upload indicator brought by the image upload feature.\n\t\t\t */\n\t\t\ttop: min(var(--ck-spacing-medium), 6%);\n\t\t\tright: min(var(--ck-spacing-medium), 6%);\n\n\t\t\tbackground-color: hsla(0, 0%, 0%, .4);\n\t\t\tbackground-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");\n\t\t\tbackground-size: 14px;\n\t\t\tbackground-repeat: no-repeat;\n\t\t\tbackground-position: center;\n\t\t\tborder-radius: 100%;\n\n\t\t\t/*\n\t\t\t* Use CSS math to simulate container queries.\n\t\t\t* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t\t\t*/\n\t\t\toverflow: hidden;\n\t\t\twidth: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t\theight: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]);const l=s},1550:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-character-grid{max-width:100%}.ck.ck-character-grid .ck-character-grid__tiles{display:grid}:root{--ck-character-grid-tile-size:24px}.ck.ck-character-grid{max-height:200px;overflow-x:hidden;overflow-y:auto;width:350px}@media screen and (max-width:600px){.ck.ck-character-grid{width:190px}}.ck.ck-character-grid .ck-character-grid__tiles{grid-gap:var(--ck-spacing-standard);grid-template-columns:repeat(10,1fr);margin:var(--ck-spacing-standard) var(--ck-spacing-large)}@media screen and (max-width:600px){.ck.ck-character-grid .ck-character-grid__tiles{grid-template-columns:repeat(5,1fr)}}.ck.ck-character-grid .ck-character-grid__tile{border:0;font-size:1.2em;height:var(--ck-character-grid-tile-size);min-height:var(--ck-character-grid-tile-size);min-width:var(--ck-character-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-character-grid-tile-size)}.ck.ck-character-grid .ck-character-grid__tile:focus:not(.ck-disabled),.ck.ck-character-grid .ck-character-grid__tile:hover:not(.ck-disabled){border:0;box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-character-grid .ck-character-grid__tile .ck-button__label{line-height:var(--ck-character-grid-tile-size);text-align:center;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-special-characters/theme/charactergrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-special-characters/charactergrid.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAKA,sBACC,cAKD,CAHC,gDACC,YACD,CCFD,MACC,kCACD,CAEA,sBAIC,gBAAiB,CAFjB,iBAAkB,CADlB,eAAgB,CAEhB,WAyCD,CClDC,oCDMD,sBAOE,WAqCF,CChDC,CDcA,gDAGC,mCAAoC,CAFpC,oCAAsC,CACtC,yDAMD,CCxBA,oCDgBA,gDAME,mCAEF,CCtBA,CDwBA,+CAQC,QAAS,CAHT,eAAgB,CAHhB,yCAA0C,CAE1C,6CAA8C,CAD9C,4CAA6C,CAG7C,SAAU,CACV,8BAA+B,CAN/B,wCAsBD,CAbC,8IAGC,QAAS,CACT,iGACD,CAGA,iEACC,8CAA+C,CAE/C,iBAAkB,CADlB,UAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-character-grid {\n\tmax-width: 100%;\n\t\n\t& .ck-character-grid__tiles {\n\t\tdisplay: grid;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "../mixins/_rounded.css";\n\n:root {\n\t--ck-character-grid-tile-size: 24px;\n}\n\n.ck.ck-character-grid {\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\twidth: 350px;\n\tmax-height: 200px;\n\n\t@mixin ck-media-phone {\n\t\twidth: 190px;\n\t}\n\n\t& .ck-character-grid__tiles {\n\t\tgrid-template-columns: repeat(10, 1fr);\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\t\tgrid-gap: var(--ck-spacing-standard);\n\n\t\t@mixin ck-media-phone {\n\t\t\tgrid-template-columns: repeat(5, 1fr);\n\t\t}\n\t}\n\n\t& .ck-character-grid__tile {\n\t\twidth: var(--ck-character-grid-tile-size);\n\t\theight: var(--ck-character-grid-tile-size);\n\t\tmin-width: var(--ck-character-grid-tile-size);\n\t\tmin-height: var(--ck-character-grid-tile-size);\n\t\tfont-size: 1.2em;\n\t\tpadding: 0;\n\t\ttransition: .2s ease box-shadow;\n\t\tborder: 0;\n\n\t\t&:focus:not( .ck-disabled ),\n\t\t&:hover:not( .ck-disabled ) {\n\t\t\t/* Disable the default .ck-button\'s border ring. */\n\t\t\tborder: 0;\n\t\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t\t}\n\n\t\t/* Make sure the glyph is rendered in the center of the button */\n\t\t& .ck-button__label {\n\t\t\tline-height: var(--ck-character-grid-tile-size);\n\t\t\twidth: 100%;\n\t\t\ttext-align: center;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const l=s},2234:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-character-info{border-top:1px solid var(--ck-color-base-border);display:flex;justify-content:space-between;padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-character-info>*{font-size:var(--ck-font-size-small);text-transform:uppercase}.ck.ck-character-info .ck-character-info__name{max-width:280px;overflow:hidden;text-overflow:ellipsis}.ck.ck-character-info .ck-character-info__code{opacity:.6}@media screen and (max-width:600px){.ck.ck-character-info{max-width:190px}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-special-characters/theme/characterinfo.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-special-characters/characterinfo.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAKA,sBCIC,gDAAiD,CDHjD,YAAa,CACb,6BAA8B,CCC9B,uDDAD,CCGC,wBAEC,mCAAoC,CADpC,wBAED,CAEA,+CACC,eAAgB,CAEhB,eAAgB,CADhB,sBAED,CAEA,+CACC,UACD,CClBA,oCDCD,sBAoBE,eAEF,CCrBC",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-character-info {\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-character-info {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\tborder-top: 1px solid var(--ck-color-base-border);\n\n\t& > * {\n\t\ttext-transform: uppercase;\n\t\tfont-size: var(--ck-font-size-small);\n\t}\n\n\t& .ck-character-info__name {\n\t\tmax-width: 280px;\n\t\ttext-overflow: ellipsis;\n\t\toverflow: hidden;\n\t}\n\n\t& .ck-character-info__code {\n\t\topacity: .6;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tmax-width: 190px;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const l=s},2538:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-special-characters-navigation>.ck-label{max-width:160px;overflow:hidden;text-overflow:ellipsis}.ck.ck-special-characters-navigation>.ck-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}@media screen and (max-width:600px){.ck.ck-special-characters-navigation{max-width:190px}.ck.ck-special-characters-navigation>.ck-form__header__label{overflow:hidden;text-overflow:ellipsis}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-special-characters/specialcharacters.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAUC,+CACC,eAAgB,CAEhB,eAAgB,CADhB,sBAED,CAEA,sEAEC,gBAAiB,CAEjB,iBAAkB,CADlB,eAED,CCfA,oCDED,qCAgBE,eAOF,CALE,6DAEC,eAAgB,CADhB,sBAED,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-special-characters-navigation {\n\n\t& > .ck-label {\n\t\tmax-width: 160px;\n\t\ttext-overflow: ellipsis;\n\t\toverflow: hidden;\n\t}\n\n\t& > .ck-dropdown .ck-dropdown__panel {\n\t\t/* There could be dozens of categories available. Use scroll to prevent a 10e6px dropdown. */\n\t\tmax-height: 250px;\n\t\toverflow-y: auto;\n\t\toverflow-x: hidden;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tmax-width: 190px;\n\n\t\t& > .ck-form__header__label {\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const l=s},3290:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-aria-live-announcer {\n\tposition: absolute;\n\tleft: -10000px;\n\ttop: -10000px;\n}\n"],sourceRoot:""}]);const l=s},4029:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-modal)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-autocomplete {\n\tposition: relative;\n\n\t& > .ck-search__results {\n\t\tposition: absolute;\n\t\tz-index: var(--ck-z-modal);\n\n\t\t&.ck-search__results_n {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-search__results_s {\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";\n\n.ck.ck-autocomplete {\n\t& > .ck-search__results {\n\t\t@mixin ck-rounded-corners;\n\t\t@mixin ck-drop-shadow;\n\n\t\tmax-height: 200px;\n\t\toverflow-y: auto;\n\t\tbackground: var(--ck-color-base-background);\n\t\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\t\tmin-width: auto;\n\n\t\t&.ck-search__results_n {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t/* Prevent duplicated borders between the input and the results pane. */\n\t\t\tmargin-bottom: -1px;\n\t\t}\n\n\t\t&.ck-search__results_s {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-top-right-radius: 0;\n\n\t\t\t/* Prevent duplicated borders between the input and the results pane. */\n\t\t\tmargin-top: -1px;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const l=s},4971:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n@import "../../mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\n\t@mixin ck-dir ltr {\n\t\tjustify-content: left;\n\t}\n\n\t@mixin ck-dir rtl {\n\t\tjustify-content: right;\n\t}\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\n\t\tcolor: var(--ck-color-button-on-color);\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const l=s},7258:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating–point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2px /* Border */\n\t);\n\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t/* Unlike a regular button, the switch button text color and background should never change.\n\t * Changing toggle switch (background, outline) is enough to carry the information about the\n\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\n\t */\n\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\n\t\tcolor: inherit;\n\t\tbackground: transparent;\n\t}\n\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Apply some smooth transition to the box-shadow and border. */\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\n\t\tborder: 1px solid transparent;\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\n\t&:focus {\n\t\tborder-color: transparent;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\n\t\t& .ck-button__toggle {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\n\t\t\toutline-offset: 1px;\n\t\t\toutline: var(--ck-focus-ring);\n\t\t}\n\t}\n\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-on {\n\t\t& .ck-button__toggle {\n\t\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t\t}\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\t/*\n\t\t\t\t* Move the toggle switch to the right. It will be animated.\n\t\t\t\t*/\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const l=s},4923:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-selector__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]);const l=s},4257:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.color-picker-hex-input {\n\twidth: max-content;\n\n\t& .ck.ck-input {\n\t\tmin-width: unset;\n\t}\n}\n\n.ck.ck-color-picker__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\tmargin: var(--ck-spacing-large) 0 0;\n\twidth: unset;\n\n\t& .ck.ck-labeled-field-view {\n\t\tpadding-top: unset;\n\t}\n\n\t& .ck.ck-input-text {\n\t\twidth: unset;\n\t}\n\n\t& .ck-color-picker__hash-view {\n\t\tpadding-top: var(--ck-spacing-tiny);\n\t\tpadding-right: var(--ck-spacing-medium);\n\t}\n}\n"],sourceRoot:""}]);const l=s},6306:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-color-selector {\n\t/* View fragment with color grids. */\n\t& .ck-color-grids-fragment {\n\t\t& .ck-button.ck-color-selector__remove-color,\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tjustify-content: flex-start;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* View fragment with a color picker. */\n\t& .ck-color-picker-fragment {\n\t\t& .ck.ck-color-selector_action-bar {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-around;\n\n\t\t\t& .ck-button-save,\n\t\t\t& .ck-button-cancel {\n\t\t\t\tflex: 1\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-color-selector {\n\t/* View fragment with color grids. */\n\t& .ck-color-grids-fragment {\n\t\t& .ck-button.ck-color-selector__remove-color,\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t& .ck.ck-icon {\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tmargin-right: var(--ck-spacing-standard);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& label.ck.ck-color-grid__label {\n\t\t\tfont-weight: unset;\n\t\t}\n\t}\n\n\t/* View fragment with a color picker. */\n\t& .ck-color-picker-fragment {\n\t\t& .ck.ck-color-picker {\n\t\t\tpadding: 8px;\n\n\t\t\t& .hex-color-picker {\n\t\t\t\theight: 100px;\n\t\t\t\tmin-width: 180px;\n\n\t\t\t\t&::part(saturation) {\n\t\t\t\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\t\t\t\t}\n\n\t\t\t\t&::part(hue) {\n\t\t\t\t\tborder-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);\n\t\t\t\t}\n\n\t\t\t\t&::part(saturation-pointer),\n\t\t\t\t&::part(hue-pointer) {\n\t\t\t\t\twidth: 15px;\n\t\t\t\t\theight: 15px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& .ck.ck-color-selector_action-bar {\n\t\t\tpadding: 0 8px 8px;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const l=s},5062:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\t}\n\n\t& .ck-dropdown__panel {\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const l=s},1883:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const l=s},4791:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* Make sure the divider stretches 100% height of the button\n\thttps://github.com/ckeditor/ckeditor5/issues/10936 */\n\t& > .ck-splitbutton__arrow:not(:focus) {\n\t\tborder-top-width: 0px;\n\t\tborder-bottom-width: 0px;\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t/* Make sure the divider between the buttons looks fine when the button is focused */\n\t\t& > .ck-splitbutton__arrow:focus::after {\n\t\t\t--ck-color-split-button-hover-border: var(--ck-color-focus-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const l=s},2704:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);const l=s},9847:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-panel-background);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-panel-background);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const l=s},1874:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header .ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header .ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAkBD,CAbC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n\n\t& h2.ck-form__header__label {\n\t\tflex-grow: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-icon {\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-right: var(--ck-spacing-medium);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: var(--ck-spacing-medium);\n\t\t}\n\t}\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n'],sourceRoot:""}]);const l=s},4746:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-highlighted-text mark {\n\tbackground: var(--ck-color-highlight-background);\n\tvertical-align: initial;\n\tfont-weight: inherit;\n\tline-height: inherit;\n\tfont-size: inherit;\n}\n"],sourceRoot:""}]);const l=s},1977:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\t}\n\n\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\t/* Needed by FF. */\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const l=s},2470:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const l=s},3525:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);const l=s},2933:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD+GD,CA1GA,2FCDE,qCD2GF,CAvGC,mEACC,UAoCD,CAlCC,gFACC,KAgCD,CAjCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBA4BF,CAjCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAqBF,CAjCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t\ttransform-origin: 0 0;\n\t\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t\ttransform-origin: 100% 0;\n\t\t\t\ttransform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const l=s},179:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item .ck-button{text-align:left}[dir=rtl] .ck.ck-list__item .ck-button{text-align:right}.ck.ck-list__item .ck-button{padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,YCCC,eDID,CALA,+DCKE,qCDAF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cAkED,CAhEC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UA+CD,CAjDA,uCAME,eA2CF,CAjDA,uCAUE,gBAuCF,CAjDA,6BAgBC,iIAiCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\tborder-radius: 0;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck-list .ck-list__group {\n\tpadding-top: var(--ck-spacing-medium);\n\n\t/* The group should have a border when it\'s not the first item. */\n\t*:not(.ck-hidden) ~ & {\n\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t}\n\n\t& > .ck-label {\n\t\tfont-size: 11px;\n\t\tfont-weight: bold;\n\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const l=s},4460:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-border-width: 1px;\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_e"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\n\t\t\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\n\t\t\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_w"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\n\t\t\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\n\t\t\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_e {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_w {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const l=s},7592:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);const l=s},6356:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const l=s},3707:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const l=s},6603:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button {\n\t&::after {\n\t\tcontent: "";\n\t\twidth: 0;\n\t\tposition: absolute;\n\t\tright: -1px;\n\t\ttop: -1px;\n\t\tbottom: -1px;\n\t\tz-index: 1;\n\t}\n\n\t&:focus::after {\n\t\tdisplay: none;\n\t}\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button {\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: -1px;\n\t\t\t\ttop: -1px;\n\t\t\t\tbottom: -1px;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t&:focus::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\t\t\tborder-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const l=s},9332:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/search/search.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-search {\n\t& > .ck-labeled-field-view {\n\t\t& > .ck-labeled-field-view__input-wrapper > .ck-icon {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: var(--ck-spacing-medium);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: var(--ck-spacing-medium);\n\t\t\t}\n\t\t}\n\n\t\t& .ck-search__reset {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\t}\n\n\t& > .ck-search__results {\n\t\t& > .ck-search__info {\n\t\t\t& > span:first-child {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\n\t\t\t/* Hide the filtered view when nothing was found */\n\t\t\t&:not(.ck-hidden) ~ * {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));\n}\n\n.ck.ck-search {\n\t& > .ck-labeled-field-view {\n\t\t& .ck-input {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t&.ck-search__query_with-icon {\n\t\t\t--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);\n\n\t\t\t& > .ck-labeled-field-view__input-wrapper > .ck-icon {\n\t\t\t\topacity: .5;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\n\t\t\t& .ck-input {\n\t\t\t\twidth: 100%;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tpadding-left: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\t&:not(.ck-input-text_empty) {\n\t\t\t\t\t\tpadding-left: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-search__query_with-reset {\n\t\t\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);\n\n\t\t\t&.ck-labeled-field-view_empty {\n\t\t\t\t--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);\n\t\t\t}\n\n\t\t\t& .ck-search__reset {\n\t\t\t\tmin-width: auto;\n\t\t\t\tmin-height: auto;\n\n\t\t\t\tbackground: none;\n\t\t\t\topacity: .5;\n\t\t\t\tpadding: 0;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tright: var(--ck-spacing-medium);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tleft: var(--ck-spacing-medium);\n\t\t\t\t}\n\n\t\t\t\t&:hover {\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-input {\n\t\t\t\twidth: 100%;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\t&:not(.ck-input-text_empty) {\n\t\t\t\t\t\tpadding-right: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tpadding-right: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck-search__results {\n\t\tmin-width: 100%;\n\n\t\t& > .ck-search__info {\n\t\t\twidth: 100%;\n\t\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-large);\n\n\t\t\t& * {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\n\t\t\t& > span:first-child {\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\n\t\t\t& > span:last-child {\n\t\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t\t}\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]);const l=s},6446:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCACD,CAEA,wCAJC,qCAAsC,CADtC,oCAWD,CANA,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCACD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-spinner-size: 18px;\n}\n\n.ck.ck-spinner-container {\n\tdisplay: block;\n\tposition: relative;\n}\n\n.ck.ck-spinner {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 0;\n\tright: 0;\n\tmargin: 0 auto;\n\ttransform: translateY(-50%);\n\tz-index: 1;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-spinner-size: 18px;\n}\n\n.ck.ck-spinner-container {\n\twidth: var(--ck-toolbar-spinner-size);\n\theight: var(--ck-toolbar-spinner-size);\n\tanimation: 1.5s infinite rotate linear;\n}\n\n.ck.ck-spinner {\n\twidth: var(--ck-toolbar-spinner-size);\n\theight: var(--ck-toolbar-spinner-size);\n\tborder-radius: 50%;\n\tborder: 2px solid var(--ck-color-text);\n\tborder-top-color: transparent;\n}\n\n@keyframes rotate {\n\tto {\n\t\ttransform: rotate(360deg)\n\t}\n}\n\n"],sourceRoot:""}]);const l=s},5224:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/*\n * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.\n * This bug is especially visible when rows=1.\n */\n.ck-textarea {\n\toverflow-x: hidden\n}\n"],sourceRoot:""}]);const l=s},4176:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);const l=s},4768:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t/* A drop-down containing the nested toolbar with configured items. */\n\t& .ck-toolbar__nested-toolbar-dropdown {\n\t\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\n\t\t& > .ck-dropdown__panel {\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& > .ck-button > .ck-button__label {\n\t\t\tmax-width: 7em;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const l=s},3888:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDRnC,mBAAoB,CAEpB,qCACD,CCOC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CACrB,wCAAyC,CAFzC,wBAGD,CApBD,gCAuBC,eAMD,CAHC,uCACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t/* Keep tooltips transparent for any interactions. */\n\tpointer-events: none;\n\n\tz-index: calc( var(--ck-z-modal) + 100 );\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t--ck-balloon-border-width: 0px;\n\t--ck-balloon-arrow-offset: 0px;\n\t--ck-balloon-arrow-half-width: 4px;\n\t--ck-balloon-arrow-height: 4px;\n\t--ck-tooltip-text-padding: 4px;\n\t--ck-color-panel-background: var(--ck-color-tooltip-background);\n\n\tpadding: 0 var(--ck-spacing-medium);\n\n\t& .ck-tooltip__text {\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t}\n\n\t&.ck-tooltip_multi-line .ck-tooltip__text {\n\t\twhite-space: break-spaces;\n\t\tdisplay: inline-block;\n\t\tpadding: var(--ck-tooltip-text-padding) 0;\n\t}\n\n\t/* Reset balloon panel styles */\n\tbox-shadow: none;\n\n\t/* Hide the default shadow of the .ck-balloon-panel tip */\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot:""}]);const l=s},5167:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_poweredby.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CC3GhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJ2GD,CIrGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-powered-by-line-height: 10px;\n\t--ck-powered-by-padding-vertical: 2px;\n\t--ck-powered-by-padding-horizontal: 4px;\n\t--ck-powered-by-text-color: hsl(0, 0%, 31%);\n\t--ck-powered-by-border-radius: var(--ck-border-radius);\n\t--ck-powered-by-background: hsl(0, 0%, 100%);\n\t--ck-powered-by-border-color: var(--ck-color-focus-border);\n}\n\n.ck.ck-balloon-panel.ck-powered-by-balloon {\n\t--ck-border-radius: var(--ck-powered-by-border-radius);\n\n\tbox-shadow: none;\n\tbackground: var(--ck-powered-by-background);\n\tmin-height: unset;\n\tz-index: calc( var(--ck-z-modal) - 1 );\n\n\t& .ck.ck-powered-by {\n\t\tline-height: var(--ck-powered-by-line-height);\n\n\t\t& a {\n\t\t\tcursor: pointer;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\topacity: .66;\n\t\t\tfilter: grayscale(80%);\n\t\t\tline-height: var(--ck-powered-by-line-height);\n\t\t\tpadding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);\n\t\t}\n\n\t\t& .ck-powered-by__label {\n\t\t\tfont-size: 7.5px;\n\t\t\tletter-spacing: -.2px;\n\t\t\tpadding-left: 2px;\n\t\t\ttext-transform: uppercase;\n\t\t\tfont-weight: bold;\n\t\t\tmargin-right: 4px;\n\t\t\tcursor: pointer;\n\t\t\tline-height: normal;\n\t\t\tcolor: var(--ck-powered-by-text-color);\n\n\t\t}\n\n\t\t& .ck-icon {\n\t\t\tdisplay: block;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t&:hover {\n\t\t\t& a {\n\t\t\t\tfilter: grayscale(0%);\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[class*="position_inside"] {\n\t\tborder-color: transparent;\n\t}\n\n\t&[class*="position_border"] {\n\t\tborder: var(--ck-focus-ring);\n\t\tborder-color: var(--ck-powered-by-border-color);\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(220, 6%, 81%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 50.2%, 42.5%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(218.2, 100%, 52.5%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t218, 81.8%, 56.9%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(212.4, 89.3%, 89%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(212, 100%, 97.1%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(211, 15%, 95%);\n\t--ck-color-button-on-color:\t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 57.6%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 49%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n\n\t/* -- Search result highlight ---------------------------------------------------------------- */\n\n\t--ck-color-highlight-background:\t\t\t\t\t\t\thsl(60, 100%, 50%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------- */\n\n\t--ck-color-light-red:\t\t\t\t\t\t\t\t\t\thsl(0, 100%, 90%);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);const l=s},7153:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const l=s},4875:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);const l=s},2347:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);const l=s},1420:(t,e,o)=>{"use strict";o.d(e,{Z:()=>l});var n=o(4015),r=o.n(n),i=o(3645),s=o.n(i)()(r());s.push([t.id,".keep-together{text-underline:#00adef}","",{version:3,sources:["webpack://./text-wrap/assets/styles.css"],names:[],mappings:"AAAA,eACC,sBACD",sourcesContent:[".keep-together {\n\ttext-underline: #00adef;\n}\n"],sourceRoot:""}]);const l=s},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o=t(e);return e[2]?"@media ".concat(e[2]," {").concat(o,"}"):o})).join("")},e.i=function(t,o,n){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(n)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(var l=0;l<t.length;l++){var a=[].concat(t[l]);n&&r[a[0]]||(o&&(a[2]?a[2]="".concat(o," and ").concat(a[2]):a[2]=o),e.push(a))}},e}},4015:t=>{"use strict";function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==o)return;var n,r,i=[],s=!0,l=!1;try{for(o=o.call(t);!(s=(n=o.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(t){l=!0,r=t}finally{try{s||null==o.return||o.return()}finally{if(l)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}t.exports=function(t){var o=e(t,4),n=o[1],r=o[3];if(!r)return n;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),l="/*# ".concat(s," */"),a=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(a).concat([l]).join("\n")}return[n].join("\n")}},3379:(t,e,o)=>{"use strict";var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var t={};return function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}t[e]=o}return t[e]}}(),s=[];function l(t){for(var e=-1,o=0;o<s.length;o++)if(s[o].identifier===t){e=o;break}return e}function a(t,e){for(var o={},n=[],r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],d=o[a]||0,c="".concat(a," ").concat(d);o[a]=d+1;var h=l(c),u={css:i[1],media:i[2],sourceMap:i[3]};-1!==h?(s[h].references++,s[h].updater(u)):s.push({identifier:c,updater:b(u,e),references:1}),n.push(c)}return n}function d(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var r=o.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var s=i(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var c,h=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function u(t,e,o,n){var r=o?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=h(e,r);else{var i=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function p(t,e,o){var n=o.css,r=o.media,i=o.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var m=null,g=0;function b(t,e){var o,n,r;if(e.singleton){var i=g++;o=m||(m=d(e)),n=u.bind(null,o,i,!1),r=u.bind(null,o,i,!0)}else o=d(e),n=p.bind(null,o,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(o)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var o=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<o.length;n++){var r=l(o[n]);s[r].references--}for(var i=a(t,e),d=0;d<o.length;d++){var c=l(o[d]);0===s[c].references&&(s[c].updater(),s.splice(c,1))}o=i}}}}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,o),i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.nc=void 0;var n={};return(()=>{"use strict";o.d(n,{default:()=>Dj});const t=function(){try{return navigator.userAgent.toLowerCase()}catch(t){return""}}(),e={isMac:i(t),isWindows:function(t){return t.indexOf("windows")>-1}(t),isGecko:function(t){return!!t.match(/gecko\/\d+/)}(t),isSafari:function(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}(t),isiOS:function(t){return!!t.match(/iphone|ipad/i)||i(t)&&navigator.maxTouchPoints>0}(t),isAndroid:function(t){return t.indexOf("android")>-1}(t),isBlink:function(t){return t.indexOf("chrome/")>-1&&t.indexOf("edge/")<0}(t),features:{isRegExpUnicodePropertySupported:function(){let t=!1;try{t=0==="ć".search(new RegExp("[\\p{L}]","u"))}catch(t){}return t}()}},r=e;function i(t){return t.indexOf("macintosh")>-1}function s(t,e,o,n){o=o||function(t,e){return t===e};const r=Array.isArray(t)?t:Array.prototype.slice.call(t),i=Array.isArray(e)?e:Array.prototype.slice.call(e),s=function(t,e,o){const n=l(t,e,o);if(-1===n)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const r=a(t,n),i=a(e,n),s=l(r,i,o),d=t.length-s,c=e.length-s;return{firstIndex:n,lastIndexOld:d,lastIndexNew:c}}(r,i,o),d=n?function(t,e){const{firstIndex:o,lastIndexOld:n,lastIndexNew:r}=t;if(-1===o)return Array(e).fill("equal");let i=[];o>0&&(i=i.concat(Array(o).fill("equal")));r-o>0&&(i=i.concat(Array(r-o).fill("insert")));n-o>0&&(i=i.concat(Array(n-o).fill("delete")));r<e&&(i=i.concat(Array(e-r).fill("equal")));return i}(s,i.length):function(t,e){const o=[],{firstIndex:n,lastIndexOld:r,lastIndexNew:i}=e;i-n>0&&o.push({index:n,type:"insert",values:t.slice(n,i)});r-n>0&&o.push({index:n+(i-n),type:"delete",howMany:r-n});return o}(i,s);return d}function l(t,e,o){for(let n=0;n<Math.max(t.length,e.length);n++)if(void 0===t[n]||void 0===e[n]||!o(t[n],e[n]))return n;return-1}function a(t,e){return t.slice(e).reverse()}function d(t,e,o){o=o||function(t,e){return t===e};const n=t.length,r=e.length;if(n>200||r>200||n+r>300)return d.fastDiff(t,e,o,!0);let i,s;if(r<n){const o=t;t=e,e=o,i="delete",s="insert"}else i="insert",s="delete";const l=t.length,a=e.length,c=a-l,h={},u={};function p(n){const r=(void 0!==u[n-1]?u[n-1]:-1)+1,d=void 0!==u[n+1]?u[n+1]:-1,c=r>d?-1:1;h[n+c]&&(h[n]=h[n+c].slice(0)),h[n]||(h[n]=[]),h[n].push(r>d?i:s);let p=Math.max(r,d),m=p-n;for(;m<l&&p<a&&o(t[m],e[p]);)m++,p++,h[n].push("equal");return p}let m,g=0;do{for(m=-g;m<c;m++)u[m]=p(m);for(m=c+g;m>c;m--)u[m]=p(m);u[c]=p(c),g++}while(u[c]!==a);return h[c].slice(1)}d.fastDiff=s;const c=function(){return function t(){t.called=!0}};class h{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=c(),this.off=c()}}const u=new Array(256).fill("").map(((t,e)=>("0"+e.toString(16)).slice(-2)));function p(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return"e"+u[t>>0&255]+u[t>>8&255]+u[t>>16&255]+u[t>>24&255]+u[e>>0&255]+u[e>>8&255]+u[e>>16&255]+u[e>>24&255]+u[o>>0&255]+u[o>>8&255]+u[o>>16&255]+u[o>>24&255]+u[n>>0&255]+u[n>>8&255]+u[n>>16&255]+u[n>>24&255]}const m={get(t="normal"){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function g(t,e){const o=m.get(e.priority);for(let n=0;n<t.length;n++)if(m.get(t[n].priority)<o)return void t.splice(n,0,e);t.push(e)}const b="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class f extends Error{constructor(t,e,o){super(function(t,e){const o=new WeakSet,n=(t,e)=>{if("object"==typeof e&&null!==e){if(o.has(e))return`[object ${e.constructor.name}]`;o.add(e)}return e},r=e?` ${JSON.stringify(e,n)}`:"",i=x(t);return t+r+i}(t,o)),this.name="CKEditorError",this.context=e,this.data=o}is(t){return"CKEditorError"===t}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const o=new f(t.message,e);throw o.stack=t.stack,o}}function w(t,e){console.warn(...k(t,e))}function x(t){return`\nRead more: ${b}#error-${t}`}function k(t,e){const o=x(t);return e?[t,e,o]:[t,o]}const y="40.1.0",v=new Date(2023,10,15);if(globalThis.CKEDITOR_VERSION)throw new f("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=y;const _=Symbol("listeningTo"),A=Symbol("emitterId"),C=Symbol("delegations"),S=E(Object);function E(t){if(!t)return S;return class extends t{on(t,e,o){this.listenTo(this,t,e,o)}once(t,e,o){let n=!1;this.listenTo(this,t,((t,...o)=>{n||(n=!0,t.off(),e.call(this,t,...o))}),o)}off(t,e){this.stopListening(this,t,e)}listenTo(t,e,o,n={}){let r,i;this[_]||(this[_]={});const s=this[_];D(t)||M(t);const l=D(t);(r=s[l])||(r=s[l]={emitter:t,callbacks:{}}),(i=r.callbacks[e])||(i=r.callbacks[e]=[]),i.push(o),function(t,e,o,n,r){e._addEventListener?e._addEventListener(o,n,r):t._addEventListener.call(e,o,n,r)}(this,t,e,o,n)}stopListening(t,e,o){const n=this[_];let r=t&&D(t);const i=n&&r?n[r]:void 0,s=i&&e?i.callbacks[e]:void 0;if(!(!n||t&&!i||e&&!s))if(o){I(this,t,e,o);-1!==s.indexOf(o)&&(1===s.length?delete i.callbacks[e]:I(this,t,e,o))}else if(s){for(;o=s.pop();)I(this,t,e,o);delete i.callbacks[e]}else if(i){for(e in i.callbacks)this.stopListening(t,e);delete n[r]}else{for(r in n)this.stopListening(n[r].emitter);delete this[_]}}fire(t,...e){try{const o=t instanceof h?t:new h(this,t),n=o.name;let r=L(this,n);if(o.path.push(this),r){const t=[o,...e];r=Array.from(r);for(let e=0;e<r.length&&(r[e].callback.apply(this,t),o.off.called&&(delete o.off.called,this._removeEventListener(n,r[e].callback)),!o.stop.called);e++);}const i=this[C];if(i){const t=i.get(n),r=i.get("*");t&&P(t,o,e),r&&P(r,o,e)}return o.return}catch(t){f.rethrowUnexpectedError(t,this)}}delegate(...t){return{to:(e,o)=>{this[C]||(this[C]=new Map),t.forEach((t=>{const n=this[C].get(t);n?n.set(e,o):this[C].set(t,new Map([[e,o]]))}))}}}stopDelegating(t,e){if(this[C])if(t)if(e){const o=this[C].get(t);o&&o.delete(e)}else this[C].delete(t);else this[C].clear()}_addEventListener(t,e,o){!function(t,e){const o=T(t);if(o[e])return;let n=e,r=null;const i=[];for(;""!==n&&!o[n];)o[n]={callbacks:[],childEvents:[]},i.push(o[n]),r&&o[n].childEvents.push(r),r=n,n=n.substr(0,n.lastIndexOf(":"));if(""!==n){for(const t of i)t.callbacks=o[n].callbacks.slice();o[n].childEvents.push(r)}}(this,t);const n=B(this,t),r={callback:e,priority:m.get(o.priority)};for(const t of n)g(t,r)}_removeEventListener(t,e){const o=B(this,t);for(const t of o)for(let o=0;o<t.length;o++)t[o].callback==e&&(t.splice(o,1),o--)}}}function M(t,e){t[A]||(t[A]=e||p())}function D(t){return t[A]}function T(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function B(t,e){const o=T(t)[e];if(!o)return[];let n=[o.callbacks];for(let e=0;e<o.childEvents.length;e++){const r=B(t,o.childEvents[e]);n=n.concat(r)}return n}function L(t,e){let o;return t._events&&(o=t._events[e])&&o.callbacks.length?o.callbacks:e.indexOf(":")>-1?L(t,e.substr(0,e.lastIndexOf(":"))):null}function P(t,e,o){for(let[n,r]of t){r?"function"==typeof r&&(r=r(e.name)):r=e.name;const t=new h(e.source,r);t.path=[...e.path],n.fire(t,...o)}}function I(t,e,o,n){e._removeEventListener?e._removeEventListener(o,n):t._removeEventListener.call(e,o,n)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t=>{E[t]=S.prototype[t]}));const z=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},R=Symbol("observableProperties"),F=Symbol("boundObservables"),O=Symbol("boundProperties"),V=Symbol("decoratedMethods"),N=Symbol("decoratedOriginal"),$=K(E());function K(t){if(!t)return $;return class extends t{set(t,e){if(z(t))return void Object.keys(t).forEach((e=>{this.set(e,t[e])}),this);q(this);const o=this[R];if(t in this&&!o.has(t))throw new f("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>o.get(t),set(e){const n=o.get(t);let r=this.fire(`set:${t}`,t,e,n);void 0===r&&(r=e),n===r&&o.has(t)||(o.set(t,r),this.fire(`change:${t}`,t,r,n))}}),this[t]=e}bind(...t){if(!t.length||!W(t))throw new f("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new f("observable-bind-duplicate-properties",this);q(this);const e=this[O];t.forEach((t=>{if(e.has(t))throw new f("observable-bind-rebind",this)}));const o=new Map;return t.forEach((t=>{const n={property:t,to:[]};e.set(t,n),o.set(t,n)})),{to:H,toMany:j,_observable:this,_bindProperties:t,_to:[],_bindings:o}}unbind(...t){if(!this[R])return;const e=this[O],o=this[F];if(t.length){if(!W(t))throw new f("observable-unbind-wrong-properties",this);t.forEach((t=>{const n=e.get(t);n&&(n.to.forEach((([t,e])=>{const r=o.get(t),i=r[e];i.delete(n),i.size||delete r[e],Object.keys(r).length||(o.delete(t),this.stopListening(t,"change"))})),e.delete(t))}))}else o.forEach(((t,e)=>{this.stopListening(e,"change")})),o.clear(),e.clear()}decorate(t){q(this);const e=this[t];if(!e)throw new f("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,((t,o)=>{t.return=e.apply(this,o)})),this[t]=function(...e){return this.fire(t,e)},this[t][N]=e,this[V]||(this[V]=[]),this[V].push(t)}stopListening(t,e,o){if(!t&&this[V]){for(const t of this[V])this[t]=this[t][N];delete this[V]}super.stopListening(t,e,o)}}}function q(t){t[R]||(Object.defineProperty(t,R,{value:new Map}),Object.defineProperty(t,F,{value:new Map}),Object.defineProperty(t,O,{value:new Map}))}function H(...t){const e=function(...t){if(!t.length)throw new f("observable-bind-to-parse-error",null);const e={to:[]};let o;"function"==typeof t[t.length-1]&&(e.callback=t.pop());return t.forEach((t=>{if("string"==typeof t)o.properties.push(t);else{if("object"!=typeof t)throw new f("observable-bind-to-parse-error",null);o={observable:t,properties:[]},e.to.push(o)}})),e}(...t),o=Array.from(this._bindings.keys()),n=o.length;if(!e.callback&&e.to.length>1)throw new f("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new f("observable-bind-to-extra-callback",this);var r;e.to.forEach((t=>{if(t.properties.length&&t.properties.length!==n)throw new f("observable-bind-to-properties-length",this);t.properties.length||(t.properties=this._bindProperties)})),this._to=e.to,e.callback&&(this._bindings.get(o[0]).callback=e.callback),r=this._observable,this._to.forEach((t=>{const e=r[F];let o;e.get(t.observable)||r.listenTo(t.observable,"change",((n,i)=>{o=e.get(t.observable)[i],o&&o.forEach((t=>{U(r,t.property)}))}))})),function(t){let e;t._bindings.forEach(((o,n)=>{t._to.forEach((r=>{e=r.properties[o.callback?0:t._bindProperties.indexOf(n)],o.to.push([r.observable,e]),function(t,e,o,n){const r=t[F],i=r.get(o),s=i||{};s[n]||(s[n]=new Set);s[n].add(e),i||r.set(o,s)}(t._observable,o,r.observable,e)}))}))}(this),this._bindProperties.forEach((t=>{U(this._observable,t)}))}function j(t,e,o){if(this._bindings.size>1)throw new f("observable-bind-to-many-not-one-binding",this);this.to(...function(t,e){const o=t.map((t=>[t,e]));return Array.prototype.concat.apply([],o)}(t,e),o)}function W(t){return t.every((t=>"string"==typeof t))}function U(t,e){const o=t[O].get(e);let n;o.callback?n=o.callback.apply(t,o.to.map((t=>t[0][t[1]]))):(n=o.to[0],n=n[0][n[1]]),Object.prototype.hasOwnProperty.call(t,e)?t[e]=n:t.set(e,n)}function G(t){let e=0;for(const o of t)e++;return e}function Z(t,e){const o=Math.min(t.length,e.length);for(let n=0;n<o;n++)if(t[n]!=e[n])return n;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}function J(t){return!(!t||!t[Symbol.iterator])}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t=>{K[t]=$.prototype[t]}));const Y="object"==typeof global&&global&&global.Object===Object&&global;var X="object"==typeof self&&self&&self.Object===Object&&self;const Q=Y||X||Function("return this")();const tt=Q.Symbol;var et=Object.prototype,ot=et.hasOwnProperty,nt=et.toString,rt=tt?tt.toStringTag:void 0;const it=function(t){var e=ot.call(t,rt),o=t[rt];try{t[rt]=void 0;var n=!0}catch(t){}var r=nt.call(t);return n&&(e?t[rt]=o:delete t[rt]),r};var st=Object.prototype.toString;const lt=function(t){return st.call(t)};var at=tt?tt.toStringTag:void 0;const dt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":at&&at in Object(t)?it(t):lt(t)};const ct=Array.isArray;const ht=function(t){return null!=t&&"object"==typeof t};const ut=function(t){return"string"==typeof t||!ct(t)&&ht(t)&&"[object String]"==dt(t)};function pt(t,e,o={},n=[]){const r=o&&o.xmlns,i=r?t.createElementNS(r,e):t.createElement(e);for(const t in o)i.setAttribute(t,o[t]);!ut(n)&&J(n)||(n=[n]);for(let e of n)ut(e)&&(e=t.createTextNode(e)),i.appendChild(e);return i}const mt=function(t,e){return function(o){return t(e(o))}};const gt=mt(Object.getPrototypeOf,Object);var bt=Function.prototype,ft=Object.prototype,wt=bt.toString,xt=ft.hasOwnProperty,kt=wt.call(Object);const yt=function(t){if(!ht(t)||"[object Object]"!=dt(t))return!1;var e=gt(t);if(null===e)return!0;var o=xt.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&wt.call(o)==kt};const vt=function(){this.__data__=[],this.size=0};const _t=function(t,e){return t===e||t!=t&&e!=e};const At=function(t,e){for(var o=t.length;o--;)if(_t(t[o][0],e))return o;return-1};var Ct=Array.prototype.splice;const St=function(t){var e=this.__data__,o=At(e,t);return!(o<0)&&(o==e.length-1?e.pop():Ct.call(e,o,1),--this.size,!0)};const Et=function(t){var e=this.__data__,o=At(e,t);return o<0?void 0:e[o][1]};const Mt=function(t){return At(this.__data__,t)>-1};const Dt=function(t,e){var o=this.__data__,n=At(o,t);return n<0?(++this.size,o.push([t,e])):o[n][1]=e,this};function Tt(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}Tt.prototype.clear=vt,Tt.prototype.delete=St,Tt.prototype.get=Et,Tt.prototype.has=Mt,Tt.prototype.set=Dt;const Bt=Tt;const Lt=function(){this.__data__=new Bt,this.size=0};const Pt=function(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o};const It=function(t){return this.__data__.get(t)};const zt=function(t){return this.__data__.has(t)};const Rt=function(t){if(!z(t))return!1;var e=dt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};const Ft=Q["__core-js_shared__"];var Ot=function(){var t=/[^.]+$/.exec(Ft&&Ft.keys&&Ft.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();const Vt=function(t){return!!Ot&&Ot in t};var Nt=Function.prototype.toString;const $t=function(t){if(null!=t){try{return Nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var Kt=/^\[object .+?Constructor\]$/,qt=Function.prototype,Ht=Object.prototype,jt=qt.toString,Wt=Ht.hasOwnProperty,Ut=RegExp("^"+jt.call(Wt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Gt=function(t){return!(!z(t)||Vt(t))&&(Rt(t)?Ut:Kt).test($t(t))};const Zt=function(t,e){return null==t?void 0:t[e]};const Jt=function(t,e){var o=Zt(t,e);return Gt(o)?o:void 0};const Yt=Jt(Q,"Map");const Xt=Jt(Object,"create");const Qt=function(){this.__data__=Xt?Xt(null):{},this.size=0};const te=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var ee=Object.prototype.hasOwnProperty;const oe=function(t){var e=this.__data__;if(Xt){var o=e[t];return"__lodash_hash_undefined__"===o?void 0:o}return ee.call(e,t)?e[t]:void 0};var ne=Object.prototype.hasOwnProperty;const re=function(t){var e=this.__data__;return Xt?void 0!==e[t]:ne.call(e,t)};const ie=function(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Xt&&void 0===e?"__lodash_hash_undefined__":e,this};function se(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}se.prototype.clear=Qt,se.prototype.delete=te,se.prototype.get=oe,se.prototype.has=re,se.prototype.set=ie;const le=se;const ae=function(){this.size=0,this.__data__={hash:new le,map:new(Yt||Bt),string:new le}};const de=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};const ce=function(t,e){var o=t.__data__;return de(e)?o["string"==typeof e?"string":"hash"]:o.map};const he=function(t){var e=ce(this,t).delete(t);return this.size-=e?1:0,e};const ue=function(t){return ce(this,t).get(t)};const pe=function(t){return ce(this,t).has(t)};const me=function(t,e){var o=ce(this,t),n=o.size;return o.set(t,e),this.size+=o.size==n?0:1,this};function ge(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}ge.prototype.clear=ae,ge.prototype.delete=he,ge.prototype.get=ue,ge.prototype.has=pe,ge.prototype.set=me;const be=ge;const fe=function(t,e){var o=this.__data__;if(o instanceof Bt){var n=o.__data__;if(!Yt||n.length<199)return n.push([t,e]),this.size=++o.size,this;o=this.__data__=new be(n)}return o.set(t,e),this.size=o.size,this};function we(t){var e=this.__data__=new Bt(t);this.size=e.size}we.prototype.clear=Lt,we.prototype.delete=Pt,we.prototype.get=It,we.prototype.has=zt,we.prototype.set=fe;const xe=we;const ke=function(t,e){for(var o=-1,n=null==t?0:t.length;++o<n&&!1!==e(t[o],o,t););return t};const ye=function(){try{var t=Jt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const ve=function(t,e,o){"__proto__"==e&&ye?ye(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o};var _e=Object.prototype.hasOwnProperty;const Ae=function(t,e,o){var n=t[e];_e.call(t,e)&&_t(n,o)&&(void 0!==o||e in t)||ve(t,e,o)};const Ce=function(t,e,o,n){var r=!o;o||(o={});for(var i=-1,s=e.length;++i<s;){var l=e[i],a=n?n(o[l],t[l],l,o,t):void 0;void 0===a&&(a=t[l]),r?ve(o,l,a):Ae(o,l,a)}return o};const Se=function(t,e){for(var o=-1,n=Array(t);++o<t;)n[o]=e(o);return n};const Ee=function(t){return ht(t)&&"[object Arguments]"==dt(t)};var Me=Object.prototype,De=Me.hasOwnProperty,Te=Me.propertyIsEnumerable;const Be=Ee(function(){return arguments}())?Ee:function(t){return ht(t)&&De.call(t,"callee")&&!Te.call(t,"callee")};const Le=function(){return!1};var Pe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ie=Pe&&"object"==typeof module&&module&&!module.nodeType&&module,ze=Ie&&Ie.exports===Pe?Q.Buffer:void 0;const Re=(ze?ze.isBuffer:void 0)||Le;var Fe=/^(?:0|[1-9]\d*)$/;const Oe=function(t,e){var o=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==o||"symbol"!=o&&Fe.test(t))&&t>-1&&t%1==0&&t<e};const Ve=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var Ne={};Ne["[object Float32Array]"]=Ne["[object Float64Array]"]=Ne["[object Int8Array]"]=Ne["[object Int16Array]"]=Ne["[object Int32Array]"]=Ne["[object Uint8Array]"]=Ne["[object Uint8ClampedArray]"]=Ne["[object Uint16Array]"]=Ne["[object Uint32Array]"]=!0,Ne["[object Arguments]"]=Ne["[object Array]"]=Ne["[object ArrayBuffer]"]=Ne["[object Boolean]"]=Ne["[object DataView]"]=Ne["[object Date]"]=Ne["[object Error]"]=Ne["[object Function]"]=Ne["[object Map]"]=Ne["[object Number]"]=Ne["[object Object]"]=Ne["[object RegExp]"]=Ne["[object Set]"]=Ne["[object String]"]=Ne["[object WeakMap]"]=!1;const $e=function(t){return ht(t)&&Ve(t.length)&&!!Ne[dt(t)]};const Ke=function(t){return function(e){return t(e)}};var qe="object"==typeof exports&&exports&&!exports.nodeType&&exports,He=qe&&"object"==typeof module&&module&&!module.nodeType&&module,je=He&&He.exports===qe&&Y.process;const We=function(){try{var t=He&&He.require&&He.require("util").types;return t||je&&je.binding&&je.binding("util")}catch(t){}}();var Ue=We&&We.isTypedArray;const Ge=Ue?Ke(Ue):$e;var Ze=Object.prototype.hasOwnProperty;const Je=function(t,e){var o=ct(t),n=!o&&Be(t),r=!o&&!n&&Re(t),i=!o&&!n&&!r&&Ge(t),s=o||n||r||i,l=s?Se(t.length,String):[],a=l.length;for(var d in t)!e&&!Ze.call(t,d)||s&&("length"==d||r&&("offset"==d||"parent"==d)||i&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||Oe(d,a))||l.push(d);return l};var Ye=Object.prototype;const Xe=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ye)};const Qe=mt(Object.keys,Object);var to=Object.prototype.hasOwnProperty;const eo=function(t){if(!Xe(t))return Qe(t);var e=[];for(var o in Object(t))to.call(t,o)&&"constructor"!=o&&e.push(o);return e};const oo=function(t){return null!=t&&Ve(t.length)&&!Rt(t)};const no=function(t){return oo(t)?Je(t):eo(t)};const ro=function(t,e){return t&&Ce(e,no(e),t)};const io=function(t){var e=[];if(null!=t)for(var o in Object(t))e.push(o);return e};var so=Object.prototype.hasOwnProperty;const lo=function(t){if(!z(t))return io(t);var e=Xe(t),o=[];for(var n in t)("constructor"!=n||!e&&so.call(t,n))&&o.push(n);return o};const ao=function(t){return oo(t)?Je(t,!0):lo(t)};const co=function(t,e){return t&&Ce(e,ao(e),t)};var ho="object"==typeof exports&&exports&&!exports.nodeType&&exports,uo=ho&&"object"==typeof module&&module&&!module.nodeType&&module,po=uo&&uo.exports===ho?Q.Buffer:void 0,mo=po?po.allocUnsafe:void 0;const go=function(t,e){if(e)return t.slice();var o=t.length,n=mo?mo(o):new t.constructor(o);return t.copy(n),n};const bo=function(t,e){var o=-1,n=t.length;for(e||(e=Array(n));++o<n;)e[o]=t[o];return e};const fo=function(t,e){for(var o=-1,n=null==t?0:t.length,r=0,i=[];++o<n;){var s=t[o];e(s,o,t)&&(i[r++]=s)}return i};const wo=function(){return[]};var xo=Object.prototype.propertyIsEnumerable,ko=Object.getOwnPropertySymbols;const yo=ko?function(t){return null==t?[]:(t=Object(t),fo(ko(t),(function(e){return xo.call(t,e)})))}:wo;const vo=function(t,e){return Ce(t,yo(t),e)};const _o=function(t,e){for(var o=-1,n=e.length,r=t.length;++o<n;)t[r+o]=e[o];return t};const Ao=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)_o(e,yo(t)),t=gt(t);return e}:wo;const Co=function(t,e){return Ce(t,Ao(t),e)};const So=function(t,e,o){var n=e(t);return ct(t)?n:_o(n,o(t))};const Eo=function(t){return So(t,no,yo)};const Mo=function(t){return So(t,ao,Ao)};const Do=Jt(Q,"DataView");const To=Jt(Q,"Promise");const Bo=Jt(Q,"Set");const Lo=Jt(Q,"WeakMap");var Po="[object Map]",Io="[object Promise]",zo="[object Set]",Ro="[object WeakMap]",Fo="[object DataView]",Oo=$t(Do),Vo=$t(Yt),No=$t(To),$o=$t(Bo),Ko=$t(Lo),qo=dt;(Do&&qo(new Do(new ArrayBuffer(1)))!=Fo||Yt&&qo(new Yt)!=Po||To&&qo(To.resolve())!=Io||Bo&&qo(new Bo)!=zo||Lo&&qo(new Lo)!=Ro)&&(qo=function(t){var e=dt(t),o="[object Object]"==e?t.constructor:void 0,n=o?$t(o):"";if(n)switch(n){case Oo:return Fo;case Vo:return Po;case No:return Io;case $o:return zo;case Ko:return Ro}return e});const Ho=qo;var jo=Object.prototype.hasOwnProperty;const Wo=function(t){var e=t.length,o=new t.constructor(e);return e&&"string"==typeof t[0]&&jo.call(t,"index")&&(o.index=t.index,o.input=t.input),o};const Uo=Q.Uint8Array;const Go=function(t){var e=new t.constructor(t.byteLength);return new Uo(e).set(new Uo(t)),e};const Zo=function(t,e){var o=e?Go(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)};var Jo=/\w*$/;const Yo=function(t){var e=new t.constructor(t.source,Jo.exec(t));return e.lastIndex=t.lastIndex,e};var Xo=tt?tt.prototype:void 0,Qo=Xo?Xo.valueOf:void 0;const tn=function(t){return Qo?Object(Qo.call(t)):{}};const en=function(t,e){var o=e?Go(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)};const on=function(t,e,o){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Go(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return Zo(t,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return en(t,o);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return Yo(t);case"[object Symbol]":return tn(t)}};var nn=Object.create;const rn=function(){function t(){}return function(e){if(!z(e))return{};if(nn)return nn(e);t.prototype=e;var o=new t;return t.prototype=void 0,o}}();const sn=function(t){return"function"!=typeof t.constructor||Xe(t)?{}:rn(gt(t))};const ln=function(t){return ht(t)&&"[object Map]"==Ho(t)};var an=We&&We.isMap;const dn=an?Ke(an):ln;const cn=function(t){return ht(t)&&"[object Set]"==Ho(t)};var hn=We&&We.isSet;const un=hn?Ke(hn):cn;var pn="[object Arguments]",mn="[object Function]",gn="[object Object]",bn={};bn[pn]=bn["[object Array]"]=bn["[object ArrayBuffer]"]=bn["[object DataView]"]=bn["[object Boolean]"]=bn["[object Date]"]=bn["[object Float32Array]"]=bn["[object Float64Array]"]=bn["[object Int8Array]"]=bn["[object Int16Array]"]=bn["[object Int32Array]"]=bn["[object Map]"]=bn["[object Number]"]=bn[gn]=bn["[object RegExp]"]=bn["[object Set]"]=bn["[object String]"]=bn["[object Symbol]"]=bn["[object Uint8Array]"]=bn["[object Uint8ClampedArray]"]=bn["[object Uint16Array]"]=bn["[object Uint32Array]"]=!0,bn["[object Error]"]=bn[mn]=bn["[object WeakMap]"]=!1;const fn=function t(e,o,n,r,i,s){var l,a=1&o,d=2&o,c=4&o;if(n&&(l=i?n(e,r,i,s):n(e)),void 0!==l)return l;if(!z(e))return e;var h=ct(e);if(h){if(l=Wo(e),!a)return bo(e,l)}else{var u=Ho(e),p=u==mn||"[object GeneratorFunction]"==u;if(Re(e))return go(e,a);if(u==gn||u==pn||p&&!i){if(l=d||p?{}:sn(e),!a)return d?Co(e,co(l,e)):vo(e,ro(l,e))}else{if(!bn[u])return i?e:{};l=on(e,u,a)}}s||(s=new xe);var m=s.get(e);if(m)return m;s.set(e,l),un(e)?e.forEach((function(r){l.add(t(r,o,n,r,e,s))})):dn(e)&&e.forEach((function(r,i){l.set(i,t(r,o,n,i,e,s))}));var g=h?void 0:(c?d?Mo:Eo:d?ao:no)(e);return ke(g||e,(function(r,i){g&&(r=e[i=r]),Ae(l,i,t(r,o,n,i,e,s))})),l};const wn=function(t,e){return fn(t,5,e="function"==typeof e?e:void 0)};const xn=function(t){return ht(t)&&1===t.nodeType&&!yt(t)};class kn{constructor(t,e){this._config={},e&&this.define(yn(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,o,n=!1){if(yt(e))return void this._setObjectToTarget(t,e,n);const r=e.split(".");e=r.pop();for(const e of r)yt(t[e])||(t[e]={}),t=t[e];if(yt(o))return yt(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,o,n);n&&void 0!==t[e]||(t[e]=o)}_getFromSource(t,e){const o=e.split(".");e=o.pop();for(const e of o){if(!yt(t[e])){t=null;break}t=t[e]}return t?yn(t[e]):void 0}_setObjectToTarget(t,e,o){Object.keys(e).forEach((n=>{this._setToTarget(t,n,e[n],o)}))}}function yn(t){return wn(t,vn)}function vn(t){return xn(t)||"function"==typeof t?t:void 0}function _n(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}function An(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}const Cn=Sn(E());function Sn(t){if(!t)return Cn;return class extends t{listenTo(t,e,o,n={}){if(_n(t)||An(t)){const r={capture:!!n.useCapture,passive:!!n.usePassive},i=this._getProxyEmitter(t,r)||new En(t,r);this.listenTo(i,e,o,n)}else super.listenTo(t,e,o,n)}stopListening(t,e,o){if(_n(t)||An(t)){const n=this._getAllProxyEmitters(t);for(const t of n)this.stopListening(t,e,o)}else super.stopListening(t,e,o)}_getProxyEmitter(t,e){return function(t,e){const o=t[_];return o&&o[e]?o[e].emitter:null}(this,Mn(t,e))}_getAllProxyEmitters(t){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((e=>this._getProxyEmitter(t,e))).filter((t=>!!t))}}}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t=>{Sn[t]=Cn.prototype[t]}));class En extends(E()){constructor(t,e){super(),M(this,Mn(t,e)),this._domNode=t,this._options=e}attach(t){if(this._domListeners&&this._domListeners[t])return;const e=this._createDomListener(t);this._domNode.addEventListener(t,e,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=e}detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()}_addEventListener(t,e,o){this.attach(t),E().prototype._addEventListener.call(this,t,e,o)}_removeEventListener(t,e){E().prototype._removeEventListener.call(this,t,e),this.detach(t)}_createDomListener(t){const e=e=>{this.fire(t,e)};return e.removeListener=()=>{this._domNode.removeEventListener(t,e,this._options),delete this._domListeners[t]},e}}function Mn(t,e){let o=function(t){return t["data-ck-expando"]||(t["data-ck-expando"]=p())}(t);for(const t of Object.keys(e).sort())e[t]&&(o+="-"+t);return o}let Dn;try{Dn={window,document}}catch(t){Dn={window:{},document:{}}}const Tn=Dn;function Bn(t){return"[object Text]"==Object.prototype.toString.call(t)}function Ln(t){return"[object Range]"==Object.prototype.toString.apply(t)}function Pn(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function In(t){return t&&t.parentNode?t.offsetParent===Tn.document.body?null:t.offsetParent:null}const zn=["top","right","bottom","left","width","height"];class Rn{constructor(t){const e=Ln(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Vn(t)||e)if(e){const e=Rn.getDomRangeRects(t);Fn(this,Rn.getBoundingRect(e))}else Fn(this,t.getBoundingClientRect());else if(An(t)){const{innerWidth:e,innerHeight:o}=t;Fn(this,{top:0,right:e,bottom:o,left:0,width:e,height:o})}else Fn(this,t)}clone(){return new Rn(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};if(e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0)return null;{const t=new Rn(e);return t._source=this._source,t}}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(On(t))return e;let o,n=t,r=t.parentNode||t.commonAncestorContainer;for(;r&&!On(r);){const t="visible"===((i=r)instanceof HTMLElement?i.ownerDocument.defaultView.getComputedStyle(i).overflow:"visible");n instanceof HTMLElement&&"absolute"===Nn(n)&&(o=n);const s=Nn(r);if(t||o&&("relative"===s&&t||"relative"!==s)){n=r,r=r.parentNode;continue}const l=new Rn(r),a=e.getIntersection(l);if(!a)return null;a.getArea()<e.getArea()&&(e=a),n=r,r=r.parentNode}var i;return e}isEqual(t){for(const e of zn)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}toAbsoluteRect(){const{scrollX:t,scrollY:e}=Tn.window,o=this.clone().moveBy(t,e);if(Vn(o._source)){const t=In(o._source);t&&function(t,e){const o=new Rn(e),n=Pn(e);let r=0,i=0;r-=o.left,i-=o.top,r+=e.scrollLeft,i+=e.scrollTop,r-=n.left,i-=n.top,t.moveBy(r,i)}(o,t)}return o}excludeScrollbarsAndBorders(){const t=this._source;let e,o,n;if(An(t))e=t.innerWidth-t.document.documentElement.clientWidth,o=t.innerHeight-t.document.documentElement.clientHeight,n=t.getComputedStyle(t.document.documentElement).direction;else{const r=Pn(t);e=t.offsetWidth-t.clientWidth-r.left-r.right,o=t.offsetHeight-t.clientHeight-r.top-r.bottom,n=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===n?this.right-=e:this.left+=e,this.height-=o,this.bottom-=o,this}static getDomRangeRects(t){const e=[],o=Array.from(t.getClientRects());if(o.length)for(const t of o)e.push(new Rn(t));else{let o=t.startContainer;Bn(o)&&(o=o.parentNode);const n=new Rn(o.getBoundingClientRect());n.right=n.left,n.width=0,e.push(n)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let o=0;for(const n of t)o++,e.left=Math.min(e.left,n.left),e.top=Math.min(e.top,n.top),e.right=Math.max(e.right,n.right),e.bottom=Math.max(e.bottom,n.bottom);return 0==o?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new Rn(e))}}function Fn(t,e){for(const o of zn)t[o]=e[o]}function On(t){return!!Vn(t)&&t===t.ownerDocument.body}function Vn(t){return null!==t&&"object"==typeof t&&1===t.nodeType&&"function"==typeof t.getBoundingClientRect}function Nn(t){return t instanceof HTMLElement?t.ownerDocument.defaultView.getComputedStyle(t).position:"static"}class $n{constructor(t,e){$n._observerInstance||$n._createObserver(),this._element=t,this._callback=e,$n._addElementCallback(t,e),$n._observerInstance.observe(t)}get element(){return this._element}destroy(){$n._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){$n._elementCallbacks||($n._elementCallbacks=new Map);let o=$n._elementCallbacks.get(t);o||(o=new Set,$n._elementCallbacks.set(t,o)),o.add(e)}static _deleteElementCallback(t,e){const o=$n._getElementCallbacks(t);o&&(o.delete(e),o.size||($n._elementCallbacks.delete(t),$n._observerInstance.unobserve(t))),$n._elementCallbacks&&!$n._elementCallbacks.size&&($n._observerInstance=null,$n._elementCallbacks=null)}static _getElementCallbacks(t){return $n._elementCallbacks?$n._elementCallbacks.get(t):null}static _createObserver(){$n._observerInstance=new Tn.window.ResizeObserver((t=>{for(const e of t){const t=$n._getElementCallbacks(e.target);if(t)for(const o of t)o(e)}}))}}function Kn(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}function qn(t){return e=>e+t}function Hn(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}function jn(t,e,o){t.insertBefore(o,t.childNodes[e]||null)}function Wn(t){return t&&t.nodeType===Node.COMMENT_NODE}function Un(t){try{Tn.document.createAttribute(t)}catch(t){return!1}return!0}function Gn(t){return!!(t&&t.getClientRects&&t.getClientRects().length)}function Zn({element:t,target:e,positions:o,limiter:n,fitInViewport:r,viewportOffsetConfig:i}){Rt(e)&&(e=e()),Rt(n)&&(n=n());const s=In(t),l=function(t){t=Object.assign({top:0,bottom:0,left:0,right:0},t);const e=new Rn(Tn.window);return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e}(i),a=new Rn(t),d=Jn(e,l);let c;if(!d||!l.getIntersection(d))return null;const h={targetRect:d,elementRect:a,positionedElementAncestor:s,viewportRect:l};if(n||r){if(n){const t=Jn(n,l);t&&(h.limiterRect=t)}c=function(t,e){const{elementRect:o}=e,n=o.getArea(),r=t.map((t=>new Yn(t,e))).filter((t=>!!t.name));let i=0,s=null;for(const t of r){const{limiterIntersectionArea:e,viewportIntersectionArea:o}=t;if(e===n)return t;const r=o**2+e**2;r>i&&(i=r,s=t)}return s}(o,h)}else c=new Yn(o[0],h);return c}function Jn(t,e){const o=new Rn(t).getVisible();return o?o.getIntersection(e):null}$n._observerInstance=null,$n._elementCallbacks=null;class Yn{constructor(t,e){const o=t(e.targetRect,e.elementRect,e.viewportRect,e.limiterRect);if(!o)return;const{left:n,top:r,name:i,config:s}=o;this.name=i,this.config=s,this._positioningFunctionCoordinates={left:n,top:r},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;return t?t.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Xn(t){const e=t.parentNode;e&&e.removeChild(t)}function Qn({target:t,viewportOffset:e=0,ancestorOffset:o=0,alignToTop:n,forceScroll:r}){const i=sr(t);let s=i,l=null;for(e=function(t){if("number"==typeof t)return{top:t,bottom:t,left:t,right:t};return t}(e);s;){let a;a=lr(s==i?t:l),er({parent:a,getRect:()=>ar(t,s),alignToTop:n,ancestorOffset:o,forceScroll:r});const d=ar(t,s);if(tr({window:s,rect:d,viewportOffset:e,alignToTop:n,forceScroll:r}),s.parent!=s){if(l=s.frameElement,s=s.parent,!l)return}else s=null}}function tr({window:t,rect:e,alignToTop:o,forceScroll:n,viewportOffset:r}){const i=e.clone().moveBy(0,r.bottom),s=e.clone().moveBy(0,-r.top),l=new Rn(t).excludeScrollbarsAndBorders(),a=o&&n,d=[s,i].every((t=>l.contains(t)));let{scrollX:c,scrollY:h}=t;const u=c,p=h;a?h-=l.top-e.top+r.top:d||(nr(s,l)?h-=l.top-e.top+r.top:or(i,l)&&(h+=o?e.top-l.top-r.top:e.bottom-l.bottom+r.bottom)),d||(rr(e,l)?c-=l.left-e.left+r.left:ir(e,l)&&(c+=e.right-l.right+r.right)),c==u&&h===p||t.scrollTo(c,h)}function er({parent:t,getRect:e,alignToTop:o,forceScroll:n,ancestorOffset:r=0,limiterElement:i}){const s=sr(t),l=o&&n;let a,d,c;const h=i||s.document.body;for(;t!=h;)d=e(),a=new Rn(t).excludeScrollbarsAndBorders(),c=a.contains(d),l?t.scrollTop-=a.top-d.top+r:c||(nr(d,a)?t.scrollTop-=a.top-d.top+r:or(d,a)&&(t.scrollTop+=o?d.top-a.top-r:d.bottom-a.bottom+r)),c||(rr(d,a)?t.scrollLeft-=a.left-d.left+r:ir(d,a)&&(t.scrollLeft+=d.right-a.right+r)),t=t.parentNode}function or(t,e){return t.bottom>e.bottom}function nr(t,e){return t.top<e.top}function rr(t,e){return t.left<e.left}function ir(t,e){return t.right>e.right}function sr(t){return Ln(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function lr(t){if(Ln(t)){let e=t.commonAncestorContainer;return Bn(e)&&(e=e.parentNode),e}return t.parentNode}function ar(t,e){const o=sr(t),n=new Rn(t);if(o===e)return n;{let t=o;for(;t!=e;){const e=t.frameElement,o=new Rn(e).excludeScrollbarsAndBorders();n.moveBy(o.left,o.top),t=t.parent}}return n}const dr={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},cr={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},hr=function(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){t[String.fromCharCode(e).toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;for(const e of"`-=[];',./\\")t[e]=e.charCodeAt(0);return t}(),ur=Object.fromEntries(Object.entries(hr).map((([t,e])=>[e,t.charAt(0).toUpperCase()+t.slice(1)])));function pr(t){let e;if("string"==typeof t){if(e=hr[t.toLowerCase()],!e)throw new f("keyboard-unknown-key",null,{key:t})}else e=t.keyCode+(t.altKey?hr.alt:0)+(t.ctrlKey?hr.ctrl:0)+(t.shiftKey?hr.shift:0)+(t.metaKey?hr.cmd:0);return e}function mr(t){return"string"==typeof t&&(t=function(t){return t.split("+").map((t=>t.trim()))}(t)),t.map((t=>"string"==typeof t?function(t){if(t.endsWith("!"))return pr(t.slice(0,-1));const e=pr(t);return(r.isMac||r.isiOS)&&e==hr.ctrl?hr.cmd:e}(t):t)).reduce(((t,e)=>e+t),0)}function gr(t){let e=mr(t);return Object.entries(r.isMac||r.isiOS?dr:cr).reduce(((t,[o,n])=>(0!=(e&hr[o])&&(e&=~hr[o],t+=n),t)),"")+(e?ur[e]:"")}function br(t,e){const o="ltr"===e;switch(t){case hr.arrowleft:return o?"left":"right";case hr.arrowright:return o?"right":"left";case hr.arrowup:return"up";case hr.arrowdown:return"down"}}function fr(t){return Array.isArray(t)?t:[t]}function wr(t,e,o=1){if("number"!=typeof o)throw new f("translation-service-quantity-not-a-number",null,{quantity:o});const n=Object.keys(Tn.window.CKEDITOR_TRANSLATIONS).length;1===n&&(t=Object.keys(Tn.window.CKEDITOR_TRANSLATIONS)[0]);const r=e.id||e.string;if(0===n||!function(t,e){return!!Tn.window.CKEDITOR_TRANSLATIONS[t]&&!!Tn.window.CKEDITOR_TRANSLATIONS[t].dictionary[e]}(t,r))return 1!==o?e.plural:e.string;const i=Tn.window.CKEDITOR_TRANSLATIONS[t].dictionary,s=Tn.window.CKEDITOR_TRANSLATIONS[t].getPluralForm||(t=>1===t?0:1),l=i[r];if("string"==typeof l)return l;return l[Number(s(o))]}Tn.window.CKEDITOR_TRANSLATIONS||(Tn.window.CKEDITOR_TRANSLATIONS={});const xr=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function kr(t){return xr.includes(t)?"rtl":"ltr"}class yr{constructor({uiLanguage:t="en",contentLanguage:e}={}){this.uiLanguage=t,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=kr(this.uiLanguage),this.contentLanguageDirection=kr(this.contentLanguage),this.t=(t,e)=>this._t(t,e)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){e=fr(e),"string"==typeof t&&(t={string:t});const o=!!t.plural?e[0]:1;return function(t,e){return t.replace(/%(\d+)/g,((t,o)=>o<e.length?e[o]:t))}(wr(this.uiLanguage,t,o),e)}}class vr extends(E()){constructor(t={},e={}){super();const o=J(t);if(o||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],o)for(const e of t)this._items.push(e),this._itemMap.set(this._getItemIdBeforeAdding(e),e)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){return this.addMany([t],e)}addMany(t,e){if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new f("collection-add-item-invalid-index",this);let o=0;for(const n of t){const t=this._getItemIdBeforeAdding(n),r=e+o;this._items.splice(r,0,n),this._itemMap.set(t,n),this.fire("add",n,r),o++}return this.fire("change",{added:t,removed:[],index:e}),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new f("collection-get-invalid-arg",this);e=this._items[t]}return e||null}has(t){if("string"==typeof t)return this._itemMap.has(t);{const e=t[this._idProperty];return e&&this._itemMap.has(e)}}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,e?this._items.indexOf(e):-1}remove(t){const[e,o]=this._remove(t);return this.fire("change",{added:[],removed:[e],index:o}),e}map(t,e){return this._items.map(t,e)}forEach(t,e){this._items.forEach(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new f("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding((e=>new t(e)))},using:t=>{"function"==typeof t?this._setUpBindToBinding(t):this._setUpBindToBinding((e=>e[t]))}}}_setUpBindToBinding(t){const e=this._bindToCollection,o=(o,n,r)=>{const i=e._bindToCollection==this,s=e._bindToInternalToExternalMap.get(n);if(i&&s)this._bindToExternalToInternalMap.set(n,s),this._bindToInternalToExternalMap.set(s,n);else{const o=t(n);if(!o)return void this._skippedIndexesFromExternal.push(r);let i=r;for(const t of this._skippedIndexesFromExternal)r>t&&i--;for(const t of e._skippedIndexesFromExternal)i>=t&&i++;this._bindToExternalToInternalMap.set(n,o),this._bindToInternalToExternalMap.set(o,n),this.add(o,i);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)i<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const t of e)o(0,t,e.getIndex(t));this.listenTo(e,"add",o),this.listenTo(e,"remove",((t,e,o)=>{const n=this._bindToExternalToInternalMap.get(e);n&&this.remove(n),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((t,e)=>(o<e&&t.push(e-1),o>e&&t.push(e),t)),[])}))}_getItemIdBeforeAdding(t){const e=this._idProperty;let o;if(e in t){if(o=t[e],"string"!=typeof o)throw new f("collection-add-invalid-id",this);if(this.get(o))throw new f("collection-add-item-already-exists",this)}else t[e]=o=p();return o}_remove(t){let e,o,n,r=!1;const i=this._idProperty;if("string"==typeof t?(o=t,n=this._itemMap.get(o),r=!n,n&&(e=this._items.indexOf(n))):"number"==typeof t?(e=t,n=this._items[e],r=!n,n&&(o=n[i])):(n=t,o=n[i],e=this._items.indexOf(n),r=-1==e||!this._itemMap.get(o)),r)throw new f("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(o);const s=this._bindToInternalToExternalMap.get(n);return this._bindToInternalToExternalMap.delete(n),this._bindToExternalToInternalMap.delete(s),this.fire("remove",n,e),[n,e]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function _r(t){const e=t.next();return e.done?null:e.value}class Ar extends(Sn(K())){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(t){if(this._elements.has(t))throw new f("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",(()=>this._focus(t)),{useCapture:!0}),this.listenTo(t,"blur",(()=>this._blur()),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((()=>{this.focusedElement=null,this.isFocused=!1}),0)}}class Cr{constructor(){this._listener=new(Sn())}listenTo(t){this._listener.listenTo(t,"keydown",((t,e)=>{this._listener.fire("_keydown:"+pr(e),e)}))}set(t,e,o={}){const n=mr(t),r=o.priority;this._listener.listenTo(this._listener,"_keydown:"+n,((t,o)=>{e(o,(()=>{o.preventDefault(),o.stopPropagation(),t.stop()})),t.return=!0}),{priority:r})}press(t){return!!this._listener.fire("_keydown:"+pr(t),t)}stopListening(t){this._listener.stopListening(t)}destroy(){this.stopListening()}}function Sr(t){return J(t)?new Map(t):function(t){const e=new Map;for(const o in t)e.set(o,t[o]);return e}(t)}function Er(t,e){let o;function n(...r){n.cancel(),o=setTimeout((()=>t(...r)),e)}return n.cancel=()=>{clearTimeout(o)},n}function Mr(t,e){return!!(o=t.charAt(e-1))&&1==o.length&&/[\ud800-\udbff]/.test(o)&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e));var o}function Dr(t,e){return!!(o=t.charAt(e))&&1==o.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(o);var o}const Tr=function(){const t=/\p{Regional_Indicator}{2}/u.source,e="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map((t=>t.source)).join("|")+")";return new RegExp(`${t}|${e}(?:‍${e})*`,"ug")}();function Br(t,e){const o=String(t).matchAll(Tr);return Array.from(o).some((t=>t.index<e&&e<t.index+t[0].length))}class Lr extends(K()){constructor(t){super(),this._disableStack=new Set,this.editor=t,this.set("isEnabled",!0)}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",Pr,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",Pr),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Pr(t){t.return=!1,t.stop()}class Ir extends(K()){constructor(t){super(),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(()=>{this.refresh()})),this.listenTo(t,"change:isReadOnly",(()=>{this.refresh()})),this.on("set:isEnabled",(e=>{if(!this.affectsData)return;const o=t.model.document.selection,n=!("$graveyard"==o.getFirstPosition().root.rootName)&&t.model.canEditAt(o);(t.isReadOnly||this._isEnabledBasedOnSelection&&!n)&&(e.return=!1,e.stop())}),{priority:"highest"}),this.on("execute",(t=>{this.isEnabled||t.stop()}),{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(t){this._affectsData=t}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",zr,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",zr),this.refresh())}execute(...t){}destroy(){this.stopListening()}}function zr(t){t.return=!1,t.stop()}class Rr extends Ir{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...t){const e=this._getFirstEnabledCommand();return!!e&&e.execute(t)}registerChildCommand(t,e={}){g(this._childCommandsDefinitions,{command:t,priority:e.priority||"normal"}),t.on("change:isEnabled",(()=>this._checkEnabled())),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const t=this._childCommandsDefinitions.find((({command:t})=>t.isEnabled));return t&&t.command}}class Fr extends(E()){constructor(t,e=[],o=[]){super(),this._plugins=new Map,this._context=t,this._availablePlugins=new Map;for(const t of e)t.pluginName&&this._availablePlugins.set(t.pluginName,t);this._contextPlugins=new Map;for(const[t,e]of o)this._contextPlugins.set(t,e),this._contextPlugins.set(e,t),t.pluginName&&this._availablePlugins.set(t.pluginName,t)}*[Symbol.iterator](){for(const t of this._plugins)"function"==typeof t[0]&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){let e=t;throw"function"==typeof t&&(e=t.pluginName||t.name),new f("plugincollection-plugin-not-loaded",this._context,{plugin:e})}return e}has(t){return this._plugins.has(t)}init(t,e=[],o=[]){const n=this,r=this._context;!function t(e,o=new Set){e.forEach((e=>{l(e)&&(o.has(e)||(o.add(e),e.pluginName&&!n._availablePlugins.has(e.pluginName)&&n._availablePlugins.set(e.pluginName,e),e.requires&&t(e.requires,o)))}))}(t),h(t);const i=[...function t(e,o=new Set){return e.map((t=>l(t)?t:n._availablePlugins.get(t))).reduce(((e,n)=>o.has(n)?e:(o.add(n),n.requires&&(h(n.requires,n),t(n.requires,o).forEach((t=>e.add(t)))),e.add(n))),new Set)}(t.filter((t=>!d(t,e))))];!function(t,e){for(const o of e){if("function"!=typeof o)throw new f("plugincollection-replace-plugin-invalid-type",null,{pluginItem:o});const e=o.pluginName;if(!e)throw new f("plugincollection-replace-plugin-missing-name",null,{pluginItem:o});if(o.requires&&o.requires.length)throw new f("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:e});const r=n._availablePlugins.get(e);if(!r)throw new f("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:e});const i=t.indexOf(r);if(-1===i){if(n._contextPlugins.has(r))return;throw new f("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:e})}if(r.requires&&r.requires.length)throw new f("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:e});t.splice(i,1,o),n._availablePlugins.set(e,o)}}(i,o);const s=function(t){return t.map((t=>{let e=n._contextPlugins.get(t);return e=e||new t(r),n._add(t,e),e}))}(i);return u(s,"init").then((()=>u(s,"afterInit"))).then((()=>s));function l(t){return"function"==typeof t}function a(t){return l(t)&&!!t.isContextPlugin}function d(t,e){return e.some((e=>e===t||(c(t)===e||c(e)===t)))}function c(t){return l(t)?t.pluginName||t.name:t}function h(t,o=null){t.map((t=>l(t)?t:n._availablePlugins.get(t)||t)).forEach((t=>{!function(t,e){if(l(t))return;if(e)throw new f("plugincollection-soft-required",r,{missingPlugin:t,requiredBy:c(e)});throw new f("plugincollection-plugin-not-found",r,{plugin:t})}(t,o),function(t,e){if(!a(e))return;if(a(t))return;throw new f("plugincollection-context-required",r,{plugin:c(t),requiredBy:c(e)})}(t,o),function(t,o){if(!o)return;if(!d(t,e))return;throw new f("plugincollection-required",r,{plugin:c(t),requiredBy:c(o)})}(t,o)}))}function u(t,e){return t.reduce(((t,o)=>o[e]?n._contextPlugins.has(o)?t:t.then(o[e].bind(o)):t),Promise.resolve())}}destroy(){const t=[];for(const[,e]of this)"function"!=typeof e.destroy||this._contextPlugins.has(e)||t.push(e.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const o=t.pluginName;if(o){if(this._plugins.has(o))throw new f("plugincollection-plugin-name-conflict",null,{pluginName:o,plugin1:this._plugins.get(o).constructor,plugin2:t});this._plugins.set(o,e)}}}class Or{constructor(t){this._contextOwner=null,this.config=new kn(t,this.constructor.defaultConfig);const e=this.constructor.builtinPlugins;this.config.define("plugins",e),this.plugins=new Fr(this,e);const o=this.config.get("language")||{};this.locale=new yr({uiLanguage:"string"==typeof o?o:o.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new vr}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const o of t.concat(e)){if("function"!=typeof o)throw new f("context-initplugins-constructor-only",null,{Plugin:o});if(!0!==o.isContextPlugin)throw new f("context-initplugins-invalid-plugin",null,{Plugin:o})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,(t=>t.destroy()))).then((()=>this.plugins.destroy()))}_addEditor(t,e){if(this._contextOwner)throw new f("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise((e=>{const o=new this(t);e(o.initPlugins().then((()=>o)))}))}}class Vr extends(K()){constructor(t){super(),this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var Nr=o(3379),$r=o.n(Nr),Kr=o(7372),qr={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Kr.Z,qr);Kr.Z.locals;const Hr=new WeakMap;let jr=!1;function Wr({view:t,element:e,text:o,isDirectHost:n=!0,keepOnFocus:r=!1}){const i=t.document;function s(o){Hr.get(i).set(e,{text:o,isDirectHost:n,keepOnFocus:r,hostElement:n?e:null}),t.change((t=>Gr(i,t)))}Hr.has(i)||(Hr.set(i,new Map),i.registerPostFixer((t=>Gr(i,t))),i.on("change:isComposing",(()=>{t.change((t=>Gr(i,t)))}),{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",((t,e,o)=>{s(o)})),e.placeholder?s(e.placeholder):o&&s(o),o&&function(){jr||w("enableplaceholder-deprecated-text-option");jr=!0}()}function Ur(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}function Gr(t,e){const o=Hr.get(t),n=[];let r=!1;for(const[t,i]of o)i.isDirectHost&&(n.push(t),Zr(e,t,i)&&(r=!0));for(const[t,i]of o){if(i.isDirectHost)continue;const o=Jr(t);o&&(n.includes(o)||(i.hostElement=o,Zr(e,t,i)&&(r=!0)))}return r}function Zr(t,e,o){const{text:n,isDirectHost:r,hostElement:i}=o;let s=!1;i.getAttribute("data-placeholder")!==n&&(t.setAttribute("data-placeholder",n,i),s=!0);return(r||1==e.childCount)&&function(t,e){if(!t.isAttached())return!1;const o=Array.from(t.getChildren()).some((t=>!t.is("uiElement")));if(o)return!1;const n=t.document,r=n.selection.anchor;return!(n.isComposing&&r&&r.parent===t||!e&&n.isFocused&&(!r||r.parent===t))}(i,o.keepOnFocus)?function(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}(t,i)&&(s=!0):Ur(t,i)&&(s=!0),s}function Jr(t){if(t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Yr{is(){throw new Error("is() method is abstract")}}const Xr=function(t){return fn(t,4)};class Qr extends(E(Yr)){constructor(t){super(),this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new f("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={}){const e=[];let o=t.includeSelf?this:this.parent;for(;o;)e[t.parentFirst?"push":"unshift"](o),o=o.parent;return e}getCommonAncestor(t,e={}){const o=this.getAncestors(e),n=t.getAncestors(e);let r=0;for(;o[r]==n[r]&&o[r];)r++;return 0===r?null:o[r-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),o=t.getPath(),n=Z(e,o);switch(n){case"prefix":return!0;case"extension":return!1;default:return e[n]<o[n]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire(`change:${t}`,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=Xr(this);return delete t.parent,t}}Qr.prototype.is=function(t){return"node"===t||"view:node"===t};class ti extends Qr{constructor(t,e){super(t),this._textData=e}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof ti&&(this===t||this.data===t.data)}_clone(){return new ti(this.document,this.data)}}ti.prototype.is=function(t){return"$text"===t||"view:$text"===t||"text"===t||"view:text"===t||"node"===t||"view:node"===t};class ei extends Yr{constructor(t,e,o){if(super(),this.textNode=t,e<0||e>t.data.length)throw new f("view-textproxy-wrong-offsetintext",this);if(o<0||e+o>t.data.length)throw new f("view-textproxy-wrong-length",this);this.data=t.data.substring(e,e+o),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(t={}){const e=[];let o=t.includeSelf?this.textNode:this.parent;for(;null!==o;)e[t.parentFirst?"push":"unshift"](o),o=o.parent;return e}}ei.prototype.is=function(t){return"$textProxy"===t||"view:$textProxy"===t||"textProxy"===t||"view:textProxy"===t};class oi{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const o=ni(e,t);if(o)return{element:e,pattern:t,match:o}}return null}matchAll(...t){const e=[];for(const o of t)for(const t of this._patterns){const n=ni(o,t);n&&e.push({element:o,pattern:t,match:n})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function ni(t,e){if("function"==typeof e)return e(t);const o={};return e.name&&(o.name=function(t,e){if(t instanceof RegExp)return!!e.match(t);return t===e}(e.name,t.name),!o.name)||e.attributes&&(o.attributes=function(t,e){const o=new Set(e.getAttributeKeys());yt(t)?(void 0!==t.style&&w("matcher-pattern-deprecated-attributes-style-key",t),void 0!==t.class&&w("matcher-pattern-deprecated-attributes-class-key",t)):(o.delete("style"),o.delete("class"));return ri(t,o,(t=>e.getAttribute(t)))}(e.attributes,t),!o.attributes)||e.classes&&(o.classes=function(t,e){return ri(t,e.getClassNames(),(()=>{}))}(e.classes,t),!o.classes)||e.styles&&(o.styles=function(t,e){return ri(t,e.getStyleNames(!0),(t=>e.getStyle(t)))}(e.styles,t),!o.styles)?null:o}function ri(t,e,o){const n=function(t){if(Array.isArray(t))return t.map((t=>yt(t)?(void 0!==t.key&&void 0!==t.value||w("matcher-pattern-missing-key-or-value",t),[t.key,t.value]):[t,!0]));if(yt(t))return Object.entries(t);return[[t,!0]]}(t),r=Array.from(e),i=[];if(n.forEach((([t,e])=>{r.forEach((n=>{(function(t,e){return!0===t||t===e||t instanceof RegExp&&e.match(t)})(t,n)&&function(t,e,o){if(!0===t)return!0;const n=o(e);return t===n||t instanceof RegExp&&!!String(n).match(t)}(e,n,o)&&i.push(n)}))})),n.length&&!(i.length<n.length))return i}const ii=function(t){return"symbol"==typeof t||ht(t)&&"[object Symbol]"==dt(t)};var si=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,li=/^\w*$/;const ai=function(t,e){if(ct(t))return!1;var o=typeof t;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=t&&!ii(t))||(li.test(t)||!si.test(t)||null!=e&&t in Object(e))};function di(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var o=function(){var n=arguments,r=e?e.apply(this,n):n[0],i=o.cache;if(i.has(r))return i.get(r);var s=t.apply(this,n);return o.cache=i.set(r,s)||i,s};return o.cache=new(di.Cache||be),o}di.Cache=be;const ci=di;const hi=function(t){var e=ci(t,(function(t){return 500===o.size&&o.clear(),t})),o=e.cache;return e};var ui=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pi=/\\(\\)?/g,mi=hi((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ui,(function(t,o,n,r){e.push(n?r.replace(pi,"$1"):o||t)})),e}));const gi=mi;const bi=function(t,e){for(var o=-1,n=null==t?0:t.length,r=Array(n);++o<n;)r[o]=e(t[o],o,t);return r};var fi=tt?tt.prototype:void 0,wi=fi?fi.toString:void 0;const xi=function t(e){if("string"==typeof e)return e;if(ct(e))return bi(e,t)+"";if(ii(e))return wi?wi.call(e):"";var o=e+"";return"0"==o&&1/e==-Infinity?"-0":o};const ki=function(t){return null==t?"":xi(t)};const yi=function(t,e){return ct(t)?t:ai(t,e)?[t]:gi(ki(t))};const vi=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};const _i=function(t){if("string"==typeof t||ii(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};const Ai=function(t,e){for(var o=0,n=(e=yi(e,t)).length;null!=t&&o<n;)t=t[_i(e[o++])];return o&&o==n?t:void 0};const Ci=function(t,e,o){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(o=o>r?r:o)<0&&(o+=r),r=e>o?0:o-e>>>0,e>>>=0;for(var i=Array(r);++n<r;)i[n]=t[n+e];return i};const Si=function(t,e){return e.length<2?t:Ai(t,Ci(e,0,-1))};const Ei=function(t,e){return e=yi(e,t),null==(t=Si(t,e))||delete t[_i(vi(e))]};const Mi=function(t,e){return null==t||Ei(t,e)};const Di=function(t,e,o){var n=null==t?void 0:Ai(t,e);return void 0===n?o:n};const Ti=function(t,e,o){(void 0!==o&&!_t(t[e],o)||void 0===o&&!(e in t))&&ve(t,e,o)};const Bi=function(t){return function(e,o,n){for(var r=-1,i=Object(e),s=n(e),l=s.length;l--;){var a=s[t?l:++r];if(!1===o(i[a],a,i))break}return e}}();const Li=function(t){return ht(t)&&oo(t)};const Pi=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};const Ii=function(t){return Ce(t,ao(t))};const zi=function(t,e,o,n,r,i,s){var l=Pi(t,o),a=Pi(e,o),d=s.get(a);if(d)Ti(t,o,d);else{var c=i?i(l,a,o+"",t,e,s):void 0,h=void 0===c;if(h){var u=ct(a),p=!u&&Re(a),m=!u&&!p&&Ge(a);c=a,u||p||m?ct(l)?c=l:Li(l)?c=bo(l):p?(h=!1,c=go(a,!0)):m?(h=!1,c=en(a,!0)):c=[]:yt(a)||Be(a)?(c=l,Be(l)?c=Ii(l):z(l)&&!Rt(l)||(c=sn(a))):h=!1}h&&(s.set(a,c),r(c,a,n,i,s),s.delete(a)),Ti(t,o,c)}};const Ri=function t(e,o,n,r,i){e!==o&&Bi(o,(function(s,l){if(i||(i=new xe),z(s))zi(e,o,l,n,t,r,i);else{var a=r?r(Pi(e,l),s,l+"",e,o,i):void 0;void 0===a&&(a=s),Ti(e,l,a)}}),ao)};const Fi=function(t){return t};const Oi=function(t,e,o){switch(o.length){case 0:return t.call(e);case 1:return t.call(e,o[0]);case 2:return t.call(e,o[0],o[1]);case 3:return t.call(e,o[0],o[1],o[2])}return t.apply(e,o)};var Vi=Math.max;const Ni=function(t,e,o){return e=Vi(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=Vi(n.length-e,0),s=Array(i);++r<i;)s[r]=n[e+r];r=-1;for(var l=Array(e+1);++r<e;)l[r]=n[r];return l[e]=o(s),Oi(t,this,l)}};const $i=function(t){return function(){return t}};const Ki=ye?function(t,e){return ye(t,"toString",{configurable:!0,enumerable:!1,value:$i(e),writable:!0})}:Fi;var qi=Date.now;const Hi=function(t){var e=0,o=0;return function(){var n=qi(),r=16-(n-o);if(o=n,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}};const ji=Hi(Ki);const Wi=function(t,e){return ji(Ni(t,e,Fi),t+"")};const Ui=function(t,e,o){if(!z(o))return!1;var n=typeof e;return!!("number"==n?oo(o)&&Oe(e,o.length):"string"==n&&e in o)&&_t(o[e],t)};const Gi=function(t){return Wi((function(e,o){var n=-1,r=o.length,i=r>1?o[r-1]:void 0,s=r>2?o[2]:void 0;for(i=t.length>3&&"function"==typeof i?(r--,i):void 0,s&&Ui(o[0],o[1],s)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var l=o[n];l&&t(e,l,n,i)}return e}))};const Zi=Gi((function(t,e,o){Ri(t,e,o)}));const Ji=function(t,e,o,n){if(!z(t))return t;for(var r=-1,i=(e=yi(e,t)).length,s=i-1,l=t;null!=l&&++r<i;){var a=_i(e[r]),d=o;if("__proto__"===a||"constructor"===a||"prototype"===a)return t;if(r!=s){var c=l[a];void 0===(d=n?n(c,a,l):void 0)&&(d=z(c)?c:Oe(e[r+1])?[]:{})}Ae(l,a,d),l=l[a]}return t};const Yi=function(t,e,o){return null==t?t:Ji(t,e,o)};class Xi{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=function(t){let e=null,o=0,n=0,r=null;const i=new Map;if(""===t)return i;";"!=t.charAt(t.length-1)&&(t+=";");for(let s=0;s<t.length;s++){const l=t.charAt(s);if(null===e)switch(l){case":":r||(r=t.substr(o,s-o),n=s+1);break;case'"':case"'":e=l;break;case";":{const e=t.substr(n,s-n);r&&i.set(r.trim(),e.trim()),r=null,o=s+1;break}}else l===e&&(e=null)}return i}(t);for(const[t,o]of e)this._styleProcessor.toNormalizedForm(t,o,this._styles)}has(t){if(this.isEmpty)return!1;const e=this._styleProcessor.getReducedForm(t,this._styles).find((([e])=>e===t));return Array.isArray(e)}set(t,e){if(z(t))for(const[e,o]of Object.entries(t))this._styleProcessor.toNormalizedForm(e,o,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){const e=ts(t);Mi(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map((t=>t.join(":"))).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!z(this._styles[t]))return this._styles[t];const e=this._styleProcessor.getReducedForm(t,this._styles).find((([e])=>e===t));return Array.isArray(e)?e[1]:void 0}getStyleNames(t=!1){if(this.isEmpty)return[];if(t)return this._styleProcessor.getStyleNames(this._styles);return this._getStylesEntries().map((([t])=>t))}clear(){this._styles={}}_getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const o of e)t.push(...this._styleProcessor.getReducedForm(o,this._styles));return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const o=e.splice(0,e.length-1).join("."),n=Di(this._styles,o);if(!n)return;!Object.keys(n).length&&this.remove(o)}}class Qi{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,o){if(z(e))es(o,ts(t),e);else if(this._normalizers.has(t)){const n=this._normalizers.get(t),{path:r,value:i}=n(e);es(o,r,i)}else es(o,t,e)}getNormalized(t,e){if(!t)return Zi({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){const o=this._extractors.get(t);if("string"==typeof o)return Di(e,o);const n=o(t,e);if(n)return n}return Di(e,ts(t))}getReducedForm(t,e){const o=this.getNormalized(t,e);if(void 0===o)return[];if(this._reducers.has(t)){return this._reducers.get(t)(o)}return[[t,o]]}getStyleNames(t){const e=Array.from(this._consumables.keys()).filter((e=>{const o=this.getNormalized(e,t);return o&&"object"==typeof o?Object.keys(o).length:o})),o=new Set([...e,...Object.keys(t)]);return Array.from(o)}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const o of e)this._mapStyleNames(o,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function ts(t){return t.replace("-",".")}function es(t,e,o){let n=o;z(o)&&(n=Zi({},Di(t,e),o)),Yi(t,e,n)}class os extends Qr{constructor(t,e,o,n){if(super(t),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=e,this._attrs=function(t){const e=Sr(t);for(const[t,o]of e)null===o?e.delete(t):"string"!=typeof o&&e.set(t,String(o));return e}(o),this._children=[],n&&this._insertChild(0,n),this._classes=new Set,this._attrs.has("class")){const t=this._attrs.get("class");ns(this._classes,t),this._attrs.delete("class")}this._styles=new Xi(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==t){const t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(t)}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof os))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,o]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==o)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t){return this._styles.getStyleNames(t)}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new oi(...t);let o=this.parent;for(;o&&!o.is("documentFragment");){if(e.match(o))return o;o=o.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),o=Array.from(this._attrs).map((t=>`${t[0]}="${t[1]}"`)).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(e?` style="${e}"`:"")+(""==o?"":` ${o}`)}shouldRenderUnsafeAttribute(t){return this._unsafeAttributesToRender.includes(t)}_clone(t=!1){const e=[];if(t)for(const o of this.getChildren())e.push(o._clone(t));const o=new this.constructor(this.document,this.name,this._attrs,e);return o._classes=new Set(this._classes),o._styles.set(this._styles.getNormalized()),o._customProperties=new Map(this._customProperties),o.getFillerOffset=this.getFillerOffset,o._unsafeAttributesToRender=this._unsafeAttributesToRender,o}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let o=0;const n=function(t,e){if("string"==typeof e)return[new ti(t,e)];J(e)||(e=[e]);return Array.from(e).map((e=>"string"==typeof e?new ti(t,e):e instanceof ei?new ti(t,e.data):e))}(this.document,e);for(const e of n)null!==e.parent&&e._remove(),e.parent=this,e.document=this.document,this._children.splice(t,0,e),t++,o++;return o}_removeChildren(t,e=1){this._fireChange("children",this);for(let o=t;o<t+e;o++)this._children[o].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){const o=String(e);this._fireChange("attributes",this),"class"==t?ns(this._classes,o):"style"==t?this._styles.setTo(o):this._attrs.set(t,o)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const e of fr(t))this._classes.add(e)}_removeClass(t){this._fireChange("attributes",this);for(const e of fr(t))this._classes.delete(e)}_setStyle(t,e){this._fireChange("attributes",this),"string"!=typeof t?this._styles.set(t):this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this);for(const e of fr(t))this._styles.remove(e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function ns(t,e){const o=e.split(/\s+/);t.clear(),o.forEach((e=>t.add(e)))}os.prototype.is=function(t,e){return e?e===this.name&&("element"===t||"view:element"===t):"element"===t||"view:element"===t||"node"===t||"view:node"===t};class rs extends os{constructor(t,e,o,n){super(t,e,o,n),this.getFillerOffset=is}}function is(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const e of t)if(!e.is("uiElement"))return null;return this.childCount}rs.prototype.is=function(t,e){return e?e===this.name&&("containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class ss extends(K(rs)){constructor(t,e,o,n){super(t,e,o,n),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",(e=>e&&t.selection.editableElement==this)),this.listenTo(t.selection,"change",(()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this}))}destroy(){this.stopListening()}}ss.prototype.is=function(t,e){return e?e===this.name&&("editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};const ls=Symbol("rootName");class as extends ss{constructor(t,e){super(t,e),this.rootName="main"}get rootName(){return this.getCustomProperty(ls)}set rootName(t){this._setCustomProperty(ls,t)}set _name(t){this.name=t}}as.prototype.is=function(t,e){return e?e===this.name&&("rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class ds{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new f("view-tree-walker-no-start-position",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new f("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this._position=cs._createAt(t.startPosition):this._position=cs._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,o;do{o=this.position,e=this.next()}while(!e.done&&t(e.value));e.done||(this._position=o)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,o=t.parent;if(null===o.parent&&t.offset===o.childCount)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let n;if(o instanceof ti){if(t.isAtEnd)return this._position=cs._createAfter(o),this._next();n=o.data[t.offset]}else n=o.getChild(t.offset);if(n instanceof os){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t=new cs(n,0);return this._position=t,this._formatReturnValue("elementStart",n,e,t,1)}if(n instanceof ti){if(this.singleCharacters)return t=new cs(n,0),this._position=t,this._next();let o,r=n.data.length;return n==this._boundaryEndParent?(r=this.boundaries.end.offset,o=new ei(n,0,r),t=cs._createAfter(o)):(o=new ei(n,0,n.data.length),t.offset++),this._position=t,this._formatReturnValue("text",o,e,t,r)}if("string"==typeof n){let n;if(this.singleCharacters)n=1;else{n=(o===this._boundaryEndParent?this.boundaries.end.offset:o.data.length)-t.offset}const r=new ei(o,t.offset,n);return t.offset+=n,this._position=t,this._formatReturnValue("text",r,e,t,n)}return t=cs._createAfter(o),this._position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",o,e,t)}_previous(){let t=this.position.clone();const e=this.position,o=t.parent;if(null===o.parent&&0===t.offset)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let n;if(o instanceof ti){if(t.isAtStart)return this._position=cs._createBefore(o),this._previous();n=o.data[t.offset-1]}else n=o.getChild(t.offset-1);if(n instanceof os)return this.shallow?(t.offset--,this._position=t,this._formatReturnValue("elementStart",n,e,t,1)):(t=new cs(n,n.childCount),this._position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",n,e,t));if(n instanceof ti){if(this.singleCharacters)return t=new cs(n,n.data.length),this._position=t,this._previous();let o,r=n.data.length;if(n==this._boundaryStartParent){const e=this.boundaries.start.offset;o=new ei(n,e,n.data.length-e),r=o.data.length,t=cs._createBefore(o)}else o=new ei(n,0,n.data.length),t.offset--;return this._position=t,this._formatReturnValue("text",o,e,t,r)}if("string"==typeof n){let n;if(this.singleCharacters)n=1;else{const e=o===this._boundaryStartParent?this.boundaries.start.offset:0;n=t.offset-e}t.offset-=n;const r=new ei(o,t.offset,n);return this._position=t,this._formatReturnValue("text",r,e,t,n)}return t=cs._createBefore(o),this._position=t,this._formatReturnValue("elementStart",o,e,t,1)}_formatReturnValue(t,e,o,n,r){return e instanceof ei&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?o=cs._createAfter(e.textNode):(n=cs._createAfter(e.textNode),this._position=n)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?o=cs._createBefore(e.textNode):(n=cs._createBefore(e.textNode),this._position=n))),{done:!1,value:{type:t,item:e,previousPosition:o,nextPosition:n,length:r}}}}class cs extends Yr{constructor(t,e){super(),this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof ss);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=cs._createAt(this),o=e.offset+t;return e.offset=o<0?0:o,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const o=new ds(e);return o.skip(t),o.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),o=t.getAncestors();let n=0;for(;e[n]==o[n]&&e[n];)n++;return 0===n?null:e[n-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],o=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),o.push(t.offset);const n=Z(e,o);switch(n){case"prefix":return"before";case"extension":return"after";default:return e[n]<o[n]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new ds(t)}clone(){return new cs(this.parent,this.offset)}static _createAt(t,e){if(t instanceof cs)return new this(t.parent,t.offset);{const o=t;if("end"==e)e=o.is("$text")?o.data.length:o.childCount;else{if("before"==e)return this._createBefore(o);if("after"==e)return this._createAfter(o);if(0!==e&&!e)throw new f("view-createpositionat-offset-required",o)}return new cs(o,e)}}static _createAfter(t){if(t.is("$textProxy"))return new cs(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new f("view-position-after-root",t,{root:t});return new cs(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new cs(t.textNode,t.offsetInText);if(!t.parent)throw new f("view-position-before-root",t,{root:t});return new cs(t.parent,t.index)}}cs.prototype.is=function(t){return"position"===t||"view:position"===t};class hs extends Yr{constructor(t,e=null){super(),this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new ds({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(us,{direction:"backward"}),e=this.end.getLastMatchingPosition(us);return t.parent.is("$text")&&t.isAtStart&&(t=cs._createBefore(t.parent)),e.parent.is("$text")&&e.isAtEnd&&(e=cs._createAfter(e.parent)),new hs(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(us);if(t.isAfter(this.end)||t.isEqual(this.end))return new hs(t,t);let e=this.end.getLastMatchingPosition(us,{direction:"backward"});const o=t.nodeAfter,n=e.nodeBefore;return o&&o.is("$text")&&(t=new cs(o,0)),n&&n.is("$text")&&(e=new cs(n,n.data.length)),new hs(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const o=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),n=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return o&&n}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new hs(this.start,t.start)),this.containsPosition(t.end)&&e.push(new hs(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,o=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(o=t.end),new hs(e,o)}return null}getWalker(t={}){return t.boundaries=this,new ds(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new hs(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new ds(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new ds(t);yield e.position;for(const t of e)yield t.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,o,n){return new this(new cs(t,e),new cs(o,n))}static _createFromPositionAndShift(t,e){const o=t,n=t.getShiftedBy(e);return e>0?new this(o,n):new this(n,o)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(cs._createBefore(t),e)}}function us(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}hs.prototype.is=function(t){return"range"===t||"view:range"===t};class ps extends(E(Yr)){constructor(...t){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",t.length&&this.setTo(...t)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let o=!1;for(const n of t._ranges)if(e.isEqual(n)){o=!0;break}if(!o)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=G(this.getRanges());if(e!=G(t.getRanges()))return!1;if(0==e)return!0;for(let e of this.getRanges()){e=e.getTrimmed();let o=!1;for(let n of t.getRanges())if(n=n.getTrimmed(),e.start.isEqual(n.start)&&e.end.isEqual(n.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(...t){let[e,o,n]=t;if("object"==typeof o&&(n=o,o=void 0),null===e)this._setRanges([]),this._setFakeOptions(n);else if(e instanceof ps||e instanceof ms)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof hs)this._setRanges([e],n&&n.backward),this._setFakeOptions(n);else if(e instanceof cs)this._setRanges([new hs(e)]),this._setFakeOptions(n);else if(e instanceof Qr){const t=!!n&&!!n.backward;let r;if(void 0===o)throw new f("view-selection-setto-required-second-parameter",this);r="in"==o?hs._createIn(e):"on"==o?hs._createOn(e):new hs(cs._createAt(e,o)),this._setRanges([r],t),this._setFakeOptions(n)}else{if(!J(e))throw new f("view-selection-setto-not-selectable",this);this._setRanges(e,n&&n.backward),this._setFakeOptions(n)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new f("view-selection-setfocus-no-ranges",this);const o=cs._createAt(t,e);if("same"==o.compareWith(this.focus))return;const n=this.anchor;this._ranges.pop(),"before"==o.compareWith(n)?this._addRange(new hs(o,n),!0):this._addRange(new hs(n,o)),this.fire("change")}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const e of t)this._addRange(e);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof hs))throw new f("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new f("view-selection-range-intersects",this,{addedRange:t,intersectingRange:e});this._ranges.push(new hs(t.start,t.end))}}ps.prototype.is=function(t){return"selection"===t||"view:selection"===t};class ms extends(E(Yr)){constructor(...t){super(),this._selection=new ps,this._selection.delegate("change").to(this),t.length&&this._selection.setTo(...t)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}_setTo(...t){this._selection.setTo(...t)}_setFocus(t,e){this._selection.setFocus(t,e)}}ms.prototype.is=function(t){return"selection"===t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t};class gs extends h{constructor(t,e,o){super(t,e),this.startRange=o,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const bs=Symbol("bubbling contexts");function fs(t){return class extends t{fire(t,...e){try{const o=t instanceof h?t:new h(this,t),n=ys(this);if(!n.size)return;if(ws(o,"capturing",this),xs(n,"$capture",o,...e))return o.return;const r=o.startRange||this.selection.getFirstRange(),i=r?r.getContainedElement():null,s=!!i&&Boolean(ks(n,i));let l=i||function(t){if(!t)return null;const e=t.start.parent,o=t.end.parent,n=e.getPath(),r=o.getPath();return n.length>r.length?e:o}(r);if(ws(o,"atTarget",l),!s){if(xs(n,"$text",o,...e))return o.return;ws(o,"bubbling",l)}for(;l;){if(l.is("rootElement")){if(xs(n,"$root",o,...e))return o.return}else if(l.is("element")&&xs(n,l.name,o,...e))return o.return;if(xs(n,l,o,...e))return o.return;l=l.parent,ws(o,"bubbling",l)}return ws(o,"bubbling",this),xs(n,"$document",o,...e),o.return}catch(t){f.rethrowUnexpectedError(t,this)}}_addEventListener(t,e,o){const n=fr(o.context||"$document"),r=ys(this);for(const i of n){let n=r.get(i);n||(n=new(E()),r.set(i,n)),this.listenTo(n,t,e,o)}}_removeEventListener(t,e){const o=ys(this);for(const n of o.values())this.stopListening(n,t,e)}}}{const t=fs(Object);["fire","_addEventListener","_removeEventListener"].forEach((e=>{fs[e]=t.prototype[e]}))}function ws(t,e,o){t instanceof gs&&(t._eventPhase=e,t._currentTarget=o)}function xs(t,e,o,...n){const r="string"==typeof e?t.get(e):ks(t,e);return!!r&&(r.fire(o,...n),o.stop.called)}function ks(t,e){for(const[o,n]of t)if("function"==typeof o&&o(e))return n;return null}function ys(t){return t[bs]||(t[bs]=new Map),t[bs]}class vs extends(fs(K())){constructor(t){super(),this._postFixers=new Set,this.selection=new ms,this.roots=new vr({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.forEach((t=>t.destroy())),this.stopListening()}_callPostFixers(t){let e=!1;do{for(const o of this._postFixers)if(e=o(t),e)break}while(e)}}class _s extends os{constructor(t,e,o,n){super(t,e,o,n),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=As}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new f("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t=!1){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function As(){if(Cs(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(Cs(t)>1)return null;t=t.parent}return!t||Cs(t)>1?null:this.childCount}function Cs(t){return Array.from(t.getChildren()).filter((t=>!t.is("uiElement"))).length}_s.DEFAULT_PRIORITY=10,_s.prototype.is=function(t,e){return e?e===this.name&&("attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t):"attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class Ss extends os{constructor(t,e,o,n){super(t,e,o,n),this.getFillerOffset=Es}_insertChild(t,e){if(e&&(e instanceof Qr||Array.from(e).length>0))throw new f("view-emptyelement-cannot-add",[this,e]);return 0}}function Es(){return null}Ss.prototype.is=function(t,e){return e?e===this.name&&("emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t):"emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class Ms extends os{constructor(t,e,o,n){super(t,e,o,n),this.getFillerOffset=Ts}_insertChild(t,e){if(e&&(e instanceof Qr||Array.from(e).length>0))throw new f("view-uielement-cannot-add",[this,e]);return 0}render(t,e){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const t of this.getAttributeKeys())e.setAttribute(t,this.getAttribute(t));return e}}function Ds(t){t.document.on("arrowKey",((e,o)=>function(t,e,o){if(e.keyCode==hr.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),n=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(n||e.shiftKey){const e=t.focusNode,r=t.focusOffset,i=o.domPositionToView(e,r);if(null===i)return;let s=!1;const l=i.getLastMatchingPosition((t=>(t.item.is("uiElement")&&(s=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement")))));if(s){const e=o.viewPositionToDom(l);n?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}}(0,o,t.domConverter)),{priority:"low"})}function Ts(){return null}Ms.prototype.is=function(t,e){return e?e===this.name&&("uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t):"uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class Bs extends os{constructor(t,e,o,n){super(t,e,o,n),this.getFillerOffset=Ls}_insertChild(t,e){if(e&&(e instanceof Qr||Array.from(e).length>0))throw new f("view-rawelement-cannot-add",[this,e]);return 0}render(t,e){}}function Ls(){return null}Bs.prototype.is=function(t,e){return e?e===this.name&&("rawElement"===t||"view:rawElement"===t||"element"===t||"view:element"===t):"rawElement"===t||"view:rawElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t};class Ps extends(E(Yr)){constructor(t,e){super(),this._children=[],this._customProperties=new Map,this.document=t,e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let o=0;const n=function(t,e){if("string"==typeof e)return[new ti(t,e)];J(e)||(e=[e]);return Array.from(e).map((e=>"string"==typeof e?new ti(t,e):e instanceof ei?new ti(t,e.data):e))}(this.document,e);for(const e of n)null!==e.parent&&e._remove(),e.parent=this,this._children.splice(t,0,e),t++,o++;return o}_removeChildren(t,e=1){this._fireChange("children",this);for(let o=t;o<t+e;o++)this._children[o].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}Ps.prototype.is=function(t){return"documentFragment"===t||"view:documentFragment"===t};class Is{constructor(t){this._cloneGroups=new Map,this._slotFactory=null,this.document=t}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new Ps(this.document,t)}createText(t){return new ti(this.document,t)}createAttributeElement(t,e,o={}){const n=new _s(this.document,t,e);return"number"==typeof o.priority&&(n._priority=o.priority),o.id&&(n._id=o.id),o.renderUnsafeAttributes&&n._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),n}createContainerElement(t,e,o={},n={}){let r=null;yt(o)?n=o:r=o;const i=new rs(this.document,t,e,r);return n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createEditableElement(t,e,o={}){const n=new ss(this.document,t,e);return o.renderUnsafeAttributes&&n._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),n}createEmptyElement(t,e,o={}){const n=new Ss(this.document,t,e);return o.renderUnsafeAttributes&&n._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),n}createUIElement(t,e,o){const n=new Ms(this.document,t,e);return o&&(n.render=o),n}createRawElement(t,e,o,n={}){const r=new Bs(this.document,t,e);return o&&(r.render=o),n.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),r}setAttribute(t,e,o){o._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,o){yt(t)&&void 0===o?e._setStyle(t):o._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,o){o._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof cs?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new f("view-writer-break-non-container-element",this.document);if(!e.parent)throw new f("view-writer-break-root",this.document);if(t.isAtStart)return cs._createBefore(e);if(!t.isAtEnd){const o=e._clone(!1);this.insert(cs._createAfter(e),o);const n=new hs(t,cs._createAt(e,"end")),r=new cs(o,0);this.move(n,r)}return cs._createAfter(e)}mergeAttributes(t){const e=t.offset,o=t.parent;if(o.is("$text"))return t;if(o.is("attributeElement")&&0===o.childCount){const t=o.parent,e=o.index;return o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new cs(t,e))}const n=o.getChild(e-1),r=o.getChild(e);if(!n||!r)return t;if(n.is("$text")&&r.is("$text"))return Vs(n,r);if(n.is("attributeElement")&&r.is("attributeElement")&&n.isSimilar(r)){const t=n.childCount;return n._appendChild(r.getChildren()),r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new cs(n,t))}return t}mergeContainers(t){const e=t.nodeBefore,o=t.nodeAfter;if(!(e&&o&&e.is("containerElement")&&o.is("containerElement")))throw new f("view-writer-merge-containers-invalid-position",this.document);const n=e.getChild(e.childCount-1),r=n instanceof ti?cs._createAt(n,"end"):cs._createAt(e,"end");return this.move(hs._createIn(o),cs._createAt(e,"end")),this.remove(hs._createOn(o)),r}insert(t,e){$s(e=J(e)?[...e]:[e],this.document);const o=e.reduce(((t,e)=>{const o=t[t.length-1],n=!e.is("uiElement");return o&&o.breakAttributes==n?o.nodes.push(e):t.push({breakAttributes:n,nodes:[e]}),t}),[]);let n=null,r=t;for(const{nodes:t,breakAttributes:e}of o){const o=this._insertNodes(r,t,e);n||(n=o.start),r=o.end}return n?new hs(n,r):new hs(t)}remove(t){const e=t instanceof hs?t:hs._createOn(t);if(qs(e,this.document),e.isCollapsed)return new Ps(this.document);const{start:o,end:n}=this._breakAttributesRange(e,!0),r=o.parent,i=n.offset-o.offset,s=r._removeChildren(o.offset,i);for(const t of s)this._removeFromClonedElementsGroup(t);const l=this.mergeAttributes(o);return e.start=l,e.end=l.clone(),new Ps(this.document,s)}clear(t,e){qs(t,this.document);const o=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const n of o){const o=n.item;let r;if(o.is("element")&&e.isSimilar(o))r=hs._createOn(o);else if(!n.nextPosition.isAfter(t.start)&&o.is("$textProxy")){const t=o.getAncestors().find((t=>t.is("element")&&e.isSimilar(t)));t&&(r=hs._createIn(t))}r&&(r.end.isAfter(t.end)&&(r.end=t.end),r.start.isBefore(t.start)&&(r.start=t.start),this.remove(r))}}move(t,e){let o;if(e.isAfter(t.end)){const n=(e=this._breakAttributes(e,!0)).parent,r=n.childCount;t=this._breakAttributesRange(t,!0),o=this.remove(t),e.offset+=n.childCount-r}else o=this.remove(t);return this.insert(e,o)}wrap(t,e){if(!(e instanceof _s))throw new f("view-writer-wrap-invalid-attribute",this.document);if(qs(t,this.document),t.isCollapsed){let n=t.start;n.parent.is("element")&&(o=n.parent,!Array.from(o.getChildren()).some((t=>!t.is("uiElement"))))&&(n=n.getLastMatchingPosition((t=>t.item.is("uiElement")))),n=this._wrapPosition(n,e);const r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new hs(n)}return this._wrapRange(t,e);var o}unwrap(t,e){if(!(e instanceof _s))throw new f("view-writer-unwrap-invalid-attribute",this.document);if(qs(t,this.document),t.isCollapsed)return t;const{start:o,end:n}=this._breakAttributesRange(t,!0),r=o.parent,i=this._unwrapChildren(r,o.offset,n.offset,e),s=this.mergeAttributes(i.start);s.isEqual(i.start)||i.end.offset--;const l=this.mergeAttributes(i.end);return new hs(s,l)}rename(t,e){const o=new rs(this.document,t,e.getAttributes());return this.insert(cs._createAfter(e),o),this.move(hs._createIn(e),cs._createAt(o,0)),this.remove(hs._createOn(e)),o}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return cs._createAt(t,e)}createPositionAfter(t){return cs._createAfter(t)}createPositionBefore(t){return cs._createBefore(t)}createRange(t,e){return new hs(t,e)}createRangeOn(t){return hs._createOn(t)}createRangeIn(t){return hs._createIn(t)}createSelection(...t){return new ps(...t)}createSlot(t="children"){if(!this._slotFactory)throw new f("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,o){let n,r;if(n=o?zs(t):t.parent.is("$text")?t.parent.parent:t.parent,!n)throw new f("view-writer-invalid-position-container",this.document);r=o?this._breakAttributes(t,!0):t.parent.is("$text")?Os(t):t;const i=n._insertChild(r.offset,e);for(const t of e)this._addToClonedElementsGroup(t);const s=r.getShiftedBy(i),l=this.mergeAttributes(r);l.isEqual(r)||s.offset--;const a=this.mergeAttributes(s);return new hs(l,a)}_wrapChildren(t,e,o,n){let r=e;const i=[];for(;r<o;){const e=t.getChild(r),o=e.is("$text"),s=e.is("attributeElement");if(s&&this._wrapAttributeElement(n,e))i.push(new cs(t,r));else if(o||!s||Rs(n,e)){const o=n._clone();e._remove(),o._appendChild(e),t._insertChild(r,o),this._addToClonedElementsGroup(o),i.push(new cs(t,r))}else this._wrapChildren(e,0,e.childCount,n);r++}let s=0;for(const t of i){if(t.offset-=s,t.offset==e)continue;this.mergeAttributes(t).isEqual(t)||(s++,o--)}return hs._createFromParentsAndOffsets(t,e,t,o)}_unwrapChildren(t,e,o,n){let r=e;const i=[];for(;r<o;){const e=t.getChild(r);if(e.is("attributeElement"))if(e.isSimilar(n)){const n=e.getChildren(),s=e.childCount;e._remove(),t._insertChild(r,n),this._removeFromClonedElementsGroup(e),i.push(new cs(t,r),new cs(t,r+s)),r+=s,o+=s-1}else this._unwrapAttributeElement(n,e)?(i.push(new cs(t,r),new cs(t,r+1)),r++):(this._unwrapChildren(e,0,e.childCount,n),r++);else r++}let s=0;for(const t of i){if(t.offset-=s,t.offset==e||t.offset==o)continue;this.mergeAttributes(t).isEqual(t)||(s++,o--)}return hs._createFromParentsAndOffsets(t,e,t,o)}_wrapRange(t,e){const{start:o,end:n}=this._breakAttributesRange(t,!0),r=o.parent,i=this._wrapChildren(r,o.offset,n.offset,e),s=this.mergeAttributes(i.start);s.isEqual(i.start)||i.end.offset--;const l=this.mergeAttributes(i.end);return new hs(s,l)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return Fs(t.clone());t.parent.is("$text")&&(t=Os(t));const o=this.createAttributeElement("_wrapPosition-fake-element");o._priority=Number.POSITIVE_INFINITY,o.isSimilar=()=>!1,t.parent._insertChild(t.offset,o);const n=new hs(t,t.getShiftedBy(1));this.wrap(n,e);const r=new cs(o.parent,o.index);o._remove();const i=r.nodeBefore,s=r.nodeAfter;return i instanceof ti&&s instanceof ti?Vs(i,s):Fs(r)}_wrapAttributeElement(t,e){if(!Hs(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const o of t.getAttributeKeys())if("class"!==o&&"style"!==o&&e.hasAttribute(o)&&e.getAttribute(o)!==t.getAttribute(o))return!1;for(const o of t.getStyleNames())if(e.hasStyle(o)&&e.getStyle(o)!==t.getStyle(o))return!1;for(const o of t.getAttributeKeys())"class"!==o&&"style"!==o&&(e.hasAttribute(o)||this.setAttribute(o,t.getAttribute(o),e));for(const o of t.getStyleNames())e.hasStyle(o)||this.setStyle(o,t.getStyle(o),e);for(const o of t.getClassNames())e.hasClass(o)||this.addClass(o,e);return!0}_unwrapAttributeElement(t,e){if(!Hs(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const o of t.getAttributeKeys())if("class"!==o&&"style"!==o&&(!e.hasAttribute(o)||e.getAttribute(o)!==t.getAttribute(o)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const o of t.getStyleNames())if(!e.hasStyle(o)||e.getStyle(o)!==t.getStyle(o))return!1;for(const o of t.getAttributeKeys())"class"!==o&&"style"!==o&&this.removeAttribute(o,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const o=t.start,n=t.end;if(qs(t,this.document),t.isCollapsed){const o=this._breakAttributes(t.start,e);return new hs(o,o)}const r=this._breakAttributes(n,e),i=r.parent.childCount,s=this._breakAttributes(o,e);return r.offset+=r.parent.childCount-i,new hs(s,r)}_breakAttributes(t,e=!1){const o=t.offset,n=t.parent;if(t.parent.is("emptyElement"))throw new f("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new f("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new f("view-writer-cannot-break-raw-element",this.document);if(!e&&n.is("$text")&&Ks(n.parent))return t.clone();if(Ks(n))return t.clone();if(n.is("$text"))return this._breakAttributes(Os(t),e);if(o==n.childCount){const t=new cs(n.parent,n.index+1);return this._breakAttributes(t,e)}if(0===o){const t=new cs(n.parent,n.index);return this._breakAttributes(t,e)}{const t=n.index+1,r=n._clone();n.parent._insertChild(t,r),this._addToClonedElementsGroup(r);const i=n.childCount-o,s=n._removeChildren(o,i);r._appendChild(s);const l=new cs(n.parent,t);return this._breakAttributes(l,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const e of t.getChildren())this._addToClonedElementsGroup(e);const e=t.id;if(!e)return;let o=this._cloneGroups.get(e);o||(o=new Set,this._cloneGroups.set(e,o)),o.add(t),t._clonesGroup=o}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const e of t.getChildren())this._removeFromClonedElementsGroup(e);const e=t.id;if(!e)return;const o=this._cloneGroups.get(e);o&&o.delete(t)}}function zs(t){let e=t.parent;for(;!Ks(e);){if(!e)return;e=e.parent}return e}function Rs(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function Fs(t){const e=t.nodeBefore;if(e&&e.is("$text"))return new cs(e,e.data.length);const o=t.nodeAfter;return o&&o.is("$text")?new cs(o,0):t}function Os(t){if(t.offset==t.parent.data.length)return new cs(t.parent.parent,t.parent.index+1);if(0===t.offset)return new cs(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new ti(t.root.document,e)),new cs(t.parent.parent,t.parent.index+1)}function Vs(t,e){const o=t.data.length;return t._data+=e.data,e._remove(),new cs(t,o)}const Ns=[ti,_s,rs,Ss,Bs,Ms];function $s(t,e){for(const o of t){if(!Ns.some((t=>o instanceof t)))throw new f("view-writer-insert-invalid-node-type",e);o.is("$text")||$s(o.getChildren(),e)}}function Ks(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function qs(t,e){const o=zs(t.start),n=zs(t.end);if(!o||!n||o!==n)throw new f("view-writer-invalid-range-container",e)}function Hs(t,e){return null===t.id&&null===e.id}const js=t=>t.createTextNode(" "),Ws=t=>{const e=t.createElement("span");return e.dataset.ckeFiller="true",e.innerText=" ",e},Us=t=>{const e=t.createElement("br");return e.dataset.ckeFiller="true",e},Gs=7,Zs="⁠".repeat(Gs);function Js(t){return"string"==typeof t?t.substr(0,Gs)===Zs:Bn(t)&&t.data.substr(0,Gs)===Zs}function Ys(t){return t.data.length==Gs&&Js(t)}function Xs(t){const e="string"==typeof t?t:t.data;return Js(t)?e.slice(Gs):e}function Qs(t,e){if(e.keyCode==hr.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,o=t.getRangeAt(0).startOffset;Js(e)&&o<=Gs&&t.collapse(e,0)}}}var tl=o(5037),el={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(tl.Z,el);tl.Z.locals;class ol extends(K()){constructor(t,e){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=t,this.selection=e,this.set("isFocused",!1),this.set("isSelecting",!1),r.isBlink&&!r.isAndroid&&this.on("change:isSelecting",(()=>{this.isSelecting||this.render()})),this.set("isComposing",!1),this.on("change:isComposing",(()=>{this.isComposing||this.render()}))}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t){throw new f("view-renderer-unknown-type",this)}this.markedChildren.add(e)}}}render(){if(this.isComposing&&!r.isAndroid)return;let t=null;const e=!(r.isBlink&&!r.isAndroid)||!this.isSelecting;for(const t of this.markedChildren)this._updateChildrenMappings(t);e?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller),t&&t.parent.is("$text")&&(t=cs._createBefore(t.parent)));for(const t of this.markedAttributes)this._updateAttrs(t);for(const e of this.markedChildren)this._updateChildren(e,{inlineFillerPosition:t});for(const e of this.markedTexts)!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)&&this._updateText(e,{inlineFillerPosition:t});if(e)if(t){const e=this.domConverter.viewPositionToDom(t),o=e.parent.ownerDocument;Js(e.parent)?this._inlineFiller=e.parent:this._inlineFiller=nl(o,e.parent,e.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const o=Array.from(e.childNodes),n=Array.from(this.domConverter.viewChildrenToDom(t,{withChildren:!1})),r=this._diffNodeLists(o,n),i=this._findUpdateActions(r,o,n,rl);if(-1!==i.indexOf("update")){const e={equal:0,insert:0,delete:0};for(const r of i)if("update"===r){const r=e.equal+e.insert,i=e.equal+e.delete,s=t.getChild(r);!s||s.is("uiElement")||s.is("rawElement")||this._updateElementMappings(s,o[i]),Xn(n[r]),e.equal++}else e[r]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?cs._createBefore(t.parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&Bn(e.parent)&&Js(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!Js(t))throw new f("view-renderer-filler-was-lost",this);Ys(t)?t.remove():t.data=t.data.substr(Gs),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,o=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!function(t){if("false"==t.getAttribute("contenteditable"))return!1;const e=t.findAncestor((t=>t.hasAttribute("contenteditable")));return!e||"true"==e.getAttribute("contenteditable")}(e))return!1;if(o===e.getFillerOffset())return!1;const n=t.nodeBefore,i=t.nodeAfter;return!(n instanceof ti||i instanceof ti)&&(!r.isAndroid||!n&&!i)}_updateText(t,e){const o=this.domConverter.findCorrespondingDomText(t);let n=this.domConverter.viewToDom(t).data;const r=e.inlineFillerPosition;r&&r.parent==t.parent&&r.offset==t.index&&(n=Zs+n),ll(o,n)}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const o=Array.from(e.attributes).map((t=>t.name)),n=t.getAttributeKeys();for(const o of n)this.domConverter.setDomElementAttribute(e,o,t.getAttribute(o),t);for(const n of o)t.hasAttribute(n)||this.domConverter.removeDomElementAttribute(e,n)}_updateChildren(t,e){const o=this.domConverter.mapViewToDom(t);if(!o)return;if(r.isAndroid){let t=null;for(const e of Array.from(o.childNodes)){if(t&&Bn(t)&&Bn(e)){o.normalize();break}t=e}}const n=e.inlineFillerPosition,i=o.childNodes,s=Array.from(this.domConverter.viewChildrenToDom(t,{bind:!0}));n&&n.parent===t&&nl(o.ownerDocument,s,n.offset);const l=this._diffNodeLists(i,s),a=this._findUpdateActions(l,i,s,il);let d=0;const c=new Set;for(const t of a)"delete"===t?(c.add(i[d]),Xn(i[d])):"equal"!==t&&"update"!==t||d++;d=0;for(const t of a)"insert"===t?(jn(o,d,s[d]),d++):"update"===t?(ll(i[d],s[d].data),d++):"equal"===t&&(this._markDescendantTextToSync(this.domConverter.domToView(s[d])),d++);for(const t of c)t.parentNode||this.domConverter.unbindDomElement(t)}_diffNodeLists(t,e){return t=function(t,e){const o=Array.from(t);if(0==o.length||!e)return o;const n=o[o.length-1];n==e&&o.pop();return o}(t,this._fakeSelectionContainer),d(t,e,sl.bind(null,this.domConverter))}_findUpdateActions(t,e,o,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let r=[],i=[],s=[];const l={equal:0,insert:0,delete:0};for(const a of t)"insert"===a?s.push(o[l.equal+l.insert]):"delete"===a?i.push(e[l.equal+l.delete]):(r=r.concat(d(i,s,n).map((t=>"equal"===t?"update":t))),r.push("equal"),i=[],s=[]),l[a]++;return r.concat(d(i,s,n).map((t=>"equal"===t?"update":t)))}_markDescendantTextToSync(t){if(t)if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(r.isBlink&&!r.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(t)):this.isComposing&&r.isAndroid||this._updateDomSelection(t))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(t){const e=t.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}(e));const o=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(o,this.selection),!this._fakeSelectionNeedsUpdate(t))return;o.parentElement&&o.parentElement==t||t.appendChild(o),o.textContent=this.selection.fakeSelectionLabel||" ";const n=e.getSelection(),r=e.createRange();n.removeAllRanges(),r.selectNodeContents(o),n.addRange(r)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const o=this.domConverter.viewPositionToDom(this.selection.anchor),n=this.domConverter.viewPositionToDom(this.selection.focus);e.setBaseAndExtent(o.parent,o.offset,n.parent,n.offset),r.isGecko&&function(t,e){const o=t.parent;if(o.nodeType!=Node.ELEMENT_NODE||t.offset!=o.childNodes.length-1)return;const n=o.childNodes[t.offset];n&&"BR"==n.tagName&&e.addRange(e.getRangeAt(0))}(n,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return(!e||!this.selection.isEqual(e))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,o=t.ownerDocument.getSelection();return!e||e.parentElement!==t||(o.anchorNode!==e&&!e.contains(o.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel)}_removeDomSelection(){for(const t of this.domDocuments){const e=t.getSelection();if(e.rangeCount){const o=t.activeElement,n=this.domConverter.mapDomToView(o);o&&n&&e.removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function nl(t,e,o){const n=e instanceof Array?e:e.childNodes,r=n[o];if(Bn(r))return r.data=Zs+r.data,r;{const r=t.createTextNode(Zs);return Array.isArray(e)?n.splice(o,0,r):jn(e,o,r),r}}function rl(t,e){return _n(t)&&_n(e)&&!Bn(t)&&!Bn(e)&&!Wn(t)&&!Wn(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function il(t,e){return _n(t)&&_n(e)&&Bn(t)&&Bn(e)}function sl(t,e,o){return e===o||(Bn(e)&&Bn(o)?e.data===o.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(o)))}function ll(t,e){const o=t.data;if(o==e)return;const n=s(o,e);for(const e of n)"insert"===e.type?t.insertData(e.index,e.values.join("")):t.deleteData(e.index,e.howMany)}const al=Us(Tn.document),dl=js(Tn.document),cl=Ws(Tn.document),hl="data-ck-unsafe-attribute-",ul="data-ck-unsafe-element";class pl{constructor(t,{blockFillerMode:e,renderingMode:o="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new oi,this._inlineObjectElementMatcher=new oi,this._elementsWithTemporaryCustomProperties=new Set,this.document=t,this.renderingMode=o,this.blockFillerMode=e||("editing"===o?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?Tn.document:Tn.document.implementation.createHTMLDocument("")}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new ps(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of Array.from(t.children))this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,o){return"data"===this.renderingMode||!(t=t.toLowerCase()).startsWith("on")&&(("srcdoc"!==t||!e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===o&&("src"===t||"srcset"===t)||("source"===o&&"srcset"===t||!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))))}setContentOf(t,e){if("data"===this.renderingMode)return void(t.innerHTML=e);const o=(new DOMParser).parseFromString(e,"text/html"),n=o.createDocumentFragment(),r=o.body.childNodes;for(;r.length>0;)n.appendChild(r[0]);const i=o.createTreeWalker(n,NodeFilter.SHOW_ELEMENT),s=[];let l;for(;l=i.nextNode();)s.push(l);for(const t of s){for(const e of t.getAttributeNames())this.setDomElementAttribute(t,e,t.getAttribute(e));const e=t.tagName.toLowerCase();this._shouldRenameElement(e)&&(fl(e),t.replaceWith(this._createReplacementDomElement(e,t)))}for(;t.firstChild;)t.firstChild.remove();t.append(n)}viewToDom(t,e={}){if(t.is("$text")){const e=this._processDataFromViewText(t);return this._domDocument.createTextNode(e)}{const o=t;if(this.mapViewToDom(o)){if(!o.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(o);this._elementsWithTemporaryCustomProperties.add(o)}let n;if(o.is("documentFragment"))n=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(n,o);else{if(o.is("uiElement"))return n="$comment"===o.name?this._domDocument.createComment(o.getCustomProperty("$rawContent")):o.render(this._domDocument,this),e.bind&&this.bindElements(n,o),n;this._shouldRenameElement(o.name)?(fl(o.name),n=this._createReplacementDomElement(o.name)):n=o.hasAttribute("xmlns")?this._domDocument.createElementNS(o.getAttribute("xmlns"),o.name):this._domDocument.createElement(o.name),o.is("rawElement")&&o.render(n,this),e.bind&&this.bindElements(n,o);for(const t of o.getAttributeKeys())this.setDomElementAttribute(n,t,o.getAttribute(t),o)}if(!1!==e.withChildren)for(const t of this.viewChildrenToDom(o,e))n.appendChild(t);return n}}setDomElementAttribute(t,e,o,n){const r=this.shouldRenderAttribute(e,o,t.tagName.toLowerCase())||n&&n.shouldRenderUnsafeAttribute(e);r||w("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:o}),Un(e)?(t.hasAttribute(e)&&!r?t.removeAttribute(e):t.hasAttribute(hl+e)&&r&&t.removeAttribute(hl+e),t.setAttribute(r?e:hl+e,o)):w("domconverter-invalid-attribute-detected",{domElement:t,key:e,value:o})}removeDomElementAttribute(t,e){e!=ul&&(t.removeAttribute(e),t.removeAttribute(hl+e))}*viewChildrenToDom(t,e={}){const o=t.getFillerOffset&&t.getFillerOffset();let n=0;for(const r of t.getChildren()){o===n&&(yield this._getBlockFiller());const t=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!_r(r.getAttributes());t&&"data"==this.renderingMode?yield*this.viewChildrenToDom(r,e):(t&&w("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield this.viewToDom(r,e)),n++}o===n&&(yield this._getBlockFiller())}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),o=this.viewPositionToDom(t.end),n=this._domDocument.createRange();return n.setStart(e.parent,e.offset),n.setEnd(o.parent,o.offset),n}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const o=this.findCorrespondingDomText(e);if(!o)return null;let n=t.offset;return Js(o)&&(n+=Gs),{parent:o,offset:n}}{let o,n,r;if(0===t.offset){if(o=this.mapViewToDom(e),!o)return null;r=o.childNodes[0]}else{const e=t.nodeBefore;if(n=e.is("$text")?this.findCorrespondingDomText(e):this.mapViewToDom(e),!n)return null;o=n.parentNode,r=n.nextSibling}if(Bn(r)&&Js(r))return{parent:r,offset:Gs};return{parent:o,offset:n?Hn(n)+1:0}}}domToView(t,e={}){const o=[],n=this._domToView(t,e,o),r=n.next().value;return r?(n.next(),this._processDomInlineNodes(null,o,e),r.is("$text")&&0==r.data.length?null:r):null}*domChildrenToView(t,e={},o=[]){for(let n=0;n<t.childNodes.length;n++){const r=t.childNodes[n],i=this._domToView(r,e,o),s=i.next().value;null!==s&&(this._isBlockViewElement(s)&&this._processDomInlineNodes(t,o,e),yield s,i.next())}this._processDomInlineNodes(t,o,e)}domSelectionToView(t){if(function(t){if(!r.isGecko)return!1;if(!t.rangeCount)return!1;const e=t.getRangeAt(0).startContainer;try{Object.prototype.toString.call(e)}catch(t){return!0}return!1}(t))return new ps([]);if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;Bn(e)&&(e=e.parentNode);const o=this.fakeSelectionToView(e);if(o)return o}const e=this.isDomSelectionBackward(t),o=[];for(let e=0;e<t.rangeCount;e++){const n=t.getRangeAt(e),r=this.domRangeToView(n);r&&o.push(r)}return new ps(o,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),o=this.domPositionToView(t.endContainer,t.endOffset);return e&&o?new hs(e,o):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,Hn(t));const o=this.mapDomToView(t);if(o&&(o.is("uiElement")||o.is("rawElement")))return cs._createBefore(o);if(Bn(t)){if(Ys(t))return this.domPositionToView(t.parentNode,Hn(t));const o=this.findCorrespondingViewText(t);let n=e;return o?(Js(t)&&(n-=Gs,n=n<0?0:n),new cs(o,n)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new cs(e,0)}else{const o=t.childNodes[e-1];if(Bn(o)&&Ys(o)||o&&this.isBlockFiller(o))return this.domPositionToView(o.parentNode,Hn(o));const n=Bn(o)?this.findCorrespondingViewText(o):this.mapDomToView(o);if(n&&n.parent)return new cs(n.parent,n.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Ys(t))return null;const e=this.getHostViewElement(t);if(e)return e;const o=t.previousSibling;if(o){if(!this.isElement(o))return null;const t=this.mapDomToView(o);if(t){const e=t.nextSibling;return e instanceof ti?e:null}}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof ti?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:o}=Tn.window,n=[];gl(e,(t=>{const{scrollLeft:e,scrollTop:o}=t;n.push([e,o])})),e.focus(),gl(e,(t=>{const[e,o]=n.shift();t.scrollLeft=e,t.scrollTop=o})),Tn.window.scrollTo(t,o)}}_clearDomSelection(){const t=this.mapViewToDom(this.document.selection.editableElement);if(!t)return;const e=t.ownerDocument.defaultView.getSelection(),o=this.domSelectionToView(e);o&&o.rangeCount>0&&e.removeAllRanges()}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return"br"==this.blockFillerMode?t.isEqualNode(al):!("BR"!==t.tagName||!bl(t,this.blockElements)||1!==t.parentNode.childNodes.length)||(t.isEqualNode(cl)||function(t,e){const o=t.isEqualNode(dl);return o&&bl(t,e)&&1===t.parentNode.childNodes.length}(t,this.blockElements))}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset)}catch(t){return!1}const o=e.collapsed;return e.detach(),o}getHostViewElement(t){const e=function(t){const e=[];let o=t;for(;o&&o.nodeType!=Node.DOCUMENT_NODE;)e.unshift(o),o=o.parentNode;return e}(t);for(e.pop();e.length;){const t=e.pop(),o=this._domToViewMapping.get(t);if(o&&(o.is("uiElement")||o.is("rawElement")))return o}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}registerInlineObjectMatcher(t){this._inlineObjectElementMatcher.add(t)}_clearTemporaryCustomProperties(){for(const t of this._elementsWithTemporaryCustomProperties)t._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return js(this._domDocument);case"markedNbsp":return Ws(this._domDocument);case"br":return Us(this._domDocument)}}_isDomSelectionPositionCorrect(t,e){if(Bn(t)&&Js(t)&&e<Gs)return!1;if(this.isElement(t)&&Js(t.childNodes[e]))return!1;const o=this.mapDomToView(t);return!o||!o.is("uiElement")&&!o.is("rawElement")}*_domToView(t,e,o){if(this.isBlockFiller(t))return null;const n=this.getHostViewElement(t);if(n)return n;if(Wn(t)&&e.skipComments)return null;if(Bn(t)){if(Ys(t))return null;{const e=t.data;if(""===e)return null;const n=new ti(this.document,e);return o.push(n),n}}{let n=this.mapDomToView(t);if(n)return this._isInlineObjectElement(n)&&o.push(n),n;if(this.isDocumentFragment(t))n=new Ps(this.document),e.bind&&this.bindDocumentFragments(t,n);else{n=this._createViewElement(t,e),e.bind&&this.bindElements(t,n);const r=t.attributes;if(r)for(let t=r.length,e=0;e<t;e++)n._setAttribute(r[e].name,r[e].value);if(this._isViewElementWithRawContent(n,e))return n._setCustomProperty("$rawContent",t.innerHTML),this._isBlockViewElement(n)||o.push(n),n;if(Wn(t))return n._setCustomProperty("$rawContent",t.data),n}yield n;const r=[];if(!1!==e.withChildren)for(const o of this.domChildrenToView(t,e,r))n._appendChild(o);if(this._isInlineObjectElement(n))o.push(n);else for(const t of r)o.push(t)}}_processDomInlineNodes(t,e,o){if(!e.length)return;if(t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t))return;let n=!1;for(let t=0;t<e.length;t++){const r=e[t];if(!r.is("$text")){n=!1;continue}let i,s=!1;if(ml(r,this.preElements))i=Xs(r.data);else{i=r.data.replace(/[ \n\t\r]{1,}/g," "),s=/[^\S\u00A0]/.test(i.charAt(i.length-1));const l=t>0?e[t-1]:null,a=t+1<e.length?e[t+1]:null,d=!l||l.is("element")&&"br"==l.name||n,c=!a&&!Js(r.data);!1!==o.withChildren&&(d&&(i=i.replace(/^ /,"")),c&&(i=i.replace(/ $/,""))),i=Xs(i),i=i.replace(/ \u00A0/g,"  ");const h=a&&a.is("element")&&"br"!=a.name,u=a&&a.is("$text")&&" "==a.data.charAt(0);(/[ \u00A0]\u00A0$/.test(i)||!a||h||u)&&(i=i.replace(/\u00A0$/," ")),(d||l&&l.is("element")&&"br"!=l.name)&&(i=i.replace(/^\u00A0/," "))}0==i.length&&r.parent?(r._remove(),e.splice(t,1),t--):(r._data=i,n=s)}e.length=0}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some((t=>this.preElements.includes(t.name))))return e;if(" "==e.charAt(0)){const o=this._getTouchingInlineViewNode(t,!1);!(o&&o.is("$textProxy")&&this._nodeEndsWithSpace(o))&&o||(e=" "+e.substr(1))}if(" "==e.charAt(e.length-1)){const o=this._getTouchingInlineViewNode(t,!0),n=o&&o.is("$textProxy")&&" "==o.data.charAt(0);" "!=e.charAt(e.length-2)&&o&&!n||(e=e.substr(0,e.length-1)+" ")}return e.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(t.getAncestors().some((t=>this.preElements.includes(t.name))))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_getTouchingInlineViewNode(t,e){const o=new ds({startPosition:e?cs._createAfter(t):cs._createBefore(t),direction:e?"forward":"backward"});for(const t of o){if(t.item.is("element","br"))return null;if(this._isInlineObjectElement(t.item))return t.item;if(t.item.is("containerElement"))return null;if(t.item.is("$textProxy"))return t.item}return null}_isBlockDomElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isBlockViewElement(t){return t.is("element")&&this.blockElements.includes(t.name)}_isInlineObjectElement(t){return!!t.is("element")&&("br"==t.name||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t))}_createViewElement(t,e){if(Wn(t))return new Ms(this.document,"$comment");const o=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new os(this.document,o)}_isViewElementWithRawContent(t,e){return!1!==e.withChildren&&t.is("element")&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(e)}_createReplacementDomElement(t,e){const o=this._domDocument.createElement("span");if(o.setAttribute(ul,t),e){for(;e.firstChild;)o.appendChild(e.firstChild);for(const t of e.getAttributeNames())o.setAttribute(t,e.getAttribute(t))}return o}}function ml(t,e){return t.getAncestors().some((t=>t.is("element")&&e.includes(t.name)))}function gl(t,e){let o=t;for(;o;)e(o),o=o.parentElement}function bl(t,e){const o=t.parentNode;return!!o&&!!o.tagName&&e.includes(o.tagName.toLowerCase())}function fl(t){"script"===t&&w("domconverter-unsafe-script-element-detected"),"style"===t&&w("domconverter-unsafe-style-element-detected")}class wl extends(Sn()){constructor(t){super(),this._isEnabled=!1,this.view=t,this.document=t.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&3===t.nodeType&&(t=t.parentNode),!(!t||1!==t.nodeType)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const xl=Gi((function(t,e){Ce(e,ao(e),t)}));class kl{constructor(t,e,o){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,xl(this,o)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class yl extends wl{constructor(){super(...arguments),this.useCapture=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((e=>{this.listenTo(t,e,((t,e)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(e.target)&&this.onDomEvent(e)}),{useCapture:this.useCapture})}))}stopObserving(t){this.stopListening(t)}fire(t,e,o){this.isEnabled&&this.document.fire(t,new kl(this.view,e,o))}}class vl extends yl{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(t){const e={keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return pr(this)}};this.fire(t.type,t,e)}}const _l=function(){return Q.Date.now()};var Al=/\s/;const Cl=function(t){for(var e=t.length;e--&&Al.test(t.charAt(e)););return e};var Sl=/^\s+/;const El=function(t){return t?t.slice(0,Cl(t)+1).replace(Sl,""):t};var Ml=/^[-+]0x[0-9a-f]+$/i,Dl=/^0b[01]+$/i,Tl=/^0o[0-7]+$/i,Bl=parseInt;const Ll=function(t){if("number"==typeof t)return t;if(ii(t))return NaN;if(z(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=z(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=El(t);var o=Dl.test(t);return o||Tl.test(t)?Bl(t.slice(2),o?2:8):Ml.test(t)?NaN:+t};var Pl=Math.max,Il=Math.min;const zl=function(t,e,o){var n,r,i,s,l,a,d=0,c=!1,h=!1,u=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var o=n,i=r;return n=r=void 0,d=e,s=t.apply(i,o)}function m(t){var o=t-a;return void 0===a||o>=e||o<0||h&&t-d>=i}function g(){var t=_l();if(m(t))return b(t);l=setTimeout(g,function(t){var o=e-(t-a);return h?Il(o,i-(t-d)):o}(t))}function b(t){return l=void 0,u&&n?p(t):(n=r=void 0,s)}function f(){var t=_l(),o=m(t);if(n=arguments,r=this,a=t,o){if(void 0===l)return function(t){return d=t,l=setTimeout(g,e),c?p(t):s}(a);if(h)return clearTimeout(l),l=setTimeout(g,e),p(a)}return void 0===l&&(l=setTimeout(g,e)),s}return e=Ll(e)||0,z(o)&&(c=!!o.leading,i=(h="maxWait"in o)?Pl(Ll(o.maxWait)||0,e):i,u="trailing"in o?!!o.trailing:u),f.cancel=function(){void 0!==l&&clearTimeout(l),d=0,n=a=r=l=void 0},f.flush=function(){return void 0===l?s:b(_l())},f};class Rl extends wl{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=zl((t=>{this.document.fire("selectionChangeDone",t)}),200)}observe(){const t=this.document;t.on("arrowKey",((e,o)=>{t.selection.isFake&&this.isEnabled&&o.preventDefault()}),{context:"$capture"}),t.on("arrowKey",((e,o)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(o.keyCode)}),{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,o=new ps(e.getRanges(),{backward:e.isBackward,fake:!1});t!=hr.arrowleft&&t!=hr.arrowup||o.setTo(o.getFirstPosition()),t!=hr.arrowright&&t!=hr.arrowdown||o.setTo(o.getLastPosition());const n={oldSelection:e,newSelection:o,domSelection:null};this.document.fire("selectionChange",n),this._fireSelectionChangeDoneDebounced(n)}}const Fl=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};const Ol=function(t){return this.__data__.has(t)};function Vl(t){var e=-1,o=null==t?0:t.length;for(this.__data__=new be;++e<o;)this.add(t[e])}Vl.prototype.add=Vl.prototype.push=Fl,Vl.prototype.has=Ol;const Nl=Vl;const $l=function(t,e){for(var o=-1,n=null==t?0:t.length;++o<n;)if(e(t[o],o,t))return!0;return!1};const Kl=function(t,e){return t.has(e)};const ql=function(t,e,o,n,r,i){var s=1&o,l=t.length,a=e.length;if(l!=a&&!(s&&a>l))return!1;var d=i.get(t),c=i.get(e);if(d&&c)return d==e&&c==t;var h=-1,u=!0,p=2&o?new Nl:void 0;for(i.set(t,e),i.set(e,t);++h<l;){var m=t[h],g=e[h];if(n)var b=s?n(g,m,h,e,t,i):n(m,g,h,t,e,i);if(void 0!==b){if(b)continue;u=!1;break}if(p){if(!$l(e,(function(t,e){if(!Kl(p,e)&&(m===t||r(m,t,o,n,i)))return p.push(e)}))){u=!1;break}}else if(m!==g&&!r(m,g,o,n,i)){u=!1;break}}return i.delete(t),i.delete(e),u};const Hl=function(t){var e=-1,o=Array(t.size);return t.forEach((function(t,n){o[++e]=[n,t]})),o};const jl=function(t){var e=-1,o=Array(t.size);return t.forEach((function(t){o[++e]=t})),o};var Wl=tt?tt.prototype:void 0,Ul=Wl?Wl.valueOf:void 0;const Gl=function(t,e,o,n,r,i,s){switch(o){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Uo(t),new Uo(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _t(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var l=Hl;case"[object Set]":var a=1&n;if(l||(l=jl),t.size!=e.size&&!a)return!1;var d=s.get(t);if(d)return d==e;n|=2,s.set(t,e);var c=ql(l(t),l(e),n,r,i,s);return s.delete(t),c;case"[object Symbol]":if(Ul)return Ul.call(t)==Ul.call(e)}return!1};var Zl=Object.prototype.hasOwnProperty;const Jl=function(t,e,o,n,r,i){var s=1&o,l=Eo(t),a=l.length;if(a!=Eo(e).length&&!s)return!1;for(var d=a;d--;){var c=l[d];if(!(s?c in e:Zl.call(e,c)))return!1}var h=i.get(t),u=i.get(e);if(h&&u)return h==e&&u==t;var p=!0;i.set(t,e),i.set(e,t);for(var m=s;++d<a;){var g=t[c=l[d]],b=e[c];if(n)var f=s?n(b,g,c,e,t,i):n(g,b,c,t,e,i);if(!(void 0===f?g===b||r(g,b,o,n,i):f)){p=!1;break}m||(m="constructor"==c)}if(p&&!m){var w=t.constructor,x=e.constructor;w==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(p=!1)}return i.delete(t),i.delete(e),p};var Yl="[object Arguments]",Xl="[object Array]",Ql="[object Object]",ta=Object.prototype.hasOwnProperty;const ea=function(t,e,o,n,r,i){var s=ct(t),l=ct(e),a=s?Xl:Ho(t),d=l?Xl:Ho(e),c=(a=a==Yl?Ql:a)==Ql,h=(d=d==Yl?Ql:d)==Ql,u=a==d;if(u&&Re(t)){if(!Re(e))return!1;s=!0,c=!1}if(u&&!c)return i||(i=new xe),s||Ge(t)?ql(t,e,o,n,r,i):Gl(t,e,a,o,n,r,i);if(!(1&o)){var p=c&&ta.call(t,"__wrapped__"),m=h&&ta.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,b=m?e.value():e;return i||(i=new xe),r(g,b,o,n,i)}}return!!u&&(i||(i=new xe),Jl(t,e,o,n,r,i))};const oa=function t(e,o,n,r,i){return e===o||(null==e||null==o||!ht(e)&&!ht(o)?e!=e&&o!=o:ea(e,o,n,r,t,i))};const na=function(t,e,o){var n=(o="function"==typeof o?o:void 0)?o(t,e):void 0;return void 0===n?oa(t,e,void 0,o):!!n};class ra extends wl{constructor(t){super(t),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.add(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}stopObserving(t){if(this._domElements.delete(t),this.isEnabled){this._mutationObserver.disconnect();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,o=new Set,n=new Set;for(const o of t){const t=e.mapDomToView(o.target);t&&(t.is("uiElement")||t.is("rawElement")||"childList"!==o.type||this._isBogusBrMutation(o)||n.add(t))}for(const r of t){const t=e.mapDomToView(r.target);if((!t||!t.is("uiElement")&&!t.is("rawElement"))&&"characterData"===r.type){const t=e.findCorrespondingViewText(r.target);t&&!n.has(t.parent)?o.add(t):!t&&Js(r.target)&&n.add(e.mapDomToView(r.target.parentNode))}}let r=!1;for(const t of o)r=!0,this.renderer.markToSync("text",t);for(const t of n){const o=e.mapViewToDom(t),n=Array.from(t.getChildren()),i=Array.from(e.domChildrenToView(o,{withChildren:!1}));na(n,i,ia)||(r=!0,this.renderer.markToSync("children",t))}r&&this.view.forceRender()}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}function ia(t,e){if(!Array.isArray(t))return t===e||!(!t.is("$text")||!e.is("$text"))&&t.data===e.data}class sa extends yl{constructor(t){super(t),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",(()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout((()=>{this.flush(),t.change((()=>{}))}),50)})),e.on("blur",((o,n)=>{const r=e.selection.editableElement;null!==r&&r!==n.target||(e.isFocused=!1,this._isFocusChanging=!1,t.change((()=>{})))}))}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class la extends wl{constructor(t){super(t),this.mutationObserver=t.getObserver(ra),this.focusObserver=t.getObserver(sa),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=zl((t=>{this.document.fire("selectionChangeDone",t)}),200),this._clearInfiniteLoopInterval=setInterval((()=>this._clearInfiniteLoop()),1e3),this._documentIsSelectingInactivityTimeoutDebounced=zl((()=>this.document.isSelecting=!1),5e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument,o=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,e),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(t,"selectstart",(()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()}),{priority:"highest"}),this.listenTo(t,"keydown",o,{priority:"highest",useCapture:!0}),this.listenTo(t,"keyup",o,{priority:"highest",useCapture:!0}),this._documents.has(e)||(this.listenTo(e,"mouseup",o,{priority:"highest",useCapture:!0}),this.listenTo(e,"selectionchange",((t,o)=>{this.document.isComposing&&!r.isAndroid||(this._handleSelectionChange(o,e),this._documentIsSelectingInactivityTimeoutDebounced())})),this._documents.add(e))}stopObserving(t){this.stopListening(t)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(t,e){if(!this.isEnabled)return;const o=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(o.anchorNode))return;this.mutationObserver.flush();const n=this.domConverter.domSelectionToView(o);if(0!=n.rangeCount){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(n)||!this.domConverter.isDomSelectionCorrect(o))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(n))this.view.forceRender();else{const t={oldSelection:this.selection,newSelection:n,domSelection:o};this.document.fire("selectionChange",t),this._fireSelectionChangeDoneDebounced(t)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class aa extends yl{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",(()=>{e.isComposing=!0}),{priority:"low"}),e.on("compositionend",(()=>{e.isComposing=!1}),{priority:"low"})}onDomEvent(t){this.fire(t.type,t,{data:t.data})}}class da{constructor(t,e={}){this._files=e.cacheFiles?ca(t):null,this._native=t}get files(){return this._files||(this._files=ca(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}setDragImage(t,e,o){this._native.setDragImage(t,e,o)}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}function ca(t){const e=Array.from(t.files||[]),o=Array.from(t.items||[]);return e.length?e:o.filter((t=>"file"===t.kind)).map((t=>t.getAsFile()))}class ha extends yl{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(t){const e=t.getTargetRanges(),o=this.view,n=o.document;let i=null,s=null,l=[];if(t.dataTransfer&&(i=new da(t.dataTransfer)),null!==t.data?s=t.data:i&&(s=i.getData("text/plain")),n.selection.isFake)l=Array.from(n.selection.getRanges());else if(e.length)l=e.map((t=>{const e=o.domConverter.domPositionToView(t.startContainer,t.startOffset),n=o.domConverter.domPositionToView(t.endContainer,t.endOffset);return e?o.createRange(e,n):n?o.createRange(n):void 0})).filter((t=>!!t));else if(r.isAndroid){const e=t.target.ownerDocument.defaultView.getSelection();l=Array.from(o.domConverter.domSelectionToView(e).getRanges())}if(r.isAndroid&&"insertCompositionText"==t.inputType&&s&&s.endsWith("\n"))this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:[o.createRange(l[0].end)]});else if("insertText"==t.inputType&&s&&s.includes("\n")){const e=s.split(/\n{1,2}/g);let o=l;for(let r=0;r<e.length;r++){const s=e[r];""!=s&&(this.fire(t.type,t,{data:s,dataTransfer:i,targetRanges:o,inputType:t.inputType,isComposing:t.isComposing}),o=[n.selection.getFirstRange()]),r+1<e.length&&(this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:o}),o=[n.selection.getFirstRange()])}}else this.fire(t.type,t,{data:s,dataTransfer:i,targetRanges:l,inputType:t.inputType,isComposing:t.isComposing})}}class ua extends wl{constructor(t){super(t),this.document.on("keydown",((t,e)=>{if(this.isEnabled&&((o=e.keyCode)==hr.arrowright||o==hr.arrowleft||o==hr.arrowup||o==hr.arrowdown)){const o=new gs(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(o,e),o.stop.called&&t.stop()}var o}))}observe(){}stopObserving(){}}class pa extends wl{constructor(t){super(t);const e=this.document;e.on("keydown",((t,o)=>{if(!this.isEnabled||o.keyCode!=hr.tab||o.ctrlKey)return;const n=new gs(e,"tab",e.selection.getFirstRange());e.fire(n,o),n.stop.called&&t.stop()}))}observe(){}stopObserving(){}}const ma=function(t){return fn(t,5)};class ga extends(K()){constructor(t){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new vs(t),this.domConverter=new pl(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new ol(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Is(this.document),this.addObserver(ra),this.addObserver(sa),this.addObserver(la),this.addObserver(vl),this.addObserver(Rl),this.addObserver(aa),this.addObserver(ua),this.addObserver(ha),this.addObserver(pa),this.document.on("arrowKey",Qs,{priority:"low"}),Ds(this),this.on("render",(()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(()=>{this._hasChangedSinceTheLastRendering=!0})),this.listenTo(this.document,"change:isFocused",(()=>{this._hasChangedSinceTheLastRendering=!0})),r.isiOS&&this.listenTo(this.document,"blur",((t,e)=>{this.domConverter.mapDomToView(e.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}))}attachDomRoot(t,e="main"){const o=this.document.getRoot(e);o._name=t.tagName.toLowerCase();const n={};for(const{name:e,value:r}of Array.from(t.attributes))n[e]=r,"class"===e?this._writer.addClass(r.split(" "),o):this._writer.setAttribute(e,r,o);this._initialDomRootAttributes.set(t,n);const r=()=>{this._writer.setAttribute("contenteditable",(!o.isReadOnly).toString(),o),o.isReadOnly?this._writer.addClass("ck-read-only",o):this._writer.removeClass("ck-read-only",o)};r(),this.domRoots.set(e,t),this.domConverter.bindElements(t,o),this._renderer.markToSync("children",o),this._renderer.markToSync("attributes",o),this._renderer.domDocuments.add(t.ownerDocument),o.on("change:children",((t,e)=>this._renderer.markToSync("children",e))),o.on("change:attributes",((t,e)=>this._renderer.markToSync("attributes",e))),o.on("change:text",((t,e)=>this._renderer.markToSync("text",e))),o.on("change:isReadOnly",(()=>this.change(r))),o.on("change",(()=>{this._hasChangedSinceTheLastRendering=!0}));for(const o of this._observers.values())o.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach((({name:t})=>e.removeAttribute(t)));const o=this._initialDomRootAttributes.get(e);for(const t in o)e.setAttribute(t,o[t]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e);for(const t of this._observers.values())t.stopObserving(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[t,o]of this.domRoots)e.observe(o,t);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection({alignToTop:t,forceScroll:e,viewportOffset:o=20,ancestorOffset:n=20}={}){const r=this.document.selection.getFirstRange();if(!r)return;const i=ma({alignToTop:t,forceScroll:e,viewportOffset:o,ancestorOffset:n});"number"==typeof o&&(o={top:o,bottom:o,left:o,right:o});const s={target:this.domConverter.viewRangeToDom(r),viewportOffset:o,ancestorOffset:n,alignToTop:t,forceScroll:e};this.fire("scrollToTheSelection",s,i),Qn(s)}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new f("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(t){f.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(sa).flush(),this.change((()=>{}))}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return cs._createAt(t,e)}createPositionAfter(t){return cs._createAfter(t)}createPositionBefore(t){return cs._createBefore(t)}createRange(t,e){return new hs(t,e)}createRangeOn(t){return hs._createOn(t)}createRangeIn(t){return hs._createIn(t)}createSelection(...t){return new ps(...t)}_disableRendering(t){this._renderingDisabled=t,0==t&&this.change((()=>{}))}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class ba{is(){throw new Error("is() method is abstract")}}class fa extends ba{constructor(t){super(),this.parent=null,this._attrs=Sr(t)}get document(){return null}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new f("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new f("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return null!==this.parent&&this.root.isAttached()}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={}){const e=[];let o=t.includeSelf?this:this.parent;for(;o;)e[t.parentFirst?"push":"unshift"](o),o=o.parent;return e}getCommonAncestor(t,e={}){const o=this.getAncestors(e),n=t.getAncestors(e);let r=0;for(;o[r]==n[r]&&o[r];)r++;return 0===r?null:o[r-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),o=t.getPath(),n=Z(e,o);switch(n){case"prefix":return!0;case"extension":return!1;default:return e[n]<o[n]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce(((t,e)=>(t[e[0]]=e[1],t)),{})),t}_clone(t){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=Sr(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}fa.prototype.is=function(t){return"node"===t||"model:node"===t};class wa{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce(((t,e)=>t+e.offsetSize),0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce(((t,e)=>t+e.offsetSize),0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new f("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const o of this._nodes){if(t>=e&&t<e+o.offsetSize)return this.getNodeIndex(o);e+=o.offsetSize}if(e!=t)throw new f("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const t of e)if(!(t instanceof fa))throw new f("model-nodelist-insertnodes-not-node",this);this._nodes=function(t,e,o,n){if(Math.max(e.length,t.length)>1e4)return t.slice(0,o).concat(e).concat(t.slice(o+n,t.length));{const r=Array.from(t);return r.splice(o,n,...e),r}}(this._nodes,Array.from(e),t,0)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map((t=>t.toJSON()))}}class xa extends fa{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new xa(this.data,this.getAttributes())}static fromJSON(t){return new xa(t.data,t.attributes)}}xa.prototype.is=function(t){return"$text"===t||"model:$text"===t||"text"===t||"model:text"===t||"node"===t||"model:node"===t};class ka extends ba{constructor(t,e,o){if(super(),this.textNode=t,e<0||e>t.offsetSize)throw new f("model-textproxy-wrong-offsetintext",this);if(o<0||e+o>t.offsetSize)throw new f("model-textproxy-wrong-length",this);this.data=t.data.substring(e,e+o),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={}){const e=[];let o=t.includeSelf?this:this.parent;for(;o;)e[t.parentFirst?"push":"unshift"](o),o=o.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}ka.prototype.is=function(t){return"$textProxy"===t||"model:$textProxy"===t||"textProxy"===t||"model:textProxy"===t};class ya extends fa{constructor(t,e,o){super(e),this._children=new wa,this.name=t,o&&this._insertChild(0,o)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const o of t)e=e.getChild(e.offsetToIndex(o));return e}findAncestor(t,e={}){let o=e.includeSelf?this:this.parent;for(;o;){if(o.name===t)return o;o=o.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map((t=>t._clone(!0))):void 0;return new ya(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const o=function(t){if("string"==typeof t)return[new xa(t)];J(t)||(t=[t]);return Array.from(t).map((t=>"string"==typeof t?new xa(t):t instanceof ka?new xa(t.data,t.getAttributes()):t))}(e);for(const t of o)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,o)}_removeChildren(t,e=1){const o=this._children._removeNodes(t,e);for(const t of o)t.parent=null;return o}static fromJSON(t){let e;if(t.children){e=[];for(const o of t.children)o.name?e.push(ya.fromJSON(o)):e.push(xa.fromJSON(o))}return new ya(t.name,t.attributes,e)}}ya.prototype.is=function(t,e){return e?e===this.name&&("element"===t||"model:element"===t):"element"===t||"model:element"===t||"node"===t||"model:node"===t};class va{constructor(t){if(!t||!t.boundaries&&!t.startPosition)throw new f("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new f("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this._position=t.startPosition.clone():this._position=Aa._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(t){let e,o,n,r;do{n=this.position,r=this._visitedParent,({done:e,value:o}=this.next())}while(!e&&t(o));e||(this._position=n,this._visitedParent=r)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),o=this._visitedParent;if(null===o.parent&&e.offset===o.maxOffset)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const n=Ca(e,o),r=n||Sa(e,o,n);if(r instanceof ya){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e.path.push(0),this._visitedParent=r;return this._position=e,_a("elementStart",r,t,e,1)}if(r instanceof xa){let n;if(this.singleCharacters)n=1;else{let t=r.endOffset;this._boundaryEndParent==o&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),n=t-e.offset}const i=e.offset-r.startOffset,s=new ka(r,i,n);return e.offset+=n,this._position=e,_a("text",s,t,e,n)}return e.path.pop(),e.offset++,this._position=e,this._visitedParent=o.parent,this.ignoreElementEnd?this._next():_a("elementEnd",o,t,e)}_previous(){const t=this.position,e=this.position.clone(),o=this._visitedParent;if(null===o.parent&&0===e.offset)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const n=e.parent,r=Ca(e,n),i=r||Ea(e,n,r);if(i instanceof ya)return e.offset--,this.shallow?(this._position=e,_a("elementStart",i,t,e,1)):(e.path.push(i.maxOffset),this._position=e,this._visitedParent=i,this.ignoreElementEnd?this._previous():_a("elementEnd",i,t,e));if(i instanceof xa){let n;if(this.singleCharacters)n=1;else{let t=i.startOffset;this._boundaryStartParent==o&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),n=e.offset-t}const r=e.offset-i.startOffset,s=new ka(i,r-n,n);return e.offset-=n,this._position=e,_a("text",s,t,e,n)}return e.path.pop(),this._position=e,this._visitedParent=o.parent,_a("elementStart",o,t,e,1)}}function _a(t,e,o,n,r){return{done:!1,value:{type:t,item:e,previousPosition:o,nextPosition:n,length:r}}}class Aa extends ba{constructor(t,e,o="toNone"){if(super(),!t.is("element")&&!t.is("documentFragment"))throw new f("model-position-root-invalid",t);if(!(e instanceof Array)||0===e.length)throw new f("model-position-path-incorrect-format",t,{path:e});t.is("rootElement")?e=e.slice():(e=[...t.getPath(),...e],t=t.root),this.root=t,this.path=e,this.stickiness=o}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChild(t.offsetToIndex(this.path[e])),!t)throw new f("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new f("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Ca(this,this.parent)}get nodeAfter(){const t=this.parent;return Sa(this,t,Ca(this,t))}get nodeBefore(){const t=this.parent;return Ea(this,t,Ca(this,t))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=Z(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const o=new va(e);return o.skip(t),o.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const e=Z(this.path,t.path),o="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,o)}getCommonAncestor(t){const e=this.getAncestors(),o=t.getAncestors();let n=0;for(;e[n]==o[n]&&e[n];)n++;return 0===n?null:e[n-1]}getShiftedBy(t){const e=this.clone(),o=e.offset+t;return e.offset=o<0?0:o,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){if(this.root!==t.root)return!1;const e=Math.min(this.path.length,t.path.length);for(let o=0;o<e;o++){const e=this.path[o]-t.path[o];if(e<-1||e>1)return!1;if(1===e)return Ma(t,this,o);if(-1===e)return Ma(this,t,o)}return this.path.length===t.path.length||(this.path.length>t.path.length?Da(this.path,e):Da(t.path,e))}hasSameParentAs(t){if(this.root!==t.root)return!1;return"same"==Z(this.getParentPath(),t.getParentPath())}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=Aa._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let o;return e.containsPosition(this)||e.start.isEqual(this)?(o=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(o=o._getTransformedByDeletion(t.deletionPosition,1))):o=this.isEqual(t.deletionPosition)?Aa._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),o}_getTransformedByDeletion(t,e){const o=Aa._createAt(this);if(this.root!=t.root)return o;if("same"==Z(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;o.offset-=e}}else if("prefix"==Z(t.getParentPath(),this.getParentPath())){const n=t.path.length-1;if(t.offset<=this.path[n]){if(t.offset+e>this.path[n])return null;o.path[n]-=e}}return o}_getTransformedByInsertion(t,e){const o=Aa._createAt(this);if(this.root!=t.root)return o;if("same"==Z(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(o.offset+=e);else if("prefix"==Z(t.getParentPath(),this.getParentPath())){const n=t.path.length-1;t.offset<=this.path[n]&&(o.path[n]+=e)}return o}_getTransformedByMove(t,e,o){if(e=e._getTransformedByDeletion(t,o),t.isEqual(e))return Aa._createAt(this);const n=this._getTransformedByDeletion(t,o);return null===n||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(o).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):n._getTransformedByInsertion(e,o)}_getCombined(t,e){const o=t.path.length-1,n=Aa._createAt(e);return n.stickiness=this.stickiness,n.offset=n.offset+this.path[o]-t.offset,n.path=[...n.path,...this.path.slice(o+1)],n}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,o="toNone"){if(t instanceof Aa)return new Aa(t.root,t.path,t.stickiness);{const n=t;if("end"==e)e=n.maxOffset;else{if("before"==e)return this._createBefore(n,o);if("after"==e)return this._createAfter(n,o);if(0!==e&&!e)throw new f("model-createpositionat-offset-required",[this,t])}if(!n.is("element")&&!n.is("documentFragment"))throw new f("model-position-parent-incorrect",[this,t]);const r=n.getPath();return r.push(e),new this(n.root,r,o)}}static _createAfter(t,e){if(!t.parent)throw new f("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new f("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if("$graveyard"===t.root){const o=new Aa(e.graveyard,t.path);return o.stickiness=t.stickiness,o}if(!e.getRoot(t.root))throw new f("model-position-fromjson-no-root",e,{rootName:t.root});return new Aa(e.getRoot(t.root),t.path,t.stickiness)}}function Ca(t,e){const o=e.getChild(e.offsetToIndex(t.offset));return o&&o.is("$text")&&o.startOffset<t.offset?o:null}function Sa(t,e,o){return null!==o?null:e.getChild(e.offsetToIndex(t.offset))}function Ea(t,e,o){return null!==o?null:e.getChild(e.offsetToIndex(t.offset)-1)}function Ma(t,e,o){return o+1!==t.path.length&&(!!Da(e.path,o+1)&&!!function(t,e){let o=t.parent,n=t.path.length-1,r=0;for(;n>=e;){if(t.path[n]+r!==o.maxOffset)return!1;r=1,n--,o=o.parent}return!0}(t,o+1))}function Da(t,e){for(;e<t.length;){if(0!==t[e])return!1;e++}return!0}Aa.prototype.is=function(t){return"position"===t||"model:position"===t};class Ta extends ba{constructor(t,e){super(),this.start=Aa._createAt(t),this.end=e?Aa._createAt(e):Aa._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new va({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==Z(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const o=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),n=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return o&&n}containsItem(t){const e=Aa._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Ta(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Ta(t.end,this.end))):e.push(new Ta(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,o=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(o=t.end),new Ta(e,o)}return null}getJoined(t,e=!1){let o=this.isIntersecting(t);if(o||(o=this.start.isBefore(t.start)?e?this.end.isTouching(t.start):this.end.isEqual(t.start):e?t.end.isTouching(this.start):t.end.isEqual(this.start)),!o)return null;let n=this.start,r=this.end;return t.start.isBefore(n)&&(n=t.start),t.end.isAfter(r)&&(r=t.end),new Ta(n,r)}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,o=Aa._createAt(this.start);let n=o.parent;for(;o.path.length>e+1;){const e=n.maxOffset-o.offset;0!==e&&t.push(new Ta(o,o.getShiftedBy(e))),o.path=o.path.slice(0,-1),o.offset++,n=n.parent}for(;o.path.length<=this.end.path.length;){const e=this.end.path[o.path.length-1],n=e-o.offset;0!==n&&t.push(new Ta(o,o.getShiftedBy(n))),o.offset=e,o.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new va(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new va(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new va(t);yield e.position;for(const t of e)yield t.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new Ta(this.start,this.end)]}getTransformedByOperations(t){const e=[new Ta(this.start,this.end)];for(const o of t)for(let t=0;t<e.length;t++){const n=e[t].getTransformedByOperation(o);e.splice(t,1,...n),t+=n.length-1}for(let t=0;t<e.length;t++){const o=e[t];for(let n=t+1;n<e.length;n++){const t=e[n];(o.containsRange(t)||t.containsRange(o)||o.isEqual(t))&&e.splice(n,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){const o=t.sourcePosition,n=t.howMany,r=t.targetPosition;return this._getTransformedByMove(o,r,n,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let o=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(o=this.end.getShiftedBy(1)),e.root!=o.root&&(o=this.end.getShiftedBy(-1)),new Ta(e,o)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new Ta(this.start);let e=this.start._getTransformedByMergeOperation(t),o=this.end._getTransformedByMergeOperation(t);return e.root!=o.root&&(o=this.end.getShiftedBy(-1)),e.isAfter(o)?(t.sourcePosition.isBefore(t.targetPosition)?(e=Aa._createAt(o),e.offset=0):(t.deletionPosition.isEqual(e)||(o=t.deletionPosition),e=t.targetPosition),new Ta(e,o)):new Ta(e,o)}_getTransformedByInsertion(t,e,o=!1){if(o&&this.containsPosition(t))return[new Ta(this.start,t),new Ta(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const o=new Ta(this.start,this.end);return o.start=o.start._getTransformedByInsertion(t,e),o.end=o.end._getTransformedByInsertion(t,e),[o]}}_getTransformedByMove(t,e,o,n=!1){if(this.isCollapsed){const n=this.start._getTransformedByMove(t,e,o);return[new Ta(n)]}const r=Ta._createFromPositionAndShift(t,o),i=e._getTransformedByDeletion(t,o);if(this.containsPosition(e)&&!n&&(r.containsPosition(this.start)||r.containsPosition(this.end))){const n=this.start._getTransformedByMove(t,e,o),r=this.end._getTransformedByMove(t,e,o);return[new Ta(n,r)]}let s;const l=this.getDifference(r);let a=null;const d=this.getIntersection(r);if(1==l.length?a=new Ta(l[0].start._getTransformedByDeletion(t,o),l[0].end._getTransformedByDeletion(t,o)):2==l.length&&(a=new Ta(this.start,this.end._getTransformedByDeletion(t,o))),s=a?a._getTransformedByInsertion(i,o,null!==d||n):[],d){const t=new Ta(d.start._getCombined(r.start,i),d.end._getCombined(r.start,i));2==s.length?s.splice(1,0,t):s.push(t)}return s}_getTransformedByDeletion(t,e){let o=this.start._getTransformedByDeletion(t,e),n=this.end._getTransformedByDeletion(t,e);return null==o&&null==n?null:(null==o&&(o=t),null==n&&(n=t),new Ta(o,n))}static _createFromPositionAndShift(t,e){const o=t,n=t.getShiftedBy(e);return e>0?new this(o,n):new this(n,o)}static _createIn(t){return new this(Aa._createAt(t,0),Aa._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(Aa._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(0===t.length)throw new f("range-create-from-ranges-empty-array",null);if(1==t.length)return t[0].clone();const e=t[0];t.sort(((t,e)=>t.start.isAfter(e.start)?1:-1));const o=t.indexOf(e),n=new this(e.start,e.end);if(o>0)for(let e=o-1;t[e].end.isEqual(n.start);e++)n.start=Aa._createAt(t[e].start);for(let e=o+1;e<t.length&&t[e].start.isEqual(n.end);e++)n.end=Aa._createAt(t[e].end);return n}static fromJSON(t,e){return new this(Aa.fromJSON(t.start,e),Aa.fromJSON(t.end,e))}}Ta.prototype.is=function(t){return"range"===t||"model:range"===t};class Ba extends(E()){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",((t,e)=>{if(e.viewPosition)return;const o=this._modelToViewMapping.get(e.modelPosition.parent);if(!o)throw new f("mapping-model-position-view-parent-not-found",this,{modelPosition:e.modelPosition});e.viewPosition=this.findPositionIn(o,e.modelPosition.offset)}),{priority:"low"}),this.on("viewToModelPosition",((t,e)=>{if(e.modelPosition)return;const o=this.findMappedViewAncestor(e.viewPosition),n=this._viewToModelMapping.get(o),r=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,o);e.modelPosition=Aa._createAt(n,r)}),{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t,e={}){const o=this.toModelElement(t);if(this._elementToMarkerNames.has(t))for(const e of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(e);e.defer?this._deferredBindingRemovals.set(t,t.root):(this._viewToModelMapping.delete(t),this._modelToViewMapping.get(o)==t&&this._modelToViewMapping.delete(o))}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const o=this._markerNameToElements.get(e)||new Set;o.add(t);const n=this._elementToMarkerNames.get(t)||new Set;n.add(e),this._markerNameToElements.set(e,o),this._elementToMarkerNames.set(t,n)}unbindElementFromMarkerName(t,e){const o=this._markerNameToElements.get(e);o&&(o.delete(t),0==o.size&&this._markerNameToElements.delete(e));const n=this._elementToMarkerNames.get(t);n&&(n.delete(e),0==n.size&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}flushDeferredBindings(){for(const[t,e]of this._deferredBindingRemovals)t.root==e&&this.unbindViewElement(t);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new Ta(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new hs(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={}){const o={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",o),o.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const o=new Set;for(const t of e)if(t.is("attributeElement"))for(const e of t.getElementsWithSameId())o.add(e);else o.add(t);return o}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,o){if(o!=t){return this._toModelOffset(t.parent,t.index,o)+this._toModelOffset(t,e,t)}if(t.is("$text"))return e;let n=0;for(let o=0;o<e;o++)n+=this.getModelLength(t.getChild(o));return n}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name)){return this._viewToModelLengthCallbacks.get(t.name)(t)}if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const o of t.getChildren())e+=this.getModelLength(o);return e}}findPositionIn(t,e){let o,n=0,r=0,i=0;if(t.is("$text"))return new cs(t,e);for(;r<e;)o=t.getChild(i),n=this.getModelLength(o),r+=n,i++;return r==e?this._moveViewPositionToTextNode(new cs(t,i)):this.findPositionIn(o,e-(r-n))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,o=t.nodeAfter;return e instanceof ti?new cs(e,e.data.length):o instanceof ti?new cs(o,0):t}}class La{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=Pa(e),t instanceof ka&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=Pa(e),t instanceof ka&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=Pa(e),t instanceof ka&&(t=this._getSymbolForTextProxy(t));const o=this._consumable.get(t);if(void 0===o)return null;const n=o.get(e);return void 0===n?null:n}revert(t,e){e=Pa(e),t instanceof ka&&(t=this._getSymbolForTextProxy(t));const o=this.test(t,e);return!1===o?(this._consumable.get(t).set(e,!0),!0):!0!==o&&null}verifyAllConsumed(t){const e=[];for(const[o,n]of this._consumable)for(const[r,i]of n){const n=r.split(":")[0];i&&t==n&&e.push({event:r,item:o.name||o.description})}if(e.length)throw new f("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const o=this._textProxyRegistry.get(t.startOffset);if(o){const n=o.get(t.endOffset);n&&(e=n.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,o=t.endOffset,n=t.parent,r=Symbol("$textProxy:"+t.data);let i,s;return i=this._textProxyRegistry.get(e),i||(i=new Map,this._textProxyRegistry.set(e,i)),s=i.get(o),s||(s=new Map,i.set(o,s)),s.set(n,r),r}}function Pa(t){const e=t.split(":");return"insert"==e[0]?e[0]:"addMarker"==e[0]||"removeMarker"==e[0]?t:e.length>1?e[0]+":"+e[1]:e[0]}class Ia extends(E()){constructor(t){super(),this._conversionApi={dispatcher:this,...t},this._firedEventsMap=new WeakMap}convertChanges(t,e,o){const n=this._createConversionApi(o,t.getRefreshedItems());for(const e of t.getMarkersToRemove())this._convertMarkerRemove(e.name,e.range,n);const r=this._reduceChanges(t.getChanges());for(const t of r)"insert"===t.type?this._convertInsert(Ta._createFromPositionAndShift(t.position,t.length),n):"reinsert"===t.type?this._convertReinsert(Ta._createFromPositionAndShift(t.position,t.length),n):"remove"===t.type?this._convertRemove(t.position,t.length,t.name,n):this._convertAttribute(t.range,t.attributeKey,t.attributeOldValue,t.attributeNewValue,n);for(const t of n.mapper.flushUnboundMarkerNames()){const o=e.get(t).getRange();this._convertMarkerRemove(t,o,n),this._convertMarkerAdd(t,o,n)}for(const e of t.getMarkersToAdd())this._convertMarkerAdd(e.name,e.range,n);n.mapper.flushDeferredBindings(),n.consumable.verifyAllConsumed("insert")}convert(t,e,o,n={}){const r=this._createConversionApi(o,void 0,n);this._convertInsert(t,r);for(const[t,o]of e)this._convertMarkerAdd(t,o,r);r.consumable.verifyAllConsumed("insert")}convertSelection(t,e,o){const n=this._createConversionApi(o);this.fire("cleanSelection",{selection:t},n);const r=t.getFirstPosition().root;if(!n.mapper.toViewElement(r))return;const i=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this._addConsumablesForSelection(n.consumable,t,i),this.fire("selection",{selection:t},n),t.isCollapsed){for(const e of i)if(n.consumable.test(t,"addMarker:"+e.name)){const o=e.getRange();if(!za(t.getFirstPosition(),e,n.mapper))continue;const r={item:t,markerName:e.name,markerRange:o};this.fire(`addMarker:${e.name}`,r,n)}for(const e of t.getAttributeKeys())if(n.consumable.test(t,"attribute:"+e)){const o={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};this.fire(`attribute:${e}:$text`,o,n)}}}_convertInsert(t,e,o={}){o.doNotAddConsumables||this._addConsumablesForInsert(e.consumable,t);for(const o of Array.from(t.getWalker({shallow:!0})).map(Ra))this._testAndFire("insert",o,e)}_convertRemove(t,e,o,n){this.fire(`remove:${o}`,{position:t,length:e},n)}_convertAttribute(t,e,o,n,r){this._addConsumablesForRange(r.consumable,t,`attribute:${e}`);for(const i of t){const t={item:i.item,range:Ta._createFromPositionAndShift(i.previousPosition,i.length),attributeKey:e,attributeOldValue:o,attributeNewValue:n};this._testAndFire(`attribute:${e}`,t,r)}}_convertReinsert(t,e){const o=Array.from(t.getWalker({shallow:!0}));this._addConsumablesForInsert(e.consumable,o);for(const t of o.map(Ra))this._testAndFire("insert",{...t,reconversion:!0},e)}_convertMarkerAdd(t,e,o){if("$graveyard"==e.root.rootName)return;const n=`addMarker:${t}`;if(o.consumable.add(e,n),this.fire(n,{markerName:t,markerRange:e},o),o.consumable.consume(e,n)){this._addConsumablesForRange(o.consumable,e,n);for(const r of e.getItems()){if(!o.consumable.test(r,n))continue;const i={item:r,range:Ta._createOn(r),markerName:t,markerRange:e};this.fire(n,i,o)}}}_convertMarkerRemove(t,e,o){"$graveyard"!=e.root.rootName&&this.fire(`removeMarker:${t}`,{markerName:t,markerRange:e},o)}_reduceChanges(t){const e={changes:t};return this.fire("reduceChanges",e),e.changes}_addConsumablesForInsert(t,e){for(const o of e){const e=o.item;if(null===t.test(e,"insert")){t.add(e,"insert");for(const o of e.getAttributeKeys())t.add(e,"attribute:"+o)}}return t}_addConsumablesForRange(t,e,o){for(const n of e.getItems())t.add(n,o);return t}_addConsumablesForSelection(t,e,o){t.add(e,"selection");for(const n of o)t.add(e,"addMarker:"+n.name);for(const o of e.getAttributeKeys())t.add(e,"attribute:"+o);return t}_testAndFire(t,e,o){const n=function(t,e){const o=e.item.is("element")?e.item.name:"$text";return`${t}:${o}`}(t,e),r=e.item.is("$textProxy")?o.consumable._getSymbolForTextProxy(e.item):e.item,i=this._firedEventsMap.get(o),s=i.get(r);if(s){if(s.has(n))return;s.add(n)}else i.set(r,new Set([n]));this.fire(n,e,o)}_testAndFireAddAttributes(t,e){const o={item:t,range:Ta._createOn(t)};for(const t of o.item.getAttributeKeys())o.attributeKey=t,o.attributeOldValue=null,o.attributeNewValue=o.item.getAttribute(t),this._testAndFire(`attribute:${t}`,o,e)}_createConversionApi(t,e=new Set,o={}){const n={...this._conversionApi,consumable:new La,writer:t,options:o,convertItem:t=>this._convertInsert(Ta._createOn(t),n),convertChildren:t=>this._convertInsert(Ta._createIn(t),n,{doNotAddConsumables:!0}),convertAttributes:t=>this._testAndFireAddAttributes(t,n),canReuseView:t=>!e.has(n.mapper.toModelElement(t))};return this._firedEventsMap.set(n,new Map),n}}function za(t,e,o){const n=e.getRange(),r=Array.from(t.getAncestors());r.shift(),r.reverse();return!r.some((t=>{if(n.containsItem(t)){return!!o.toViewElement(t).getCustomProperty("addHighlight")}}))}function Ra(t){return{item:t.item,range:Ta._createFromPositionAndShift(t.previousPosition,t.length)}}class Fa extends(E(ba)){constructor(...t){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],t.length&&this.setTo(...t)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let o=!1;for(const n of t._ranges)if(e.isEqual(n)){o=!0;break}if(!o)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new Ta(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new Ta(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new Ta(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(...t){let[e,o,n]=t;if("object"==typeof o&&(n=o,o=void 0),null===e)this._setRanges([]);else if(e instanceof Fa)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof Ta)this._setRanges([e],!!n&&!!n.backward);else if(e instanceof Aa)this._setRanges([new Ta(e)]);else if(e instanceof fa){const t=!!n&&!!n.backward;let r;if("in"==o)r=Ta._createIn(e);else if("on"==o)r=Ta._createOn(e);else{if(void 0===o)throw new f("model-selection-setto-required-second-parameter",[this,e]);r=new Ta(Aa._createAt(e,o))}this._setRanges([r],t)}else{if(!J(e))throw new f("model-selection-setto-not-selectable",[this,e]);this._setRanges(e,n&&!!n.backward)}}_setRanges(t,e=!1){const o=Array.from(t),n=o.some((e=>{if(!(e instanceof Ta))throw new f("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every((t=>!t.isEqual(e)))}));(o.length!==this._ranges.length||n)&&(this._replaceAllRanges(o),this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0}))}setFocus(t,e){if(null===this.anchor)throw new f("model-selection-setfocus-no-ranges",[this,t]);const o=Aa._createAt(t,e);if("same"==o.compareWith(this.focus))return;const n=this.anchor;this._ranges.length&&this._popRange(),"before"==o.compareWith(n)?(this._pushRange(new Ta(o,n)),this._lastRangeBackward=!0):(this._pushRange(new Ta(n,o)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const o=Na(e.start,t);Ka(o,e)&&(yield o);for(const o of e.getWalker()){const n=o.item;"elementEnd"==o.type&&Va(n,t,e)&&(yield n)}const n=Na(e.end,t);qa(n,e)&&(yield n)}}containsEntireContent(t=this.anchor.root){const e=Aa._createAt(t,0),o=Aa._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&o.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new Ta(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new f("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_replaceAllRanges(t){this._removeAllRanges();for(const e of t)this._pushRange(e)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Oa(t,e){return!e.has(t)&&(e.add(t),t.root.document.model.schema.isBlock(t)&&!!t.parent)}function Va(t,e,o){return Oa(t,e)&&$a(t,o)}function Na(t,e){const o=t.parent.root.document.model.schema,n=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const i=n.find((t=>!r&&(r=o.isLimit(t),!r&&Oa(t,e))));return n.forEach((t=>e.add(t))),i}function $a(t,e){const o=function(t){const e=t.root.document.model.schema;let o=t.parent;for(;o;){if(e.isBlock(o))return o;o=o.parent}}(t);if(!o)return!0;return!e.containsRange(Ta._createOn(o),!0)}function Ka(t,e){return!!t&&(!(!e.isCollapsed&&!t.isEmpty)||!e.start.isTouching(Aa._createAt(t,t.maxOffset))&&$a(t,e))}function qa(t,e){return!!t&&(!(!e.isCollapsed&&!t.isEmpty)||!e.end.isTouching(Aa._createAt(t,0))&&$a(t,e))}Fa.prototype.is=function(t){return"selection"===t||"model:selection"===t};class Ha extends(E(Ta)){constructor(t,e){super(t,e),ja.call(this)}detach(){this.stopListening()}toRange(){return new Ta(this.start,this.end)}static fromRange(t){return new Ha(t.start,t.end)}}function ja(){this.listenTo(this.root.document.model,"applyOperation",((t,e)=>{const o=e[0];o.isDocumentOperation&&Wa.call(this,o)}),{priority:"low"})}function Wa(t){const e=this.getTransformedByOperation(t),o=Ta._createFromRanges(e),n=!o.isEqual(this),r=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t);let i=null;if(n){"$graveyard"==o.root.rootName&&(i="remove"==t.type?t.sourcePosition:t.deletionPosition);const e=this.toRange();this.start=o.start,this.end=o.end,this.fire("change:range",e,{deletionPosition:i})}else r&&this.fire("change:content",this.toRange(),{deletionPosition:i})}Ha.prototype.is=function(t){return"liveRange"===t||"model:liveRange"===t||"range"==t||"model:range"===t};const Ua="selection:";class Ga extends(E(ba)){constructor(t){super(),this._selection=new Za(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(...t){this._selection.setTo(...t)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return Ua+t}static _isStoreAttributeKey(t){return t.startsWith(Ua)}}Ga.prototype.is=function(t){return"selection"===t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t};class Za extends Fa{constructor(t){super(),this.markers=new vr({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=t.model,this._document=t,this.listenTo(this._model,"applyOperation",((t,e)=>{const o=e[0];o.isDocumentOperation&&"marker"!=o.type&&"rename"!=o.type&&"noop"!=o.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),this.on("change:range",(()=>{this._validateSelectionRanges(this.getRanges())})),this.listenTo(this._model.markers,"update",((t,e,o,n)=>{this._updateMarker(e,n)})),this.listenTo(this._document,"change",((t,e)=>{!function(t,e){const o=t.document.differ;for(const n of o.getChanges()){if("insert"!=n.type)continue;const o=n.position.parent;n.length===o.maxOffset&&t.enqueueChange(e,(t=>{const e=Array.from(o.getAttributeKeys()).filter((t=>t.startsWith(Ua)));for(const n of e)t.removeAttribute(n,o)}))}}(this._model,e)}))}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...t){super.setTo(...t),this._updateAttributes(!0),this.updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this.updateMarkers()}setAttribute(t,e){if(this._setAttribute(t,e)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=p();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new f("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this.updateMarkers()}_replaceAllRanges(t){this._validateSelectionRanges(t),super._replaceAllRanges(t)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_validateSelectionRanges(t){for(const e of t)if(!this._document._validateSelectionRange(e))throw new f("document-selection-wrong-position",this,{range:e})}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=Ha.fromRange(t);return e.on("change:range",((t,o,n)=>{if(this._hasChangedRange=!0,e.root==this._document.graveyard){this._selectionRestorePosition=n.deletionPosition;const t=this._ranges.indexOf(e);this._ranges.splice(t,1),e.detach()}})),e}updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let e=!1;for(const e of this._model.markers){const o=e.name.split(":",1)[0];if(!this._observedMarkers.has(o))continue;const n=e.getRange();for(const o of this.getRanges())n.containsRange(o,!o.isCollapsed)&&t.push(e)}const o=Array.from(this.markers);for(const o of t)this.markers.has(o)||(this.markers.add(o),e=!0);for(const o of Array.from(this.markers))t.includes(o)||(this.markers.remove(o),e=!0);e&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateMarker(t,e){const o=t.name.split(":",1)[0];if(!this._observedMarkers.has(o))return;let n=!1;const r=Array.from(this.markers),i=this.markers.has(t);if(e){let o=!1;for(const t of this.getRanges())if(e.containsRange(t,!t.isCollapsed)){o=!0;break}o&&!i?(this.markers.add(t),n=!0):!o&&i&&(this.markers.remove(t),n=!0)}else i&&(this.markers.remove(t),n=!0);n&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateAttributes(t){const e=Sr(this._getSurroundingAttributes()),o=Sr(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[t,e]of this._attributePriority)"low"==e&&(this._attrs.delete(t),this._attributePriority.delete(t));this._setAttributesTo(e);const n=[];for(const[t,e]of this.getAttributes())o.has(t)&&o.get(t)===e||n.push(t);for(const[t]of o)this.hasAttribute(t)||n.push(t);n.length>0&&this.fire("change:attribute",{attributeKeys:n,directChange:!1})}_setAttribute(t,e,o=!0){const n=o?"normal":"low";if("low"==n&&"normal"==this._attributePriority.get(t))return!1;return super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,n),!0)}_removeAttribute(t,e=!0){const o=e?"normal":"low";return("low"!=o||"normal"!=this._attributePriority.get(t))&&(this._attributePriority.set(t,o),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const e=new Set;for(const[e,o]of this.getAttributes())t.get(e)!==o&&this._removeAttribute(e,!1);for(const[o,n]of t){this._setAttribute(o,n,!1)&&e.add(o)}return e}*getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())if(e.startsWith(Ua)){const o=e.substr(10);yield[o,t.getAttribute(e)]}}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;if("$graveyard"==t.root.rootName)return null;let o=null;if(this.isCollapsed){const n=t.textNode?t.textNode:t.nodeBefore,r=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(o=Ja(n,e)),o||(o=Ja(r,e)),!this.isGravityOverridden&&!o){let t=n;for(;t&&!o;)t=t.previousSibling,o=Ja(t,e)}if(!o){let t=r;for(;t&&!o;)t=t.nextSibling,o=Ja(t,e)}o||(o=this.getStoredAttributes())}else{const t=this.getFirstRange();for(const n of t){if(n.item.is("element")&&e.isObject(n.item)){o=Ja(n.item,e);break}if("text"==n.type){o=n.item.getAttributes();break}}}return o}_fixGraveyardSelection(t){const e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}function Ja(t,e){if(!t)return null;if(t instanceof ka||t instanceof xa)return t.getAttributes();if(!e.isInline(t))return null;if(!e.isObject(t))return[];const o=[];for(const[n,r]of t.getAttributes())e.checkAttribute("$text",n)&&!1!==e.getAttributeProperties(n).copyFromObject&&o.push([n,r]);return o}class Ya{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}class Xa extends Ya{elementToElement(t){return this.add(function(t){const e=ed(t.model),o=od(t.view,"container");e.attributes.length&&(e.children=!0);return n=>{n.on(`insert:${e.name}`,function(t,e=cd){return(o,n,r)=>{if(!e(n.item,r.consumable,{preflight:!0}))return;const i=t(n.item,r,n);if(!i)return;e(n.item,r.consumable);const s=r.mapper.toViewPosition(n.range.start);r.mapper.bindElements(n.item,i),r.writer.insert(s,i),r.convertAttributes(n.item),ad(i,n.item.getChildren(),r,{reconversion:n.reconversion})}}(o,ld(e)),{priority:t.converterPriority||"normal"}),(e.children||e.attributes.length)&&n.on("reduceChanges",sd(e),{priority:"low"})}}(t))}elementToStructure(t){return this.add(function(t){const e=ed(t.model),o=od(t.view,"container");return e.children=!0,n=>{if(n._conversionApi.schema.checkChild(e.name,"$text"))throw new f("conversion-element-to-structure-disallowed-text",n,{elementName:e.name});var r,i;n.on(`insert:${e.name}`,(r=o,i=ld(e),(t,e,o)=>{if(!i(e.item,o.consumable,{preflight:!0}))return;const n=new Map;o.writer._registerSlotFactory(function(t,e,o){return(n,r)=>{const i=n.createContainerElement("$slot");let s=null;if("children"===r)s=Array.from(t.getChildren());else{if("function"!=typeof r)throw new f("conversion-slot-mode-unknown",o.dispatcher,{modeOrFilter:r});s=Array.from(t.getChildren()).filter((t=>r(t)))}return e.set(i,s),i}}(e.item,n,o));const s=r(e.item,o,e);if(o.writer._clearSlotFactory(),!s)return;!function(t,e,o){const n=Array.from(e.values()).flat(),r=new Set(n);if(r.size!=n.length)throw new f("conversion-slot-filter-overlap",o.dispatcher,{element:t});if(r.size!=t.childCount)throw new f("conversion-slot-filter-incomplete",o.dispatcher,{element:t})}(e.item,n,o),i(e.item,o.consumable);const l=o.mapper.toViewPosition(e.range.start);o.mapper.bindElements(e.item,s),o.writer.insert(l,s),o.convertAttributes(e.item),function(t,e,o,n){o.mapper.on("modelToViewPosition",s,{priority:"highest"});let r=null,i=null;for([r,i]of e)ad(t,i,o,n),o.writer.move(o.writer.createRangeIn(r),o.writer.createPositionBefore(r)),o.writer.remove(r);function s(t,e){const o=e.modelPosition.nodeAfter,n=i.indexOf(o);n<0||(e.viewPosition=e.mapper.findPositionIn(r,n))}o.mapper.off("modelToViewPosition",s)}(s,n,o,{reconversion:e.reconversion})}),{priority:t.converterPriority||"normal"}),n.on("reduceChanges",sd(e),{priority:"low"})}}(t))}attributeToElement(t){return this.add(function(t){t=ma(t);let e=t.model;"string"==typeof e&&(e={key:e});let o=`attribute:${e.key}`;e.name&&(o+=":"+e.name);if(e.values)for(const o of e.values)t.view[o]=od(t.view[o],"attribute");else t.view=od(t.view,"attribute");const n=nd(t);return e=>{e.on(o,function(t){return(e,o,n)=>{if(!n.consumable.test(o.item,e.name))return;const r=t(o.attributeOldValue,n,o),i=t(o.attributeNewValue,n,o);if(!r&&!i)return;n.consumable.consume(o.item,e.name);const s=n.writer,l=s.document.selection;if(o.item instanceof Fa||o.item instanceof Ga)s.wrap(l.getFirstRange(),i);else{let t=n.mapper.toViewRange(o.range);null!==o.attributeOldValue&&r&&(t=s.unwrap(t,r)),null!==o.attributeNewValue&&i&&s.wrap(t,i)}}}(n),{priority:t.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(t){t=ma(t);let e=t.model;"string"==typeof e&&(e={key:e});let o=`attribute:${e.key}`;e.name&&(o+=":"+e.name);if(e.values)for(const o of e.values)t.view[o]=rd(t.view[o]);else t.view=rd(t.view);const n=nd(t);return e=>{var r;e.on(o,(r=n,(t,e,o)=>{if(!o.consumable.test(e.item,t.name))return;const n=r(e.attributeOldValue,o,e),i=r(e.attributeNewValue,o,e);if(!n&&!i)return;o.consumable.consume(e.item,t.name);const s=o.mapper.toViewElement(e.item),l=o.writer;if(!s)throw new f("conversion-attribute-to-attribute-on-text",o.dispatcher,e);if(null!==e.attributeOldValue&&n)if("class"==n.key){const t=fr(n.value);for(const e of t)l.removeClass(e,s)}else if("style"==n.key){const t=Object.keys(n.value);for(const e of t)l.removeStyle(e,s)}else l.removeAttribute(n.key,s);if(null!==e.attributeNewValue&&i)if("class"==i.key){const t=fr(i.value);for(const e of t)l.addClass(e,s)}else if("style"==i.key){const t=Object.keys(i.value);for(const e of t)l.setStyle(e,i.value[e],s)}else l.setAttribute(i.key,i.value,s)}),{priority:t.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(t){const e=od(t.view,"ui");return o=>{var n;o.on(`addMarker:${t.model}`,(n=e,(t,e,o)=>{e.isOpening=!0;const r=n(e,o);e.isOpening=!1;const i=n(e,o);if(!r||!i)return;const s=e.markerRange;if(s.isCollapsed&&!o.consumable.consume(s,t.name))return;for(const e of s)if(!o.consumable.consume(e.item,t.name))return;const l=o.mapper,a=o.writer;a.insert(l.toViewPosition(s.start),r),o.mapper.bindElementToMarker(r,e.markerName),s.isCollapsed||(a.insert(l.toViewPosition(s.end),i),o.mapper.bindElementToMarker(i,e.markerName)),t.stop()}),{priority:t.converterPriority||"normal"}),o.on(`removeMarker:${t.model}`,((t,e,o)=>{const n=o.mapper.markerNameToElements(e.markerName);if(n){for(const t of n)o.mapper.unbindElementFromMarkerName(t,e.markerName),o.writer.clear(o.writer.createRangeOn(t),t);o.writer.clearClonedElementsGroup(e.markerName),t.stop()}}),{priority:t.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(t){return e=>{var o;e.on(`addMarker:${t.model}`,(o=t.view,(t,e,n)=>{if(!e.item)return;if(!(e.item instanceof Fa||e.item instanceof Ga||e.item.is("$textProxy")))return;const r=id(o,e,n);if(!r)return;if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,s=Qa(i,r),l=i.document.selection;if(e.item instanceof Fa||e.item instanceof Ga)i.wrap(l.getFirstRange(),s);else{const t=n.mapper.toViewRange(e.range),o=i.wrap(t,s);for(const t of o.getItems())if(t.is("attributeElement")&&t.isSimilar(s)){n.mapper.bindElementToMarker(t,e.markerName);break}}}),{priority:t.converterPriority||"normal"}),e.on(`addMarker:${t.model}`,function(t){return(e,o,n)=>{if(!o.item)return;if(!(o.item instanceof ya))return;const r=id(t,o,n);if(!r)return;if(!n.consumable.test(o.item,e.name))return;const i=n.mapper.toViewElement(o.item);if(i&&i.getCustomProperty("addHighlight")){n.consumable.consume(o.item,e.name);for(const t of Ta._createIn(o.item))n.consumable.consume(t.item,e.name);i.getCustomProperty("addHighlight")(i,r,n.writer),n.mapper.bindElementToMarker(i,o.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),e.on(`removeMarker:${t.model}`,function(t){return(e,o,n)=>{if(o.markerRange.isCollapsed)return;const r=id(t,o,n);if(!r)return;const i=Qa(n.writer,r),s=n.mapper.markerNameToElements(o.markerName);if(s){for(const t of s)if(n.mapper.unbindElementFromMarkerName(t,o.markerName),t.is("attributeElement"))n.writer.unwrap(n.writer.createRangeOn(t),i);else{t.getCustomProperty("removeHighlight")(t,r.id,n.writer)}n.writer.clearClonedElementsGroup(o.markerName),e.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(t){t=ma(t);const e=t.model;let o=t.view;o||(o=o=>({group:e,name:o.substr(t.model.length+1)}));return n=>{var r;n.on(`addMarker:${e}`,(r=o,(t,e,o)=>{const n=r(e.markerName,o);if(!n)return;const i=e.markerRange;o.consumable.consume(i,t.name)&&(td(i,!1,o,e,n),td(i,!0,o,e,n),t.stop())}),{priority:t.converterPriority||"normal"}),n.on(`removeMarker:${e}`,function(t){return(e,o,n)=>{const r=t(o.markerName,n);if(!r)return;const i=n.mapper.markerNameToElements(o.markerName);if(i){for(const t of i)n.mapper.unbindElementFromMarkerName(t,o.markerName),t.is("containerElement")?(s(`data-${r.group}-start-before`,t),s(`data-${r.group}-start-after`,t),s(`data-${r.group}-end-before`,t),s(`data-${r.group}-end-after`,t)):n.writer.clear(n.writer.createRangeOn(t),t);n.writer.clearClonedElementsGroup(o.markerName),e.stop()}function s(t,e){if(e.hasAttribute(t)){const o=new Set(e.getAttribute(t).split(","));o.delete(r.name),0==o.size?n.writer.removeAttribute(t,e):n.writer.setAttribute(t,Array.from(o).join(","),e)}}}}(o),{priority:t.converterPriority||"normal"})}}(t))}}function Qa(t,e){const o=t.createAttributeElement("span",e.attributes);return e.classes&&o._addClass(e.classes),"number"==typeof e.priority&&(o._priority=e.priority),o._id=e.id,o}function td(t,e,o,n,r){const i=e?t.start:t.end,s=i.nodeAfter&&i.nodeAfter.is("element")?i.nodeAfter:null,l=i.nodeBefore&&i.nodeBefore.is("element")?i.nodeBefore:null;if(s||l){let t,i;e&&s||!e&&!l?(t=s,i=!0):(t=l,i=!1);const a=o.mapper.toViewElement(t);if(a)return void function(t,e,o,n,r,i){const s=`data-${i.group}-${e?"start":"end"}-${o?"before":"after"}`,l=t.hasAttribute(s)?t.getAttribute(s).split(","):[];l.unshift(i.name),n.writer.setAttribute(s,l.join(","),t),n.mapper.bindElementToMarker(t,r.markerName)}(a,e,i,o,n,r)}!function(t,e,o,n,r){const i=`${r.group}-${e?"start":"end"}`,s=r.name?{name:r.name}:null,l=o.writer.createUIElement(i,s);o.writer.insert(t,l),o.mapper.bindElementToMarker(l,n.markerName)}(o.mapper.toViewPosition(i),e,o,n,r)}function ed(t){return"string"==typeof t&&(t={name:t}),{name:t.name,attributes:t.attributes?fr(t.attributes):[],children:!!t.children}}function od(t,e){return"function"==typeof t?t:(o,n)=>function(t,e,o){"string"==typeof t&&(t={name:t});let n;const r=e.writer,i=Object.assign({},t.attributes);if("container"==o)n=r.createContainerElement(t.name,i);else if("attribute"==o){const e={priority:t.priority||_s.DEFAULT_PRIORITY};n=r.createAttributeElement(t.name,i,e)}else n=r.createUIElement(t.name,i);if(t.styles){const e=Object.keys(t.styles);for(const o of e)r.setStyle(o,t.styles[o],n)}if(t.classes){const e=t.classes;if("string"==typeof e)r.addClass(e,n);else for(const t of e)r.addClass(t,n)}return n}(t,n,e)}function nd(t){return t.model.values?(e,o,n)=>{const r=t.view[e];return r?r(e,o,n):null}:t.view}function rd(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}function id(t,e,o){const n="function"==typeof t?t(e,o):t;return n?(n.priority||(n.priority=10),n.id||(n.id=e.markerName),n):null}function sd(t){const e=function(t){return(e,o)=>{if(!e.is("element",t.name))return!1;if("attribute"==o.type){if(t.attributes.includes(o.attributeKey))return!0}else if(t.children)return!0;return!1}}(t);return(t,o)=>{const n=[];o.reconvertedElements||(o.reconvertedElements=new Set);for(const t of o.changes){const r="attribute"==t.type?t.range.start.nodeAfter:t.position.parent;if(r&&e(r,t)){if(!o.reconvertedElements.has(r)){o.reconvertedElements.add(r);const t=Aa._createBefore(r);let e=n.length;for(let o=n.length-1;o>=0;o--){const r=n[o],i=("attribute"==r.type?r.range.start:r.position).compareWith(t);if("before"==i||"remove"==r.type&&"same"==i)break;e=o}n.splice(e,0,{type:"remove",name:r.name,position:t,length:1},{type:"reinsert",name:r.name,position:t,length:1})}}else n.push(t)}o.changes=n}}function ld(t){return(e,o,n={})=>{const r=["insert"];for(const o of t.attributes)e.hasAttribute(o)&&r.push(`attribute:${o}`);return!!r.every((t=>o.test(e,t)))&&(n.preflight||r.forEach((t=>o.consume(e,t))),!0)}}function ad(t,e,o,n){for(const r of e)dd(t.root,r,o,n)||o.convertItem(r)}function dd(t,e,o,n){const{writer:r,mapper:i}=o;if(!n.reconversion)return!1;const s=i.toViewElement(e);return!(!s||s.root==t)&&(!!o.canReuseView(s)&&(r.move(r.createRangeOn(s),i.toViewPosition(Aa._createBefore(e))),!0))}function cd(t,e,{preflight:o}={}){return o?e.test(t,"insert"):e.consume(t,"insert")}function hd(t){const{schema:e,document:o}=t.model;for(const n of o.getRoots())if(n.isEmpty&&!e.checkChild(n,"$text")&&e.checkChild(n,"paragraph"))return t.insertElement("paragraph",n),!0;return!1}function ud(t,e,o){const n=o.createContext(t);return!!o.checkChild(n,"paragraph")&&!!o.checkChild(n.push("paragraph"),e)}function pd(t,e){const o=e.createElement("paragraph");return e.insert(o,t),e.createPositionAt(o,0)}class md extends Ya{elementToElement(t){return this.add(gd(t))}elementToAttribute(t){return this.add(function(t){t=ma(t),wd(t);const e=xd(t,!1),o=bd(t.view),n=o?`element:${o}`:"element";return o=>{o.on(n,e,{priority:t.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(t){t=ma(t);let e=null;("string"==typeof t.view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});const e=t.view.key;let o;if("class"==e||"style"==e){o={["class"==e?"classes":"styles"]:t.view.value}}else{o={attributes:{[e]:void 0===t.view.value?/[\s\S]*/:t.view.value}}}t.view.name&&(o.name=t.view.name);return t.view=o,e}(t));wd(t,e);const o=xd(t,!0);return e=>{e.on("element",o,{priority:t.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(t){const e=function(t){return(e,o)=>{const n="string"==typeof t?t:t(e,o);return o.writer.createElement("$marker",{"data-name":n})}}(t.model);return gd({...t,model:e})}(t))}dataToMarker(t){return this.add(function(t){t=ma(t),t.model||(t.model=e=>e?t.view+":"+e:t.view);const e={view:t.view,model:t.model},o=fd(kd(e,"start")),n=fd(kd(e,"end"));return r=>{r.on(`element:${t.view}-start`,o,{priority:t.converterPriority||"normal"}),r.on(`element:${t.view}-end`,n,{priority:t.converterPriority||"normal"});const i=m.low,s=m.highest,l=m.get(t.converterPriority)/s;r.on("element",function(t){return(e,o,n)=>{const r=`data-${t.view}`;function i(e,r){for(const i of r){const r=t.model(i,n),s=n.writer.createElement("$marker",{"data-name":r});n.writer.insert(s,e),o.modelCursor.isEqual(e)?o.modelCursor=o.modelCursor.getShiftedBy(1):o.modelCursor=o.modelCursor._getTransformedByInsertion(e,1),o.modelRange=o.modelRange._getTransformedByInsertion(e,1)[0]}}(n.consumable.test(o.viewItem,{attributes:r+"-end-after"})||n.consumable.test(o.viewItem,{attributes:r+"-start-after"})||n.consumable.test(o.viewItem,{attributes:r+"-end-before"})||n.consumable.test(o.viewItem,{attributes:r+"-start-before"}))&&(o.modelRange||Object.assign(o,n.convertChildren(o.viewItem,o.modelCursor)),n.consumable.consume(o.viewItem,{attributes:r+"-end-after"})&&i(o.modelRange.end,o.viewItem.getAttribute(r+"-end-after").split(",")),n.consumable.consume(o.viewItem,{attributes:r+"-start-after"})&&i(o.modelRange.end,o.viewItem.getAttribute(r+"-start-after").split(",")),n.consumable.consume(o.viewItem,{attributes:r+"-end-before"})&&i(o.modelRange.start,o.viewItem.getAttribute(r+"-end-before").split(",")),n.consumable.consume(o.viewItem,{attributes:r+"-start-before"})&&i(o.modelRange.start,o.viewItem.getAttribute(r+"-start-before").split(",")))}}(e),{priority:i+l})}}(t))}}function gd(t){const e=fd(t=ma(t)),o=bd(t.view),n=o?`element:${o}`:"element";return o=>{o.on(n,e,{priority:t.converterPriority||"normal"})}}function bd(t){return"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null}function fd(t){const e=new oi(t.view);return(o,n,r)=>{const i=e.match(n.viewItem);if(!i)return;const s=i.match;if(s.name=!0,!r.consumable.test(n.viewItem,s))return;const l=function(t,e,o){return t instanceof Function?t(e,o):o.writer.createElement(t)}(t.model,n.viewItem,r);l&&r.safeInsert(l,n.modelCursor)&&(r.consumable.consume(n.viewItem,s),r.convertChildren(n.viewItem,l),r.updateConversionResult(l,n))}}function wd(t,e=null){const o=null===e||(t=>t.getAttribute(e)),n="object"!=typeof t.model?t.model:t.model.key,r="object"!=typeof t.model||void 0===t.model.value?o:t.model.value;t.model={key:n,value:r}}function xd(t,e){const o=new oi(t.view);return(n,r,i)=>{if(!r.modelRange&&e)return;const s=o.match(r.viewItem);if(!s)return;if(!function(t,e){const o="function"==typeof t?t(e):t;if("object"==typeof o&&!bd(o))return!1;return!o.classes&&!o.attributes&&!o.styles}(t.view,r.viewItem)?delete s.match.name:s.match.name=!0,!i.consumable.test(r.viewItem,s.match))return;const l=t.model.key,a="function"==typeof t.model.value?t.model.value(r.viewItem,i):t.model.value;if(null===a)return;r.modelRange||Object.assign(r,i.convertChildren(r.viewItem,r.modelCursor));const d=function(t,e,o,n){let r=!1;for(const i of Array.from(t.getItems({shallow:o})))n.schema.checkAttribute(i,e.key)&&(r=!0,i.hasAttribute(e.key)||n.writer.setAttribute(e.key,e.value,i));return r}(r.modelRange,{key:l,value:a},e,i);d&&(i.consumable.test(r.viewItem,{name:!0})&&(s.match.name=!0),i.consumable.consume(r.viewItem,s.match))}}function kd(t,e){return{view:`${t.view}-${e}`,model:(e,o)=>{const n=e.getAttribute("name"),r=t.model(n,o);return o.writer.createElement("$marker",{"data-name":r})}}}function yd(t){t.document.registerPostFixer((e=>function(t,e){const o=e.document.selection,n=e.schema,r=[];let i=!1;for(const t of o.getRanges()){const e=vd(t,n);e&&!e.isEqual(t)?(r.push(e),i=!0):r.push(t)}i&&t.setSelection(function(t){const e=[...t],o=new Set;let n=1;for(;n<e.length;){const t=e[n],r=e.slice(0,n);for(const[i,s]of r.entries())if(!o.has(i))if(t.isEqual(s))o.add(i);else if(t.isIntersecting(s)){o.add(i),o.add(n);const r=t.getJoined(s);e.push(r)}n++}return e.filter(((t,e)=>!o.has(e)))}(r),{backward:o.isBackward});return!1}(e,t)))}function vd(t,e){return t.isCollapsed?function(t,e){const o=t.start,n=e.getNearestSelectionRange(o);if(!n){const t=o.getAncestors().reverse().find((t=>e.isObject(t)));return t?Ta._createOn(t):null}if(!n.isCollapsed)return n;const r=n.start;if(o.isEqual(r))return null;return new Ta(r)}(t,e):function(t,e){const{start:o,end:n}=t,r=e.checkChild(o,"$text"),i=e.checkChild(n,"$text"),s=e.getLimitElement(o),l=e.getLimitElement(n);if(s===l){if(r&&i)return null;if(function(t,e,o){const n=t.nodeAfter&&!o.isLimit(t.nodeAfter)||o.checkChild(t,"$text"),r=e.nodeBefore&&!o.isLimit(e.nodeBefore)||o.checkChild(e,"$text");return n||r}(o,n,e)){const t=o.nodeAfter&&e.isSelectable(o.nodeAfter)?null:e.getNearestSelectionRange(o,"forward"),r=n.nodeBefore&&e.isSelectable(n.nodeBefore)?null:e.getNearestSelectionRange(n,"backward"),i=t?t.start:o,s=r?r.end:n;return new Ta(i,s)}}const a=s&&!s.is("rootElement"),d=l&&!l.is("rootElement");if(a||d){const t=o.nodeAfter&&n.nodeBefore&&o.nodeAfter.parent===n.nodeBefore.parent,r=a&&(!t||!Ad(o.nodeAfter,e)),i=d&&(!t||!Ad(n.nodeBefore,e));let c=o,h=n;return r&&(c=Aa._createBefore(_d(s,e))),i&&(h=Aa._createAfter(_d(l,e))),new Ta(c,h)}return null}(t,e)}function _d(t,e){let o=t,n=o;for(;e.isLimit(n)&&n.parent;)o=n,n=n.parent;return o}function Ad(t,e){return t&&e.isSelectable(t)}class Cd extends(K()){constructor(t,e){super(),this.model=t,this.view=new ga(e),this.mapper=new Ba,this.downcastDispatcher=new Ia({mapper:this.mapper,schema:t.schema});const o=this.model.document,n=o.selection,i=this.model.markers;var s,l,a;this.listenTo(this.model,"_beforeChanges",(()=>{this.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(()=>{this.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(o,"change",(()=>{this.view.change((t=>{this.downcastDispatcher.convertChanges(o.differ,i,t),this.downcastDispatcher.convertSelection(n,i,t)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return(o,n)=>{const r=n.newSelection,i=[];for(const t of r.getRanges())i.push(e.toModelRange(t));const s=t.createSelection(i,{backward:r.isBackward});s.isEqual(t.document.selection)||t.change((t=>{t.setSelection(s)}))}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(s=this.mapper,l=this.model.schema,a=this.view,(t,e)=>{if(!a.document.isComposing||r.isAndroid)for(let t=0;t<e.targetRanges.length;t++){const o=e.targetRanges[t],n=s.toModelRange(o),r=vd(n,l);r&&!r.isEqual(n)&&(e.targetRanges[t]=s.toViewRange(r))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",((t,e,o)=>{if(!o.consumable.consume(e.item,t.name))return;const n=o.writer,r=o.mapper.toViewPosition(e.range.start),i=n.createText(e.item.data);n.insert(r,i)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((t,e,o)=>{o.convertAttributes(e.item),e.reconversion||!e.item.is("element")||e.item.isEmpty||o.convertChildren(e.item)}),{priority:"lowest"}),this.downcastDispatcher.on("remove",((t,e,o)=>{const n=o.mapper.toViewPosition(e.position),r=e.position.getShiftedBy(e.length),i=o.mapper.toViewPosition(r,{isPhantom:!0}),s=o.writer.createRange(n,i),l=o.writer.remove(s.getTrimmed());for(const t of o.writer.createRangeIn(l).getItems())o.mapper.unbindViewElement(t,{defer:!0})}),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",((t,e,o)=>{const n=o.writer,r=n.document.selection;for(const t of r.getRanges())t.isCollapsed&&t.end.parent.isAttached()&&o.writer.mergeAttributes(t.start);n.setSelection(null)})),this.downcastDispatcher.on("selection",((t,e,o)=>{const n=e.selection;if(n.isCollapsed)return;if(!o.consumable.consume(n,"selection"))return;const r=[];for(const t of n.getRanges())r.push(o.mapper.toViewRange(t));o.writer.setSelection(r,{backward:n.isBackward})}),{priority:"low"}),this.downcastDispatcher.on("selection",((t,e,o)=>{const n=e.selection;if(!n.isCollapsed)return;if(!o.consumable.consume(n,"selection"))return;const r=o.writer,i=n.getFirstPosition(),s=o.mapper.toViewPosition(i),l=r.breakAttributes(s);r.setSelection(l)}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((t=>{if("$graveyard"==t.rootName)return null;const e=new as(this.view.document,t.name);return e.rootName=t.rootName,this.mapper.bindElements(t,e),e}))}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(t){const e="string"==typeof t?t:t.name,o=this.model.markers.get(e);if(!o)throw new f("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:e});this.model.change((()=>{this.model.markers._refresh(o)}))}reconvertItem(t){this.model.change((()=>{this.model.document.differ._refreshItem(t)}))}}class Sd{constructor(){this._consumables=new Map}add(t,e){let o;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?o=this._consumables.get(t):(o=new Md(t),this._consumables.set(t,o)),o.add(e))}test(t,e){const o=this._consumables.get(t);return void 0===o?null:t.is("$text")||t.is("documentFragment")?o:o.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const o=this._consumables.get(t);void 0!==o&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):o.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},o=t.getAttributeKeys();for(const t of o)"style"!=t&&"class"!=t&&e.attributes.push(t);const n=t.getClassNames();for(const t of n)e.classes.push(t);const r=t.getStyleNames();for(const t of r)e.styles.push(t);return e}static createFrom(t,e){if(e||(e=new Sd),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,Sd.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const o of t.getChildren())e=Sd.createFrom(o,e);return e}}const Ed=["attributes","classes","styles"];class Md{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e of Ed)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e of Ed)if(e in t){const o=this._test(e,t[e]);if(!0!==o)return o}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e of Ed)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e of Ed)e in t&&this._revert(e,t[e])}_add(t,e){const o=ct(e)?e:[e],n=this._consumables[t];for(const e of o){if("attributes"===t&&("class"===e||"style"===e))throw new f("viewconsumable-invalid-attribute",this);if(n.set(e,!0),"styles"===t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(e))n.set(t,!0)}}_test(t,e){const o=ct(e)?e:[e],n=this._consumables[t];for(const e of o)if("attributes"!==t||"class"!==e&&"style"!==e){const t=n.get(e);if(void 0===t)return null;if(!t)return!1}else{const t="class"==e?"classes":"styles",o=this._test(t,[...this._consumables[t].keys()]);if(!0!==o)return o}return!0}_consume(t,e){const o=ct(e)?e:[e],n=this._consumables[t];for(const e of o)if("attributes"!==t||"class"!==e&&"style"!==e){if(n.set(e,!1),"styles"==t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(e))n.set(t,!1)}else{const t="class"==e?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const o=ct(e)?e:[e],n=this._consumables[t];for(const e of o)if("attributes"!==t||"class"!==e&&"style"!==e){!1===n.get(e)&&n.set(e,!0)}else{const t="class"==e?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}}}class Dd extends(K()){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",((t,e)=>{e[0]=new Td(e[0])}),{priority:"highest"}),this.on("checkChild",((t,e)=>{e[0]=new Td(e[0]),e[1]=this.getDefinition(e[1])}),{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new f("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new f("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:"is"in t&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}isSelectable(t){const e=this.getDefinition(t);return!!e&&!(!e.isSelectable&&!e.isObject)}isContent(t){const e=this.getDefinition(t);return!!e&&!(!e.isContent&&!e.isObject)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const o=this.getDefinition(t.last);return!!o&&o.allowAttributes.includes(e)}checkMerge(t,e){if(t instanceof Aa){const e=t.nodeBefore,o=t.nodeAfter;if(!(e instanceof ya))throw new f("schema-check-merge-no-element-before",this);if(!(o instanceof ya))throw new f("schema-check-merge-no-element-after",this);return this.checkMerge(e,o)}for(const o of e.getChildren())if(!this.checkChild(t,o))return!1;return!0}addChildCheck(t){this.on("checkChild",((e,[o,n])=>{if(!n)return;const r=t(o,n);"boolean"==typeof r&&(e.stop(),e.return=r)}),{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",((e,[o,n])=>{const r=t(o,n);"boolean"==typeof r&&(e.stop(),e.return=r)}),{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;if(t instanceof Aa)e=t.parent;else{e=(t instanceof Ta?[t]:Array.from(t.getRanges())).reduce(((t,e)=>{const o=e.getCommonAncestor();return t?t.getCommonAncestor(o,{includeSelf:!0}):o}),null)}for(;!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const o=[...t.getFirstPosition().getAncestors(),new xa("",t.getAttributes())];return this.checkAttribute(o,e)}{const o=t.getRanges();for(const t of o)for(const o of t)if(this.checkAttribute(o.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(t){for(const e of t)yield*e.getMinimalFlatRanges()}(t);for(const o of t)yield*this._getValidRangesForRange(o,e)}getNearestSelectionRange(t,e="both"){if("$graveyard"==t.root.rootName)return null;if(this.checkChild(t,"$text"))return new Ta(t);let o,n;const r=t.getAncestors().reverse().find((t=>this.isLimit(t)))||t.root;"both"!=e&&"backward"!=e||(o=new va({boundaries:Ta._createIn(r),startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(n=new va({boundaries:Ta._createIn(r),startPosition:t}));for(const t of function*(t,e){let o=!1;for(;!o;){if(o=!0,t){const e=t.next();e.done||(o=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(o=!1,yield{walker:e,value:t.value})}}}(o,n)){const e=t.walker==o?"elementEnd":"elementStart",n=t.value;if(n.type==e&&this.isObject(n.item))return Ta._createOn(n.item);if(this.checkChild(n.nextPosition,"$text"))return new Ta(n.nextPosition)}return null}findAllowedParent(t,e){let o=t.parent;for(;o;){if(this.checkChild(o,e))return o;if(this.isLimit(o))return null;o=o.parent}return null}setAllowedAttributes(t,e,o){const n=o.model;for(const[r,i]of Object.entries(e))n.schema.checkAttribute(t,r)&&o.setAttribute(r,i,t)}removeDisallowedAttributes(t,e){for(const o of t)if(o.is("$text"))qd(this,o,e);else{const t=Ta._createIn(o).getPositions();for(const o of t){qd(this,o.nodeBefore||o.parent,e)}}}getAttributesWithProperty(t,e,o){const n={};for(const[r,i]of t.getAttributes()){const t=this.getAttributeProperties(r);void 0!==t[e]&&(void 0!==o&&o!==t[e]||(n[r]=i))}return n}createContext(t){return new Td(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,o=Object.keys(e);for(const n of o)t[n]=Bd(e[n],n);for(const e of o)Ld(t,e);for(const e of o)Pd(t,e);for(const e of o)Id(t,e);for(const e of o)zd(t,e),Rd(t,e);for(const e of o)Fd(t,e),Od(t,e),Vd(t,e);this._compiledDefinitions=t}_checkContextMatch(t,e,o=e.length-1){const n=e.getItem(o);if(t.allowIn.includes(n.name)){if(0==o)return!0;{const t=this.getDefinition(n);return this._checkContextMatch(t,e,o-1)}}return!1}*_getValidRangesForRange(t,e){let o=t.start,n=t.start;for(const r of t.getItems({shallow:!0}))r.is("element")&&(yield*this._getValidRangesForRange(Ta._createIn(r),e)),this.checkAttribute(r,e)||(o.isEqual(n)||(yield new Ta(o,n)),o=Aa._createAfter(r)),n=Aa._createAfter(r);o.isEqual(n)||(yield new Ta(o,n))}}class Td{constructor(t){if(t instanceof Td)return t;let e;e="string"==typeof t?[t]:Array.isArray(t)?t:t.getAncestors({includeSelf:!0}),this._items=e.map(Kd)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new Td([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map((t=>t.name))}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function Bd(t,e){const o={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(t,e){for(const o of t){const t=Object.keys(o).filter((t=>t.startsWith("is")));for(const n of t)e[n]=!!o[n]}}(t,o),Nd(t,o,"allowIn"),Nd(t,o,"allowContentOf"),Nd(t,o,"allowWhere"),Nd(t,o,"allowAttributes"),Nd(t,o,"allowAttributesOf"),Nd(t,o,"allowChildren"),Nd(t,o,"inheritTypesFrom"),function(t,e){for(const o of t){const t=o.inheritAllFrom;t&&(e.allowContentOf.push(t),e.allowWhere.push(t),e.allowAttributesOf.push(t),e.inheritTypesFrom.push(t))}}(t,o),o}function Ld(t,e){const o=t[e];for(const n of o.allowChildren){const o=t[n];o&&o.allowIn.push(e)}o.allowChildren.length=0}function Pd(t,e){for(const o of t[e].allowContentOf)if(t[o]){$d(t,o).forEach((t=>{t.allowIn.push(e)}))}delete t[e].allowContentOf}function Id(t,e){for(const o of t[e].allowWhere){const n=t[o];if(n){const o=n.allowIn;t[e].allowIn.push(...o)}}delete t[e].allowWhere}function zd(t,e){for(const o of t[e].allowAttributesOf){const n=t[o];if(n){const o=n.allowAttributes;t[e].allowAttributes.push(...o)}}delete t[e].allowAttributesOf}function Rd(t,e){const o=t[e];for(const e of o.inheritTypesFrom){const n=t[e];if(n){const t=Object.keys(n).filter((t=>t.startsWith("is")));for(const e of t)e in o||(o[e]=n[e])}}delete o.inheritTypesFrom}function Fd(t,e){const o=t[e],n=o.allowIn.filter((e=>t[e]));o.allowIn=Array.from(new Set(n))}function Od(t,e){const o=t[e];for(const n of o.allowIn){t[n].allowChildren.push(e)}}function Vd(t,e){const o=t[e];o.allowAttributes=Array.from(new Set(o.allowAttributes))}function Nd(t,e,o){for(const n of t){const t=n[o];"string"==typeof t?e[o].push(t):Array.isArray(t)&&e[o].push(...t)}}function $d(t,e){const o=t[e];return(n=t,Object.keys(n).map((t=>n[t]))).filter((t=>t.allowIn.includes(o.name)));var n}function Kd(t){return"string"==typeof t||t.is("documentFragment")?{name:"string"==typeof t?t:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}function qd(t,e,o){for(const n of e.getAttributeKeys())t.checkAttribute(e,n)||o.removeAttribute(n,e)}class Hd extends(E()){constructor(t){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...t,consumable:null,writer:null,store:null,convertItem:(t,e)=>this._convertItem(t,e),convertChildren:(t,e)=>this._convertChildren(t,e),safeInsert:(t,e)=>this._safeInsert(t,e),updateConversionResult:(t,e)=>this._updateConversionResult(t,e),splitToAllowedParent:(t,e)=>this._splitToAllowedParent(t,e),getSplitParts:t=>this._getSplitParts(t),keepEmptyElement:t=>this._keepEmptyElement(t)}}convert(t,e,o=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(t,e){let o;for(const n of new Td(t)){const t={};for(const e of n.getAttributeKeys())t[e]=n.getAttribute(e);const r=e.createElement(n.name,t);o&&e.insert(r,o),o=Aa._createAt(r,0)}return o}(o,e),this.conversionApi.writer=e,this.conversionApi.consumable=Sd.createFrom(t),this.conversionApi.store={};const{modelRange:n}=this._convertItem(t,this._modelCursor),r=e.createDocumentFragment();if(n){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))e.append(t,r);r.markers=function(t,e){const o=new Set,n=new Map,r=Ta._createIn(t).getItems();for(const t of r)t.is("element","$marker")&&o.add(t);for(const t of o){const o=t.getAttribute("data-name"),r=e.createPositionBefore(t);n.has(o)?n.get(o).end=r.clone():n.set(o,new Ta(r.clone())),e.remove(t)}return n}(r,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}_convertItem(t,e){const o={viewItem:t,modelCursor:e,modelRange:null};if(t.is("element")?this.fire(`element:${t.name}`,o,this.conversionApi):t.is("$text")?this.fire("text",o,this.conversionApi):this.fire("documentFragment",o,this.conversionApi),o.modelRange&&!(o.modelRange instanceof Ta))throw new f("view-conversion-dispatcher-incorrect-result",this);return{modelRange:o.modelRange,modelCursor:o.modelCursor}}_convertChildren(t,e){let o=e.is("position")?e:Aa._createAt(e,0);const n=new Ta(o);for(const e of Array.from(t.getChildren())){const t=this._convertItem(e,o);t.modelRange instanceof Ta&&(n.end=t.modelRange.end,o=t.modelCursor)}return{modelRange:n,modelCursor:o}}_safeInsert(t,e){const o=this._splitToAllowedParent(t,e);return!!o&&(this.conversionApi.writer.insert(t,o.position),!0)}_updateConversionResult(t,e){const o=this._getSplitParts(t),n=this.conversionApi.writer;e.modelRange||(e.modelRange=n.createRange(n.createPositionBefore(t),n.createPositionAfter(o[o.length-1])));const r=this._cursorParents.get(t);e.modelCursor=r?n.createPositionAt(r,0):e.modelRange.end}_splitToAllowedParent(t,e){const{schema:o,writer:n}=this.conversionApi;let r=o.findAllowedParent(e,t);if(r){if(r===e.parent)return{position:e};this._modelCursor.parent.getAncestors().includes(r)&&(r=null)}if(!r)return ud(e,t,o)?{position:pd(e,n)}:null;const i=this.conversionApi.writer.split(e,r),s=[];for(const t of i.range.getWalker())if("elementEnd"==t.type)s.push(t.item);else{const e=s.pop(),o=t.item;this._registerSplitPair(e,o)}const l=i.range.end.parent;return this._cursorParents.set(t,l),{position:i.position,cursorParent:l}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const o=this._splitParts.get(t);this._splitParts.set(e,o),o.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}_keepEmptyElement(t){this._emptyElementsToKeep.add(t)}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&!this._emptyElementsToKeep.has(e)&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}class jd{getHtml(t){const e=Tn.document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}class Wd{constructor(t){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new pl(t,{renderingMode:"data"}),this.htmlWriter=new jd}toData(t){const e=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode="marked"==t?"markedNbsp":"nbsp"}_toDom(t){t.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),o=e.createDocumentFragment(),n=e.body.childNodes;for(;n.length>0;)o.appendChild(n[0]);return o}}class Ud extends(E()){constructor(t,e){super(),this.model=t,this.mapper=new Ba,this.downcastDispatcher=new Ia({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",((t,e,o)=>{if(!o.consumable.consume(e.item,t.name))return;const n=o.writer,r=o.mapper.toViewPosition(e.range.start),i=n.createText(e.item.data);n.insert(r,i)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((t,e,o)=>{o.convertAttributes(e.item),e.reconversion||!e.item.is("element")||e.item.isEmpty||o.convertChildren(e.item)}),{priority:"lowest"}),this.upcastDispatcher=new Hd({schema:t.schema}),this.viewDocument=new vs(e),this.stylesProcessor=e,this.htmlProcessor=new Wd(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Is(this.viewDocument),this.upcastDispatcher.on("text",((t,e,{schema:o,consumable:n,writer:r})=>{let i=e.modelCursor;if(!n.test(e.viewItem))return;if(!o.checkChild(i,"$text")){if(!ud(i,"$text",o))return;if(0==e.viewItem.data.trim().length)return;const t=i.nodeBefore;i=pd(i,r),t&&t.is("element","$marker")&&(r.move(r.createRangeOn(t),i),i=r.createPositionAfter(t))}n.consume(e.viewItem);const s=r.createText(e.viewItem.data);r.insert(s,i),e.modelRange=r.createRange(i,i.getShiftedBy(s.offsetSize)),e.modelCursor=e.modelRange.end}),{priority:"lowest"}),this.upcastDispatcher.on("element",((t,e,o)=>{if(!e.modelRange&&o.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:n}=o.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=n}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",((t,e,o)=>{if(!e.modelRange&&o.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:n}=o.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=n}}),{priority:"lowest"}),K().prototype.decorate.call(this,"init"),K().prototype.decorate.call(this,"set"),K().prototype.decorate.call(this,"get"),K().prototype.decorate.call(this,"toView"),K().prototype.decorate.call(this,"toModel"),this.on("init",(()=>{this.fire("ready")}),{priority:"lowest"}),this.on("ready",(()=>{this.model.enqueueChange({isUndoable:!1},hd)}),{priority:"lowest"})}get(t={}){const{rootName:e="main",trim:o="empty"}=t;if(!this._checkIfRootsExists([e]))throw new f("datacontroller-get-non-existent-root",this);const n=this.model.document.getRoot(e);return n.isAttached()||w("datacontroller-get-detached-root",this),"empty"!==o||this.model.hasContent(n,{ignoreWhitespaces:!0})?this.stringify(n,t):""}stringify(t,e={}){const o=this.toView(t,e);return this.processor.toData(o)}toView(t,e={}){const o=this.viewDocument,n=this._viewWriter;this.mapper.clearBindings();const r=Ta._createIn(t),i=new Ps(o);this.mapper.bindElements(t,i);const s=t.is("documentFragment")?t.markers:function(t){const e=[],o=t.root.document;if(!o)return new Map;const n=Ta._createIn(t);for(const t of o.model.markers){const o=t.getRange(),r=o.isCollapsed,i=o.start.isEqual(n.start)||o.end.isEqual(n.end);if(r&&i)e.push([t.name,o]);else{const r=n.getIntersection(o);r&&e.push([t.name,r])}}return e.sort((([t,e],[o,n])=>{if("after"!==e.end.compareWith(n.start))return 1;if("before"!==e.start.compareWith(n.end))return-1;switch(e.start.compareWith(n.start)){case"before":return 1;case"after":return-1;default:switch(e.end.compareWith(n.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(t)}}})),new Map(e)}(t);return this.downcastDispatcher.convert(r,s,n,e),i}init(t){if(this.model.document.version)throw new f("datacontroller-init-document-not-empty",this);let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new f("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},(t=>{for(const o of Object.keys(e)){const n=this.model.document.getRoot(o);t.insert(this.parse(e[o],n),n,0)}})),Promise.resolve()}set(t,e={}){let o={};if("string"==typeof t?o.main=t:o=t,!this._checkIfRootsExists(Object.keys(o)))throw new f("datacontroller-set-non-existent-root",this);this.model.enqueueChange(e.batchType||{},(t=>{t.setSelection(null),t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const e of Object.keys(o)){const n=this.model.document.getRoot(e);t.remove(t.createRangeIn(n)),t.insert(this.parse(o[e],n),n,0)}}))}parse(t,e="$root"){const o=this.processor.toView(t);return this.toModel(o,e)}toModel(t,e="$root"){return this.model.change((o=>this.upcastDispatcher.convert(t,o,e)))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRoot(e))return!1;return!0}}class Gd{constructor(t,e){this._helpers=new Map,this._downcast=fr(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=fr(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const o=this._downcast.includes(e);if(!this._upcast.includes(e)&&!o)throw new f("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:o})}for(t){if(!this._helpers.has(t))throw new f("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:o}of Zd(t))this.for("upcast").elementToElement({model:e,view:o,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:o}of Zd(t))this.for("upcast").elementToAttribute({view:o,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:o}of Zd(t))this.for("upcast").attributeToAttribute({view:o,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:o}){if(this._helpers.has(t))throw new f("conversion-group-exists",this);const n=o?new Xa(e):new md(e);this._helpers.set(t,n)}}function*Zd(t){if(t.model.values)for(const e of t.model.values){const o={key:t.model.key,value:e},n=t.view[e],r=t.upcastAlso?t.upcastAlso[e]:void 0;yield*Jd(o,n,r)}else yield*Jd(t.model,t.view,t.upcastAlso)}function*Jd(t,e,o){if(yield{model:t,view:e},o)for(const e of fr(o))yield{model:t,view:e}}class Yd{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,e){return new this(t.baseVersion)}}function Xd(t,e){const o=ec(e),n=o.reduce(((t,e)=>t+e.offsetSize),0),r=t.parent;nc(t);const i=t.index;return r._insertChild(i,o),oc(r,i+o.length),oc(r,i),new Ta(t,t.getShiftedBy(n))}function Qd(t){if(!t.isFlat)throw new f("operation-utils-remove-range-not-flat",this);const e=t.start.parent;nc(t.start),nc(t.end);const o=e._removeChildren(t.start.index,t.end.index-t.start.index);return oc(e,t.start.index),o}function tc(t,e){if(!t.isFlat)throw new f("operation-utils-move-range-not-flat",this);const o=Qd(t);return Xd(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),o)}function ec(t){const e=[];!function t(o){if("string"==typeof o)e.push(new xa(o));else if(o instanceof ka)e.push(new xa(o.data,o.getAttributes()));else if(o instanceof fa)e.push(o);else if(J(o))for(const e of o)t(e);else{}}(t);for(let t=1;t<e.length;t++){const o=e[t],n=e[t-1];o instanceof xa&&n instanceof xa&&rc(o,n)&&(e.splice(t-1,2,new xa(n.data+o.data,n.getAttributes())),t--)}return e}function oc(t,e){const o=t.getChild(e-1),n=t.getChild(e);if(o&&n&&o.is("$text")&&n.is("$text")&&rc(o,n)){const r=new xa(o.data+n.data,o.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,r)}}function nc(t){const e=t.textNode,o=t.parent;if(e){const n=t.offset-e.startOffset,r=e.index;o._removeChildren(r,1);const i=new xa(e.data.substr(0,n),e.getAttributes()),s=new xa(e.data.substr(n),e.getAttributes());o._insertChild(r,[i,s])}}function rc(t,e){const o=t.getAttributes(),n=e.getAttributes();for(const t of o){if(t[1]!==e.getAttribute(t[0]))return!1;n.next()}return n.next().done}class ic extends Yd{constructor(t,e,o,n){super(n),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}get affectedSelectable(){return[Ta._createFromPositionAndShift(this.sourcePosition,this.howMany),Ta._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new ic(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new ic(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,o=this.sourcePosition.offset,n=this.targetPosition.offset;if(o+this.howMany>t.maxOffset)throw new f("move-operation-nodes-do-not-exist",this);if(t===e&&o<n&&n<o+this.howMany)throw new f("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Z(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=o&&this.targetPosition.path[t]<o+this.howMany)throw new f("move-operation-node-into-itself",this)}}_execute(){tc(Ta._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const o=Aa.fromJSON(t.sourcePosition,e),n=Aa.fromJSON(t.targetPosition,e);return new this(o,t.howMany,n,t.baseVersion)}}class sc extends Yd{constructor(t,e,o){super(o),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new wa(ec(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const t=new wa([...this.nodes].map((t=>t._clone(!0)))),e=new sc(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=this.position.root.document.graveyard,e=new Aa(t,[0]);return new ic(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new f("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new wa([...t].map((t=>t._clone(!0)))),Xd(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const o=[];for(const e of t.nodes)e.name?o.push(ya.fromJSON(e)):o.push(xa.fromJSON(e));const n=new sc(Aa.fromJSON(t.position,e),o,t.baseVersion);return n.shouldReceiveAttributes=t.shouldReceiveAttributes,n}}class lc extends Yd{constructor(t,e,o,n,r){super(r),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=o,this.graveyardPosition=n?n.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new Aa(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Ta(this.splitPosition,t)}get affectedSelectable(){const t=[Ta._createFromPositionAndShift(this.splitPosition,0),Ta._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&t.push(Ta._createFromPositionAndShift(this.graveyardPosition,0)),t}clone(){return new lc(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.splitPosition.root.document.graveyard,e=new Aa(t,[0]);return new ac(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new f("split-operation-position-invalid",this);if(!t.parent)throw new f("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new f("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new f("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)tc(Ta._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();Xd(this.insertionPosition,e)}tc(new Ta(Aa._createAt(t,this.splitPosition.offset),Aa._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new Aa(t.root,e,"toPrevious")}static fromJSON(t,e){const o=Aa.fromJSON(t.splitPosition,e),n=Aa.fromJSON(t.insertionPosition,e),r=t.graveyardPosition?Aa.fromJSON(t.graveyardPosition,e):null;return new this(o,t.howMany,n,r,t.baseVersion)}}class ac extends Yd{constructor(t,e,o,n,r){super(r),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=n.clone()}get type(){return"merge"}get deletionPosition(){return new Aa(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Ta(this.sourcePosition,t)}get affectedSelectable(){const t=this.sourcePosition.parent;return[Ta._createOn(t),Ta._createFromPositionAndShift(this.targetPosition,0),Ta._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new ac(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),o=new Aa(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);return new lc(t,this.howMany,o,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new f("merge-operation-source-position-invalid",this);if(!e.parent)throw new f("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new f("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent;tc(Ta._createIn(t),this.targetPosition),tc(Ta._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const o=Aa.fromJSON(t.sourcePosition,e),n=Aa.fromJSON(t.targetPosition,e),r=Aa.fromJSON(t.graveyardPosition,e);return new this(o,t.howMany,n,r,t.baseVersion)}}class dc extends Yd{constructor(t,e,o,n,r,i){super(i),this.name=t,this.oldRange=e?e.clone():null,this.newRange=o?o.clone():null,this.affectsData=r,this._markers=n}get type(){return"marker"}get affectedSelectable(){const t=[];return this.oldRange&&t.push(this.oldRange.clone()),this.newRange&&(this.oldRange?t.push(...this.newRange.getDifference(this.oldRange)):t.push(this.newRange.clone())),t}clone(){return new dc(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new dc(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new dc(t.name,t.oldRange?Ta.fromJSON(t.oldRange,e):null,t.newRange?Ta.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}const cc=function(t,e){return oa(t,e)};class hc extends Yd{constructor(t,e,o,n,r){super(r),this.range=t.clone(),this.key=e,this.oldValue=void 0===o?null:o,this.newValue=void 0===n?null:n}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new hc(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new hc(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new f("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!cc(t.getAttribute(this.key),this.oldValue))throw new f("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new f("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){cc(this.oldValue,this.newValue)||function(t,e,o){nc(t.start),nc(t.end);for(const n of t.getItems({shallow:!0})){const t=n.is("$textProxy")?n.textNode:n;null!==o?t._setAttribute(e,o):t._removeAttribute(e),oc(t.parent,t.index)}oc(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new hc(Ta.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class uc extends Yd{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new uc(this.baseVersion)}getReversed(){return new uc(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class pc extends Yd{constructor(t,e,o,n){super(n),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=o}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new pc(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new pc(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof ya))throw new f("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new f("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new pc(Aa.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class mc extends Yd{constructor(t,e,o,n,r){super(r),this.root=t,this.key=e,this.oldValue=void 0===o?null:o,this.newValue=void 0===n?null:n}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new mc(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new mc(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new f("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new f("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new f("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new f("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new mc(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class gc extends Yd{constructor(t,e,o,n,r){if(super(r),this.rootName=t,this.elementName=e,this.isAdd=o,this._document=n,!this._document.getRoot(this.rootName)){this._document.createRoot(this.elementName,this.rootName)._isAttached=!1}}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new gc(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new gc(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const t=super.toJSON();return delete t._document,t}static get className(){return"RootOperation"}static fromJSON(t,e){return new gc(t.rootName,t.elementName,t.isAdd,e,t.baseVersion)}}const bc={};bc[hc.className]=hc,bc[sc.className]=sc,bc[dc.className]=dc,bc[ic.className]=ic,bc[uc.className]=uc,bc[Yd.className]=Yd,bc[pc.className]=pc,bc[mc.className]=mc,bc[gc.className]=gc,bc[lc.className]=lc,bc[ac.className]=ac;class fc{static fromJSON(t,e){return bc[t.__className].fromJSON(t,e)}}const wc=new Map;function xc(t,e,o){let n=wc.get(t);n||(n=new Map,wc.set(t,n)),n.set(e,o)}function kc(t){return[t]}function yc(t,e,o={}){const n=function(t,e){const o=wc.get(t);return o&&o.has(e)?o.get(e):kc}(t.constructor,e.constructor);try{return n(t=t.clone(),e,o)}catch(t){throw t}}function vc(t,e,o){t=t.slice(),e=e.slice();const n=new _c(o.document,o.useRelations,o.forceWeakRemove);n.setOriginalOperations(t),n.setOriginalOperations(e);const r=n.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:r};const i=new WeakMap;for(const e of t)i.set(e,0);const s={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length};let l=0;for(;l<t.length;){const o=t[l],r=i.get(o);if(r==e.length){l++;continue}const s=e[r],a=yc(o,s,n.getContext(o,s,!0)),d=yc(s,o,n.getContext(s,o,!1));n.updateRelation(o,s),n.setOriginalOperations(a,o),n.setOriginalOperations(d,s);for(const t of a)i.set(t,r+d.length);t.splice(l,1,...a),e.splice(r,1,...d)}if(o.padWithNoOps){const o=t.length-s.originalOperationsACount,n=e.length-s.originalOperationsBCount;Cc(t,n-o),Cc(e,o-n)}return Ac(t,s.nextBaseVersionB),Ac(e,s.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:r}}class _c{constructor(t,e,o=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!o,this._relations=new Map}setOriginalOperations(t,e=null){const o=e?this.originalOperations.get(e):null;for(const e of t)this.originalOperations.set(e,o||e)}updateRelation(t,e){if(t instanceof ic)e instanceof ac?t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter"):e instanceof ic&&(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter"));else if(t instanceof lc){if(e instanceof ac)t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");else if(e instanceof ic)if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const o=Ta._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(t.splitPosition)){const n=o.end.offset-t.splitPosition.offset,r=t.splitPosition.offset-o.start.offset;this._setRelation(t,e,{howMany:n,offset:r})}}}else if(t instanceof ac)e instanceof ac?(t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")):e instanceof lc&&t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource");else if(t instanceof dc){const o=t.newRange;if(!o)return;if(e instanceof ic){const n=Ta._createFromPositionAndShift(e.sourcePosition,e.howMany),r=n.containsPosition(o.start)||n.start.isEqual(o.start),i=n.containsPosition(o.end)||n.end.isEqual(o.end);!r&&!i||n.containsRange(o)||this._setRelation(t,e,{side:r?"left":"right",path:r?o.start.path.slice():o.end.path.slice()})}else if(e instanceof ac){const n=o.start.isEqual(e.targetPosition),r=o.start.isEqual(e.deletionPosition),i=o.end.isEqual(e.deletionPosition),s=o.end.isEqual(e.sourcePosition);(n||r||i||s)&&this._setRelation(t,e,{wasInLeftElement:n,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:i,wasInRightElement:s})}}}getContext(t,e,o){return{aIsStrong:o,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const o=this.originalOperations.get(e),n=this._history.getUndoneOperation(o);if(!n)return null;const r=this.originalOperations.get(t),i=this._relations.get(r);return i&&i.get(n)||null}_setRelation(t,e,o){const n=this.originalOperations.get(t),r=this.originalOperations.get(e);let i=this._relations.get(n);i||(i=new Map,this._relations.set(n,i)),i.set(r,o)}}function Ac(t,e){for(const o of t)o.baseVersion=e++}function Cc(t,e){for(let o=0;o<e;o++)t.push(new uc(0))}function Sc(t,e,o){const n=t.nodes.getNode(0).getAttribute(e);if(n==o)return null;const r=new Ta(t.position,t.position.getShiftedBy(t.howMany));return new hc(r,e,n,o,0)}function Ec(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function Mc(t,e){const o=[];for(let n=0;n<t.length;n++){const r=t[n],i=new ic(r.start,r.end.offset-r.start.offset,e,0);o.push(i);for(let e=n+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];e=e._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}return o}xc(hc,hc,((t,e,o)=>{if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){const n=t.range.getDifference(e.range).map((e=>new hc(e,t.key,t.oldValue,t.newValue,0))),r=t.range.getIntersection(e.range);return r&&o.aIsStrong&&n.push(new hc(r,e.key,e.newValue,t.newValue,0)),0==n.length?[new uc(0)]:n}return[t]})),xc(hc,sc,((t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const o=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map((e=>new hc(e,t.key,t.oldValue,t.newValue,t.baseVersion)));if(e.shouldReceiveAttributes){const n=Sc(e,t.key,t.oldValue);n&&o.unshift(n)}return o}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]})),xc(hc,ac,((t,e)=>{const o=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&o.push(Ta._createFromPositionAndShift(e.graveyardPosition,1));const n=t.range._getTransformedByMergeOperation(e);return n.isCollapsed||o.push(n),o.map((e=>new hc(e,t.key,t.oldValue,t.newValue,t.baseVersion)))})),xc(hc,ic,((t,e)=>{const o=function(t,e){const o=Ta._createFromPositionAndShift(e.sourcePosition,e.howMany);let n=null,r=[];o.containsRange(t,!0)?n=t:t.start.hasSameParentAs(o.start)?(r=t.getDifference(o),n=t.getIntersection(o)):r=[t];const i=[];for(let t of r){t=t._getTransformedByDeletion(e.sourcePosition,e.howMany);const o=e.getMovedRangeStart(),n=t.start.hasSameParentAs(o),r=t._getTransformedByInsertion(o,e.howMany,n);i.push(...r)}n&&i.push(n._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]);return i}(t.range,e);return o.map((e=>new hc(e,t.key,t.oldValue,t.newValue,t.baseVersion)))})),xc(hc,lc,((t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const o=t.clone();return o.range=new Ta(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,o]}return t.range=t.range._getTransformedBySplitOperation(e),[t]})),xc(sc,hc,((t,e)=>{const o=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const n=Sc(t,e.key,e.newValue);n&&o.push(n)}return o})),xc(sc,sc,((t,e,o)=>(t.position.isEqual(e.position)&&o.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t]))),xc(sc,ic,((t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]))),xc(sc,lc,((t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t]))),xc(sc,ac,((t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t]))),xc(dc,sc,((t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]))),xc(dc,dc,((t,e,o)=>{if(t.name==e.name){if(!o.aIsStrong)return[new uc(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]})),xc(dc,ac,((t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]))),xc(dc,ic,((t,e,o)=>{if(t.oldRange&&(t.oldRange=Ta._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(o.abRelation){const n=Ta._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==o.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.end=n.end,t.newRange.start.path=o.abRelation.path,[t];if("right"==o.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=n.start,t.newRange.end.path=o.abRelation.path,[t]}t.newRange=Ta._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]})),xc(dc,lc,((t,e,o)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(o.abRelation){const n=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&o.abRelation.wasStartBeforeMergedElement?t.newRange.start=Aa._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!o.abRelation.wasInLeftElement&&(t.newRange.start=Aa._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&o.abRelation.wasInRightElement?t.newRange.end=Aa._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&o.abRelation.wasEndBeforeMergedElement?t.newRange.end=Aa._createAt(e.insertionPosition):t.newRange.end=n.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]})),xc(ac,sc,((t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]))),xc(ac,ac,((t,e,o)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(o.bWasUndone){const o=e.graveyardPosition.path.slice();return o.push(0),t.sourcePosition=new Aa(e.graveyardPosition.root,o),t.howMany=0,[t]}return[new uc(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!o.bWasUndone&&"splitAtSource"!=o.abRelation){const n="$graveyard"==t.targetPosition.root.rootName,r="$graveyard"==e.targetPosition.root.rootName;if(r&&!n||!(n&&!r)&&o.aIsStrong){const o=e.targetPosition._getTransformedByMergeOperation(e),n=t.targetPosition._getTransformedByMergeOperation(e);return[new ic(o,t.howMany,n,0)]}return[new uc(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&o.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),xc(ac,ic,((t,e,o)=>{const n=Ta._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!o.bWasUndone&&!o.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.sourcePosition)?[new uc(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])})),xc(ac,lc,((t,e,o)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const n=0!=e.howMany,r=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(n||r||"mergeTargetNotMoved"==o.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==o.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==o.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]})),xc(ic,sc,((t,e)=>{const o=Ta._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=o.start,t.howMany=o.end.offset-o.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]})),xc(ic,ic,((t,e,o)=>{const n=Ta._createFromPositionAndShift(t.sourcePosition,t.howMany),r=Ta._createFromPositionAndShift(e.sourcePosition,e.howMany);let i,s=o.aIsStrong,l=!o.aIsStrong;if("insertBefore"==o.abRelation||"insertAfter"==o.baRelation?l=!0:"insertAfter"!=o.abRelation&&"insertBefore"!=o.baRelation||(l=!1),i=t.targetPosition.isEqual(e.targetPosition)&&l?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ec(t,e)&&Ec(e,t))return[e.getReversed()];if(n.containsPosition(e.targetPosition)&&n.containsRange(r,!0))return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Mc([n],i);if(r.containsPosition(t.targetPosition)&&r.containsRange(n,!0))return n.start=n.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),n.end=n.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Mc([n],i);const a=Z(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==a||"extension"==a)return n.start=n.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),n.end=n.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Mc([n],i);"remove"!=t.type||"remove"==e.type||o.aWasUndone||o.forceWeakRemove?"remove"==t.type||"remove"!=e.type||o.bWasUndone||o.forceWeakRemove||(s=!1):s=!0;const d=[],c=n.getDifference(r);for(const t of c){t.start=t.start._getTransformedByDeletion(e.sourcePosition,e.howMany),t.end=t.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const o="same"==Z(t.start.getParentPath(),e.getMovedRangeStart().getParentPath()),n=t._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,o);d.push(...n)}const h=n.getIntersection(r);return null!==h&&s&&(h.start=h.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),h.end=h.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===d.length?d.push(h):1==d.length?r.start.isBefore(n.start)||r.start.isEqual(n.start)?d.unshift(h):d.push(h):d.splice(1,0,h)),0===d.length?[new uc(t.baseVersion)]:Mc(d,i)})),xc(ic,lc,((t,e,o)=>{let n=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=o.abRelation||(n=t.targetPosition._getTransformedBySplitOperation(e));const r=Ta._createFromPositionAndShift(t.sourcePosition,t.howMany);if(r.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=n,[t];if(r.start.hasSameParentAs(e.splitPosition)&&r.containsPosition(e.splitPosition)){let t=new Ta(e.splitPosition,r.end);t=t._getTransformedBySplitOperation(e);return Mc([new Ta(r.start,e.splitPosition),t],n)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==o.abRelation&&(n=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==o.abRelation&&(n=t.targetPosition);const i=[r._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const n=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);t.howMany>1&&n&&!o.aWasUndone&&i.push(Ta._createFromPositionAndShift(e.insertionPosition,1))}return Mc(i,n)})),xc(ic,ac,((t,e,o)=>{const n=Ta._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.sourcePosition))if("remove"!=t.type||o.forceWeakRemove){if(1==t.howMany)return o.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new uc(0)]}else if(!o.aWasUndone){const o=[];let n=e.graveyardPosition.clone(),r=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(o.push(new ic(t.sourcePosition,t.howMany-1,t.targetPosition,0)),n=n._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),r=r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));const i=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),s=new ic(n,1,i,0),l=s.getMovedRangeStart().path.slice();l.push(0);const a=new Aa(s.targetPosition.root,l);r=r._getTransformedByMove(n,i,1);const d=new ic(r,e.howMany,a,0);return o.push(s),o.push(d),o}const r=Ta._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=r.start,t.howMany=r.end.offset-r.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]})),xc(pc,sc,((t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t]))),xc(pc,ac,((t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t]))),xc(pc,ic,((t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t]))),xc(pc,pc,((t,e,o)=>{if(t.position.isEqual(e.position)){if(!o.aIsStrong)return[new uc(0)];t.oldName=e.newName}return[t]})),xc(pc,lc,((t,e)=>{if("same"==Z(t.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){const e=new pc(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,e]}return t.position=t.position._getTransformedBySplitOperation(e),[t]})),xc(mc,mc,((t,e,o)=>{if(t.root===e.root&&t.key===e.key){if(!o.aIsStrong||t.newValue===e.newValue)return[new uc(0)];t.oldValue=e.newValue}return[t]})),xc(gc,gc,((t,e)=>t.rootName===e.rootName&&t.isAdd===e.isAdd?[new uc(0)]:[t])),xc(lc,sc,((t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e),[t]))),xc(lc,ac,((t,e,o)=>{if(!t.graveyardPosition&&!o.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const o=e.graveyardPosition.path.slice();o.push(0);const n=new Aa(e.graveyardPosition.root,o),r=lc.getInsertionPosition(new Aa(e.graveyardPosition.root,o)),i=new lc(n,0,r,null,0);return t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=lc.getInsertionPosition(t.splitPosition),t.graveyardPosition=i.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[i,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=lc.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]})),xc(lc,ic,((t,e,o)=>{const n=Ta._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const r=n.start.isEqual(t.graveyardPosition)||n.containsPosition(t.graveyardPosition);if(!o.bWasUndone&&r){const o=t.splitPosition._getTransformedByMoveOperation(e),n=t.graveyardPosition._getTransformedByMoveOperation(e),r=n.path.slice();r.push(0);const i=new Aa(n.root,r);return[new ic(o,t.howMany,i,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}const r=t.splitPosition.isEqual(e.targetPosition);if(r&&("insertAtSource"==o.baRelation||"splitBefore"==o.abRelation))return t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=lc.getInsertionPosition(t.splitPosition),[t];if(r&&o.abRelation&&o.abRelation.howMany){const{howMany:e,offset:n}=o.abRelation;return t.howMany+=e,t.splitPosition=t.splitPosition.getShiftedBy(n),[t]}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)){const o=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=o,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=lc.getInsertionPosition(t.splitPosition),[t]}return e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=lc.getInsertionPosition(t.splitPosition),[t]})),xc(lc,lc,((t,e,o)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new uc(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new uc(0)];if("splitBefore"==o.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const n="$graveyard"==t.splitPosition.root.rootName,r="$graveyard"==e.splitPosition.root.rootName;if(r&&!n||!(n&&!r)&&o.aIsStrong){const o=[];return e.howMany&&o.push(new ic(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&o.push(new ic(t.splitPosition,t.howMany,t.moveTargetPosition,0)),o}return[new uc(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==o.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==o.baRelation){const o=e.insertionPosition.path.slice();o.push(0);const n=new Aa(e.insertionPosition.root,o);return[t,new ic(t.insertionPosition,1,n,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=lc.getInsertionPosition(t.splitPosition),[t]}));class Dc extends(E(Aa)){constructor(t,e,o="toNone"){if(super(t,e,o),!this.root.is("rootElement"))throw new f("model-liveposition-root-not-rootelement",t);Tc.call(this)}detach(){this.stopListening()}toPosition(){return new Aa(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function Tc(){this.listenTo(this.root.document.model,"applyOperation",((t,e)=>{const o=e[0];o.isDocumentOperation&&Bc.call(this,o)}),{priority:"low"})}function Bc(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Dc.prototype.is=function(t){return"livePosition"===t||"model:livePosition"===t||"position"==t||"model:position"===t};class Lc{constructor(t={}){"string"==typeof t&&(t="transparent"===t?{isUndoable:!1}:{},w("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:o=!0,isUndo:n=!1,isTyping:r=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=o,this.isUndo=n,this.isTyping=r}get type(){return w("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class Pc{constructor(t){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=t}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size&&0==this._changedRoots.size}bufferOperation(t){const e=t;switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const t of e.range.getItems({shallow:!0}))this._isInInsertedElement(t.parent)||this._markAttribute(t);break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const t=this._isInInsertedElement(e.sourcePosition.parent),o=this._isInInsertedElement(e.targetPosition.parent);t||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),o||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const t=Ta._createFromPositionAndShift(e.position,1);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getData();this.bufferMarkerChange(e.name,t,t)}break}case"split":{const t=e.splitPosition.parent;this._isInInsertedElement(t)||this._markRemove(t,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break}case"merge":{const t=e.sourcePosition.parent;this._isInInsertedElement(t.parent)||this._markRemove(t.parent,t.startOffset,1);const o=e.graveyardPosition.parent;this._markInsert(o,e.graveyardPosition.offset,1);const n=e.targetPosition.parent;this._isInInsertedElement(n)||this._markInsert(n,e.targetPosition.offset,t.maxOffset);break}case"detachRoot":case"addRoot":{const t=e.affectedSelectable;if(!t._isLoaded)return;if(t.isAttached()==e.isAdd)return;this._bufferRootStateChange(e.rootName,e.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!e.root._isLoaded)return;const t=e.root.rootName;this._bufferRootAttributeChange(t,e.key,e.oldValue,e.newValue);break}}this._cachedChanges=null}bufferMarkerChange(t,e,o){e.range&&e.range.root.is("rootElement")&&!e.range.root._isLoaded&&(e.range=null),o.range&&o.range.root.is("rootElement")&&!o.range.root._isLoaded&&(o.range=null);let n=this._changedMarkers.get(t);n?n.newMarkerData=o:(n={newMarkerData:o,oldMarkerData:e},this._changedMarkers.set(t,n)),null==n.oldMarkerData.range&&null==o.range&&this._changedMarkers.delete(t)}getMarkersToRemove(){const t=[];for(const[e,o]of this._changedMarkers)null!=o.oldMarkerData.range&&t.push({name:e,range:o.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,o]of this._changedMarkers)null!=o.newMarkerData.range&&t.push({name:e,range:o.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map((([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}})))}hasDataChanges(){if(this._changesInElement.size>0)return!0;if(this._changedRoots.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData){const o=t.range&&!e.range,n=!t.range&&e.range,r=t.range&&e.range&&!t.range.isEqual(e.range);if(o||n||r)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const t of this._changesInElement.keys()){const o=this._changesInElement.get(t).sort(((t,e)=>t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1)),n=this._elementSnapshots.get(t),r=Ic(t.getChildren()),i=zc(n.length,o);let s=0,l=0;for(const o of i)if("i"===o)e.push(this._getInsertDiff(t,s,r[s])),s++;else if("r"===o)e.push(this._getRemoveDiff(t,s,n[l])),l++;else if("a"===o){const o=r[s].attributes,i=n[l].attributes;let a;if("$text"==r[s].name)a=new Ta(Aa._createAt(t,s),Aa._createAt(t,s+1));else{const e=t.offsetToIndex(s);a=new Ta(Aa._createAt(t,s),Aa._createAt(t.getChild(e),0))}e.push(...this._getAttributesDiff(a,i,o)),s++,l++}else s++,l++}e.sort(((t,e)=>t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1));for(let t=1,o=0;t<e.length;t++){const n=e[o],r=e[t],i="remove"==n.type&&"remove"==r.type&&"$text"==n.name&&"$text"==r.name&&n.position.isEqual(r.position),s="insert"==n.type&&"insert"==r.type&&"$text"==n.name&&"$text"==r.name&&n.position.parent==r.position.parent&&n.position.offset+n.length==r.position.offset,l="attribute"==n.type&&"attribute"==r.type&&n.position.parent==r.position.parent&&n.range.isFlat&&r.range.isFlat&&n.position.offset+n.length==r.position.offset&&n.attributeKey==r.attributeKey&&n.attributeOldValue==r.attributeOldValue&&n.attributeNewValue==r.attributeNewValue;i||s||l?(n.length++,l&&(n.range.end=n.range.end.getShiftedBy(1)),e[t]=null):o=t}e=e.filter((t=>t));for(const t of e)delete t.changeCount,"attribute"==t.type&&(delete t.position,delete t.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(Rc),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map((t=>{const e={...t};return void 0!==e.state&&delete e.attributes,e}))}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(t,e){if(!this._changedRoots.has(t))return void this._changedRoots.set(t,{name:t,state:e?"attached":"detached"});const o=this._changedRoots.get(t);void 0!==o.state?(delete o.state,void 0===o.attributes&&this._changedRoots.delete(t)):o.state=e?"attached":"detached"}_bufferRootAttributeChange(t,e,o,n){const r=this._changedRoots.get(t)||{name:t},i=r.attributes||{};if(i[e]){const t=i[e];n===t.oldValue?delete i[e]:t.newValue=n}else i[e]={oldValue:o,newValue:n};0===Object.entries(i).length?(delete r.attributes,void 0===r.state&&this._changedRoots.delete(t)):(r.attributes=i,this._changedRoots.set(t,r))}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t);const e=Ta._createOn(t);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getData();this.bufferMarkerChange(t.name,e,e)}this._cachedChanges=null}_bufferRootLoad(t){if(t.isAttached()){this._bufferRootStateChange(t.rootName,!0),this._markInsert(t,0,t.maxOffset);for(const e of t.getAttributeKeys())this._bufferRootAttributeChange(t.rootName,e,null,t.getAttribute(e));for(const e of this._markerCollection)if(e.getRange().root==t){const t=e.getData();this.bufferMarkerChange(e.name,{...t,range:null},t)}}}_markInsert(t,e,o){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const n={type:"insert",offset:e,howMany:o,count:this._changeCount++};this._markChange(t,n)}_markRemove(t,e,o){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const n={type:"remove",offset:e,howMany:o,count:this._changeCount++};this._markChange(t,n),this._removeAllNestedChanges(t,e,o)}_markAttribute(t){if(t.root.is("rootElement")&&!t.root._isLoaded)return;const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const o=this._getChangesForElement(t);this._handleChange(e,o),o.push(e);for(let t=0;t<o.length;t++)o[t].howMany<1&&(o.splice(t,1),t--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,Ic(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const o of e){const n=t.offset+t.howMany,r=o.offset+o.howMany;if("insert"==t.type&&("insert"==o.type&&(t.offset<=o.offset?o.offset+=t.howMany:t.offset<r&&(o.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==o.type&&t.offset<o.offset&&(o.offset+=t.howMany),"attribute"==o.type))if(t.offset<=o.offset)o.offset+=t.howMany;else if(t.offset<r){const r=o.howMany;o.howMany=t.offset-o.offset,e.unshift({type:"attribute",offset:n,howMany:r-o.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==o.type)if(n<=o.offset)o.offset-=t.howMany;else if(n<=r)if(t.offset<o.offset){const e=n-o.offset;o.offset=t.offset,o.howMany-=e,t.nodesToHandle-=e}else o.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=o.offset)t.nodesToHandle-=o.howMany,o.howMany=0;else if(t.offset<r){const e=r-t.offset;o.howMany-=e,t.nodesToHandle-=e}if("remove"==o.type&&(n<=o.offset?o.offset-=t.howMany:t.offset<o.offset&&(t.nodesToHandle+=o.howMany,o.howMany=0)),"attribute"==o.type)if(n<=o.offset)o.offset-=t.howMany;else if(t.offset<o.offset){const e=n-o.offset;o.offset=t.offset,o.howMany-=e}else if(t.offset<r)if(n<=r){const n=o.howMany;o.howMany=t.offset-o.offset;const r=n-o.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:r,count:this._changeCount++})}else o.howMany-=r-t.offset}if("attribute"==t.type){if("insert"==o.type)if(t.offset<o.offset&&n>o.offset){if(n>r){const t={type:"attribute",offset:r,howMany:n-r,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=o.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=o.offset&&t.offset<r&&(n>r?(t.nodesToHandle=n-r,t.offset=r):t.nodesToHandle=0);if("remove"==o.type&&t.offset<o.offset&&n>o.offset){const r={type:"attribute",offset:o.offset,howMany:n-o.offset,count:this._changeCount++};this._handleChange(r,e),e.push(r),t.nodesToHandle=o.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==o.type&&(t.offset>=o.offset&&n<=r?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=o.offset&&n>=r&&(o.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,o){return{type:"insert",position:Aa._createAt(t,e),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,o){return{type:"remove",position:Aa._createAt(t,e),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,o){const n=[];o=new Map(o);for(const[r,i]of e){const e=o.has(r)?o.get(r):null;e!==i&&n.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:i,attributeNewValue:e,changeCount:this._changeCount++}),o.delete(r)}for(const[e,r]of o)n.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:e,attributeOldValue:null,attributeNewValue:r,changeCount:this._changeCount++});return n}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const o=this._changesInElement.get(e),n=t.startOffset;if(o)for(const t of o)if("insert"==t.type&&n>=t.offset&&n<t.offset+t.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,o){const n=new Ta(Aa._createAt(t,e),Aa._createAt(t,e+o));for(const t of n.getItems({shallow:!0}))t.is("element")&&(this._elementSnapshots.delete(t),this._changesInElement.delete(t),this._removeAllNestedChanges(t,0,t.maxOffset))}}function Ic(t){const e=[];for(const o of t)if(o.is("$text"))for(let t=0;t<o.data.length;t++)e.push({name:"$text",attributes:new Map(o.getAttributes())});else e.push({name:o.name,attributes:new Map(o.getAttributes())});return e}function zc(t,e){const o=[];let n=0,r=0;for(const t of e){if(t.offset>n){for(let e=0;e<t.offset-n;e++)o.push("e");r+=t.offset-n}if("insert"==t.type){for(let e=0;e<t.howMany;e++)o.push("i");n=t.offset+t.howMany}else if("remove"==t.type){for(let e=0;e<t.howMany;e++)o.push("r");n=t.offset,r+=t.howMany}else o.push(..."a".repeat(t.howMany).split("")),n=t.offset+t.howMany,r+=t.howMany}if(r<t)for(let e=0;e<t-r-n;e++)o.push("e");return o}function Rc(t){const e="position"in t&&"$graveyard"==t.position.root.rootName,o="range"in t&&"$graveyard"==t.range.root.rootName;return!e&&!o}class Fc{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new f("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,e=this.version){if(!this._operations.length)return[];const o=this._operations[0];void 0===t&&(t=o.baseVersion);let n=e-1;for(const[e,o]of this._gaps)t>e&&t<o&&(t=o),n>e&&n<o&&(n=e-1);if(n<o.baseVersion||t>this.lastOperation.baseVersion)return[];let r=this._baseVersionToOperationIndex.get(t);void 0===r&&(r=0);let i=this._baseVersionToOperationIndex.get(n);return void 0===i&&(i=this._operations.length-1),this._operations.slice(r,i+1)}getOperation(t){const e=this._baseVersionToOperationIndex.get(t);if(void 0!==e)return this._operations[e]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Oc extends ya{constructor(t,e,o="main"){super(e),this._isAttached=!0,this._isLoaded=!0,this._document=t,this.rootName=o}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Oc.prototype.is=function(t,e){return e?e===this.name&&("rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t):"rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t||"node"===t||"model:node"===t};const Vc="$graveyard";class Nc extends(E()){constructor(t){super(),this.model=t,this.history=new Fc,this.selection=new Ga(this),this.roots=new vr({idProperty:"rootName"}),this.differ=new Pc(t.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Vc),this.listenTo(t,"applyOperation",((t,e)=>{const o=e[0];o.isDocumentOperation&&this.differ.bufferOperation(o)}),{priority:"high"}),this.listenTo(t,"applyOperation",((t,e)=>{const o=e[0];o.isDocumentOperation&&this.history.addOperation(o)}),{priority:"low"}),this.listenTo(this.selection,"change",(()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(t.markers,"update",((t,e,o,n,r)=>{const i={...e.getData(),range:n};this.differ.bufferMarkerChange(e.name,r,i),null===o&&e.on("change",((t,o)=>{const n=e.getData();this.differ.bufferMarkerChange(e.name,{...n,range:o},n)}))})),this.registerPostFixer((t=>{let e=!1;for(const o of this.roots)o.isAttached()||o.isEmpty||(t.remove(t.createRangeIn(o)),e=!0);for(const o of this.model.markers)o.getRange().root.isAttached()||(t.removeMarker(o),e=!0);return e}))}get version(){return this.history.version}set version(t){this.history.version=t}get graveyard(){return this.getRoot(Vc)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new f("model-document-createroot-name-exists",this,{name:e});const o=new Oc(this,t,e);return this.roots.add(o),o}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(t=!1){return this.getRoots(t).map((t=>t.rootName))}getRoots(t=!1){return this.roots.filter((e=>e!=this.graveyard&&(t||e.isAttached())&&e._isLoaded))}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Xr(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const t=this.getRoots();return t.length?t[0]:this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,o=e.schema,n=e.createPositionFromPath(t,[0]);return o.getNearestSelectionRange(n)||e.createRange(n)}_validateSelectionRange(t){return $c(t.start)&&$c(t.end)}_callPostFixers(t){let e=!1;do{for(const o of this._postFixers)if(this.selection.refresh(),e=o(t),e)break}while(e)}}function $c(t){const e=t.textNode;if(e){const o=e.data,n=t.offset-e.startOffset;return!Mr(o,n)&&!Dr(o,n)}return!0}class Kc extends(E()){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){const e=t instanceof qc?t.name:t;return this._markers.has(e)}get(t){return this._markers.get(t)||null}_set(t,e,o=!1,n=!1){const r=t instanceof qc?t.name:t;if(r.includes(","))throw new f("markercollection-incorrect-marker-name",this);const i=this._markers.get(r);if(i){const t=i.getData(),s=i.getRange();let l=!1;return s.isEqual(e)||(i._attachLiveRange(Ha.fromRange(e)),l=!0),o!=i.managedUsingOperations&&(i._managedUsingOperations=o,l=!0),"boolean"==typeof n&&n!=i.affectsData&&(i._affectsData=n,l=!0),l&&this.fire(`update:${r}`,i,s,e,t),i}const s=Ha.fromRange(e),l=new qc(r,s,o,n);return this._markers.set(r,l),this.fire(`update:${r}`,l,null,e,{...l.getData(),range:null}),l}_remove(t){const e=t instanceof qc?t.name:t,o=this._markers.get(e);return!!o&&(this._markers.delete(e),this.fire(`update:${e}`,o,o.getRange(),null,o.getData()),this._destroyMarker(o),!0)}_refresh(t){const e=t instanceof qc?t.name:t,o=this._markers.get(e);if(!o)throw new f("markercollection-refresh-marker-not-exists",this);const n=o.getRange();this.fire(`update:${e}`,o,n,n,o.getData())}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}class qc extends(E(ba)){constructor(t,e,o,n){super(),this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=o,this._affectsData=n}get managedUsingOperations(){if(!this._liveRange)throw new f("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new f("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new f("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new f("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new f("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}qc.prototype.is=function(t){return"marker"===t||"model:marker"===t};class Hc extends Yd{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new f("detach-operation-on-document-node",this)}_execute(){Qd(Ta._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class jc extends ba{constructor(t){super(),this.markers=new Map,this._children=new wa,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const o of t)e=e.getChild(e.offsetToIndex(o));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const o of t)o.name?e.push(ya.fromJSON(o)):e.push(xa.fromJSON(o));return new jc(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const o=function(t){if("string"==typeof t)return[new xa(t)];J(t)||(t=[t]);return Array.from(t).map((t=>"string"==typeof t?new xa(t):t instanceof ka?new xa(t.data,t.getAttributes()):t))}(e);for(const t of o)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,o)}_removeChildren(t,e=1){const o=this._children._removeNodes(t,e);for(const t of o)t.parent=null;return o}}jc.prototype.is=function(t){return"documentFragment"===t||"model:documentFragment"===t};class Wc{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new xa(t,e)}createElement(t,e){return new ya(t,e)}createDocumentFragment(){return new jc}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,o=0){if(this._assertWriterUsedCorrectly(),t instanceof xa&&""==t.data)return;const n=Aa._createAt(e,o);if(t.parent){if(Yc(t.root,n.root))return void this.move(Ta._createOn(t),n);if(t.root.document)throw new f("model-writer-insert-forbidden-move",this);this.remove(t)}const r=n.root.document?n.root.document.version:null,i=new sc(n,t,r);if(t instanceof xa&&(i.shouldReceiveAttributes=!0),this.batch.addOperation(i),this.model.applyOperation(i),t instanceof jc)for(const[e,o]of t.markers){const t=Aa._createAt(o.root,0),r={range:new Ta(o.start._getCombined(t,n),o.end._getCombined(t,n)),usingOperation:!0,affectsData:!0};this.model.markers.has(e)?this.updateMarker(e,r):this.addMarker(e,r)}}insertText(t,e,o,n){e instanceof jc||e instanceof ya||e instanceof Aa?this.insert(this.createText(t),e,o):this.insert(this.createText(t,e),o,n)}insertElement(t,e,o,n){e instanceof jc||e instanceof ya||e instanceof Aa?this.insert(this.createElement(t),e,o):this.insert(this.createElement(t,e),o,n)}append(t,e){this.insert(t,e,"end")}appendText(t,e,o){e instanceof jc||e instanceof ya?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),o,"end")}appendElement(t,e,o){e instanceof jc||e instanceof ya?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),o,"end")}setAttribute(t,e,o){if(this._assertWriterUsedCorrectly(),o instanceof Ta){const n=o.getMinimalFlatRanges();for(const o of n)Uc(this,t,e,o)}else Gc(this,t,e,o)}setAttributes(t,e){for(const[o,n]of Sr(t))this.setAttribute(o,n,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof Ta){const o=e.getMinimalFlatRanges();for(const e of o)Uc(this,t,null,e)}else Gc(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof Ta)for(const o of t.getItems())e(o);else e(t)}move(t,e,o){if(this._assertWriterUsedCorrectly(),!(t instanceof Ta))throw new f("writer-move-invalid-range",this);if(!t.isFlat)throw new f("writer-move-range-not-flat",this);const n=Aa._createAt(e,o);if(n.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!Yc(t.root,n.root))throw new f("writer-move-different-document",this);const r=t.root.document?t.root.document.version:null,i=new ic(t.start,t.end.offset-t.start.offset,n,r);this.batch.addOperation(i),this.model.applyOperation(i)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof Ta?t:Ta._createOn(t)).getMinimalFlatRanges().reverse();for(const t of e)this._addOperationForAffectedMarkers("move",t),Jc(t.start,t.end.offset-t.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,o=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof ya))throw new f("writer-merge-no-element-before",this);if(!(o instanceof ya))throw new f("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,o){return this.model.createPositionFromPath(t,e,o)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const e=t.nodeBefore,o=t.nodeAfter;this.move(Ta._createIn(o),Aa._createAt(e,"end")),this.remove(o)}_merge(t){const e=Aa._createAt(t.nodeBefore,"end"),o=Aa._createAt(t.nodeAfter,0),n=t.root.document.graveyard,r=new Aa(n,[0]),i=t.root.document.version,s=new ac(o,t.nodeAfter.maxOffset,e,r,i);this.batch.addOperation(s),this.model.applyOperation(s)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof ya))throw new f("writer-rename-not-element-instance",this);const o=t.root.document?t.root.document.version:null,n=new pc(Aa._createBefore(t),t.name,e,o);this.batch.addOperation(n),this.model.applyOperation(n)}split(t,e){this._assertWriterUsedCorrectly();let o,n,r=t.parent;if(!r.parent)throw new f("writer-split-element-no-parent",this);if(e||(e=r.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new f("writer-split-invalid-limit-element",this);do{const e=r.root.document?r.root.document.version:null,i=r.maxOffset-t.offset,s=lc.getInsertionPosition(t),l=new lc(t,i,s,null,e);this.batch.addOperation(l),this.model.applyOperation(l),o||n||(o=r,n=t.parent.nextSibling),r=(t=this.createPositionAfter(t.parent)).parent}while(r!==e);return{position:t,range:new Ta(Aa._createAt(o,"end"),Aa._createAt(n,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new f("writer-wrap-range-not-flat",this);const o=e instanceof ya?e:new ya(e);if(o.childCount>0)throw new f("writer-wrap-element-not-empty",this);if(null!==o.parent)throw new f("writer-wrap-element-attached",this);this.insert(o,t.start);const n=new Ta(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(n,Aa._createAt(o,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new f("writer-unwrap-element-no-parent",this);this.move(Ta._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new f("writer-addmarker-no-usingoperation",this);const o=e.usingOperation,n=e.range,r=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new f("writer-addmarker-marker-exists",this);if(!n)throw new f("writer-addmarker-no-range",this);return o?(Zc(this,t,null,n,r),this.model.markers.get(t)):this.model.markers._set(t,n,o,r)}updateMarker(t,e){this._assertWriterUsedCorrectly();const o="string"==typeof t?t:t.name,n=this.model.markers.get(o);if(!n)throw new f("writer-updatemarker-marker-not-exists",this);if(!e)return w("writer-updatemarker-reconvert-using-editingcontroller",{markerName:o}),void this.model.markers._refresh(n);const r="boolean"==typeof e.usingOperation,i="boolean"==typeof e.affectsData,s=i?e.affectsData:n.affectsData;if(!r&&!e.range&&!i)throw new f("writer-updatemarker-wrong-options",this);const l=n.getRange(),a=e.range?e.range:l;r&&e.usingOperation!==n.managedUsingOperations?e.usingOperation?Zc(this,o,null,a,s):(Zc(this,o,l,null,s),this.model.markers._set(o,a,void 0,s)):n.managedUsingOperations?Zc(this,o,l,a,s):this.model.markers._set(o,a,void 0,s)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new f("writer-removemarker-no-marker",this);const o=this.model.markers.get(e);if(!o.managedUsingOperations)return void this.model.markers._remove(e);Zc(this,e,o.getRange(),null,o.affectsData)}addRoot(t,e="$root"){this._assertWriterUsedCorrectly();const o=this.model.document.getRoot(t);if(o&&o.isAttached())throw new f("writer-addroot-root-exists",this);const n=this.model.document,r=new gc(t,e,!0,n,n.version);return this.batch.addOperation(r),this.model.applyOperation(r),this.model.document.getRoot(t)}detachRoot(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?this.model.document.getRoot(t):t;if(!e||!e.isAttached())throw new f("writer-detachroot-no-root",this);for(const t of this.model.markers)t.getRange().root===e&&this.removeMarker(t);for(const t of e.getAttributeKeys())this.removeAttribute(t,e);this.remove(this.createRangeIn(e));const o=this.model.document,n=new gc(e.rootName,e.name,!1,o,o.version);this.batch.addOperation(n),this.model.applyOperation(n)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else for(const[e,o]of Sr(t))this._setSelectionAttribute(e,o)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const n=Ga._getStoreAttributeKey(t);this.setAttribute(n,e,o.anchor.parent)}o._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const o=Ga._getStoreAttributeKey(t);this.removeAttribute(o,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new f("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const o of this.model.markers){if(!o.managedUsingOperations)continue;const n=o.getRange();let r=!1;if("move"===t){const t=e;r=t.containsPosition(n.start)||t.start.isEqual(n.start)||t.containsPosition(n.end)||t.end.isEqual(n.end)}else{const t=e,o=t.nodeBefore,i=t.nodeAfter,s=n.start.parent==o&&n.start.isAtEnd,l=n.end.parent==i&&0==n.end.offset,a=n.end.nodeAfter==i,d=n.start.nodeAfter==i;r=s||l||a||d}r&&this.updateMarker(o.name,{range:n})}}}function Uc(t,e,o,n){const r=t.model,i=r.document;let s,l,a,d=n.start;for(const t of n.getWalker({shallow:!0}))a=t.item.getAttribute(e),s&&l!=a&&(l!=o&&c(),d=s),s=t.nextPosition,l=a;function c(){const n=new Ta(d,s),a=n.root.document?i.version:null,c=new hc(n,e,l,o,a);t.batch.addOperation(c),r.applyOperation(c)}s instanceof Aa&&s!=d&&l!=o&&c()}function Gc(t,e,o,n){const r=t.model,i=r.document,s=n.getAttribute(e);let l,a;if(s!=o){if(n.root===n){const t=n.document?i.version:null;a=new mc(n,e,s,o,t)}else{l=new Ta(Aa._createBefore(n),t.createPositionAfter(n));const r=l.root.document?i.version:null;a=new hc(l,e,s,o,r)}t.batch.addOperation(a),r.applyOperation(a)}}function Zc(t,e,o,n,r){const i=t.model,s=i.document,l=new dc(e,o,n,i.markers,!!r,s.version);t.batch.addOperation(l),i.applyOperation(l)}function Jc(t,e,o,n){let r;if(t.root.document){const o=n.document,i=new Aa(o.graveyard,[0]);r=new ic(t,e,i,o.version)}else r=new Hc(t,e);o.addOperation(r),n.applyOperation(r)}function Yc(t,e){return t===e||t instanceof Oc&&e instanceof Oc}function Xc(t,e,o={}){if(e.isCollapsed)return;const n=e.getFirstRange();if("$graveyard"==n.root.rootName)return;const r=t.schema;t.change((t=>{if(!o.doNotResetEntireContent&&function(t,e){const o=t.getLimitElement(e);if(!e.containsEntireContent(o))return!1;const n=e.getFirstRange();if(n.start.parent==n.end.parent)return!1;return t.checkChild(o,"paragraph")}(r,e))return void function(t,e){const o=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(o)),oh(t,t.createPositionAt(o,0),e)}(t,e);const i={};if(!o.doNotAutoparagraph){const t=e.getSelectedElement();t&&Object.assign(i,r.getAttributesWithProperty(t,"copyOnReplace",!0))}const[s,l]=function(t){const e=t.root.document.model,o=t.start;let n=t.end;if(e.hasContent(t,{ignoreMarkers:!0})){const o=function(t){const e=t.parent,o=e.root.document.model.schema,n=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const t of n){if(o.isLimit(t))return null;if(o.isBlock(t))return t}}(n);if(o&&n.isTouching(e.createPositionAt(o,0))){const o=e.createSelection(t);e.modifySelection(o,{direction:"backward"});const r=o.getLastPosition(),i=e.createRange(r,n);e.hasContent(i,{ignoreMarkers:!0})||(n=r)}}return[Dc.fromPosition(o,"toPrevious"),Dc.fromPosition(n,"toNext")]}(n);s.isTouching(l)||t.remove(t.createRange(s,l)),o.leaveUnmerged||(!function(t,e,o){const n=t.model;if(!eh(t.model.schema,e,o))return;const[r,i]=function(t,e){const o=t.getAncestors(),n=e.getAncestors();let r=0;for(;o[r]&&o[r]==n[r];)r++;return[o[r],n[r]]}(e,o);if(!r||!i)return;!n.hasContent(r,{ignoreMarkers:!0})&&n.hasContent(i,{ignoreMarkers:!0})?th(t,e,o,r.parent):Qc(t,e,o,r.parent)}(t,s,l),r.removeDisallowedAttributes(s.parent.getChildren(),t)),nh(t,e,s),!o.doNotAutoparagraph&&function(t,e){const o=t.checkChild(e,"$text"),n=t.checkChild(e,"paragraph");return!o&&n}(r,s)&&oh(t,s,e,i),s.detach(),l.detach()}))}function Qc(t,e,o,n){const r=e.parent,i=o.parent;if(r!=n&&i!=n){for(e=t.createPositionAfter(r),(o=t.createPositionBefore(i)).isEqual(e)||t.insert(i,e),t.merge(e);o.parent.isEmpty;){const e=o.parent;o=t.createPositionBefore(e),t.remove(e)}eh(t.model.schema,e,o)&&Qc(t,e,o,n)}}function th(t,e,o,n){const r=e.parent,i=o.parent;if(r!=n&&i!=n){for(e=t.createPositionAfter(r),(o=t.createPositionBefore(i)).isEqual(e)||t.insert(r,o);e.parent.isEmpty;){const o=e.parent;e=t.createPositionBefore(o),t.remove(o)}o=t.createPositionBefore(i),function(t,e){const o=e.nodeBefore,n=e.nodeAfter;o.name!=n.name&&t.rename(o,n.name);t.clearAttributes(o),t.setAttributes(Object.fromEntries(n.getAttributes()),o),t.merge(e)}(t,o),eh(t.model.schema,e,o)&&th(t,e,o,n)}}function eh(t,e,o){const n=e.parent,r=o.parent;return n!=r&&(!t.isLimit(n)&&!t.isLimit(r)&&function(t,e,o){const n=new Ta(t,e);for(const t of n.getWalker())if(o.isLimit(t.item))return!1;return!0}(e,o,t))}function oh(t,e,o,n={}){const r=t.createElement("paragraph");t.model.schema.setAllowedAttributes(r,n,t),t.insert(r,e),nh(t,o,t.createPositionAt(r,0))}function nh(t,e,o){e instanceof Ga?t.setSelection(o):e.setTo(o)}function rh(t,e){const o=[];Array.from(t.getItems({direction:"backward"})).map((t=>e.createRangeOn(t))).filter((e=>(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end)))).forEach((t=>{o.push(t.start.parent),e.remove(t)})),o.forEach((t=>{let o=t;for(;o.parent&&o.isEmpty;){const t=e.createRangeOn(o);o=o.parent,e.remove(t)}}))}class ih{constructor(t,e,o){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=t,this.writer=e,this.position=o,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),o=this.writer.createPositionAfter(t);if(o.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new f("insertcontent-invalid-insertion-position",this);this.position=o,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Ta._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Ta(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t))return void this._handleObject(t);let e=this._checkAndAutoParagraphToAllowedPosition(t);e||(e=this._checkAndSplitToAllowedPosition(t),e)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=Dc.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new f("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=t:this._nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=Dc.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Dc.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof ya))return;if(!this._canMergeLeft(t))return;const e=Dc._createBefore(t);e.stickiness="toNext";const o=Dc.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=Dc._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Dc._createAt(e.nodeBefore,"end","toNext")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof ya))return;if(!this._canMergeRight(t))return;const e=Dc._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new f("insertcontent-invalid-insertion-position",this);this.position=Aa._createAt(e.nodeBefore,"end");const o=Dc.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=Dc._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Dc._createAt(e.nodeBefore,0,"toPrevious")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof ya&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof ya&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_tryAutoparagraphing(t){const e=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,e)&&this.schema.checkChild(e,t)&&(e._appendChild(t),this._handleNode(e))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();const e=this.writer.createElement("paragraph");return this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0),!0}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===e&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function sh(t,e,o="auto"){const n=t.getSelectedElement();if(n&&e.schema.isObject(n)&&!e.schema.isInline(n))return"before"==o||"after"==o?e.createRange(e.createPositionAt(n,o)):e.createRangeOn(n);const r=_r(t.getSelectedBlocks());if(!r)return e.createRange(t.focus);if(r.isEmpty)return e.createRange(e.createPositionAt(r,0));const i=e.createPositionAfter(r);return t.focus.isTouching(i)?e.createRange(i):e.createRange(e.createPositionBefore(r))}function lh(t,e,o,n={}){if(!t.schema.isObject(e))throw new f("insertobject-element-not-an-object",t,{object:e});const r=o||t.document.selection;let i=r;n.findOptimalPosition&&t.schema.isBlock(e)&&(i=t.createSelection(sh(r,t,n.findOptimalPosition)));const s=_r(r.getSelectedBlocks()),l={};return s&&Object.assign(l,t.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),t.change((o=>{i.isCollapsed||t.deleteContent(i,{doNotAutoparagraph:!0});let r=e;const s=i.anchor.parent;!t.schema.checkChild(s,e)&&t.schema.checkChild(s,"paragraph")&&t.schema.checkChild("paragraph",e)&&(r=o.createElement("paragraph"),o.insert(e,r)),t.schema.setAllowedAttributes(r,l,o);const a=t.insertContent(r,i);return a.isCollapsed||n.setSelection&&function(t,e,o,n){const r=t.model;if("on"==o)return void t.setSelection(e,"on");if("after"!=o)throw new f("insertobject-invalid-place-parameter-value",r);let i=e.nextSibling;if(r.schema.isInline(e))return void t.setSelection(e,"after");const s=i&&r.schema.checkChild(i,"$text");!s&&r.schema.checkChild(e.parent,"paragraph")&&(i=t.createElement("paragraph"),r.schema.setAllowedAttributes(i,n,t),r.insertContent(i,t.createPositionAfter(e)));i&&t.setSelection(i,0)}(o,e,n.setSelection,l),a}))}const ah=' ,.?!:;"-()';function dh(t,e){const{isForward:o,walker:n,unit:r,schema:i,treatEmojiAsSingleUnit:s}=t,{type:l,item:a,nextPosition:d}=e;if("text"==l)return"word"===t.unit?function(t,e){let o=t.position.textNode;o||(o=e?t.position.nodeAfter:t.position.nodeBefore);for(;o&&o.is("$text");){const n=t.position.offset-o.startOffset;if(uh(o,n,e))o=e?t.position.nodeAfter:t.position.nodeBefore;else{if(hh(o.data,n,e))break;t.next()}}return t.position}(n,o):function(t,e,o){const n=t.position.textNode;if(n){const r=n.data;let i=t.position.offset-n.startOffset;for(;Mr(r,i)||"character"==e&&Dr(r,i)||o&&Br(r,i);)t.next(),i=t.position.offset-n.startOffset}return t.position}(n,r,s);if(l==(o?"elementStart":"elementEnd")){if(i.isSelectable(a))return Aa._createAt(a,o?"after":"before");if(i.checkChild(d,"$text"))return d}else{if(i.isLimit(a))return void n.skip((()=>!0));if(i.checkChild(d,"$text"))return d}}function ch(t,e){const o=t.root,n=Aa._createAt(o,e?"end":0);return e?new Ta(t,n):new Ta(n,t)}function hh(t,e,o){const n=e+(o?0:-1);return ah.includes(t.charAt(n))}function uh(t,e,o){return e===(o?t.offsetSize:0)}class ph extends(K()){constructor(){super(),this.markers=new Kc,this.document=new Nc(this),this.schema=new Dd,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((t=>this.decorate(t))),this.on("applyOperation",((t,e)=>{e[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(((t,e)=>{if("$marker"===e.name)return!0})),yd(this),this.document.registerPostFixer(hd),this.on("insertContent",((t,[e,o])=>{t.return=function(t,e,o){return t.change((n=>{const r=o||t.document.selection;r.isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0});const i=new ih(t,n,r.anchor),s=[];let l;if(e.is("documentFragment")){if(e.markers.size){const t=[];for(const[o,n]of e.markers){const{start:e,end:r}=n,i=e.isEqual(r);t.push({position:e,name:o,isCollapsed:i},{position:r,name:o,isCollapsed:i})}t.sort((({position:t},{position:e})=>t.isBefore(e)?1:-1));for(const{position:o,name:r,isCollapsed:i}of t){let t=null,l=null;const a=o.parent===e&&o.isAtStart,d=o.parent===e&&o.isAtEnd;a||d?i&&(l=a?"start":"end"):(t=n.createElement("$marker"),n.insert(t,o)),s.push({name:r,element:t,collapsed:l})}}l=e.getChildren()}else l=[e];i.handleNodes(l);let a=i.getSelectionRange();if(e.is("documentFragment")&&s.length){const t=a?Ha.fromRange(a):null,e={};for(let t=s.length-1;t>=0;t--){const{name:o,element:r,collapsed:l}=s[t],a=!e[o];if(a&&(e[o]=[]),r){const t=n.createPositionAt(r,"before");e[o].push(t),n.remove(r)}else{const t=i.getAffectedRange();if(!t){l&&e[o].push(i.position);continue}l?e[o].push(t[l]):e[o].push(a?t.start:t.end)}}for(const[t,[o,r]]of Object.entries(e))o&&r&&o.root===r.root&&n.addMarker(t,{usingOperation:!0,affectsData:!0,range:new Ta(o,r)});t&&(a=t.toRange(),t.detach())}a&&(r instanceof Ga?n.setSelection(a):r.setTo(a));const d=i.getAffectedRange()||t.createRange(r.anchor);return i.destroy(),d}))}(this,e,o)})),this.on("insertObject",((t,[e,o,n])=>{t.return=lh(this,e,o,n)})),this.on("canEditAt",(t=>{const e=!this.document.isReadOnly;t.return=e,e||t.stop()}))}change(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Lc,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(t){f.rethrowUnexpectedError(t,this)}}enqueueChange(t,e){try{t?"function"==typeof t?(e=t,t=new Lc):t instanceof Lc||(t=new Lc(t)):t=new Lc,this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(t){f.rethrowUnexpectedError(t,this)}}applyOperation(t){t._execute()}insertContent(t,e,o,...n){const r=mh(e,o);return this.fire("insertContent",[t,r,o,...n])}insertObject(t,e,o,n,...r){const i=mh(e,o);return this.fire("insertObject",[t,i,n,n,...r])}deleteContent(t,e){Xc(this,t,e)}modifySelection(t,e){!function(t,e,o={}){const n=t.schema,r="backward"!=o.direction,i=o.unit?o.unit:"character",s=!!o.treatEmojiAsSingleUnit,l=e.focus,a=new va({boundaries:ch(l,r),singleCharacters:!0,direction:r?"forward":"backward"}),d={walker:a,schema:n,isForward:r,unit:i,treatEmojiAsSingleUnit:s};let c;for(;c=a.next();){if(c.done)return;const o=dh(d,c.value);if(o)return void(e instanceof Ga?t.change((t=>{t.setSelectionFocus(o)})):e.setFocus(o))}}(this,t,e)}getSelectedContent(t){return function(t,e){return t.change((t=>{const o=t.createDocumentFragment(),n=e.getFirstRange();if(!n||n.isCollapsed)return o;const r=n.start.root,i=n.start.getCommonPath(n.end),s=r.getNodeByPath(i);let l;l=n.start.parent==n.end.parent?n:t.createRange(t.createPositionAt(s,n.start.path[i.length]),t.createPositionAt(s,n.end.path[i.length]+1));const a=l.end.offset-l.start.offset;for(const e of l.getItems({shallow:!0}))e.is("$textProxy")?t.appendText(e.data,e.getAttributes(),o):t.append(t.cloneElement(e,!0),o);if(l!=n){const e=n._getTransformedByMove(l.start,t.createPositionAt(o,0),a)[0],r=t.createRange(t.createPositionAt(o,0),e.start);rh(t.createRange(e.end,t.createPositionAt(o,"end")),t),rh(r,t)}return o}))}(this,t)}hasContent(t,e={}){const o=t instanceof Ta?t:Ta._createIn(t);if(o.isCollapsed)return!1;const{ignoreWhitespaces:n=!1,ignoreMarkers:r=!1}=e;if(!r)for(const t of this.markers.getMarkersIntersectingRange(o))if(t.affectsData)return!0;for(const t of o.getItems())if(this.schema.isContent(t)){if(!t.is("$textProxy"))return!0;if(!n)return!0;if(-1!==t.data.search(/\S/))return!0}return!1}canEditAt(t){const e=mh(t);return this.fire("canEditAt",[e])}createPositionFromPath(t,e,o){return new Aa(t,e,o)}createPositionAt(t,e){return Aa._createAt(t,e)}createPositionAfter(t){return Aa._createAfter(t)}createPositionBefore(t){return Aa._createBefore(t)}createRange(t,e){return new Ta(t,e)}createRangeIn(t){return Ta._createIn(t)}createRangeOn(t){return Ta._createOn(t)}createSelection(...t){return new Fa(...t)}createBatch(t){return new Lc(t)}createOperationFromJSON(t){return fc.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const e=this._pendingChanges[0].batch;this._currentWriter=new Wc(this,e);const o=this._pendingChanges[0].callback(this._currentWriter);t.push(o),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return t}}function mh(t,e){if(t)return t instanceof Fa||t instanceof Ga?t:t instanceof fa?e||0===e?new Fa(t,e):t.is("rootElement")?new Fa(t,"in"):new Fa(t,"on"):new Fa(t)}class gh extends yl{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}class bh extends yl{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(t){this.fire(t.type,t)}}class fh{constructor(t){this.document=t}createDocumentFragment(t){return new Ps(this.document,t)}createElement(t,e,o){return new os(this.document,t,e,o)}createText(t){return new ti(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,o){return o._insertChild(t,e)}removeChildren(t,e,o){return o._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const o=t.parent;if(o){const n=o.getChildIndex(t);return this.removeChildren(n,1,o),this.insertChild(n,e,o),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const o=e.getChildIndex(t);this.remove(t),this.insertChild(o,t.getChildren(),e)}}rename(t,e){const o=new os(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,o)?o:null}setAttribute(t,e,o){o._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,o){yt(t)&&void 0===o?e._setStyle(t):o._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,o){o._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return cs._createAt(t,e)}createPositionAfter(t){return cs._createAfter(t)}createPositionBefore(t){return cs._createBefore(t)}createRange(t,e){return new hs(t,e)}createRangeOn(t){return hs._createOn(t)}createRangeIn(t){return hs._createIn(t)}createSelection(...t){return new ps(...t)}}const wh=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,xh=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,kh=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,yh=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,vh=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,_h=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi,Ah=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);function Ch(t){return t.startsWith("#")?wh.test(t):t.startsWith("rgb")?xh.test(t)||kh.test(t):t.startsWith("hsl")?yh.test(t)||vh.test(t):Ah.has(t.toLowerCase())}const Sh=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function Eh(t){return Sh.includes(t)}const Mh=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function Dh(t){return Mh.test(t)}const Th=/^[+-]?[0-9]*([.][0-9]+)?%$/;function Bh(t){return Th.test(t)}const Lh=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function Ph(t){return Lh.includes(t)}const Ih=["center","top","bottom","left","right"];function zh(t){return Ih.includes(t)}const Rh=["fixed","scroll","local"];function Fh(t){return Rh.includes(t)}const Oh=/^url\(/;function Vh(t){return Oh.test(t)}function Nh(t=""){if(""===t)return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=Hh(t),o=e[0],n=e[2]||o,r=e[1]||o;return{top:o,bottom:n,right:r,left:e[3]||r}}function $h(t){return e=>{const{top:o,right:n,bottom:r,left:i}=e,s=[];return[o,n,i,r].every((t=>!!t))?s.push([t,Kh(e)]):(o&&s.push([t+"-top",o]),n&&s.push([t+"-right",n]),r&&s.push([t+"-bottom",r]),i&&s.push([t+"-left",i])),s}}function Kh({top:t,right:e,bottom:o,left:n}){const r=[];return n!==e?r.push(t,e,o,n):o!==t?r.push(t,e,o):e!==t?r.push(t,e):r.push(t),r.join(" ")}function qh(t){return e=>({path:t,value:Nh(e)})}function Hh(t){const e=t.matchAll(_h);return Array.from(e).map((t=>t[0]))}function jh(t){t.setNormalizer("background",(t=>{const e={},o=Hh(t);for(const t of o)Ph(t)?(e.repeat=e.repeat||[],e.repeat.push(t)):zh(t)?(e.position=e.position||[],e.position.push(t)):Fh(t)?e.attachment=t:Ch(t)?e.color=t:Vh(t)&&(e.image=t);return{path:"background",value:e}})),t.setNormalizer("background-color",(t=>({path:"background.color",value:t}))),t.setReducer("background",(t=>{const e=[];return e.push(["background-color",t.color]),e})),t.setStyleRelation("background",["background-color"])}function Wh(t){t.setNormalizer("border",(t=>{const{color:e,style:o,width:n}=Qh(t);return{path:"border",value:{color:Nh(e),style:Nh(o),width:Nh(n)}}})),t.setNormalizer("border-top",Uh("top")),t.setNormalizer("border-right",Uh("right")),t.setNormalizer("border-bottom",Uh("bottom")),t.setNormalizer("border-left",Uh("left")),t.setNormalizer("border-color",Gh("color")),t.setNormalizer("border-width",Gh("width")),t.setNormalizer("border-style",Gh("style")),t.setNormalizer("border-top-color",Jh("color","top")),t.setNormalizer("border-top-style",Jh("style","top")),t.setNormalizer("border-top-width",Jh("width","top")),t.setNormalizer("border-right-color",Jh("color","right")),t.setNormalizer("border-right-style",Jh("style","right")),t.setNormalizer("border-right-width",Jh("width","right")),t.setNormalizer("border-bottom-color",Jh("color","bottom")),t.setNormalizer("border-bottom-style",Jh("style","bottom")),t.setNormalizer("border-bottom-width",Jh("width","bottom")),t.setNormalizer("border-left-color",Jh("color","left")),t.setNormalizer("border-left-style",Jh("style","left")),t.setNormalizer("border-left-width",Jh("width","left")),t.setExtractor("border-top",Yh("top")),t.setExtractor("border-right",Yh("right")),t.setExtractor("border-bottom",Yh("bottom")),t.setExtractor("border-left",Yh("left")),t.setExtractor("border-top-color","border.color.top"),t.setExtractor("border-right-color","border.color.right"),t.setExtractor("border-bottom-color","border.color.bottom"),t.setExtractor("border-left-color","border.color.left"),t.setExtractor("border-top-width","border.width.top"),t.setExtractor("border-right-width","border.width.right"),t.setExtractor("border-bottom-width","border.width.bottom"),t.setExtractor("border-left-width","border.width.left"),t.setExtractor("border-top-style","border.style.top"),t.setExtractor("border-right-style","border.style.right"),t.setExtractor("border-bottom-style","border.style.bottom"),t.setExtractor("border-left-style","border.style.left"),t.setReducer("border-color",$h("border-color")),t.setReducer("border-style",$h("border-style")),t.setReducer("border-width",$h("border-width")),t.setReducer("border-top",tu("top")),t.setReducer("border-right",tu("right")),t.setReducer("border-bottom",tu("bottom")),t.setReducer("border-left",tu("left")),t.setReducer("border",function(){return e=>{const o=Xh(e,"top"),n=Xh(e,"right"),r=Xh(e,"bottom"),i=Xh(e,"left"),s=[o,n,r,i],l={width:t(s,"width"),style:t(s,"style"),color:t(s,"color")},a=eu(l,"all");if(a.length)return a;const d=Object.entries(l).reduce(((t,[e,o])=>(o&&(t.push([`border-${e}`,o]),s.forEach((t=>delete t[e]))),t)),[]);return[...d,...eu(o,"top"),...eu(n,"right"),...eu(r,"bottom"),...eu(i,"left")]};function t(t,e){return t.map((t=>t[e])).reduce(((t,e)=>t==e?t:null))}}()),t.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),t.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),t.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),t.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),t.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),t.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),t.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),t.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function Uh(t){return e=>{const{color:o,style:n,width:r}=Qh(e),i={};return void 0!==o&&(i.color={[t]:o}),void 0!==n&&(i.style={[t]:n}),void 0!==r&&(i.width={[t]:r}),{path:"border",value:i}}}function Gh(t){return e=>({path:"border",value:Zh(e,t)})}function Zh(t,e){return{[e]:Nh(t)}}function Jh(t,e){return o=>({path:"border",value:{[t]:{[e]:o}}})}function Yh(t){return(e,o)=>{if(o.border)return Xh(o.border,t)}}function Xh(t,e){const o={};return t.width&&t.width[e]&&(o.width=t.width[e]),t.style&&t.style[e]&&(o.style=t.style[e]),t.color&&t.color[e]&&(o.color=t.color[e]),o}function Qh(t){const e={},o=Hh(t);for(const t of o)Dh(t)||/thin|medium|thick/.test(t)?e.width=t:Eh(t)?e.style=t:e.color=t;return e}function tu(t){return e=>eu(e,t)}function eu(t,e){const o=[];if(t&&t.width&&o.push("width"),t&&t.style&&o.push("style"),t&&t.color&&o.push("color"),3==o.length){const n=o.map((e=>t[e])).join(" ");return["all"==e?["border",n]:[`border-${e}`,n]]}return"all"==e?[]:o.map((o=>[`border-${e}-${o}`,t[o]]))}function ou(t){t.setNormalizer("margin",qh("margin")),t.setNormalizer("margin-top",(t=>({path:"margin.top",value:t}))),t.setNormalizer("margin-right",(t=>({path:"margin.right",value:t}))),t.setNormalizer("margin-bottom",(t=>({path:"margin.bottom",value:t}))),t.setNormalizer("margin-left",(t=>({path:"margin.left",value:t}))),t.setReducer("margin",$h("margin")),t.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function nu(t){t.setNormalizer("padding",qh("padding")),t.setNormalizer("padding-top",(t=>({path:"padding.top",value:t}))),t.setNormalizer("padding-right",(t=>({path:"padding.right",value:t}))),t.setNormalizer("padding-bottom",(t=>({path:"padding.bottom",value:t}))),t.setNormalizer("padding-left",(t=>({path:"padding.left",value:t}))),t.setReducer("padding",$h("padding")),t.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}class ru{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const o=this.get(t);if(!o)throw new f("commandcollection-command-not-found",this,{commandName:t});return o.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class iu extends Cr{constructor(t){super(),this.editor=t}set(t,e,o={}){if("string"==typeof e){const t=e;e=(e,o)=>{this.editor.execute(t),o()}}super.set(t,e,o)}}class su extends(K()){constructor(t={}){super();const e=this.constructor,o=t.language||e.defaultConfig&&e.defaultConfig.language;this._context=t.context||new Or({language:o}),this._context._addEditor(this,!t.context);const n=Array.from(e.builtinPlugins||[]);this.config=new kn(t,e.defaultConfig),this.config.define("plugins",n),this.config.define(this._context._getEditorConfig()),this.plugins=new Fr(this,n,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new ru,this.set("state","initializing"),this.once("ready",(()=>this.state="ready"),{priority:"high"}),this.once("destroy",(()=>this.state="destroyed"),{priority:"high"}),this.model=new ph,this.on("change:isReadOnly",(()=>{this.model.document.isReadOnly=this.isReadOnly}));const r=new Qi;this.data=new Ud(this.model,r),this.editing=new Cd(this.model,r),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Gd([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new iu(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(t){throw new f("editor-isreadonly-has-no-setter")}enableReadOnlyMode(t){if("string"!=typeof t&&"symbol"!=typeof t)throw new f("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)||(this._readOnlyLocks.add(t),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(t){if("string"!=typeof t&&"symbol"!=typeof t)throw new f("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)&&(this._readOnlyLocks.delete(t),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const t=this.config,e=t.get("plugins"),o=t.get("removePlugins")||[],n=t.get("extraPlugins")||[],r=t.get("substitutePlugins")||[];return this.plugins.init(e.concat(n),o,r)}destroy(){let t=Promise.resolve();return"initializing"==this.state&&(t=new Promise((t=>this.once("ready",t)))),t.then((()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()})).then((()=>this.plugins.destroy())).then((()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})).then((()=>this._context._removeEditor(this)))}execute(t,...e){try{return this.commands.execute(t,...e)}catch(t){f.rethrowUnexpectedError(t,this)}}focus(){this.editing.view.focus()}static create(...t){throw new Error("This is an abstract method.")}}function lu(t){return class extends t{setData(t){this.data.set(t)}getData(t){return this.data.get(t)}}}{const t=lu(Object);lu.setData=t.prototype.setData,lu.getData=t.prototype.getData}function au(t){return class extends t{updateSourceElement(t){if(!this.sourceElement)throw new f("editor-missing-sourceelement",this);const e=this.config.get("updateSourceElementOnDestroy"),o=this.sourceElement instanceof HTMLTextAreaElement;if(!e&&!o)return void Kn(this.sourceElement,"");const n="string"==typeof t?t:this.data.get();Kn(this.sourceElement,n)}}}au.updateSourceElement=au(Object).prototype.updateSourceElement;class du extends Vr{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new vr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if("string"!=typeof t)throw new f("pendingactions-add-invalid-message",this);const e=new(K());return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const cu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',hu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',uu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',pu={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:cu,caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:hu,cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:uu,history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 10.5a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1H1Zm5.006 7.25-.221-.74h-1.84l-.22.74H2l1.915-5.25h1.961l1.916 5.25H6.006Zm-1.71-1.915h1.138l-.55-1.87h-.03l-.557 1.87ZM8.772 12.5h1.686v3.907h2.694v1.343h-4.38V12.5Zm8.067 5.25v-3.907h1.717V12.5h-5.128v1.343h1.725v3.907h1.686Z"/><path d="M8.013 7.326a.577.577 0 0 0-.797-.028L5.214 9.5h5.126L8.013 7.326ZM11.778 9.5h3.098l-1.015-1.197a.58.58 0 0 0-.788 0L11.778 9.5Zm4.364 0V1.83H3.858V9.5H2.5V1.45c0-.525.444-.95.996-.95h13.017c.543 0 .987.425.987.95V9.5h-1.358Zm-4.576-4.623a1.776 1.776 0 1 0 3.522-.462 1.776 1.776 0 0 0-3.522.462Z"/></svg>\n',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'};class mu{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const e="error"in t?t.error:t.reason;e instanceof Error&&this._handleError(e,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter((t=>t!==e))}_fire(t,...e){const o=this._listeners[t]||[];for(const t of o)t.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&void 0!==t.context&&null!==t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;return(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function gu(t,e=new Set){const o=[t],n=new Set;let r=0;for(;o.length>r;){const t=o[r++];if(!n.has(t)&&bu(t)&&!e.has(t))if(n.add(t),Symbol.iterator in t)try{for(const e of t)o.push(e)}catch(t){}else for(const e in t)"defaultValue"!==e&&o.push(t[e])}return n}function bu(t){const e=Object.prototype.toString.call(t),o=typeof t;return!("number"===o||"boolean"===o||"string"===o||"symbol"===o||"function"===o||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}function fu(t,e,o=new Set){if(t===e&&("object"==typeof(n=t)&&null!==n))return!0;var n;const r=gu(t,o),i=gu(e,o);for(const t of r)if(i.has(t))return!0;return!1}const wu=function(t,e,o){var n=!0,r=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return z(o)&&(n="leading"in o?!!o.leading:n,r="trailing"in o?!!o.trailing:r),zl(t,e,{leading:n,maxWait:e,trailing:r})};class xu extends mu{constructor(t,e={}){super(e),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=wu(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),t&&(this._creator=(e,o)=>t.create(e,o)),this._destructor=t=>t.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then((()=>(this.state="initializing",this._fire("stateChange"),this._destroy()))).catch((t=>{console.error("An error happened during the editor destroying.",t)})).then((()=>{const t={},e=[],o=this._config.rootsAttributes||{},n={};for(const[r,i]of Object.entries(this._data.roots))i.isLoaded?(t[r]="",n[r]=o[r]||{}):e.push(r);const r={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:e,rootsAttributes:n,_watchdogInitialData:this._data};return delete r.initialData,r.extraPlugins.push(ku),this._initUsingData?this.create(t,r,r.context):xn(this._elementOrData)?this.create(this._elementOrData,r,r.context):this.create(this._editables,r,r.context)})).then((()=>{this._fire("restart")}))}create(t=this._elementOrData,e=this._config,o){return Promise.resolve().then((()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData="string"==typeof t||Object.keys(t).length>0&&"string"==typeof Object.values(t)[0],this._config=this._cloneEditorConfiguration(e)||{},this._config.context=o,this._creator(t,this._config)))).then((t=>{this._editor=t,t.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=t.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}))}destroy(){return Promise.resolve().then((()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)}))}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,e=t.model.document.roots.filter((t=>t.isAttached()&&"$graveyard"!=t.rootName)),{plugins:o}=t,n=o.has("CommentsRepository")&&o.get("CommentsRepository"),r=o.has("TrackChanges")&&o.get("TrackChanges"),i={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};e.forEach((t=>{i.roots[t.rootName]={content:JSON.stringify(Array.from(t.getChildren())),attributes:JSON.stringify(Array.from(t.getAttributes())),isLoaded:t._isLoaded}}));for(const e of t.model.markers)e._affectsData&&(i.markers[e.name]={rangeJSON:e.getRange().toJSON(),usingOperation:e._managedUsingOperations,affectsData:e._affectsData});return n&&(i.commentThreads=JSON.stringify(n.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),r&&(i.suggestions=JSON.stringify(r.getSuggestions({toJSON:!0,skipNotAttached:!0}))),i}_getEditables(){const t={};for(const e of this.editor.model.document.getRootNames()){const o=this.editor.ui.getEditableElement(e);o&&(t[e]=o)}return t}_isErrorComingFromThisItem(t){return fu(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return wn(t,((t,e)=>xn(t)||"context"===e?t:void 0))}}class ku{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",(t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},(t=>{this._restoreCollaborationData(),this._restoreEditorData(t)})),this.editor.data.fire("ready")}),{priority:999})}_createNode(t,e){if("name"in e){const o=t.createElement(e.name,e.attributes);if(e.children)for(const n of e.children)o._appendChild(this._createNode(t,n));return o}return t.createText(e.data,e.attributes)}_restoreEditorData(t){const e=this.editor;Object.entries(this._data.roots).forEach((([o,{content:n,attributes:r}])=>{const i=JSON.parse(n),s=JSON.parse(r),l=e.model.document.getRoot(o);for(const[e,o]of s)t.setAttribute(e,o,l);for(const e of i){const o=this._createNode(t,e);t.insert(o,l,"end")}})),Object.entries(this._data.markers).forEach((([o,n])=>{const{document:r}=e.model,{rangeJSON:{start:i,end:s},...l}=n,a=r.getRoot(i.root),d=t.createPositionFromPath(a,i.path,i.stickiness),c=t.createPositionFromPath(a,s.path,s.stickiness),h=t.createRange(d,c);t.addMarker(o,{range:h,...l})}))}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),e=JSON.parse(this._data.suggestions);t.forEach((t=>{const e=this.editor.config.get("collaboration.channelId"),o=this.editor.plugins.get("CommentsRepository");if(o.hasCommentThread(t.threadId)){o.getCommentThread(t.threadId).remove()}o.addCommentThread({channelId:e,...t})})),e.forEach((t=>{const e=this.editor.plugins.get("TrackChangesEditing");if(e.hasSuggestion(t.id)){e.getSuggestion(t.id).attributes=t.attributes}else e.addSuggestionData(t)}))}}const yu=Symbol("MainQueueId");class vu{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,e){const o=t===yu;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const n=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(yu),this._queues.get(t)])).then(e),r=n.catch((()=>{}));return this._queues.set(t,r),n.finally((()=>{this._activeActions--,this._queues.get(t)===r&&0===this._activeActions&&this._onEmptyCallbacks.forEach((t=>t()))}))}}function _u(t){return Array.isArray(t)?t:[t]}function Au({emitter:t,activator:e,callback:o,contextElements:n}){t.listenTo(document,"mousedown",((t,r)=>{if(!e())return;const i="function"==typeof r.composedPath?r.composedPath():[],s="function"==typeof n?n():n;for(const t of s)if(t.contains(r.target)||i.includes(t))return;o()}))}function Cu(t){return class extends t{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...t){super(...t),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Su({view:t}){t.listenTo(t.element,"submit",((e,o)=>{o.preventDefault(),t.fire("submit")}),{useCapture:!0})}function Eu({keystrokeHandler:t,focusTracker:e,gridItems:o,numberOfColumns:n,uiLanguageDirection:r}){const i="number"==typeof n?()=>n:n;function s(t){return n=>{const r=o.find((t=>t.element===e.focusedElement)),i=o.getIndex(r),s=t(i,o);o.get(s).focus(),n.stopPropagation(),n.preventDefault()}}function l(t,e){return t===e-1?0:t+1}function a(t,e){return 0===t?e-1:t-1}t.set("arrowright",s(((t,e)=>"rtl"===r?a(t,e.length):l(t,e.length)))),t.set("arrowleft",s(((t,e)=>"rtl"===r?l(t,e.length):a(t,e.length)))),t.set("arrowup",s(((t,e)=>{let o=t-i();return o<0&&(o=t+i()*Math.floor(e.length/i()),o>e.length-1&&(o-=i())),o}))),t.set("arrowdown",s(((t,e)=>{let o=t+i();return o>e.length-1&&(o=t%i()),o})))}class Mu extends vr{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",((t,e,o)=>{this._renderViewIntoCollectionParent(e,o)})),this.on("remove",((t,e)=>{e.element&&this._parentElement&&e.element.remove()})),this._parentElement=null}destroy(){this.map((t=>t.destroy()))}setParent(t){this._parentElement=t;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...t){if(!t.length||!t.every((t=>"string"==typeof t)))throw new f("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const o of this)for(const n of t)o.delegate(n).to(e);this.on("add",((o,n)=>{for(const o of t)n.delegate(o).to(e)})),this.on("remove",((o,n)=>{for(const o of t)n.stopDelegating(o,e)}))}}}_renderViewIntoCollectionParent(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}remove(t){return super.remove(t)}}var Du=o(5167),Tu={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Du.Z,Tu);Du.Z.locals;class Bu extends(Sn(K())){constructor(t){super(),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new vr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((e,o)=>{o.locale=t,o.t=t&&t.t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Lu.bind(this,this)}createCollection(t){const e=new Mu(t);return this._viewCollections.add(e),e}registerChild(t){J(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){J(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new Lu(t)}extendTemplate(t){Lu.extend(this.template,t)}render(){if(this.isRendered)throw new f("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((t=>t.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}class Lu extends(E()){constructor(t){super(),Object.assign(this,Ku($u(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,intoFragment:!1,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new f("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const o of e.children)Gu(o)?yield o:Zu(o)&&(yield*t(o))}(this)}static bind(t,e){return{to:(o,n)=>new Iu({eventNameOrFunction:o,attribute:o,observable:t,emitter:e,callback:n}),if:(o,n,r)=>new zu({observable:t,emitter:e,attribute:o,valueIfTrue:n,callback:r})}}static extend(t,e){if(t._isRendered)throw new f("template-extend-render",[this,t]);Wu(t,Ku($u(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new f("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),Ru(this.text)?this._bindToObservable({schema:this.text,updater:Ou(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){if(!this.attributes)return;const e=t.node,o=t.revertData;for(const n in this.attributes){const r=e.getAttribute(n),i=this.attributes[n];o&&(o.attributes[n]=r);const s=Yu(i)?i[0].ns:null;if(Ru(i)){const l=Yu(i)?i[0].value:i;o&&Xu(n)&&l.unshift(r),this._bindToObservable({schema:l,updater:Vu(e,n,s),data:t})}else if("style"==n&&"string"!=typeof i[0])this._renderStyleAttribute(i[0],t);else{o&&r&&Xu(n)&&i.unshift(r);const t=i.map((t=>t&&t.value||t)).reduce(((t,e)=>t.concat(e)),[]).reduce(Hu,"");Uu(t)||e.setAttributeNS(s,n,t)}}}_renderStyleAttribute(t,e){const o=e.node;for(const n in t){const r=t[n];Ru(r)?this._bindToObservable({schema:[r],updater:Nu(o,n),data:e}):o.style[n]=r}}_renderElementChildren(t){const e=t.node,o=t.intoFragment?document.createDocumentFragment():e,n=t.isApplying;let r=0;for(const i of this.children)if(Ju(i)){if(!n){i.setParent(e);for(const t of i)o.appendChild(t.element)}}else if(Gu(i))n||(i.isRendered||i.render(),o.appendChild(i.element));else if(_n(i))o.appendChild(i);else if(n){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),i._renderNode({intoFragment:!1,node:o.childNodes[r++],isApplying:!0,revertData:e})}else o.appendChild(i.render());t.intoFragment&&e.appendChild(o)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const o=this.eventListeners[e].map((o=>{const[n,r]=e.split("@");return o.activateDomEventListener(n,r,t)}));t.revertData&&t.revertData.bindings.push(o)}}_bindToObservable({schema:t,updater:e,data:o}){const n=o.revertData;Fu(t,e,o);const r=t.filter((t=>!Uu(t))).filter((t=>t.observable)).map((n=>n.activateAttributeListener(t,e,o)));n&&n.bindings.push(r)}_revertTemplateFromNode(t,e){for(const t of e.bindings)for(const e of t)e();if(e.text)return void(t.textContent=e.text);const o=t;for(const t in e.attributes){const n=e.attributes[t];null===n?o.removeAttribute(t):o.setAttribute(t,n)}for(let t=0;t<e.children.length;++t)this._revertTemplateFromNode(o.childNodes[t],e.children[t])}}class Pu{constructor(t){this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,o){const n=()=>Fu(t,e,o);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,n),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,n)}}}class Iu extends Pu{constructor(t){super(t),this.eventNameOrFunction=t.eventNameOrFunction}activateDomEventListener(t,e,o){const n=(t,o)=>{e&&!o.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(o):this.observable.fire(this.eventNameOrFunction,o))};return this.emitter.listenTo(o.node,t,n),()=>{this.emitter.stopListening(o.node,t,n)}}}class zu extends Pu{constructor(t){super(t),this.valueIfTrue=t.valueIfTrue}getValue(t){return!Uu(super.getValue(t))&&(this.valueIfTrue||!0)}}function Ru(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(Ru):t instanceof Pu)}function Fu(t,e,{node:o}){const n=function(t,e){return t.map((t=>t instanceof Pu?t.getValue(e):t))}(t,o);let r;r=1==t.length&&t[0]instanceof zu?n[0]:n.reduce(Hu,""),Uu(r)?e.remove():e.set(r)}function Ou(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function Vu(t,e,o){return{set(n){t.setAttributeNS(o,e,n)},remove(){t.removeAttributeNS(o,e)}}}function Nu(t,e){return{set(o){t.style[e]=o},remove(){t.style[e]=null}}}function $u(t){return wn(t,(t=>{if(t&&(t instanceof Pu||Zu(t)||Gu(t)||Ju(t)))return t}))}function Ku(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){t.text=fr(t.text)}(t),t.on&&(t.eventListeners=function(t){for(const e in t)qu(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=fr(t[e].value)),qu(t,e)}(t.attributes);const e=[];if(t.children)if(Ju(t.children))e.push(t.children);else for(const o of t.children)Zu(o)||Gu(o)||_n(o)?e.push(o):e.push(new Lu(o));t.children=e}return t}function qu(t,e){t[e]=fr(t[e])}function Hu(t,e){return Uu(e)?t:Uu(t)?e:`${t} ${e}`}function ju(t,e){for(const o in e)t[o]?t[o].push(...e[o]):t[o]=e[o]}function Wu(t,e){if(e.attributes&&(t.attributes||(t.attributes={}),ju(t.attributes,e.attributes)),e.eventListeners&&(t.eventListeners||(t.eventListeners={}),ju(t.eventListeners,e.eventListeners)),e.text&&t.text.push(...e.text),e.children&&e.children.length){if(t.children.length!=e.children.length)throw new f("ui-template-extend-children-mismatch",t);let o=0;for(const n of e.children)Wu(t.children[o++],n)}}function Uu(t){return!t&&0!==t}function Gu(t){return t instanceof Bu}function Zu(t){return t instanceof Lu}function Ju(t){return t instanceof Mu}function Yu(t){return z(t[0])&&t[0].ns}function Xu(t){return"class"==t||"style"==t}class Qu extends Mu{constructor(t,e=[]){super(e),this.locale=t}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Lu({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=pt(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&0==t.childElementCount&&t.remove()}}var tp=o(1977),ep={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(tp.Z,ep);tp.Z.locals;class op extends Bu{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",t.if("isVisible","ck-hidden",(t=>!t)),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(()=>{this._updateXMLContent(),this._colorFillPaths()})),this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:e,value:o}of Array.from(t.attributes))op.presentationalAttributeNames.includes(e)&&this.element.setAttribute(e,o);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((t=>{t.style.fill=this.fillColor}))}}op.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class np extends Bu{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:t.to("style"),id:t.to("id")},children:[{text:t.to("text")}]})}}var rp=o(4971),ip={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(rp.Z,ip);rp.Z.locals;class sp extends Bu{constructor(t,e=new np){super(t),this._focusDelayed=null;const o=this.bindTemplate,n=p();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${n}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(e),this.iconView=new op,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const i={tag:"button",attributes:{class:["ck","ck-button",o.to("class"),o.if("isEnabled","ck-disabled",(t=>!t)),o.if("isVisible","ck-hidden",(t=>!t)),o.to("isOn",(t=>t?"ck-on":"ck-off")),o.if("withText","ck-button_with-text"),o.if("withKeystroke","ck-button_with-keystroke")],role:o.to("role"),type:o.to("type",(t=>t||"button")),tabindex:o.to("tabindex"),"aria-label":o.to("ariaLabel"),"aria-labelledby":o.to("ariaLabelledBy"),"aria-disabled":o.if("isEnabled",!0,(t=>!t)),"aria-pressed":o.to("isOn",(t=>!!this.isToggleable&&String(!!t))),"data-cke-tooltip-text":o.to("_tooltipString"),"data-cke-tooltip-position":o.to("tooltipPosition")},children:this.children,on:{click:o.to((t=>{this.isEnabled?this.fire("execute"):t.preventDefault()}))}};r.isSafari&&(this._focusDelayed||(this._focusDelayed=Er((()=>this.focus()),0)),i.on.mousedown=o.to((()=>{this._focusDelayed()})),i.on.mouseup=o.to((()=>{this._focusDelayed.cancel()}))),this.setTemplate(i)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(t){return t.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),t}_createKeystrokeView(){const t=new Bu;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(t=>gr(t)))}]}),t}_getTooltipString(t,e,o){return t?"string"==typeof t?t:(o&&(o=gr(o)),t instanceof Function?t(e,o):`${e}${o?` (${o})`:""}`):""}}var lp=o(7258),ap={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(lp.Z,ap);lp.Z.locals;class dp extends sp{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new Bu;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}function cp(t,e){const o=t.t,n={Black:o("Black"),"Dim grey":o("Dim grey"),Grey:o("Grey"),"Light grey":o("Light grey"),White:o("White"),Red:o("Red"),Orange:o("Orange"),Yellow:o("Yellow"),"Light green":o("Light green"),Green:o("Green"),Aquamarine:o("Aquamarine"),Turquoise:o("Turquoise"),"Light blue":o("Light blue"),Blue:o("Blue"),Purple:o("Purple")};return e.map((t=>{const e=n[t.label];return e&&e!=t.label&&(t.label=e),t}))}function hp(t){return t.map(up).filter((t=>!!t))}function up(t){return"string"==typeof t?{model:t,label:t,hasBorder:!1,view:{name:"span",styles:{color:t}}}:{model:t.color,label:t.label||t.color,hasBorder:void 0!==t.hasBorder&&t.hasBorder,view:{name:"span",styles:{color:`${t.color}`}}}}class pp extends sp{constructor(t){super(t);const e=this.bindTemplate;this.set("color",void 0),this.set("hasBorder",!1),this.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>',this.extendTemplate({attributes:{style:{backgroundColor:e.to("color")},class:["ck","ck-color-grid__tile",e.if("hasBorder","ck-color-selector__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var mp=o(4923),gp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(mp.Z,gp);mp.Z.locals;class bp extends Bu{constructor(t,e){super(t);const o=e&&e.colorDefinitions?e.colorDefinitions:[];this.columns=e&&e.columns?e.columns:5;const n={gridTemplateColumns:`repeat( ${this.columns}, 1fr)`};this.set("selectedColor",void 0),this.items=this.createCollection(),this.focusTracker=new Ar,this.keystrokes=new Cr,this.items.on("add",((t,e)=>{e.isOn=e.color===this.selectedColor})),o.forEach((t=>{const e=new pp;e.set({color:t.color,label:t.label,tooltip:!0,hasBorder:t.options.hasBorder}),e.on("execute",(()=>{this.fire("execute",{value:t.color,hasBorder:t.options.hasBorder,label:t.label})})),this.items.add(e)})),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:n}}),this.on("change:selectedColor",((t,e,o)=>{for(const t of this.items)t.isOn=t.color===o}))}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",((t,e)=>{this.focusTracker.add(e.element)})),this.items.on("remove",((t,e)=>{this.focusTracker.remove(e.element)})),this.keystrokes.listenTo(this.element),Eu({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:this.columns,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}}var fp=o(8874);const wp=function(t){var e,o,n=[],r=1;if("string"==typeof t)if(fp[t])n=fp[t].slice(),o="rgb";else if("transparent"===t)r=0,o="rgb",n=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var i=t.slice(1);r=1,(a=i.length)<=4?(n=[parseInt(i[0]+i[0],16),parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16)],4===a&&(r=parseInt(i[3]+i[3],16)/255)):(n=[parseInt(i[0]+i[1],16),parseInt(i[2]+i[3],16),parseInt(i[4]+i[5],16)],8===a&&(r=parseInt(i[6]+i[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),o="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var s=e[1],l="rgb"===s;o=i=s.replace(/a$/,"");var a="cmyk"===i?4:"gray"===i?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/).map((function(t,e){if(/%$/.test(t))return e===a?parseFloat(t)/100:"rgb"===i?255*parseFloat(t)/100:parseFloat(t);if("h"===i[e]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==xp[t])return xp[t]}return parseFloat(t)})),s===i&&n.push(1),r=l||void 0===n[a]?1:n[a],n=n.slice(0,a)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(n=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),o=t.match(/([a-z])/gi).join("").toLowerCase());else isNaN(t)?Array.isArray(t)||t.length?(n=[t[0],t[1],t[2]],o="rgb",r=4===t.length?t[3]:1):t instanceof Object&&(null!=t.r||null!=t.red||null!=t.R?(o="rgb",n=[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0]):(o="hsl",n=[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness]),r=t.a||t.alpha||t.opacity||1,null!=t.opacity&&(r/=100)):(o="rgb",n=[t>>>16,(65280&t)>>>8,255&t]);return{space:o,values:n,alpha:r}};var xp={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};var kp=o(2085);function yp(t,e){if(!t)return"";const o=vp(t);if(!o)return"";if(o.space===e)return t;if(n=o,!Object.keys(kp).includes(n.space))return"";var n;const r=kp[o.space][e];if(!r)return"";return function(t,e){switch(e){case"hex":return`#${t}`;case"rgb":return`rgb( ${t[0]}, ${t[1]}, ${t[2]} )`;case"hsl":return`hsl( ${t[0]}, ${t[1]}%, ${t[2]}% )`;case"hwb":return`hwb( ${t[0]}, ${t[1]}, ${t[2]} )`;case"lab":return`lab( ${t[0]}% ${t[1]} ${t[2]} )`;case"lch":return`lch( ${t[0]}% ${t[1]} ${t[2]} )`;default:return""}}(r("hex"===o.space?o.hexValue:o.values),e)}function vp(t){if(t.startsWith("#")){const e=wp(t);return{space:"hex",values:e.values,hexValue:t,alpha:e.alpha}}const e=wp(t);return e.space?e:null}var _p=o(3525),Ap={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(_p.Z,Ap);_p.Z.locals;class Cp extends Bu{constructor(t){super(t),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${p()}`;const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}var Sp=o(2933),Ep={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Sp.Z,Ep);Sp.Z.locals;class Mp extends Bu{constructor(t,e){super(t);const o=`ck-labeled-field-view-${p()}`,n=`ck-labeled-field-view-status-${p()}`;this.fieldView=e(this,o,n),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(o),this.statusView=this._createStatusView(n),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",((t,e)=>t||e));const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",r.to("class"),r.if("isEnabled","ck-disabled",(t=>!t)),r.if("isEmpty","ck-labeled-field-view_empty"),r.if("isFocused","ck-labeled-field-view_focused"),r.if("placeholder","ck-labeled-field-view_placeholder"),r.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(t){const e=new Cp(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createStatusView(t){const e=new Bu(this.locale),o=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",o.if("errorText","ck-labeled-field-view__status_error"),o.if("_statusText","ck-hidden",(t=>!t))],id:t,role:o.if("errorText","alert")},children:[{text:o.to("_statusText")}]}),e}focus(t){this.fieldView.focus(t)}}class Dp extends Bu{constructor(t){super(t),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Ar,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to(((...t)=>{this.fire("input",...t),this._updateIsEmpty()})),change:e.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",((t,e,o)=>{this._setDomElementValue(o),this._updateIsEmpty()}))}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||0===t?t:""}}var Tp=o(2470),Bp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Tp.Z,Bp);Tp.Z.locals;class Lp extends Dp{constructor(t){super(t),this.set("inputMode","text");const e=this.bindTemplate;this.extendTemplate({attributes:{inputmode:e.to("inputMode")}})}}class Pp extends Lp{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class Ip extends Lp{constructor(t,{min:e,max:o,step:n}={}){super(t);const r=this.bindTemplate;this.set("min",e),this.set("max",o),this.set("step",n),this.extendTemplate({attributes:{type:"number",class:["ck-input-number"],min:r.to("min"),max:r.to("max"),step:r.to("step")}})}}var zp=o(5224),Rp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(zp.Z,Rp);zp.Z.locals;class Fp extends Bu{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",(t=>`ck-dropdown__panel_${t}`)),e.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:e.to((t=>{"input"!==t.target.tagName.toLocaleLowerCase()&&t.preventDefault()}))}})}focus(){if(this.children.length){const t=this.children.first;"function"==typeof t.focus?t.focus():w("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}var Op=o(5062),Vp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Op.Z,Vp);Op.Z.locals;class Np extends Bu{constructor(t,e,o){super(t);const n=this.bindTemplate;this.buttonView=e,this.panelView=o,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Cr,this.focusTracker=new Ar,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",n.to("class"),n.if("isEnabled","ck-disabled",(t=>!t))],id:n.to("id"),"aria-describedby":n.to("ariaDescribedById")},children:[e,o]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":n.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen})),this.on("change:isOpen",((t,e,o)=>{if(o)if("auto"===this.panelPosition){const t=Np._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=t?t.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition})),this.keystrokes.listenTo(this.element);const t=(t,e)=>{this.isOpen&&(this.isOpen=!1,e())};this.keystrokes.set("arrowdown",((t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())})),this.keystrokes.set("arrowright",((t,e)=>{this.isOpen&&e()})),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:e,southEast:o,southWest:n,northEast:r,northWest:i,southMiddleEast:s,southMiddleWest:l,northMiddleEast:a,northMiddleWest:d}=Np.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[o,n,s,l,t,r,i,a,d,e]:[n,o,l,s,t,i,r,d,a,e]}}Np.defaultPanelPositions={south:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/2,name:"s"}),southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),southMiddleEast:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/4,name:"sme"}),southMiddleWest:(t,e)=>({top:t.bottom,left:t.left-3*(e.width-t.width)/4,name:"smw"}),north:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/2,name:"n"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}),northMiddleEast:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/4,name:"nme"}),northMiddleWest:(t,e)=>({top:t.top-e.height,left:t.left-3*(e.width-t.width)/4,name:"nmw"})},Np._getOptimalPosition=Zn;const $p='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Kp extends sp{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(t=>String(t)))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new op;return t.content=$p,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}class qp extends(E()){constructor(t){if(super(),this.focusables=t.focusables,this.focusTracker=t.focusTracker,this.keystrokeHandler=t.keystrokeHandler,this.actions=t.actions,t.actions&&t.keystrokeHandler)for(const e in t.actions){let o=t.actions[e];"string"==typeof o&&(o=[o]);for(const n of o)t.keystrokeHandler.set(n,((t,o)=>{this[e](),o()}))}this.on("forwardCycle",(()=>this.focusFirst()),{priority:"low"}),this.on("backwardCycle",(()=>this.focusLast()),{priority:"low"})}get first(){return this.focusables.find(Hp)||null}get last(){return this.focusables.filter(Hp).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(((e,o)=>{const n=e.element===this.focusTracker.focusedElement;return n&&(t=o),n})),t)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const t=this.next;t&&this.focusables.getIndex(t)===this.current||(t===this.first?this.fire("forwardCycle"):this._focus(t,1))}focusPrevious(){const t=this.previous;t&&this.focusables.getIndex(t)===this.current||(t===this.last?this.fire("backwardCycle"):this._focus(t,-1))}_focus(t,e){t&&t.focus(e)}_getFocusableItem(t){const e=this.current,o=this.focusables.length;if(!o)return null;if(null===e)return this[1===t?"first":"last"];let n=(e+o+t)%o;do{const e=this.focusables.get(n);if(Hp(e))return e;n=(n+o+t)%o}while(n!==e);return null}}function Hp(t){return!(!("focus"in t)||!Gn(t.element))}class jp extends Bu{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Wp extends Bu{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Up(t){if(Array.isArray(t))return{items:t,removeItems:[]};const e={items:[],removeItems:[]};return t?{...e,...t}:e}var Gp=o(4768),Zp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Gp.Z,Zp);Gp.Z.locals;const{threeVerticalDots:Jp}=pu,Yp={alignLeft:pu.alignLeft,bold:pu.bold,importExport:pu.importExport,paragraph:pu.paragraph,plus:pu.plus,text:pu.text,threeVerticalDots:pu.threeVerticalDots,pilcrow:pu.pilcrow,dragIndicator:pu.dragIndicator};class Xp extends Bu{constructor(t,e){super(t);const o=this.bindTemplate,n=this.t;this.options=e||{},this.set("ariaLabel",n("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Ar,this.keystrokes=new Cr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Qp(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const r="rtl"===t.uiLanguageDirection;this._focusCycler=new qp({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[r?"arrowright":"arrowleft","arrowup"],focusNext:[r?"arrowleft":"arrowright","arrowdown"]}});const i=["ck","ck-toolbar",o.to("class"),o.if("isCompact","ck-toolbar_compact")];var s;this.options.shouldGroupWhenFull&&this.options.isFloating&&i.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:i,role:"toolbar","aria-label":o.to("ariaLabel"),style:{maxWidth:o.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(s=this,s.bindTemplate.to((t=>{t.target===s.element&&t.preventDefault()})))}}),this._behavior=this.options.shouldGroupWhenFull?new em(this):new tm(this)}render(){super.render(),this.focusTracker.add(this.element);for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",((t,e)=>{this.focusTracker.add(e.element)})),this.items.on("remove",((t,e)=>{this.focusTracker.remove(e.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e,o){this.items.addMany(this._buildItemsFromConfig(t,e,o))}_buildItemsFromConfig(t,e,o){const n=Up(t),r=o||n.removeItems;return this._cleanItemsConfiguration(n.items,e,r).map((t=>z(t)?this._createNestedToolbarDropdown(t,e,r):"|"===t?new jp:"-"===t?new Wp:e.create(t))).filter((t=>!!t))}_cleanItemsConfiguration(t,e,o){const n=t.filter(((t,n,r)=>"|"===t||-1===o.indexOf(t)&&("-"===t?!this.options.shouldGroupWhenFull||(w("toolbarview-line-break-ignored-when-grouping-items",r),!1):!(!z(t)&&!e.has(t))||(w("toolbarview-item-unavailable",{item:t}),!1))));return this._cleanSeparatorsAndLineBreaks(n)}_cleanSeparatorsAndLineBreaks(t){const e=t=>"-"!==t&&"|"!==t,o=t.length,n=t.findIndex(e);if(-1===n)return[];const r=o-t.slice().reverse().findIndex(e);return t.slice(n,r).filter(((t,o,n)=>{if(e(t))return!0;return!(o>0&&n[o-1]===t)}))}_createNestedToolbarDropdown(t,e,o){let{label:n,icon:r,items:i,tooltip:s=!0,withText:l=!1}=t;if(i=this._cleanItemsConfiguration(i,e,o),!i.length)return null;const a=gm(this.locale);return n||w("toolbarview-nested-toolbar-dropdown-missing-label",t),a.class="ck-toolbar__nested-toolbar-dropdown",a.buttonView.set({label:n,tooltip:s,withText:!!l}),!1!==r?a.buttonView.icon=Yp[r]||r||Jp:a.buttonView.withText=!0,bm(a,(()=>a.toolbarView._buildItemsFromConfig(i,e,o))),a}}class Qp extends Bu{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class tm{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using((t=>t)),t.focusables.bindTo(t.items).using((t=>t)),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class em{constructor(t){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),t.itemsView.children.bindTo(this.ungroupedItems).using((t=>t)),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),t.children.on("change",this._updateFocusCycleableItems.bind(this)),t.items.on("change",((t,e)=>{const o=e.index,n=Array.from(e.added);for(const t of e.removed)o>=this.ungroupedItems.length?this.groupedItems.remove(t):this.ungroupedItems.remove(t);for(let t=o;t<o+n.length;t++){const e=n[t-o];t>this.ungroupedItems.length?this.groupedItems.add(e,t-this.ungroupedItems.length):this.ungroupedItems.add(e,t)}this._updateGrouping()})),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Gn(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,o=new Rn(t.lastChild),n=new Rn(t);if(!this.cachedPadding){const o=Tn.window.getComputedStyle(t),n="ltr"===e?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(o[n])}return"ltr"===e?o.right>n.right-this.cachedPadding:o.left<n.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new $n(this.viewElement,(e=>{t&&t===e.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)})),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",(()=>{this._updateGrouping()}))}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new jp),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,o=gm(t);return o.class="ck-toolbar__grouped-dropdown",o.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",bm(o,this.groupedItems),o.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:"rtl"===t.uiLanguageDirection?"se":"sw",icon:Jp}),o}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map((t=>{this.viewFocusables.add(t)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class om extends Bu{constructor(t,e=new Cp){super(t);const o=this.bindTemplate,n=new im(t);this.set({label:"",isVisible:!0}),this.labelView=e,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,n]),n.set({role:"group",ariaLabelledBy:e.id}),n.focusTracker.destroy(),n.keystrokes.destroy(),this.items=n.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",o.if("isVisible","ck-hidden",(t=>!t))]},children:this.children})}focus(){this.items.first&&this.items.first.focus()}}var nm=o(179),rm={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(nm.Z,rm);nm.Z.locals;class im extends Bu{constructor(t){super(t),this._listItemGroupToChangeListeners=new WeakMap;const e=this.bindTemplate;this.focusables=new Mu,this.items=this.createCollection(),this.focusTracker=new Ar,this.keystrokes=new Cr,this._focusCycler=new qp({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:e.to("role"),"aria-label":e.to("ariaLabel"),"aria-labelledby":e.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const t of this.items)t instanceof om?this._registerFocusableItemsGroup(t):this._registerFocusableListItem(t);this.items.on("change",((t,e)=>{for(const t of e.removed)t instanceof om?this._deregisterFocusableItemsGroup(t):this._deregisterFocusableListItem(t);for(const t of Array.from(e.added).reverse())t instanceof om?this._registerFocusableItemsGroup(t,e.index):this._registerFocusableListItem(t,e.index)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(t,e){this.focusTracker.add(t.element),this.focusables.add(t,e)}_deregisterFocusableListItem(t){this.focusTracker.remove(t.element),this.focusables.remove(t)}_getOnGroupItemsChangeCallback(t){return(e,o)=>{for(const t of o.removed)this._deregisterFocusableListItem(t);for(const e of Array.from(o.added).reverse())this._registerFocusableListItem(e,this.items.getIndex(t)+o.index)}}_registerFocusableItemsGroup(t,e){Array.from(t.items).forEach(((t,o)=>{const n=void 0!==e?e+o:void 0;this._registerFocusableListItem(t,n)}));const o=this._getOnGroupItemsChangeCallback(t);this._listItemGroupToChangeListeners.set(t,o),t.items.on("change",o)}_deregisterFocusableItemsGroup(t){for(const e of t.items)this._deregisterFocusableListItem(e);t.items.off("change",this._listItemGroupToChangeListeners.get(t)),this._listItemGroupToChangeListeners.delete(t)}}class sm extends Bu{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",e.if("isVisible","ck-hidden",(t=>!t))],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class lm extends Bu{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var am=o(4791),dm={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(am.Z,dm);am.Z.locals;class cm extends Bu{constructor(t){super(t);const e=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Cr,this.focusTracker=new Ar,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",e.to("class"),e.if("isVisible","ck-hidden",(t=>!t)),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",((t,e)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),e())})),this.keystrokes.set("arrowleft",((t,e)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),e())}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const t=new sp;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const t=new sp,e=t.bindTemplate;return t.icon=$p,t.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":e.to("isOn"),"aria-haspopup":!0,"aria-expanded":e.to("isOn",(t=>String(t)))}}),t.bind("isEnabled").to(this),t.bind("label").to(this),t.bind("tooltip").to(this),t.delegate("execute").to(this,"open"),t}}var hm=o(2704),um={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(hm.Z,um);hm.Z.locals;var pm=o(1883),mm={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(pm.Z,mm);pm.Z.locals;function gm(t,e=Kp){const o=new e(t),n=new Fp(t),r=new Np(t,o,n);return o.bind("isEnabled").to(r),o instanceof cm?o.arrowView.bind("isOn").to(r,"isOpen"):o.bind("isOn").to(r,"isOpen"),function(t){(function(t){t.on("render",(()=>{Au({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:()=>[t.element,...t.focusTracker._elements]})}))})(t),function(t){t.on("execute",(e=>{e.source instanceof dp||(t.isOpen=!1)}))}(t),function(t){t.focusTracker.on("change:isFocused",((e,o,n)=>{t.isOpen&&!n&&(t.isOpen=!1)}))}(t),function(t){t.keystrokes.set("arrowdown",((e,o)=>{t.isOpen&&(t.panelView.focus(),o())})),t.keystrokes.set("arrowup",((e,o)=>{t.isOpen&&(t.panelView.focusLast(),o())}))}(t),function(t){t.on("change:isOpen",((e,o,n)=>{if(n)return;const r=t.panelView.element;r&&r.contains(Tn.document.activeElement)&&t.buttonView.focus()}))}(t),function(t){t.on("change:isOpen",((e,o,n)=>{n&&t.panelView.focus()}),{priority:"low"})}(t)}(r),r}function bm(t,e,o={}){t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),t.isOpen?fm(t,e,o):t.once("change:isOpen",(()=>fm(t,e,o)),{priority:"highest"}),o.enableActiveItemFocusOnDropdownOpen&&km(t,(()=>t.toolbarView.items.find((t=>t.isOn))))}function fm(t,e,o){const n=t.locale,r=n.t,i=t.toolbarView=new Xp(n),s="function"==typeof e?e():e;i.ariaLabel=o.ariaLabel||r("Dropdown toolbar"),o.maxWidth&&(i.maxWidth=o.maxWidth),o.class&&(i.class=o.class),o.isCompact&&(i.isCompact=o.isCompact),o.isVertical&&(i.isVertical=!0),s instanceof Mu?i.items.bindTo(s).using((t=>t)):i.items.addMany(s),t.panelView.children.add(i),i.items.delegate("execute").to(t)}function wm(t,e,o={}){t.isOpen?xm(t,e,o):t.once("change:isOpen",(()=>xm(t,e,o)),{priority:"highest"}),km(t,(()=>t.listView.items.find((t=>t instanceof sm&&t.children.first.isOn))))}function xm(t,e,o){const n=t.locale,r=t.listView=new im(n),i="function"==typeof e?e():e;r.ariaLabel=o.ariaLabel,r.role=o.role,ym(t,r.items,i,n),t.panelView.children.add(r),r.items.delegate("execute").to(t)}function km(t,e){t.on("change:isOpen",(()=>{if(!t.isOpen)return;const o=e();o&&("function"==typeof o.focus?o.focus():w("ui-dropdown-focus-child-on-open-child-missing-focus",{view:o}))}),{priority:m.low-10})}function ym(t,e,o,n){e.bindTo(o).using((e=>{if("separator"===e.type)return new lm(n);if("group"===e.type){const o=new om(n);return o.set({label:e.label}),ym(t,o.items,e.items,n),o.items.delegate("execute").to(t),o}if("button"===e.type||"switchbutton"===e.type){const t=new sm(n);let o;return"button"===e.type?(o=new sp(n),o.extendTemplate({attributes:{"aria-checked":o.bindTemplate.to("isOn")}})):o=new dp(n),o.bind(...Object.keys(e.model)).to(e.model),o.delegate("execute").to(t),t.children.add(o),t}return null}))}const vm=(t,e,o)=>{const n=new Pp(t.locale);return n.set({id:e,ariaDescribedById:o}),n.bind("isReadOnly").to(t,"isEnabled",(t=>!t)),n.bind("hasError").to(t,"errorText",(t=>!!t)),n.on("input",(()=>{t.errorText=null})),t.bind("isEmpty","isFocused","placeholder").to(n),n},_m=(t,e,o)=>{const n=new Ip(t.locale);return n.set({id:e,ariaDescribedById:o,inputMode:"numeric"}),n.bind("isReadOnly").to(t,"isEnabled",(t=>!t)),n.bind("hasError").to(t,"errorText",(t=>!!t)),n.on("input",(()=>{t.errorText=null})),t.bind("isEmpty","isFocused","placeholder").to(n),n},Am=(t,e,o)=>{const n=gm(t.locale);return n.set({id:e,ariaDescribedById:o}),n.bind("isEnabled").to(t),n},Cm=(t,e=0,o=1)=>t>o?o:t<e?e:t,Sm=(t,e=0,o=Math.pow(10,e))=>Math.round(o*t)/o,Em=(Math.PI,t=>("#"===t[0]&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?Sm(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:8===t.length?Sm(parseInt(t.substring(6,8),16)/255,2):1})),Mm=({h:t,s:e,v:o,a:n})=>{const r=(200-e)*o/100;return{h:Sm(t),s:Sm(r>0&&r<200?e*o/100/(r<=100?r:200-r)*100:0),l:Sm(r/2),a:Sm(n,2)}},Dm=t=>{const{h:e,s:o,l:n}=Mm(t);return`hsl(${e}, ${o}%, ${n}%)`},Tm=({h:t,s:e,v:o,a:n})=>{t=t/360*6,e/=100,o/=100;const r=Math.floor(t),i=o*(1-e),s=o*(1-(t-r)*e),l=o*(1-(1-t+r)*e),a=r%6;return{r:Sm(255*[o,s,i,i,l,o][a]),g:Sm(255*[l,o,o,s,i,i][a]),b:Sm(255*[i,i,l,o,o,s][a]),a:Sm(n,2)}},Bm=t=>{const e=t.toString(16);return e.length<2?"0"+e:e},Lm=({r:t,g:e,b:o,a:n})=>{const r=n<1?Bm(Sm(255*n)):"";return"#"+Bm(t)+Bm(e)+Bm(o)+r},Pm=({r:t,g:e,b:o,a:n})=>{const r=Math.max(t,e,o),i=r-Math.min(t,e,o),s=i?r===t?(e-o)/i:r===e?2+(o-t)/i:4+(t-e)/i:0;return{h:Sm(60*(s<0?s+6:s)),s:Sm(r?i/r*100:0),v:Sm(r/255*100),a:n}},Im=(t,e)=>{if(t===e)return!0;for(const o in t)if(t[o]!==e[o])return!1;return!0},zm={},Rm=t=>{let e=zm[t];return e||(e=document.createElement("template"),e.innerHTML=t,zm[t]=e),e},Fm=(t,e,o)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:o}))};let Om=!1;const Vm=t=>"touches"in t,Nm=(t,e)=>{const o=Vm(e)?e.touches[0]:e,n=t.el.getBoundingClientRect();Fm(t.el,"move",t.getMove({x:Cm((o.pageX-(n.left+window.pageXOffset))/n.width),y:Cm((o.pageY-(n.top+window.pageYOffset))/n.height)}))};class $m{constructor(t,e,o,n){const r=Rm(`<div role="slider" tabindex="0" part="${e}" ${o}><div part="${e}-pointer"></div></div>`);t.appendChild(r.content.cloneNode(!0));const i=t.querySelector(`[part=${e}]`);i.addEventListener("mousedown",this),i.addEventListener("touchstart",this),i.addEventListener("keydown",this),this.el=i,this.xy=n,this.nodes=[i.firstChild,i]}set dragging(t){const e=t?document.addEventListener:document.removeEventListener;e(Om?"touchmove":"mousemove",this),e(Om?"touchend":"mouseup",this)}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":if(t.preventDefault(),!(t=>!(Om&&!Vm(t)||(Om||(Om=Vm(t)),0)))(t)||!Om&&0!=t.button)return;this.el.focus(),Nm(this,t),this.dragging=!0;break;case"mousemove":case"touchmove":t.preventDefault(),Nm(this,t);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((t,e)=>{const o=e.keyCode;o>40||t.xy&&o<37||o<33||(e.preventDefault(),Fm(t.el,"move",t.getMove({x:39===o?.01:37===o?-.01:34===o?.05:33===o?-.05:35===o?1:36===o?-1:0,y:40===o?.01:38===o?-.01:0},!0)))})(this,t)}}style(t){t.forEach(((t,e)=>{for(const o in t)this.nodes[e].style.setProperty(o,t[o])}))}}class Km extends $m{constructor(t){super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:t}){this.h=t,this.style([{left:t/360*100+"%",color:Dm({h:t,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${Sm(t)}`)}getMove(t,e){return{h:e?Cm(this.h+360*t.x,0,360):360*t.x}}}class qm extends $m{constructor(t){super(t,"saturation",'aria-label="Color"',!0)}update(t){this.hsva=t,this.style([{top:100-t.v+"%",left:`${t.s}%`,color:Dm(t)},{"background-color":Dm({h:t.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${Sm(t.s)}%, Brightness ${Sm(t.v)}%`)}getMove(t,e){return{s:e?Cm(this.hsva.s+100*t.x,0,100):100*t.x,v:e?Cm(this.hsva.v-100*t.y,0,100):Math.round(100-100*t.y)}}}const Hm=Symbol("same"),jm=Symbol("color"),Wm=Symbol("hsva"),Um=Symbol("update"),Gm=Symbol("parts"),Zm=Symbol("css"),Jm=Symbol("sliders");class Ym extends HTMLElement{static get observedAttributes(){return["color"]}get[Zm](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[Jm](){return[qm,Km]}get color(){return this[jm]}set color(t){if(!this[Hm](t)){const e=this.colorModel.toHsva(t);this[Um](e),this[jm]=t}}constructor(){super();const t=Rm(`<style>${this[Zm].join("")}</style>`),e=this.attachShadow({mode:"open"});e.appendChild(t.content.cloneNode(!0)),e.addEventListener("move",this),this[Gm]=this[Jm].map((t=>new t(e)))}connectedCallback(){if(this.hasOwnProperty("color")){const t=this.color;delete this.color,this.color=t}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(t,e,o){const n=this.colorModel.fromAttr(o);this[Hm](n)||(this.color=n)}handleEvent(t){const e=this[Wm],o={...e,...t.detail};let n;this[Um](o),Im(o,e)||this[Hm](n=this.colorModel.fromHsva(o))||(this[jm]=n,Fm(this,"color-changed",{value:n}))}[Hm](t){return this.color&&this.colorModel.equal(t,this.color)}[Um](t){this[Wm]=t,this[Gm].forEach((e=>e.update(t)))}}const Xm={defaultColor:"#000",toHsva:t=>Pm(Em(t)),fromHsva:({h:t,s:e,v:o})=>Lm(Tm({h:t,s:e,v:o,a:1})),equal:(t,e)=>t.toLowerCase()===e.toLowerCase()||Im(Em(t),Em(e)),fromAttr:t=>t};class Qm extends Ym{get colorModel(){return Xm}}customElements.define("hex-color-picker",class extends Qm{});var tg=o(4257),eg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(tg.Z,eg);tg.Z.locals;class og extends Bu{constructor(t,e={}){super(t),this.set({color:"",_hexColor:""}),this.hexInputRow=this._createInputRow();const o=this.createCollection();e.hideInput||o.add(this.hexInputRow),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker"],tabindex:-1},children:o}),this._config=e,this._debounceColorPickerEvent=zl((t=>{this.set("color",t),this.fire("colorSelected",{color:this.color})}),150,{leading:!0}),this.on("set:color",((t,e,o)=>{t.return=yp(o,this._config.format||"hsl")})),this.on("change:color",(()=>{this._hexColor=ng(this.color)})),this.on("change:_hexColor",(()=>{document.activeElement!==this.picker&&this.picker.setAttribute("color",this._hexColor),ng(this.color)!=ng(this._hexColor)&&(this.color=this._hexColor)}))}render(){if(super.render(),this.picker=Tn.document.createElement("hex-color-picker"),this.picker.setAttribute("class","hex-color-picker"),this.picker.setAttribute("tabindex","-1"),this._createSlidersView(),this.element){this.hexInputRow.element?this.element.insertBefore(this.picker,this.hexInputRow.element):this.element.appendChild(this.picker);const t=document.createElement("style");t.textContent='[role="slider"]:focus [part$="pointer"] {border: 1px solid #fff;outline: 1px solid var(--ck-color-focus-border);box-shadow: 0 0 0 2px #fff;}',this.picker.shadowRoot.appendChild(t)}this.picker.addEventListener("color-changed",(t=>{const e=t.detail.value;this._debounceColorPickerEvent(e)}))}focus(){if(!this._config.hideInput&&(r.isGecko||r.isiOS||r.isSafari)){this.hexInputRow.children.get(1).focus()}this.slidersView.first.focus()}_createSlidersView(){const t=[...this.picker.shadowRoot.children].filter((t=>"slider"===t.getAttribute("role"))).map((t=>new rg(t)));this.slidersView=this.createCollection(),t.forEach((t=>{this.slidersView.add(t)}))}_createInputRow(){const t=new ig,e=this._createColorInput();return new sg(this.locale,[t,e])}_createColorInput(){const t=new Mp(this.locale,vm),{t:e}=this.locale;return t.set({label:e("HEX"),class:"color-picker-hex-input"}),t.fieldView.bind("value").to(this,"_hexColor",(e=>t.isFocused?t.fieldView.value:e.startsWith("#")?e.substring(1):e)),t.fieldView.on("input",(()=>{const e=t.fieldView.element.value;if(e){const t=e.trim(),o=t.startsWith("#")?t.substring(1):t;[3,4,6,8].includes(o.length)&&/(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})/.test(o)&&this._debounceColorPickerEvent("#"+o)}})),t}}function ng(t){let e=function(t){if(!t)return"";const e=vp(t);return e?"hex"===e.space?e.hexValue:yp(t,"hex"):"#000"}(t);return e||(e="#000"),4===e.length&&(e="#"+[e[1],e[1],e[2],e[2],e[3],e[3]].join("")),e.toLowerCase()}class rg extends Bu{constructor(t){super(),this.element=t}focus(){this.element.focus()}}class ig extends Bu{constructor(t){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__hash-view"]},children:"#"})}}class sg extends Bu{constructor(t,e){super(t),this.children=this.createCollection(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-picker__row"]},children:this.children})}}class lg extends(K(vr)){constructor(t){super(t),this.set("isEmpty",!0),this.on("change",(()=>{this.set("isEmpty",0===this.length)}))}add(t,e){return this.find((e=>e.color===t.color))?this:super.add(t,e)}hasColor(t){return!!this.find((e=>e.color===t))}}const ag='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>';class dg extends Bu{constructor(t,{colors:e,columns:o,removeButtonLabel:n,documentColorsLabel:r,documentColorsCount:i,colorPickerLabel:s,focusTracker:l,focusables:a}){super(t);const d=this.bindTemplate;this.set("isVisible",!0),this.focusTracker=l,this.items=this.createCollection(),this.colorDefinitions=e,this.columns=o,this.documentColors=new lg,this.documentColorsCount=i,this._focusables=a,this._removeButtonLabel=n,this._colorPickerLabel=s,this._documentColorsLabel=r,this.setTemplate({tag:"div",attributes:{class:["ck-color-grids-fragment",d.if("isVisible","ck-hidden",(t=>!t))]},children:this.items}),this.removeColorButtonView=this._createRemoveColorButton(),this.items.add(this.removeColorButtonView)}updateDocumentColors(t,e){const o=t.document,n=this.documentColorsCount;this.documentColors.clear();for(const r of o.getRoots()){const o=t.createRangeIn(r);for(const t of o.getItems())if(t.is("$textProxy")&&t.hasAttribute(e)&&(this._addColorToDocumentColors(t.getAttribute(e)),this.documentColors.length>=n))return}}updateSelectedColors(){const t=this.documentColorsGrid,e=this.staticColorsGrid,o=this.selectedColor;e.selectedColor=o,t&&(t.selectedColor=o)}render(){if(super.render(),this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount){const t=Lu.bind(this.documentColors,this.documentColors),e=new Cp(this.locale);e.text=this._documentColorsLabel,e.extendTemplate({attributes:{class:["ck","ck-color-grid__label",t.if("isEmpty","ck-hidden")]}}),this.items.add(e),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}this._createColorPickerButton(),this._addColorSelectorElementsToFocusTracker(),this.focus()}focus(){this.removeColorButtonView.focus()}destroy(){super.destroy()}addColorPickerButton(){this.colorPickerButtonView&&(this.items.add(this.colorPickerButtonView),this.focusTracker.add(this.colorPickerButtonView.element),this._focusables.add(this.colorPickerButtonView))}_addColorSelectorElementsToFocusTracker(){this.focusTracker.add(this.removeColorButtonView.element),this._focusables.add(this.removeColorButtonView),this.staticColorsGrid&&(this.focusTracker.add(this.staticColorsGrid.element),this._focusables.add(this.staticColorsGrid)),this.documentColorsGrid&&(this.focusTracker.add(this.documentColorsGrid.element),this._focusables.add(this.documentColorsGrid))}_createColorPickerButton(){this.colorPickerButtonView=new sp,this.colorPickerButtonView.set({label:this._colorPickerLabel,withText:!0,icon:ag,class:"ck-color-selector__color-picker"}),this.colorPickerButtonView.on("execute",(()=>{this.fire("colorPicker:show")}))}_createRemoveColorButton(){const t=new sp;return t.set({withText:!0,icon:uu,label:this._removeButtonLabel}),t.class="ck-color-selector__remove-color",t.on("execute",(()=>{this.fire("execute",{value:null,source:"removeColorButton"})})),t.render(),t}_createStaticColorsGrid(){const t=new bp(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return t.on("execute",((t,e)=>{this.fire("execute",{value:e.value,source:"staticColorsGrid"})})),t}_createDocumentColorsGrid(){const t=Lu.bind(this.documentColors,this.documentColors),e=new bp(this.locale,{columns:this.columns});return e.extendTemplate({attributes:{class:t.if("isEmpty","ck-hidden")}}),e.items.bindTo(this.documentColors).using((t=>{const e=new pp;return e.set({color:t.color,hasBorder:t.options&&t.options.hasBorder}),t.label&&e.set({label:t.label,tooltip:!0}),e.on("execute",(()=>{this.fire("execute",{value:t.color,source:"documentColorsGrid"})})),e})),this.documentColors.on("change:isEmpty",((t,o,n)=>{n&&(e.selectedColor=null)})),e}_addColorToDocumentColors(t){const e=this.colorDefinitions.find((e=>e.color===t));e?this.documentColors.add(Object.assign({},e)):this.documentColors.add({color:t,label:t,options:{hasBorder:!1}})}}class cg extends Bu{constructor(t,{focusTracker:e,focusables:o,keystrokes:n,colorPickerViewConfig:r}){super(t),this.items=this.createCollection(),this.focusTracker=e,this.keystrokes=n,this.set("isVisible",!1),this.set("selectedColor",void 0),this._focusables=o,this._colorPickerViewConfig=r;const i=this.bindTemplate,{saveButtonView:s,cancelButtonView:l}=this._createActionButtons();this.saveButtonView=s,this.cancelButtonView=l,this.actionBarView=this._createActionBarView({saveButtonView:s,cancelButtonView:l}),this.setTemplate({tag:"div",attributes:{class:["ck-color-picker-fragment",i.if("isVisible","ck-hidden",(t=>!t))]},children:this.items})}render(){super.render();const t=new og(this.locale,{...this._colorPickerViewConfig});this.colorPickerView=t,this.colorPickerView.render(),this.selectedColor&&(t.color=this.selectedColor),this.listenTo(this,"change:selectedColor",((e,o,n)=>{t.color=n})),this.items.add(this.colorPickerView),this.items.add(this.actionBarView),this._addColorPickersElementsToFocusTracker(),this._stopPropagationOnArrowsKeys(),this._executeOnEnterPress(),this._executeUponColorChange()}destroy(){super.destroy()}focus(){this.colorPickerView.focus()}_executeOnEnterPress(){this.keystrokes.set("enter",(t=>{this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element&&(this.fire("execute",{value:this.selectedColor}),t.stopPropagation(),t.preventDefault())}))}_stopPropagationOnArrowsKeys(){const t=t=>t.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}_addColorPickersElementsToFocusTracker(){for(const t of this.colorPickerView.slidersView)this.focusTracker.add(t.element),this._focusables.add(t);const t=this.colorPickerView.hexInputRow.children.get(1);t.element&&(this.focusTracker.add(t.element),this._focusables.add(t)),this.focusTracker.add(this.saveButtonView.element),this._focusables.add(this.saveButtonView),this.focusTracker.add(this.cancelButtonView.element),this._focusables.add(this.cancelButtonView)}_createActionBarView({saveButtonView:t,cancelButtonView:e}){const o=new Bu,n=this.createCollection();return n.add(t),n.add(e),o.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector_action-bar"]},children:n}),o}_createActionButtons(){const t=this.locale,e=t.t,o=new sp(t),n=new sp(t);return o.set({icon:hu,class:"ck-button-save",type:"button",withText:!1,label:e("Accept")}),n.set({icon:cu,class:"ck-button-cancel",type:"button",withText:!1,label:e("Cancel")}),o.on("execute",(()=>{this.fire("execute",{source:"colorPickerSaveButton",value:this.selectedColor})})),n.on("execute",(()=>{this.fire("colorPicker:cancel")})),{saveButtonView:o,cancelButtonView:n}}_executeUponColorChange(){this.colorPickerView.on("colorSelected",((t,e)=>{this.fire("execute",{value:e.color,source:"colorPicker"}),this.set("selectedColor",e.color)}))}}var hg=o(6306),ug={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(hg.Z,ug);hg.Z.locals;class pg extends Bu{constructor(t,{colors:e,columns:o,removeButtonLabel:n,documentColorsLabel:r,documentColorsCount:i,colorPickerLabel:s,colorPickerViewConfig:l}){super(t),this.items=this.createCollection(),this.focusTracker=new Ar,this.keystrokes=new Cr,this._focusables=new Mu,this._colorPickerViewConfig=l,this._focusCycler=new qp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.colorGridsFragmentView=new dg(t,{colors:e,columns:o,removeButtonLabel:n,documentColorsLabel:r,documentColorsCount:i,colorPickerLabel:s,focusTracker:this.focusTracker,focusables:this._focusables}),this.colorPickerFragmentView=new cg(t,{focusables:this._focusables,focusTracker:this.focusTracker,keystrokes:this.keystrokes,colorPickerViewConfig:l}),this.set("_isColorGridsFragmentVisible",!0),this.set("_isColorPickerFragmentVisible",!1),this.set("selectedColor",void 0),this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"),this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"),this.on("change:selectedColor",((t,e,o)=>{this.colorGridsFragmentView.set("selectedColor",o),this.colorPickerFragmentView.set("selectedColor",o)})),this.colorGridsFragmentView.on("change:selectedColor",((t,e,o)=>{this.set("selectedColor",o)})),this.colorPickerFragmentView.on("change:selectedColor",((t,e,o)=>{this.set("selectedColor",o)})),this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-selector"]},children:this.items})}render(){super.render(),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}appendUI(){this._appendColorGridsFragment(),this._colorPickerViewConfig&&this._appendColorPickerFragment()}showColorPickerFragment(){this.colorPickerFragmentView.colorPickerView&&!this._isColorPickerFragmentVisible&&(this._isColorPickerFragmentVisible=!0,this.colorPickerFragmentView.focus(),this._isColorGridsFragmentVisible=!1)}showColorGridsFragment(){this._isColorGridsFragmentVisible||(this._isColorGridsFragmentVisible=!0,this.colorGridsFragmentView.focus(),this._isColorPickerFragmentVisible=!1)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}updateDocumentColors(t,e){this.colorGridsFragmentView.updateDocumentColors(t,e)}updateSelectedColors(){this.colorGridsFragmentView.updateSelectedColors()}_appendColorGridsFragment(){this.items.length||(this.items.add(this.colorGridsFragmentView),this.colorGridsFragmentView.delegate("execute").to(this),this.colorGridsFragmentView.delegate("colorPicker:show").to(this))}_appendColorPickerFragment(){2!==this.items.length&&(this.items.add(this.colorPickerFragmentView),this.colorGridsFragmentView.colorPickerButtonView&&this.colorGridsFragmentView.colorPickerButtonView.on("execute",(()=>{this.showColorPickerFragment()})),this.colorGridsFragmentView.addColorPickerButton(),this.colorPickerFragmentView.delegate("execute").to(this),this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this))}}class mg{constructor(t){this._components=new Map,this.editor=t}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(gg(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new f("componentfactory-item-missing",this,{name:t});return this._components.get(gg(t)).callback(this.editor.locale)}has(t){return this._components.has(gg(t))}}function gg(t){return String(t).toLowerCase()}var bg=o(4460),fg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(bg.Z,fg);bg.Z.locals;const wg=qn("px"),xg=Tn.document.body,kg={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}};class yg extends Bu{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",(t=>`ck-balloon-panel_${t}`)),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",wg),left:e.to("left",wg)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=yg.defaultPositions,o=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:xg,fitInViewport:!0},t),n=yg._getOptimalPosition(o)||kg,r=parseInt(n.left),i=parseInt(n.top),s=n.name,l=n.config||{},{withArrow:a=!0}=l;this.top=i,this.left=r,this.position=s,this.withArrow=a}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=vg(t.target),o=t.limiter?vg(t.limiter):xg;this.listenTo(Tn.document,"scroll",((n,r)=>{const i=r.target,s=e&&i.contains(e),l=o&&i.contains(o);!s&&!l&&e&&o||this.attachTo(t)}),{useCapture:!0}),this.listenTo(Tn.window,"resize",(()=>{this.attachTo(t)}))}_stopPinning(){this.stopListening(Tn.document,"scroll"),this.stopListening(Tn.window,"resize")}}function vg(t){return xn(t)?t:Ln(t)?t.commonAncestorContainer:"function"==typeof t?vg(t()):null}function _g(t={}){const{sideOffset:e=yg.arrowSideOffset,heightOffset:o=yg.arrowHeightOffset,stickyVerticalOffset:n=yg.stickyVerticalOffset,config:r}=t;return{northWestArrowSouthWest:(t,o)=>({top:i(t,o),left:t.left-e,name:"arrow_sw",...r&&{config:r}}),northWestArrowSouthMiddleWest:(t,o)=>({top:i(t,o),left:t.left-.25*o.width-e,name:"arrow_smw",...r&&{config:r}}),northWestArrowSouth:(t,e)=>({top:i(t,e),left:t.left-e.width/2,name:"arrow_s",...r&&{config:r}}),northWestArrowSouthMiddleEast:(t,o)=>({top:i(t,o),left:t.left-.75*o.width+e,name:"arrow_sme",...r&&{config:r}}),northWestArrowSouthEast:(t,o)=>({top:i(t,o),left:t.left-o.width+e,name:"arrow_se",...r&&{config:r}}),northArrowSouthWest:(t,o)=>({top:i(t,o),left:t.left+t.width/2-e,name:"arrow_sw",...r&&{config:r}}),northArrowSouthMiddleWest:(t,o)=>({top:i(t,o),left:t.left+t.width/2-.25*o.width-e,name:"arrow_smw",...r&&{config:r}}),northArrowSouth:(t,e)=>({top:i(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s",...r&&{config:r}}),northArrowSouthMiddleEast:(t,o)=>({top:i(t,o),left:t.left+t.width/2-.75*o.width+e,name:"arrow_sme",...r&&{config:r}}),northArrowSouthEast:(t,o)=>({top:i(t,o),left:t.left+t.width/2-o.width+e,name:"arrow_se",...r&&{config:r}}),northEastArrowSouthWest:(t,o)=>({top:i(t,o),left:t.right-e,name:"arrow_sw",...r&&{config:r}}),northEastArrowSouthMiddleWest:(t,o)=>({top:i(t,o),left:t.right-.25*o.width-e,name:"arrow_smw",...r&&{config:r}}),northEastArrowSouth:(t,e)=>({top:i(t,e),left:t.right-e.width/2,name:"arrow_s",...r&&{config:r}}),northEastArrowSouthMiddleEast:(t,o)=>({top:i(t,o),left:t.right-.75*o.width+e,name:"arrow_sme",...r&&{config:r}}),northEastArrowSouthEast:(t,o)=>({top:i(t,o),left:t.right-o.width+e,name:"arrow_se",...r&&{config:r}}),southWestArrowNorthWest:t=>({top:s(t),left:t.left-e,name:"arrow_nw",...r&&{config:r}}),southWestArrowNorthMiddleWest:(t,o)=>({top:s(t),left:t.left-.25*o.width-e,name:"arrow_nmw",...r&&{config:r}}),southWestArrowNorth:(t,e)=>({top:s(t),left:t.left-e.width/2,name:"arrow_n",...r&&{config:r}}),southWestArrowNorthMiddleEast:(t,o)=>({top:s(t),left:t.left-.75*o.width+e,name:"arrow_nme",...r&&{config:r}}),southWestArrowNorthEast:(t,o)=>({top:s(t),left:t.left-o.width+e,name:"arrow_ne",...r&&{config:r}}),southArrowNorthWest:t=>({top:s(t),left:t.left+t.width/2-e,name:"arrow_nw",...r&&{config:r}}),southArrowNorthMiddleWest:(t,o)=>({top:s(t),left:t.left+t.width/2-.25*o.width-e,name:"arrow_nmw",...r&&{config:r}}),southArrowNorth:(t,e)=>({top:s(t),left:t.left+t.width/2-e.width/2,name:"arrow_n",...r&&{config:r}}),southArrowNorthMiddleEast:(t,o)=>({top:s(t),left:t.left+t.width/2-.75*o.width+e,name:"arrow_nme",...r&&{config:r}}),southArrowNorthEast:(t,o)=>({top:s(t),left:t.left+t.width/2-o.width+e,name:"arrow_ne",...r&&{config:r}}),southEastArrowNorthWest:t=>({top:s(t),left:t.right-e,name:"arrow_nw",...r&&{config:r}}),southEastArrowNorthMiddleWest:(t,o)=>({top:s(t),left:t.right-.25*o.width-e,name:"arrow_nmw",...r&&{config:r}}),southEastArrowNorth:(t,e)=>({top:s(t),left:t.right-e.width/2,name:"arrow_n",...r&&{config:r}}),southEastArrowNorthMiddleEast:(t,o)=>({top:s(t),left:t.right-.75*o.width+e,name:"arrow_nme",...r&&{config:r}}),southEastArrowNorthEast:(t,o)=>({top:s(t),left:t.right-o.width+e,name:"arrow_ne",...r&&{config:r}}),westArrowEast:(t,e)=>({top:t.top+t.height/2-e.height/2,left:t.left-e.width-o,name:"arrow_e",...r&&{config:r}}),eastArrowWest:(t,e)=>({top:t.top+t.height/2-e.height/2,left:t.right+o,name:"arrow_w",...r&&{config:r}}),viewportStickyNorth:(t,e,o,i)=>{const s=i||o;return t.getIntersection(s)?s.height-t.height>n?null:{top:s.top+n,left:t.left+t.width/2-e.width/2,name:"arrowless",config:{withArrow:!1,...r}}:null}};function i(t,e){return t.top-e.height-o}function s(t){return t.bottom+o}}yg.arrowSideOffset=25,yg.arrowHeightOffset=10,yg.stickyVerticalOffset=20,yg._getOptimalPosition=Zn,yg.defaultPositions=_g();var Ag=o(3888),Cg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Ag.Z,Cg);Ag.Z.locals;const Sg="ck-tooltip";class Eg extends(Sn()){constructor(t){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Eg._editors.add(t),Eg._instance)return Eg._instance;Eg._instance=this,this.tooltipTextView=new Bu(t.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new yg(t.locale),this.balloonPanelView.class=Sg,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=zl(this._pinTooltip,600),this.listenTo(Tn.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Tn.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Tn.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Tn.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Tn.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(t){const e=t.ui.view&&t.ui.view.body;Eg._editors.delete(t),this.stopListening(t.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),Eg._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Eg._instance=null)}static getPositioningFunctions(t){const e=Eg.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[t]}_onEnterOrFocus(t,{target:e}){const o=Mg(e);var n;o&&(o!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(o,{text:(n=o).dataset.ckeTooltipText,position:n.dataset.ckeTooltipPosition||"s",cssClass:n.dataset.ckeTooltipClass||""})))}_onLeaveOrBlur(t,{target:e,relatedTarget:o}){if("mouseleave"===t.name){if(!xn(e))return;if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const t=Mg(e),n=Mg(o);t&&t!==n&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(t,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(t,{text:e,position:o,cssClass:n}){const r=_r(Eg._editors.values()).ui.view.body;r.has(this.balloonPanelView)||r.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:t,positions:Eg.getPositioningFunctions(o)}),this._resizeObserver=new $n(t,(()=>{Gn(t)||this._unpinTooltip()})),this.balloonPanelView.class=[Sg,n].filter((t=>t)).join(" ");for(const t of Eg._editors)this.listenTo(t.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=t,this._currentTooltipPosition=o}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const t of Eg._editors)this.stopListening(t.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Gn(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Eg.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function Mg(t){return xn(t)?t.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}Eg.defaultBalloonPositions=_g({heightOffset:5,sideOffset:13}),Eg._editors=new Set,Eg._instance=null;const Dg=50,Tg=350,Bg="Powered by";class Lg extends(Sn()){constructor(t){super(),this.editor=t,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=wu(this._showBalloon.bind(this),50,{leading:!0}),t.on("ready",this._handleEditorReady.bind(this))}destroy(){const t=this._balloonView;t&&(t.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const t=this.editor;(!!t.config.get("ui.poweredBy.forceVisible")||"VALID"!==function(t){function e(t){return t.length>=40&&t.length<=255?"VALID":"INVALID"}if(!t)return"INVALID";let o="";try{o=atob(t)}catch(t){return"INVALID"}const n=o.split("-"),r=n[0],i=n[1];if(!i)return e(t);try{atob(i)}catch(o){try{if(atob(r),!atob(r).length)return e(t)}catch(o){return e(t)}}if(r.length<40||r.length>255)return"INVALID";let s="";try{atob(r),s=atob(i)}catch(t){return"INVALID"}if(8!==s.length)return"INVALID";const l=Number(s.substring(0,4)),a=Number(s.substring(4,6))-1,d=Number(s.substring(6,8)),c=new Date(l,a,d);return c<v||isNaN(Number(c))?"INVALID":"VALID"}(t.config.get("licenseKey")))&&t.ui.view&&(t.ui.focusTracker.on("change:isFocused",((t,e,o)=>{this._updateLastFocusedEditableElement(),o?this._showBalloon():this._hideBalloon()})),t.ui.focusTracker.on("change:focusedElement",((t,e,o)=>{this._updateLastFocusedEditableElement(),o&&this._showBalloon()})),t.ui.on("update",(()=>{this._showBalloonThrottled()})))}_createBalloonView(){const t=this.editor,e=this._balloonView=new yg,o=zg(t),n=new Pg(t.locale,o.label);e.content.add(n),e.set({class:"ck-powered-by-balloon"}),t.ui.view.body.add(e),t.ui.focusTracker.add(e.element),this._balloonView=e}_showBalloon(){if(!this._lastFocusedEditableElement)return;const t=function(t,e){const o=zg(t),n="right"===o.side?function(t,e){return Ig(t,e,((t,o)=>t.left+t.width-o.width-e.horizontalOffset))}(e,o):function(t,e){return Ig(t,e,(t=>t.left+e.horizontalOffset))}(e,o);return{target:e,positions:[n]}}(this.editor,this._lastFocusedEditableElement);t&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(t))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const t=this.editor,e=t.ui.focusTracker.isFocused,o=t.ui.focusTracker.focusedElement;if(!e||!o)return void(this._lastFocusedEditableElement=null);const n=Array.from(t.ui.getEditableElementsNames()).map((e=>t.ui.getEditableElement(e)));n.includes(o)?this._lastFocusedEditableElement=o:this._lastFocusedEditableElement=n[0]}}class Pg extends Bu{constructor(t,e){super(t);const o=new op,n=this.bindTemplate;o.set({content:'<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>\n',isColorInherited:!1}),o.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...e?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[e]}]:[],o],on:{dragstart:n.to((t=>t.preventDefault()))}}]})}}function Ig(t,e,o){return(n,r)=>{const i=new Rn(t);if(i.width<Tg||i.height<Dg)return null;let s;s="inside"===e.position?i.bottom-r.height:i.bottom-r.height/2,s-=e.verticalOffset;const l=o(i,r),a=n.clone().moveTo(l,s).getIntersection(r.clone().moveTo(l,s)).getVisible();return!a||a.getArea()<r.getArea()?null:{top:s,left:l,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function zg(t){const e=t.config.get("ui.poweredBy"),o=e&&e.position||"border";return{position:o,label:Bg,verticalOffset:"inside"===o?5:0,horizontalOffset:5,side:"ltr"===t.locale.contentLanguageDirection?"right":"left",...e}}var Rg=o(3290),Fg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Rg.Z,Fg);Rg.Z.locals;var Og;!function(t){t.POLITE="polite",t.ASSERTIVE="assertive"}(Og||(Og={}));class Vg{constructor(t){this.editor=t}announce(t,e,o=Og.POLITE){const n=this.editor;this.view||(this.view=new Ng(n.locale),n.ui.view.body.add(this.view));let r=this.view.regionViews.find((e=>e.regionName===t));r||(r=new $g(this.view.locale),this.view.regionViews.add(r)),r.set({regionName:t,text:e,politeness:o})}}class Ng extends Bu{constructor(t){super(t),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class $g extends Bu{constructor(t){super(t);const e=this.bindTemplate;this.set("regionName",""),this.set("text",""),this.set("politeness",Og.POLITE),this.setTemplate({tag:"div",attributes:{role:"region","data-region":e.to("regionName"),"aria-live":e.to("politeness")},children:[{text:e.to("text")}]})}}class Kg extends(K()){constructor(t){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const e=t.editing.view;this.editor=t,this.componentFactory=new mg(t),this.focusTracker=new Ar,this.tooltipManager=new Eg(t),this.poweredBy=new Lg(t),this.ariaLiveAnnouncer=new Vg(t),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",(()=>{this.isReady=!0})),this.listenTo(e.document,"layoutChanged",this.update.bind(this)),this.listenTo(e,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null,this.editor.keystrokes.stopListening(t);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor),this.focusTracker.add(e);const o=()=>{this.editor.editing.view.getDomRoot(t)||this.editor.keystrokes.listenTo(e)};this.isReady?o():this.once("ready",o)}removeEditableElement(t){const e=this._editableElementsMap.get(t);e&&(this._editableElementsMap.delete(t),this.editor.keystrokes.stopListening(e),this.focusTracker.remove(e),e.ckeditorInstance=null)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(t,e={}){t.isRendered?(this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)):t.once("render",(()=>{this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)})),this._focusableToolbarDefinitions.push({toolbarView:t,options:e})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const t=this.editor,e=t.config.get("ui.viewportOffset");if(e)return e;const o=t.config.get("toolbar.viewportTopOffset");return o?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:o}):{top:0}}_initFocusTracking(){const t=this.editor,e=t.editing.view;let o,n;t.keystrokes.set("Alt+F10",((t,r)=>{const i=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(i)&&!Array.from(e.domRoots.values()).includes(i)&&(o=i);const s=this._getCurrentFocusedToolbarDefinition();s&&n||(n=this._getFocusableCandidateToolbarDefinitions());for(let t=0;t<n.length;t++){const t=n.shift();if(n.push(t),t!==s&&this._focusFocusableCandidateToolbar(t)){s&&s.options.afterBlur&&s.options.afterBlur();break}}r()})),t.keystrokes.set("Esc",((e,n)=>{const r=this._getCurrentFocusedToolbarDefinition();r&&(o?(o.focus(),o=null):t.editing.view.focus(),r.options.afterBlur&&r.options.afterBlur(),n())}))}_getFocusableCandidateToolbarDefinitions(){const t=[];for(const e of this._focusableToolbarDefinitions){const{toolbarView:o,options:n}=e;(Gn(o.element)||n.beforeFocus)&&t.push(e)}return t.sort(((t,e)=>qg(t)-qg(e))),t}_getCurrentFocusedToolbarDefinition(){for(const t of this._focusableToolbarDefinitions)if(t.toolbarView.element&&t.toolbarView.element.contains(this.focusTracker.focusedElement))return t;return null}_focusFocusableCandidateToolbar(t){const{toolbarView:e,options:{beforeFocus:o}}=t;return o&&o(),!!Gn(e.element)&&(e.focus(),!0)}_handleScrollToTheSelection(t,e){const o={top:0,bottom:0,left:0,right:0,...this.viewportOffset};e.viewportOffset.top+=o.top,e.viewportOffset.bottom+=o.bottom,e.viewportOffset.left+=o.left,e.viewportOffset.right+=o.right}}function qg(t){const{toolbarView:e,options:o}=t;let n=10;return Gn(e.element)&&n--,o.isContextual&&n--,n}var Hg=o(9847),jg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Hg.Z,jg);Hg.Z.locals;class Wg extends Bu{constructor(t){super(t),this.body=new Qu(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class Ug extends Bu{constructor(t,e,o){super(t),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=o,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(()=>this._updateIsFocusedClasses())),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const t=this._editingView;function e(e){t.change((o=>{const n=t.document.getRoot(e.name);o.addClass(e.isFocused?"ck-focused":"ck-blurred",n),o.removeClass(e.isFocused?"ck-blurred":"ck-focused",n)}))}t.isRenderingInProgress?function o(n){t.once("change:isRenderingInProgress",((t,r,i)=>{i?o(n):e(n)}))}(this):e(this)}}class Gg extends Ug{constructor(t,e,o,n={}){super(t,e,o);const r=t.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=n.label||(()=>r("Editor editing area: %0",this.name))}render(){super.render();const t=this._editingView;t.change((e=>{const o=t.document.getRoot(this.name);e.setAttribute("aria-label",this._generateLabel(this),o)}))}}var Zg=o(1874),Jg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Zg.Z,Jg);Zg.Z.locals;class Yg extends Bu{constructor(t,e={}){super(t);const o=this.bindTemplate;this.set("label",e.label||""),this.set("class",e.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",o.to("class")]},children:this.children}),e.icon&&(this.iconView=new op,this.iconView.content=e.icon,this.children.add(this.iconView));const n=new Bu(t);n.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"]},children:[{text:o.to("label")}]}),this.children.add(n)}}class Xg extends(K()){constructor(t,e){super(),e&&xl(this,e),t&&this.set(t)}}const Qg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>';var tb=o(7592),eb={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(tb.Z,eb);tb.Z.locals;var ob=o(6356),nb={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(ob.Z,nb);ob.Z.locals;const rb=qn("px");class ib extends Lr{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const t=this.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this._view||this._createPanelView(),this.hasView(t.view))throw new f("contextualballoon-add-view-exist",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const o=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),o.set(t.view,t),this._viewToStack.set(t.view,o),o===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new f("contextualballoon-remove-view-not-exist",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new f("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}_createPanelView(){this._view=new yg(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find((e=>e[1]===t))[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new sb(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((t,e)=>!e&&t>1)),t.on("change:isNavigationVisible",(()=>this.updatePosition()),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((t,o)=>{if(o<2)return"";const n=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("%0 of %1",[n,o])})),t.buttonNextView.on("execute",(()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()})),t.buttonPrevView.on("execute",(()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()})),t}_createFakePanelsView(){const t=new lb(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((t,e)=>!e&&t>=2?Math.min(t-1,2):0)),t.listenTo(this.view,"change:top",(()=>t.updatePosition())),t.listenTo(this.view,"change:left",(()=>t.updatePosition())),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:o=!0,singleViewMode:n=!1}){this.view.class=e,this.view.withArrow=o,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),n&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}}class sb extends Bu{constructor(t){super(t);const e=t.t,o=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ar,this.buttonPrevView=this._createButtonView(e("Previous"),Qg),this.buttonNextView=this._createButtonView(e("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",o.to("isNavigationVisible",(t=>t?"":"ck-hidden"))]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:o.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const o=new sp(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o}}class lb extends Bu{constructor(t,e){super(t);const o=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",o.to("numberOfPanels",(t=>t?"":"ck-hidden"))],style:{top:o.to("top",rb),left:o.to("left",rb),width:o.to("width",rb),height:o.to("height",rb)}},children:this.content}),this.on("change:numberOfPanels",((t,e,o,n)=>{o>n?this._addPanels(o-n):this._removePanels(n-o),this.updatePosition()}))}_addPanels(t){for(;t--;){const t=new Bu;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(t){for(;t--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:o,height:n}=new Rn(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:o,height:n})}}}var ab=o(3707),db={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(ab.Z,db);ab.Z.locals,qn("px");class cb extends Mp{constructor(t,e){const o=t.t,n=Object.assign({},{showResetButton:!0,showIcon:!0,creator:vm},e);super(t,n.creator),this.label=e.label,this._viewConfig=n,this._viewConfig.showIcon&&(this.iconView=new op,this.iconView.content=pu.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new sp(t),this.resetButtonView.set({label:o("Clear"),icon:pu.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",(()=>{this.reset(),this.focus(),this.fire("reset")})),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",(t=>!t)),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class hb extends Bu{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",t.if("isVisible","ck-hidden",(t=>!t))],tabindex:-1},children:[{tag:"span",children:[{text:[t.to("primaryText")]}]},{tag:"span",children:[{text:[t.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class ub extends Bu{constructor(t){super(t),this.children=this.createCollection(),this.focusTracker=new Ar,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new qp({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const t of this.children)this.focusTracker.add(t.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var pb=/[\\^$.*+?()[\]{}|]/g,mb=RegExp(pb.source);const gb=function(t){return(t=ki(t))&&mb.test(t)?t.replace(pb,"\\$&"):t};var bb=o(9332),fb={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(bb.Z,fb);bb.Z.locals;class wb extends Bu{constructor(t,e){super(t),this._config=e,this.filteredView=e.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Ar,this.keystrokes=new Cr,this.resultsView=new ub(t),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),e.infoView&&e.infoView.instance?this.infoView=e.infoView.instance:(this.infoView=new hb,this._enableDefaultInfoViewBehavior(),this.on("render",(()=>{this.search("")}))),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new qp({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",((t,{resultsCount:e,totalItemsCount:o})=>{this.resultsCount=e,this.totalItemsCount=o})),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",e.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const t=t=>t.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(t){const e=t?new RegExp(gb(t),"ig"):null,o=this.filteredView.filter(e);this.fire("search",{query:t,...o})}_createSearchTextQueryView(){const t=new cb(this.locale,this._config.queryView);return this.listenTo(t.fieldView,"input",(()=>{this.search(t.fieldView.element.value)})),t.on("reset",(()=>this.reset())),t.bind("isEnabled").to(this),t}_enableDefaultInfoViewBehavior(){const t=this.locale.t,e=this.infoView;function o(t,{query:e,resultsCount:o,totalItemsCount:n}){return"function"==typeof t?t(e,o,n):t}this.on("search",((n,r)=>{if(r.resultsCount)e.set({isVisible:!1});else{const n=this._config.infoView&&this._config.infoView.text;let i,s;r.totalItemsCount?n&&n.notFound?(i=n.notFound.primary,s=n.notFound.secondary):(i=t("No results found"),s=""):n&&n.noSearchableItems?(i=n.noSearchableItems.primary,s=n.noSearchableItems.secondary):(i=t("No searchable items"),s=""),e.set({primaryText:o(i,r),secondaryText:o(s,r),isVisible:!0})}}))}}var xb=o(4029),kb={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(xb.Z,kb);xb.Z.locals;class yb extends wb{constructor(t,e){super(t,e),this._config=e;const o=qn("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const n=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[n.if("isVisible","ck-hidden",(t=>!t)),n.to("_position",(t=>`ck-search__results_${t}`))],style:{width:n.to("_width",o)}}}),this.focusTracker.on("change:isFocused",((t,o,n)=>{this._updateResultsVisibility(),n?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()})),this.on("search",(()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()})),this.keystrokes.set("esc",((t,e)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,e())})),this.listenTo(Tn.document,"scroll",(()=>{this._updateResultsViewWidthAndPosition()})),this.on("change:isEnabled",(()=>{this._updateResultsVisibility()})),this.filteredView.on("execute",((t,{value:e})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=e,this.resultsView.isVisible=!1})),this.resultsView.on("change:isVisible",(()=>{this._updateResultsViewWidthAndPosition()}))}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Rn(this.queryView.fieldView.element).width;const t=yb._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:yb.defaultResultsPositions});this.resultsView._position=t?t.name:"s"}_updateResultsVisibility(){const t=void 0===this._config.queryMinChars?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=t}}yb.defaultResultsPositions=[t=>({top:t.bottom,left:t.left,name:"s"}),(t,e)=>({top:t.top-e.height,left:t.left,name:"n"})],yb._getOptimalPosition=Zn;var vb=o(4746),_b={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(vb.Z,_b);vb.Z.locals;var Ab=o(6446),Cb={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Ab.Z,Cb);Ab.Z.locals;qn("px");var Sb=o(4176),Eb={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Sb.Z,Eb);Sb.Z.locals,qn("px");qn("px");class Mb extends Kg{constructor(t,e){super(t),this.view=e,this._toolbarConfig=Up(t.config.get("toolbar"))}get element(){return this.view.editable.element}init(){const t=this.editor,e=this.view,o=t.editing.view,n=e.editable,r=o.document.getRoot();n.name=r.rootName,e.render();const i=n.element;this.setEditableElement(n.name,i),n.bind("isFocused").to(this.focusTracker),o.attachDomRoot(i),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const t=this.view;this.editor.editing.view.detachDomRoot(t.editable.name),t.destroy()}_initToolbar(){const t=this.editor,e=this.view,o=e.editable.element,n=e.toolbar;e.panel.bind("isVisible").to(this.focusTracker,"isFocused"),e.bind("viewportTopOffset").to(this,"viewportOffset",(({top:t})=>t||0)),e.listenTo(t.ui,"update",(()=>{e.panel.isVisible&&e.panel.pin({target:o,positions:e.panelPositions})})),n.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(n)}_initPlaceholder(){const t=this.editor,e=t.editing.view,o=e.document.getRoot(),n=t.config.get("placeholder");if(n){const t="string"==typeof n?n:n[o.rootName];t&&(o.placeholder=t)}Wr({view:e,element:o,isDirectHost:!1,keepOnFocus:!0})}}const Db=qn("px");class Tb extends Wg{constructor(t,e,o,n={}){super(t);const r=t.t;this.toolbar=new Xp(t,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull,isFloating:!0}),this.set("viewportTopOffset",0),this.panel=new yg(t),this.panelPositions=this._getPanelPositions(),this.panel.extendTemplate({attributes:{class:"ck-toolbar-container"}}),this.editable=new Gg(t,e,o,{label:t=>r("Rich Text Editor. Editing area: %0",t.name)}),this._resizeObserver=null}render(){super.render(),this.body.add(this.panel),this.registerChild(this.editable),this.panel.content.add(this.toolbar);if(this.toolbar.options.shouldGroupWhenFull){const t=this.editable.element;this._resizeObserver=new $n(t,(()=>{this.toolbar.maxWidth=Db(new Rn(t).width)}))}}destroy(){super.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_getPanelPositionTop(t,e){let o;return o=t.top>e.height+this.viewportTopOffset?t.top-e.height:t.bottom>e.height+this.viewportTopOffset+50?this.viewportTopOffset:t.bottom,o}_getPanelPositions(){const t=[(t,e)=>({top:this._getPanelPositionTop(t,e),left:t.left,name:"toolbar_west",config:{withArrow:!1}}),(t,e)=>({top:this._getPanelPositionTop(t,e),left:t.left+t.width-e.width,name:"toolbar_east",config:{withArrow:!1}})];return"ltr"===this.locale.uiLanguageDirection?t:t.reverse()}}class Bb extends(lu(au(su))){constructor(t,e={}){if(!Lb(t)&&void 0!==e.initialData)throw new f("editor-create-initial-data",null);super(e),void 0===this.config.get("initialData")&&this.config.set("initialData",function(t){return Lb(t)?function(t){return t instanceof HTMLTextAreaElement?t.value:t.innerHTML}(t):t}(t)),this.model.document.createRoot(),Lb(t)&&(this.sourceElement=t,function(t,e){if(e.ckeditorInstance)throw new f("editor-source-element-already-used",t);e.ckeditorInstance=t,t.once("destroy",(()=>{delete e.ckeditorInstance}))}(this,t));const o=!this.config.get("toolbar.shouldNotGroupWhenFull"),n=new Tb(this.locale,this.editing.view,this.sourceElement,{shouldToolbarGroupWhenFull:o});this.ui=new Mb(this,n),function(t){if(!Rt(t.updateSourceElement))throw new f("attachtoform-missing-elementapi-interface",t);const e=t.sourceElement;if(function(t){return!!t&&"textarea"===t.tagName.toLowerCase()}(e)&&e.form){let o;const n=e.form,r=()=>t.updateSourceElement();Rt(n.submit)&&(o=n.submit,n.submit=()=>{r(),o.apply(n)}),n.addEventListener("submit",r),t.on("destroy",(()=>{n.removeEventListener("submit",r),o&&(n.submit=o)}))}}(this)}destroy(){const t=this.getData();return this.ui.destroy(),super.destroy().then((()=>{this.sourceElement&&this.updateSourceElement(t)}))}static create(t,e={}){return new Promise((o=>{if(Lb(t)&&"TEXTAREA"===t.tagName)throw new f("editor-wrong-element",null);const n=new this(t,e);o(n.initPlugins().then((()=>n.ui.init())).then((()=>n.data.init(n.config.get("initialData")))).then((()=>n.fire("ready"))).then((()=>n)))}))}}function Lb(t){return xn(t)}Bb.Context=Or,Bb.EditorWatchdog=xu,Bb.ContextWatchdog=class extends mu{constructor(t,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new vu,this._watchdogConfig=e,this._creator=e=>t.create(e),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty((()=>{"initializing"===this.state&&(this.state="ready",this._fire("stateChange"))}))}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(yu,(()=>(this._contextConfig=t,this._create())))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const e=_u(t);return Promise.all(e.map((t=>this._actionQueues.enqueue(t.id,(()=>{if("destroyed"===this.state)throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let e;if(this._watchdogs.has(t.id))throw new Error(`Item with the given id is already added: '${t.id}'.`);if("editor"===t.type)return e=new xu(null,this._watchdogConfig),e.setCreator(t.creator),e._setExcludedProperties(this._contextProps),t.destructor&&e.setDestructor(t.destructor),this._watchdogs.set(t.id,e),e.on("error",((o,{error:n,causesRestart:r})=>{this._fire("itemError",{itemId:t.id,error:n}),r&&this._actionQueues.enqueue(t.id,(()=>new Promise((o=>{const n=()=>{e.off("restart",n),this._fire("itemRestart",{itemId:t.id}),o()};e.on("restart",n)}))))})),e.create(t.sourceElementOrData,t.config,this._context);throw new Error(`Not supported item type: '${t.type}'.`)})))))}remove(t){const e=_u(t);return Promise.all(e.map((t=>this._actionQueues.enqueue(t,(()=>{const e=this._getWatchdog(t);return this._watchdogs.delete(t),e.destroy()})))))}destroy(){return this._actionQueues.enqueue(yu,(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_restart(){return this._actionQueues.enqueue(yu,(()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch((t=>{console.error("An error happened during destroying the context or items.",t)})).then((()=>this._create())).then((()=>this._fire("restart"))))))}_create(){return Promise.resolve().then((()=>(this._startErrorHandling(),this._creator(this._contextConfig)))).then((t=>(this._context=t,this._contextProps=gu(this._context),Promise.all(Array.from(this._watchdogs.values()).map((t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map((t=>t.destroy()))).then((()=>this._destructor(t)))}))}_getWatchdog(t){const e=this._watchdogs.get(t);if(!e)throw new Error(`Item with the given id was not registered: ${t}.`);return e}_isErrorComingFromThisItem(t){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(t))return!1;return fu(this._context,t.context)}};const Pb=["left","right","center","justify"];function Ib(t){return Pb.includes(t)}function zb(t,e){return"rtl"==e.contentLanguageDirection?"right"===t:"left"===t}function Rb(t){const e=t.map((t=>{let e;return e="string"==typeof t?{name:t}:t,e})).filter((t=>{const e=Pb.includes(t.name);return e||w("alignment-config-name-not-recognized",{option:t}),e})),o=e.filter((t=>Boolean(t.className))).length;if(o&&o<e.length)throw new f("alignment-config-classnames-are-missing",{configuredOptions:t});return e.forEach(((e,o,n)=>{const r=n.slice(o+1);if(r.some((t=>t.name==e.name)))throw new f("alignment-config-name-already-defined",{option:e,configuredOptions:t});if(e.className){if(r.some((t=>t.className==e.className)))throw new f("alignment-config-classname-already-defined",{option:e,configuredOptions:t})}})),e}const Fb="alignment";class Ob extends Ir{refresh(){const t=this.editor.locale,e=_r(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=Boolean(e)&&this._canBeAligned(e),this.isEnabled&&e.hasAttribute("alignment")?this.value=e.getAttribute("alignment"):this.value="rtl"===t.contentLanguageDirection?"right":"left"}execute(t={}){const e=this.editor,o=e.locale,n=e.model,r=n.document,i=t.value;n.change((t=>{const e=Array.from(r.selection.getSelectedBlocks()).filter((t=>this._canBeAligned(t))),n=e[0].getAttribute("alignment");zb(i,o)||n===i||!i?function(t,e){for(const o of t)e.removeAttribute(Fb,o)}(e,t):function(t,e,o){for(const n of t)e.setAttribute(Fb,o,n)}(e,t,i)}))}_canBeAligned(t){return this.editor.model.schema.checkAttribute(t,Fb)}}class Vb extends Lr{static get pluginName(){return"AlignmentEditing"}constructor(t){super(t),t.config.define("alignment",{options:Pb.map((t=>({name:t})))})}init(){const t=this.editor,e=t.locale,o=t.model.schema,n=Rb(t.config.get("alignment.options")).filter((t=>Ib(t.name)&&!zb(t.name,e))),r=n.some((t=>!!t.className));o.extend("$block",{allowAttributes:"alignment"}),t.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),r?t.conversion.attributeToAttribute(function(t){const e={};for(const o of t)e[o.name]={key:"class",value:o.className};const o={model:{key:"alignment",values:t.map((t=>t.name))},view:e};return o}(n)):t.conversion.for("downcast").attributeToAttribute(function(t){const e={};for(const{name:o}of t)e[o]={key:"style",value:{"text-align":o}};const o={model:{key:"alignment",values:t.map((t=>t.name))},view:e};return o}(n));const i=function(t){const e=[];for(const{name:o}of t)e.push({view:{key:"style",value:{"text-align":o}},model:{key:"alignment",value:o}});return e}(n);for(const e of i)t.conversion.for("upcast").attributeToAttribute(e);const s=function(t){const e=[];for(const{name:o}of t)e.push({view:{key:"align",value:o},model:{key:"alignment",value:o}});return e}(n);for(const e of s)t.conversion.for("upcast").attributeToAttribute(e);t.commands.add("alignment",new Ob(t))}}const Nb=new Map([["left",pu.alignLeft],["right",pu.alignRight],["center",pu.alignCenter],["justify",pu.alignJustify]]);class $b extends Lr{get localizedOptionTitles(){const t=this.editor.t;return{left:t("Align left"),right:t("Align right"),center:t("Align center"),justify:t("Justify")}}static get pluginName(){return"AlignmentUI"}init(){const t=this.editor,e=t.ui.componentFactory,o=t.t,n=Rb(t.config.get("alignment.options"));n.map((t=>t.name)).filter(Ib).forEach((t=>this._addButton(t))),e.add("alignment",(r=>{const i=gm(r);bm(i,(()=>n.map((t=>e.create(`alignment:${t.name}`)))),{enableActiveItemFocusOnDropdownOpen:!0,isVertical:!0,ariaLabel:o("Text alignment toolbar")}),i.buttonView.set({label:o("Text alignment"),tooltip:!0}),i.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const s="rtl"===r.contentLanguageDirection?Nb.get("right"):Nb.get("left"),l=t.commands.get("alignment");return i.buttonView.bind("icon").to(l,"value",(t=>Nb.get(t)||s)),i.bind("isEnabled").to(l,"isEnabled"),this.listenTo(i,"execute",(()=>{t.editing.view.focus()})),i}))}_addButton(t){const e=this.editor;e.ui.componentFactory.add(`alignment:${t}`,(o=>{const n=e.commands.get("alignment"),r=new sp(o);return r.set({label:this.localizedOptionTitles[t],icon:Nb.get(t),tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(n),r.bind("isOn").to(n,"value",(e=>e===t)),this.listenTo(r,"execute",(()=>{e.execute("alignment",{value:t}),e.editing.view.focus()})),r}))}}class Kb{constructor(t,e=20){this._batch=null,this.model=t,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(t,e)=>{e.isLocal&&e.isUndoable&&e!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){this.isLocked&&!t||(this._batch=null,this._size=0)}}class qb extends Ir{constructor(t,e){super(t),this._buffer=new Kb(t.model,e),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,o=e.document,n=t.text||"",r=n.length;let i=o.selection;if(t.selection?i=t.selection:t.range&&(i=e.createSelection(t.range)),!e.canEditAt(i))return;const s=t.resultRange;e.enqueueChange(this._buffer.batch,(t=>{this._buffer.lock(),e.deleteContent(i),n&&e.insertContent(t.createText(n,o.selection.getAttributes()),i),s?t.setSelection(s):i.is("documentSelection")||t.setSelection(i),this._buffer.unlock(),this._buffer.input(r)}))}}const Hb=["insertText","insertReplacementText"];class jb extends wl{constructor(t){super(t),this.focusObserver=t.getObserver(sa),r.isAndroid&&Hb.push("insertCompositionText");const e=t.document;e.on("beforeinput",((o,n)=>{if(!this.isEnabled)return;const{data:r,targetRanges:i,inputType:s,domEvent:l}=n;if(!Hb.includes(s))return;this.focusObserver.flush();const a=new h(e,"insertText");e.fire(a,new kl(t,l,{text:r,selection:t.createSelection(i)})),a.stop.called&&o.stop()})),e.on("compositionend",((o,{data:n,domEvent:i})=>{this.isEnabled&&!r.isAndroid&&n&&e.fire("insertText",new kl(t,i,{text:n,selection:e.selection}))}),{priority:"lowest"})}observe(){}stopObserving(){}}class Wb extends Lr{static get pluginName(){return"Input"}init(){const t=this.editor,e=t.model,o=t.editing.view,n=e.document.selection;o.addObserver(jb);const i=new qb(t,t.config.get("typing.undoStep")||20);t.commands.add("insertText",i),t.commands.add("input",i),this.listenTo(o.document,"insertText",((n,i)=>{o.document.isComposing||i.preventDefault();const{text:s,selection:l,resultRange:a}=i,d=Array.from(l.getRanges()).map((e=>t.editing.mapper.toModelRange(e)));let c=s;if(r.isAndroid){const t=Array.from(d[0].getItems()).reduce(((t,e)=>t+(e.is("$textProxy")?e.data:"")),"");t&&(t.length<=c.length?c.startsWith(t)&&(c=c.substring(t.length),d[0].start=d[0].start.getShiftedBy(t.length)):t.startsWith(c)&&(d[0].start=d[0].start.getShiftedBy(c.length),c=""))}const h={text:c,selection:e.createSelection(d)};a&&(h.resultRange=t.editing.mapper.toModelRange(a)),t.execute("insertText",h),o.scrollToTheSelection()})),r.isAndroid?this.listenTo(o.document,"keydown",((t,r)=>{!n.isCollapsed&&229==r.keyCode&&o.document.isComposing&&Ub(e,i)})):this.listenTo(o.document,"compositionstart",(()=>{n.isCollapsed||Ub(e,i)}))}}function Ub(t,e){if(!e.isEnabled)return;const o=e.buffer;o.lock(),t.enqueueChange(o.batch,(()=>{t.deleteContent(t.document.selection)})),o.unlock()}class Gb extends Ir{constructor(t,e){super(t),this.direction=e,this._buffer=new Kb(t.model,t.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,o=e.document;e.enqueueChange(this._buffer.batch,(n=>{this._buffer.lock();const r=n.createSelection(t.selection||o.selection);if(!e.canEditAt(r))return;const i=t.sequence||1,s=r.isCollapsed;if(r.isCollapsed&&e.modifySelection(r,{direction:this.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(i))return void this._replaceEntireContentWithParagraph(n);if(this._shouldReplaceFirstBlockWithParagraph(r,i))return void this.editor.execute("paragraph",{selection:r});if(r.isCollapsed)return;let l=0;r.getFirstRange().getMinimalFlatRanges().forEach((t=>{l+=G(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),e.deleteContent(r,{doNotResetEntireContent:s,direction:this.direction}),this._buffer.input(l),n.setSelection(r),this._buffer.unlock()}))}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,o=e.document.selection,n=e.schema.getLimitElement(o);if(!(o.isCollapsed&&o.containsEntireContent(n)))return!1;if(!e.schema.checkChild(n,"paragraph"))return!1;const r=n.getChild(0);return!r||!r.is("element","paragraph")}_replaceEntireContentWithParagraph(t){const e=this.editor.model,o=e.document.selection,n=e.schema.getLimitElement(o),r=t.createElement("paragraph");t.remove(t.createRangeIn(n)),t.insert(r,n),t.setSelection(r,0)}_shouldReplaceFirstBlockWithParagraph(t,e){const o=this.editor.model;if(e>1||"backward"!=this.direction)return!1;if(!t.isCollapsed)return!1;const n=t.getFirstPosition(),r=o.schema.getLimitElement(n),i=r.getChild(0);return n.parent==i&&(!!t.containsEntireContent(i)&&(!!o.schema.checkChild(r,"paragraph")&&"paragraph"!=i.name))}}const Zb="word",Jb="selection",Yb="backward",Xb="forward",Qb={deleteContent:{unit:Jb,direction:Yb},deleteContentBackward:{unit:"codePoint",direction:Yb},deleteWordBackward:{unit:Zb,direction:Yb},deleteHardLineBackward:{unit:Jb,direction:Yb},deleteSoftLineBackward:{unit:Jb,direction:Yb},deleteContentForward:{unit:"character",direction:Xb},deleteWordForward:{unit:Zb,direction:Xb},deleteHardLineForward:{unit:Jb,direction:Xb},deleteSoftLineForward:{unit:Jb,direction:Xb}};class tf extends wl{constructor(t){super(t);const e=t.document;let o=0;e.on("keydown",(()=>{o++})),e.on("keyup",(()=>{o=0})),e.on("beforeinput",((n,i)=>{if(!this.isEnabled)return;const{targetRanges:s,domEvent:l,inputType:a}=i,d=Qb[a];if(!d)return;const c={direction:d.direction,unit:d.unit,sequence:o};c.unit==Jb&&(c.selectionToRemove=t.createSelection(s[0])),"deleteContentBackward"===a&&(r.isAndroid&&(c.sequence=1),function(t){if(1!=t.length||t[0].isCollapsed)return!1;const e=t[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let o=0;for(const{nextPosition:t}of e){if(t.parent.is("$text")){const e=t.parent.data,n=t.offset;if(Mr(e,n)||Dr(e,n)||Br(e,n))continue;o++}else o++;if(o>1)return!0}return!1}(s)&&(c.unit=Jb,c.selectionToRemove=t.createSelection(s)));const h=new gs(e,"delete",s[0]);e.fire(h,new kl(t,l,c)),h.stop.called&&n.stop()})),r.isBlink&&function(t){const e=t.view,o=e.document;let n=null,r=!1;function i(t){return t==hr.backspace||t==hr.delete}function s(t){return t==hr.backspace?Yb:Xb}o.on("keydown",((t,{keyCode:e})=>{n=e,r=!1})),o.on("keyup",((l,{keyCode:a,domEvent:d})=>{const c=o.selection,h=t.isEnabled&&a==n&&i(a)&&!c.isCollapsed&&!r;if(n=null,h){const t=c.getFirstRange(),n=new gs(o,"delete",t),r={unit:Jb,direction:s(a),selectionToRemove:c};o.fire(n,new kl(e,d,r))}})),o.on("beforeinput",((t,{inputType:e})=>{const o=Qb[e];i(n)&&o&&o.direction==s(n)&&(r=!0)}),{priority:"high"}),o.on("beforeinput",((t,{inputType:e,data:o})=>{n==hr.delete&&"insertText"==e&&""==o&&t.stop()}),{priority:"high"})}(this)}observe(){}stopObserving(){}}class ef extends Lr{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,o=e.document,n=t.model.document;e.addObserver(tf),this._undoOnBackspace=!1;const r=new Gb(t,"forward");t.commands.add("deleteForward",r),t.commands.add("forwardDelete",r),t.commands.add("delete",new Gb(t,"backward")),this.listenTo(o,"delete",((n,r)=>{o.isComposing||r.preventDefault();const{direction:i,sequence:s,selectionToRemove:l,unit:a}=r,d="forward"===i?"deleteForward":"delete",c={sequence:s};if("selection"==a){const e=Array.from(l.getRanges()).map((e=>t.editing.mapper.toModelRange(e)));c.selection=t.model.createSelection(e)}else c.unit=a;t.execute(d,c),e.scrollToTheSelection()}),{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(o,"delete",((e,o)=>{this._undoOnBackspace&&"backward"==o.direction&&1==o.sequence&&"codePoint"==o.unit&&(this._undoOnBackspace=!1,t.execute("undo"),o.preventDefault(),e.stop())}),{context:"$capture"}),this.listenTo(n,"change",(()=>{this._undoOnBackspace=!1})))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class of extends Lr{static get requires(){return[Wb,ef]}static get pluginName(){return"Typing"}}function nf(t,e){let o=t.start;return{text:Array.from(t.getWalker({ignoreElementEnd:!1})).reduce(((t,{item:n})=>n.is("$text")||n.is("$textProxy")?t+n.data:(o=e.createPositionAfter(n),"")),""),range:e.createRange(o,t.end)}}class rf extends(K()){constructor(t,e){super(),this.model=t,this.testCallback=e,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))})),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",((e,{directChange:o})=>{o&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))})),this.listenTo(t,"change:data",((t,e)=>{!e.isUndo&&e.isLocal&&this._evaluateTextBeforeSelection("data",{batch:e})}))}_evaluateTextBeforeSelection(t,e={}){const o=this.model,n=o.document.selection,r=o.createRange(o.createPositionAt(n.focus.parent,0),n.focus),{text:i,range:s}=nf(r,o),l=this.testCallback(i);if(!l&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!l,l){const o=Object.assign(e,{text:i,range:s});"object"==typeof l&&Object.assign(o,l),this.fire(`matched:${t}`,o)}}}class sf extends Lr{static get pluginName(){return"TwoStepCaretMovement"}constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}init(){const t=this.editor,e=t.model,o=t.editing.view,n=t.locale,r=e.document.selection;this.listenTo(o.document,"arrowKey",((t,e)=>{if(!r.isCollapsed)return;if(e.shiftKey||e.altKey||e.ctrlKey)return;const o=e.keyCode==hr.arrowright,i=e.keyCode==hr.arrowleft;if(!o&&!i)return;const s=n.contentLanguageDirection;let l=!1;l="ltr"===s&&o||"rtl"===s&&i?this._handleForwardMovement(e):this._handleBackwardMovement(e),!0===l&&t.stop()}),{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(r,"change:range",((t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&cf(r.getFirstPosition(),this.attributes)||this._restoreGravity())}))}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const e=this.attributes,o=this.editor.model.document.selection,n=o.getFirstPosition();return!this._isGravityOverridden&&((!n.isAtStart||!lf(o,e))&&(!!cf(n,e)&&(df(t),this._overrideGravity(),!0)))}_handleBackwardMovement(t){const e=this.attributes,o=this.editor.model,n=o.document.selection,r=n.getFirstPosition();return this._isGravityOverridden?(df(t),this._restoreGravity(),af(o,e,r),!0):r.isAtStart?!!lf(n,e)&&(df(t),af(o,e,r),!0):!!function(t,e){const o=t.getShiftedBy(-1);return cf(o,e)}(r,e)&&(r.isAtEnd&&!lf(n,e)&&cf(r,e)?(df(t),af(o,e,r),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change((t=>t.overrideSelectionGravity()))}_restoreGravity(){this.editor.model.change((t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null}))}}function lf(t,e){for(const o of e)if(t.hasAttribute(o))return!0;return!1}function af(t,e,o){const n=o.nodeBefore;t.change((o=>{if(n){const e=[],r=t.schema.isObject(n)&&t.schema.isInline(n);for(const[o,i]of n.getAttributes())!t.schema.checkAttribute("$text",o)||r&&!1===t.schema.getAttributeProperties(o).copyFromObject||e.push([o,i]);o.setSelectionAttribute(e)}else o.removeSelectionAttribute(e)}))}function df(t){t.preventDefault()}function cf(t,e){const{nodeBefore:o,nodeAfter:n}=t;for(const t of e){const e=o?o.getAttribute(t):void 0;if((n?n.getAttribute(t):void 0)!==e)return!0}return!1}const hf={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"⅓",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"⅔",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"¾",null]},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:ff('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:ff("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:ff("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:ff('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:ff('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:ff("'"),to:[null,"‚",null,"’"]}},uf={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},pf=["symbols","mathematical","typography","quotes"];function mf(t){return"string"==typeof t?new RegExp(`(${gb(t)})$`):t}function gf(t){return"string"==typeof t?()=>[t]:t instanceof Array?()=>t:t}function bf(t){return(t.textNode?t.textNode:t.nodeAfter).getAttributes()}function ff(t){return new RegExp(`(^|\\s)(${t})([^${t}]*)(${t})$`)}function wf(t,e,o,n){return n.createRange(xf(t,e,o,!0,n),xf(t,e,o,!1,n))}function xf(t,e,o,n,r){let i=t.textNode||(n?t.nodeBefore:t.nodeAfter),s=null;for(;i&&i.getAttribute(e)==o;)s=i,i=n?i.previousSibling:i.nextSibling;return s?r.createPositionAt(s,n?"before":"after"):t}function kf(t,e,o,n){let r,i=null;"function"==typeof n?r=n:(i=t.commands.get(n),r=()=>{t.execute(n)}),t.model.document.on("change:data",((s,l)=>{if(i&&!i.isEnabled||!e.isEnabled)return;const a=_r(t.model.document.selection.getRanges());if(!a.isCollapsed)return;if(l.isUndo||!l.isLocal)return;const d=Array.from(t.model.document.differ.getChanges()),c=d[0];if(1!=d.length||"insert"!==c.type||"$text"!=c.name||1!=c.length)return;const h=c.position.parent;if(h.is("element","codeBlock"))return;if(h.is("element","listItem")&&"function"!=typeof n&&!["numberedList","bulletedList","todoList"].includes(n))return;if(i&&!0===i.value)return;const u=h.getChild(0),p=t.model.createRangeOn(u);if(!p.containsRange(a)&&!a.end.isEqual(p.end))return;const m=o.exec(u.data.substr(0,a.end.offset));m&&t.model.enqueueChange((e=>{const o=e.createPositionAt(h,0),n=e.createPositionAt(h,m[0].length),i=new Ha(o,n);if(!1!==r({match:m})){e.remove(i);const o=t.model.document.selection.getFirstRange(),n=e.createRangeIn(h);!h.isEmpty||n.isEqual(o)||n.containsRange(o,!0)||e.remove(h)}i.detach(),t.model.enqueueChange((()=>{t.plugins.get("Delete").requestUndoOnBackspace()}))}))}))}function yf(t,e,o,n){let r,i;o instanceof RegExp?r=o:i=o,i=i||(t=>{let e;const o=[],n=[];for(;null!==(e=r.exec(t))&&!(e&&e.length<4);){let{index:t,1:r,2:i,3:s}=e;const l=r+i+s;t+=e[0].length-l.length;const a=[t,t+r.length],d=[t+r.length+i.length,t+r.length+i.length+s.length];o.push(a),o.push(d),n.push([t+r.length,t+r.length+i.length])}return{remove:o,format:n}}),t.model.document.on("change:data",((o,r)=>{if(r.isUndo||!r.isLocal||!e.isEnabled)return;const s=t.model,l=s.document.selection;if(!l.isCollapsed)return;const a=Array.from(s.document.differ.getChanges()),d=a[0];if(1!=a.length||"insert"!==d.type||"$text"!=d.name||1!=d.length)return;const c=l.focus,h=c.parent,{text:u,range:p}=function(t,e){let o=t.start;const n=Array.from(t.getItems()).reduce(((t,n)=>!n.is("$text")&&!n.is("$textProxy")||n.getAttribute("code")?(o=e.createPositionAfter(n),""):t+n.data),"");return{text:n,range:e.createRange(o,t.end)}}(s.createRange(s.createPositionAt(h,0),c),s),m=i(u),g=vf(p.start,m.format,s),b=vf(p.start,m.remove,s);g.length&&b.length&&s.enqueueChange((e=>{if(!1!==n(e,g)){for(const t of b.reverse())e.remove(t);s.enqueueChange((()=>{t.plugins.get("Delete").requestUndoOnBackspace()}))}}))}))}function vf(t,e,o){return e.filter((t=>void 0!==t[0]&&void 0!==t[1])).map((e=>o.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1]))))}function _f(t,e){return(o,n)=>{if(!t.commands.get(e).isEnabled)return!1;const r=t.model.schema.getValidRanges(n,e);for(const t of r)o.setAttribute(e,!0,t);o.removeSelectionAttribute(e)}}class Af extends Ir{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,o=e.document.selection,n=void 0===t.forceValue?!this.value:t.forceValue;e.change((t=>{if(o.isCollapsed)n?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const r=e.schema.getValidRanges(o.getRanges(),this.attributeKey);for(const e of r)n?t.setAttribute(this.attributeKey,n,e):t.removeAttribute(this.attributeKey,e)}}))}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,o=t.document.selection;if(o.isCollapsed)return o.hasAttribute(this.attributeKey);for(const t of o.getRanges())for(const o of t.getItems())if(e.checkAttribute(o,this.attributeKey))return o.hasAttribute(this.attributeKey);return!1}}const Cf="bold";class Sf extends Lr{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Cf}),t.model.schema.setAttributeProperties(Cf,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Cf,view:"strong",upcastAlso:["b",t=>{const e=t.getStyle("font-weight");return e&&("bold"==e||Number(e)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(Cf,new Af(t,Cf)),t.keystrokes.set("CTRL+B",Cf)}}const Ef="bold";class Mf extends Lr{static get pluginName(){return"BoldUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Ef,(o=>{const n=t.commands.get(Ef),r=new sp(o);return r.set({label:e("Bold"),icon:pu.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(r,"execute",(()=>{t.execute(Ef),t.editing.view.focus()})),r}))}}var Df=o(5363),Tf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Df.Z,Tf);Df.Z.locals;const Bf="italic";class Lf extends Lr{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Bf}),t.model.schema.setAttributeProperties(Bf,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Bf,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(Bf,new Af(t,Bf)),t.keystrokes.set("CTRL+I",Bf)}}const Pf="italic";class If extends Lr{static get pluginName(){return"ItalicUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Pf,(o=>{const n=t.commands.get(Pf),r=new sp(o);return r.set({label:e("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(r,"execute",(()=>{t.execute(Pf),t.editing.view.focus()})),r}))}}const zf="strikethrough";class Rf extends Lr{static get pluginName(){return"StrikethroughEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:zf}),t.model.schema.setAttributeProperties(zf,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:zf,view:"s",upcastAlso:["del","strike",{styles:{"text-decoration":"line-through"}}]}),t.commands.add(zf,new Af(t,zf)),t.keystrokes.set("CTRL+SHIFT+X","strikethrough")}}const Ff="strikethrough";class Of extends Lr{static get pluginName(){return"StrikethroughUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Ff,(o=>{const n=t.commands.get(Ff),r=new sp(o);return r.set({label:e("Strikethrough"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9 6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>',keystroke:"CTRL+SHIFT+X",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(r,"execute",(()=>{t.execute(Ff),t.editing.view.focus()})),r}))}}const Vf="subscript";class Nf extends Lr{static get pluginName(){return"SubscriptEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Vf}),t.model.schema.setAttributeProperties(Vf,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Vf,view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),t.commands.add(Vf,new Af(t,Vf))}}const $f="subscript";class Kf extends Lr{static get pluginName(){return"SubscriptUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add($f,(o=>{const n=t.commands.get($f),r=new sp(o);return r.set({label:e("Subscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>',tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(r,"execute",(()=>{t.execute($f),t.editing.view.focus()})),r}))}}const qf="superscript";class Hf extends Lr{static get pluginName(){return"SuperscriptEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:qf}),t.model.schema.setAttributeProperties(qf,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:qf,view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),t.commands.add(qf,new Af(t,qf))}}const jf="superscript";class Wf extends Lr{static get pluginName(){return"SuperscriptUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(jf,(o=>{const n=t.commands.get(jf),r=new sp(o);return r.set({label:e("Superscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(r,"execute",(()=>{t.execute(jf),t.editing.view.focus()})),r}))}}const Uf="underline";class Gf extends Lr{static get pluginName(){return"UnderlineEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:Uf}),t.model.schema.setAttributeProperties(Uf,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:Uf,view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),t.commands.add(Uf,new Af(t,Uf)),t.keystrokes.set("CTRL+U","underline")}}const Zf="underline";class Jf extends Lr{static get pluginName(){return"UnderlineUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Zf,(o=>{const n=t.commands.get(Zf),r=new sp(o);return r.set({label:e("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(r,"execute",(()=>{t.execute(Zf),t.editing.view.focus()})),r}))}}function*Yf(t,e){for(const o of e)o&&t.getAttributeProperties(o[0]).copyOnEnter&&(yield o)}class Xf extends Ir{execute(){this.editor.model.change((t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})}))}enterBlock(t){const e=this.editor.model,o=e.document.selection,n=e.schema,r=o.isCollapsed,i=o.getFirstRange(),s=i.start.parent,l=i.end.parent;if(n.isLimit(s)||n.isLimit(l))return r||s!=l||e.deleteContent(o),!1;if(r){const e=Yf(t.model.schema,o.getAttributes());return Qf(t,i.start),t.setSelectionAttribute(e),!0}{const n=!(i.start.isAtStart&&i.end.isAtEnd),r=s==l;if(e.deleteContent(o,{leaveUnmerged:n}),n){if(r)return Qf(t,o.focus),!0;t.setSelection(l,0)}}return!1}}function Qf(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}const tw={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class ew extends wl{constructor(t){super(t);const e=this.document;let o=!1;e.on("keydown",((t,e)=>{o=e.shiftKey})),e.on("beforeinput",((n,i)=>{if(!this.isEnabled)return;let s=i.inputType;r.isSafari&&o&&"insertParagraph"==s&&(s="insertLineBreak");const l=i.domEvent,a=tw[s];if(!a)return;const d=new gs(e,"enter",i.targetRanges[0]);e.fire(d,new kl(t,l,{isSoft:a.isSoft})),d.stop.called&&n.stop()}))}observe(){}stopObserving(){}}class ow extends Lr{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,o=e.document;e.addObserver(ew),t.commands.add("enter",new Xf(t)),this.listenTo(o,"enter",((n,r)=>{o.isComposing||r.preventDefault(),r.isSoft||(t.execute("enter"),e.scrollToTheSelection())}),{priority:"low"})}}class nw extends Ir{execute(){const t=this.editor.model,e=t.document;t.change((o=>{!function(t,e,o){const n=o.isCollapsed,r=o.getFirstRange(),i=r.start.parent,s=r.end.parent,l=i==s;if(n){const n=Yf(t.schema,o.getAttributes());rw(t,e,r.end),e.removeSelectionAttribute(o.getAttributeKeys()),e.setSelectionAttribute(n)}else{const n=!(r.start.isAtStart&&r.end.isAtEnd);t.deleteContent(o,{leaveUnmerged:n}),l?rw(t,e,o.focus):n&&e.setSelection(s,0)}}(t,o,e.selection),this.fire("afterExecute",{writer:o})}))}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;const o=e.anchor;if(!o||!t.checkChild(o,"softBreak"))return!1;const n=e.getFirstRange(),r=n.start.parent,i=n.end.parent;if((iw(r,t)||iw(i,t))&&r!==i)return!1;return!0}(t.schema,e.selection)}}function rw(t,e,o){const n=e.createElement("softBreak");t.insertContent(n,o),e.setSelection(n,"after")}function iw(t,e){return!t.is("rootElement")&&(e.isLimit(t)||iw(t.parent,e))}class sw extends Lr{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.model.schema,o=t.conversion,n=t.editing.view,r=n.document;e.register("softBreak",{allowWhere:"$text",isInline:!0}),o.for("upcast").elementToElement({model:"softBreak",view:"br"}),o.for("downcast").elementToElement({model:"softBreak",view:(t,{writer:e})=>e.createEmptyElement("br")}),n.addObserver(ew),t.commands.add("shiftEnter",new nw(t)),this.listenTo(r,"enter",((e,o)=>{r.isComposing||o.preventDefault(),o.isSoft&&(t.execute("shiftEnter"),n.scrollToTheSelection())}),{priority:"low"})}}class lw extends Ir{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,o=e.schema,n=e.document.selection,r=Array.from(n.getSelectedBlocks()),i=void 0===t.forceValue?!this.value:t.forceValue;e.change((t=>{if(i){const e=r.filter((t=>aw(t)||cw(o,t)));this._applyQuote(t,e)}else this._removeQuote(t,r.filter(aw))}))}_getValue(){const t=_r(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!aw(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,o=_r(t.getSelectedBlocks());return!!o&&cw(e,o)}_removeQuote(t,e){dw(t,e).reverse().forEach((e=>{if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){const o=t.createPositionBefore(e.start.parent);return void t.move(e,o)}e.end.isAtEnd||t.split(e.end);const o=t.createPositionAfter(e.end.parent);t.move(e,o)}))}_applyQuote(t,e){const o=[];dw(t,e).reverse().forEach((e=>{let n=aw(e.start);n||(n=t.createElement("blockQuote"),t.wrap(e,n)),o.push(n)})),o.reverse().reduce(((e,o)=>e.nextSibling==o?(t.merge(t.createPositionAfter(e)),e):o))}}function aw(t){return"blockQuote"==t.parent.name?t.parent:null}function dw(t,e){let o,n=0;const r=[];for(;n<e.length;){const i=e[n],s=e[n+1];o||(o=t.createPositionBefore(i)),s&&i.nextSibling==s||(r.push(t.createRange(o,t.createPositionAfter(i))),o=null),n++}return r}function cw(t,e){const o=t.checkChild(e.parent,"blockQuote"),n=t.checkChild(["$root","blockQuote"],e);return o&&n}class hw extends Lr{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[ow,ef]}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new lw(t)),e.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer((o=>{const n=t.model.document.differ.getChanges();for(const t of n)if("insert"==t.type){const n=t.position.nodeAfter;if(!n)continue;if(n.is("element","blockQuote")&&n.isEmpty)return o.remove(n),!0;if(n.is("element","blockQuote")&&!e.checkChild(t.position,n))return o.unwrap(n),!0;if(n.is("element")){const t=o.createRangeIn(n);for(const n of t.getItems())if(n.is("element","blockQuote")&&!e.checkChild(o.createPositionBefore(n),n))return o.unwrap(n),!0}}else if("remove"==t.type){const e=t.position.parent;if(e.is("element","blockQuote")&&e.isEmpty)return o.remove(e),!0}return!1}));const o=this.editor.editing.view.document,n=t.model.document.selection,r=t.commands.get("blockQuote");this.listenTo(o,"enter",((e,o)=>{if(!n.isCollapsed||!r.value)return;n.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),o.preventDefault(),e.stop())}),{context:"blockquote"}),this.listenTo(o,"delete",((e,o)=>{if("backward"!=o.direction||!n.isCollapsed||!r.value)return;const i=n.getLastPosition().parent;i.isEmpty&&!i.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),o.preventDefault(),e.stop())}),{context:"blockquote"})}}var uw=o(3789),pw={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(uw.Z,pw);uw.Z.locals;class mw extends Lr{static get pluginName(){return"BlockQuoteUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",(o=>{const n=t.commands.get("blockQuote"),r=new sp(o);return r.set({label:e("Block quote"),icon:pu.quote,tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(r,"execute",(()=>{t.execute("blockQuote"),t.editing.view.focus()})),r}))}}const gw={autoRefresh:!0},bw=36e5;class fw extends(K()){constructor(t,e={}){if(super(),!t)throw new f("token-missing-token-url",this);e.initValue&&this._validateTokenValue(e.initValue),this.set("value",e.initValue),this._refresh="function"==typeof t?t:()=>{return e=t,new Promise(((t,o)=>{const n=new XMLHttpRequest;n.open("GET",e),n.addEventListener("load",(()=>{const e=n.status,r=n.response;return e<200||e>299?o(new f("token-cannot-download-new-token",null)):t(r)})),n.addEventListener("error",(()=>o(new Error("Network Error")))),n.addEventListener("abort",(()=>o(new Error("Abort")))),n.send()}));var e},this._options={...gw,...e}}init(){return new Promise(((t,e)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),t(this)):this.refreshToken().then(t).catch(e)}))}refreshToken(){return this._refresh().then((t=>(this._validateTokenValue(t),this.set("value",t),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this)))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(t){const e="string"==typeof t,o=!/^".*"$/.test(t),n=e&&3===t.split(".").length;if(!o||!n)throw new f("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout((()=>{this.refreshToken()}),t)}_getTokenRefreshTimeoutTime(){try{const[,t]=this.value.split("."),{exp:e}=JSON.parse(atob(t));if(!e)return bw;return Math.floor((1e3*e-Date.now())/2)}catch(t){return bw}}static create(t,e={}){return new fw(t,e).init()}}const ww=/^data:(\S*?);base64,/;class xw extends(E()){constructor(t,e,o){if(super(),!t)throw new f("fileuploader-missing-file",null);if(!e)throw new f("fileuploader-missing-token",null);if(!o)throw new f("fileuploader-missing-api-address",null);this.file=function(t){if("string"!=typeof t)return!1;const e=t.match(ww);return!(!e||!e.length)}(t)?function(t,e=512){try{const o=t.match(ww)[1],n=atob(t.replace(ww,"")),r=[];for(let t=0;t<n.length;t+=e){const o=n.slice(t,t+e),i=new Array(o.length);for(let t=0;t<o.length;t++)i[t]=o.charCodeAt(t);r.push(new Uint8Array(i))}return new Blob(r,{type:o})}catch(t){throw new f("fileuploader-decoding-image-data-error",null)}}(t):t,this._token=e,this._apiAddress=o}onProgress(t){return this.on("progress",((e,o)=>t(o))),this}onError(t){return this.once("error",((e,o)=>t(o))),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this.xhr,e=t=>()=>this.fire("error",t);t.addEventListener("error",e("Network Error")),t.addEventListener("abort",e("Abort")),t.upload&&t.upload.addEventListener("progress",(t=>{t.lengthComputable&&this.fire("progress",{total:t.total,uploaded:t.loaded})})),t.addEventListener("load",(()=>{const e=t.status,o=t.response;if(e<200||e>299)return this.fire("error",o.message||o.error)}))}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise(((o,n)=>{e.addEventListener("load",(()=>{const t=e.status,r=e.response;return t<200||t>299?r.message?n(new f("fileuploader-uploading-data-failed",this,{message:r.message})):n(r.error):o(r)})),e.addEventListener("error",(()=>n(new Error("Network Error")))),e.addEventListener("abort",(()=>n(new Error("Abort")))),e.send(t)}))}}class kw{constructor(t,e){if(!t)throw new f("uploadgateway-missing-token",null);if(!e)throw new f("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=e}upload(t){return new xw(t,this._token,this._apiAddress)}}class yw extends Vr{static get pluginName(){return"CloudServicesCore"}createToken(t,e){return new fw(t,e)}createUploadGateway(t,e){return new kw(t,e)}}class vw extends yl{constructor(t){super(t),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const e=this.document;function o(t){return(o,n)=>{n.preventDefault();const r=n.dropRange?[n.dropRange]:null,i=new h(e,t);e.fire(i,{dataTransfer:n.dataTransfer,method:o.name,targetRanges:r,target:n.target,domEvent:n.domEvent}),i.stop.called&&n.stopPropagation()}}this.listenTo(e,"paste",o("clipboardInput"),{priority:"low"}),this.listenTo(e,"drop",o("clipboardInput"),{priority:"low"}),this.listenTo(e,"dragover",o("dragging"),{priority:"low"})}onDomEvent(t){const e="clipboardData"in t?t.clipboardData:t.dataTransfer,o="drop"==t.type||"paste"==t.type,n={dataTransfer:new da(e,{cacheFiles:o})};"drop"!=t.type&&"dragover"!=t.type||(n.dropRange=function(t,e){const o=e.target.ownerDocument,n=e.clientX,r=e.clientY;let i;o.caretRangeFromPoint&&o.caretRangeFromPoint(n,r)?i=o.caretRangeFromPoint(n,r):e.rangeParent&&(i=o.createRange(),i.setStart(e.rangeParent,e.rangeOffset),i.collapse(!0));if(i)return t.domConverter.domRangeToView(i);return null}(this.view,t)),this.fire(t.type,t,n)}}const _w=["figcaption","li"],Aw=["ol","ul"];function Cw(t){if(t.is("$text")||t.is("$textProxy"))return t.data;if(t.is("element","img")&&t.hasAttribute("alt"))return t.getAttribute("alt");if(t.is("element","br"))return"\n";let e="",o=null;for(const n of t.getChildren())e+=Sw(n,o)+Cw(n),o=n;return e}function Sw(t,e){return e?t.is("element","li")&&!t.isEmpty&&t.getChild(0).is("containerElement")||Aw.includes(t.name)&&Aw.includes(e.name)?"\n\n":t.is("containerElement")||e.is("containerElement")?_w.includes(t.name)||_w.includes(e.name)?"\n":"\n\n":"":""}class Ew extends Lr{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(vw),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(t,e,o){const n=this.editor.model.getSelectedContent(e);this.fire("outputTransformation",{dataTransfer:t,content:n,method:o})}_setupPasteDrop(){const t=this.editor,e=t.model,o=t.editing.view,n=o.document;this.listenTo(n,"clipboardInput",((e,o)=>{"paste"!=o.method||t.model.canEditAt(t.model.document.selection)||e.stop()}),{priority:"highest"}),this.listenTo(n,"clipboardInput",((t,e)=>{const n=e.dataTransfer;let r;if(e.content)r=e.content;else{let t="";n.getData("text/html")?t=function(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((t,e)=>1==e.length?" ":e)).replace(/<!--[\s\S]*?-->/g,"")}(n.getData("text/html")):n.getData("text/plain")&&(((i=(i=n.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||i.includes("<br>"))&&(i=`<p>${i}</p>`),t=i),r=this.editor.data.htmlProcessor.toView(t)}var i;const s=new h(this,"inputTransformation");this.fire(s,{content:r,dataTransfer:n,targetRanges:e.targetRanges,method:e.method}),s.stop.called&&t.stop(),o.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",((t,o)=>{if(o.content.isEmpty)return;const n=this.editor.data.toModel(o.content,"$clipboardHolder");0!=n.childCount&&(t.stop(),e.change((()=>{this.fire("contentInsertion",{content:n,method:o.method,dataTransfer:o.dataTransfer,targetRanges:o.targetRanges})})))}),{priority:"low"}),this.listenTo(this,"contentInsertion",((t,o)=>{o.resultRange=e.insertContent(o.content)}),{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,o=t.editing.view.document,n=(t,o)=>{const n=o.dataTransfer;o.preventDefault(),this._fireOutputTransformationEvent(n,e.selection,t.name)};this.listenTo(o,"copy",n,{priority:"low"}),this.listenTo(o,"cut",((e,o)=>{t.model.canEditAt(t.model.document.selection)?n(e,o):o.preventDefault()}),{priority:"low"}),this.listenTo(this,"outputTransformation",((e,n)=>{const r=t.data.toView(n.content);o.fire("clipboardOutput",{dataTransfer:n.dataTransfer,content:r,method:n.method})}),{priority:"low"}),this.listenTo(o,"clipboardOutput",((o,n)=>{n.content.isEmpty||(n.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(n.content)),n.dataTransfer.setData("text/plain",Cw(n.content))),"cut"==n.method&&t.model.deleteContent(e.selection)}),{priority:"low"})}}class Mw extends(E()){constructor(){super(...arguments),this._stack=[]}add(t,e){const o=this._stack,n=o[0];this._insertDescriptor(t);const r=o[0];n===r||Dw(n,r)||this.fire("change:top",{oldDescriptor:n,newDescriptor:r,writer:e})}remove(t,e){const o=this._stack,n=o[0];this._removeDescriptor(t);const r=o[0];n===r||Dw(n,r)||this.fire("change:top",{oldDescriptor:n,newDescriptor:r,writer:e})}_insertDescriptor(t){const e=this._stack,o=e.findIndex((e=>e.id===t.id));if(Dw(t,e[o]))return;o>-1&&e.splice(o,1);let n=0;for(;e[n]&&Tw(e[n],t);)n++;e.splice(n,0,t)}_removeDescriptor(t){const e=this._stack,o=e.findIndex((e=>e.id===t));o>-1&&e.splice(o,1)}}function Dw(t,e){return t&&e&&t.priority==e.priority&&Bw(t.classes)==Bw(e.classes)}function Tw(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&Bw(t.classes)>Bw(e.classes)}function Bw(t){return Array.isArray(t)?t.sort().join(","):t}const Lw='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',Pw="ck-widget",Iw="ck-widget_selected";function zw(t){return!!t.is("element")&&!!t.getCustomProperty("widget")}function Rw(t,e,o={}){if(!t.is("containerElement"))throw new f("widget-to-widget-wrong-element-type",null,{element:t});return e.setAttribute("contenteditable","false",t),e.addClass(Pw,t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=$w,e.setCustomProperty("widgetLabel",[],t),o.label&&function(t,e){const o=t.getCustomProperty("widgetLabel");o.push(e)}(t,o.label),o.hasSelectionHandle&&function(t,e){const o=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(t){const e=this.toDomElement(t),o=new op;return o.set("content",Lw),o.render(),e.appendChild(o.element),e}));e.insert(e.createPositionAt(t,0),o),e.addClass(["ck-widget_with-selection-handle"],t)}(t,e),Vw(t,e),t}function Fw(t,e,o){if(e.classes&&o.addClass(fr(e.classes),t),e.attributes)for(const n in e.attributes)o.setAttribute(n,e.attributes[n],t)}function Ow(t,e,o){if(e.classes&&o.removeClass(fr(e.classes),t),e.attributes)for(const n in e.attributes)o.removeAttribute(n,t)}function Vw(t,e,o=Fw,n=Ow){const r=new Mw;r.on("change:top",((e,r)=>{r.oldDescriptor&&n(t,r.oldDescriptor,r.writer),r.newDescriptor&&o(t,r.newDescriptor,r.writer)}));e.setCustomProperty("addHighlight",((t,e,o)=>r.add(e,o)),t),e.setCustomProperty("removeHighlight",((t,e,o)=>r.remove(e,o)),t)}function Nw(t,e,o={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),e.setAttribute("role","textbox",t),o.label&&e.setAttribute("aria-label",o.label,t),e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",((o,n,r)=>{e.setAttribute("contenteditable",r?"false":"true",t)})),t.on("change:isFocused",((o,n,r)=>{r?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)})),Vw(t,e),t}function $w(){return null}const Kw="widget-type-around";function qw(t,e,o){return!!t&&zw(t)&&!o.isInline(e)}function Hw(t){return t.getAttribute(Kw)}var jw=o(2347),Ww={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(jw.Z,Ww);jw.Z.locals;const Uw=["before","after"],Gw=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Zw="ck-widget__type-around_disabled";class Jw extends Lr{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[ow,ef]}init(){const t=this.editor,e=t.editing.view;this.on("change:isEnabled",((o,n,r)=>{e.change((t=>{for(const o of e.document.roots)r?t.removeClass(Zw,o):t.addClass(Zw,o)})),r||t.model.change((t=>{t.removeSelectionAttribute(Kw)}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(t,e){const o=this.editor,n=o.editing.view,r=o.model.schema.getAttributesWithProperty(t,"copyOnReplace",!0);o.execute("insertParagraph",{position:o.model.createPositionAt(t,e),attributes:r}),n.focus(),n.scrollToTheSelection()}_listenToIfEnabled(t,e,o,n){this.listenTo(t,e,((...t)=>{this.isEnabled&&o(...t)}),n)}_insertParagraphAccordingToFakeCaretPosition(){const t=this.editor.model.document.selection,e=Hw(t);if(!e)return!1;const o=t.getSelectedElement();return this._insertParagraph(o,e),!0}_enableTypeAroundUIInjection(){const t=this.editor,e=t.model.schema,o=t.locale.t,n={before:o("Insert paragraph before block"),after:o("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",((t,r,i)=>{const s=i.mapper.toViewElement(r.item);if(s&&qw(s,r.item,e)){!function(t,e,o){const n=t.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(t){const o=this.toDomElement(t);return function(t,e){for(const o of Uw){const n=new Lu({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${o}`],title:e[o],"aria-hidden":"true"},children:[t.ownerDocument.importNode(Gw,!0)]});t.appendChild(n.render())}}(o,e),function(t){const e=new Lu({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});t.appendChild(e.render())}(o),o}));t.insert(t.createPositionAt(o,"end"),n)}(i.writer,n,s);s.getCustomProperty("widgetLabel").push((()=>this.isEnabled?o("Press Enter to type after or press Shift + Enter to type before the widget"):""))}}),{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,e=t.model,o=e.document.selection,n=e.schema,r=t.editing.view;function i(t){return`ck-widget_type-around_show-fake-caret_${t}`}this._listenToIfEnabled(r.document,"arrowKey",((t,e)=>{this._handleArrowKeyPress(t,e)}),{context:[zw,"$text"],priority:"high"}),this._listenToIfEnabled(o,"change:range",((e,o)=>{o.directChange&&t.model.change((t=>{t.removeSelectionAttribute(Kw)}))})),this._listenToIfEnabled(e.document,"change:data",(()=>{const e=o.getSelectedElement();if(e){if(qw(t.editing.mapper.toViewElement(e),e,n))return}t.model.change((t=>{t.removeSelectionAttribute(Kw)}))})),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",((t,e,o)=>{const r=o.writer;if(this._currentFakeCaretModelElement){const t=o.mapper.toViewElement(this._currentFakeCaretModelElement);t&&(r.removeClass(Uw.map(i),t),this._currentFakeCaretModelElement=null)}const s=e.selection.getSelectedElement();if(!s)return;const l=o.mapper.toViewElement(s);if(!qw(l,s,n))return;const a=Hw(e.selection);a&&(r.addClass(i(a),l),this._currentFakeCaretModelElement=s)})),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",((e,o,n)=>{n||t.model.change((t=>{t.removeSelectionAttribute(Kw)}))}))}_handleArrowKeyPress(t,e){const o=this.editor,n=o.model,r=n.document.selection,i=n.schema,s=o.editing.view,l=function(t,e){const o=br(t,e);return"down"===o||"right"===o}(e.keyCode,o.locale.contentLanguageDirection),a=s.document.selection.getSelectedElement();let d;qw(a,o.editing.mapper.toModelElement(a),i)?d=this._handleArrowKeyPressOnSelectedWidget(l):r.isCollapsed?d=this._handleArrowKeyPressWhenSelectionNextToAWidget(l):e.shiftKey||(d=this._handleArrowKeyPressWhenNonCollapsedSelection(l)),d&&(e.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const e=this.editor.model,o=Hw(e.document.selection);return e.change((e=>{if(!o)return e.setSelectionAttribute(Kw,t?"after":"before"),!0;if(!(o===(t?"after":"before")))return e.removeSelectionAttribute(Kw),!0;return!1}))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const e=this.editor,o=e.model,n=o.schema,r=e.plugins.get("Widget"),i=r._getObjectElementNextToSelection(t);return!!qw(e.editing.mapper.toViewElement(i),i,n)&&(o.change((e=>{r._setSelectionOverElement(i),e.setSelectionAttribute(Kw,t?"before":"after")})),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(t){const e=this.editor,o=e.model,n=o.schema,r=e.editing.mapper,i=o.document.selection,s=t?i.getLastPosition().nodeBefore:i.getFirstPosition().nodeAfter;return!!qw(r.toViewElement(s),s,n)&&(o.change((e=>{e.setSelection(s,"on"),e.setSelectionAttribute(Kw,t?"after":"before")})),!0)}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,e=t.editing.view;this._listenToIfEnabled(e.document,"mousedown",((o,n)=>{const r=n.domTarget.closest(".ck-widget__type-around__button");if(!r)return;const i=function(t){return t.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(r),s=function(t,e){const o=t.closest(".ck-widget");return e.mapDomToView(o)}(r,e.domConverter),l=t.editing.mapper.toModelElement(s);this._insertParagraph(l,i),n.preventDefault(),o.stop()}))}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,e=t.model.document.selection,o=t.editing.view;this._listenToIfEnabled(o.document,"enter",((o,n)=>{if("atTarget"!=o.eventPhase)return;const r=e.getSelectedElement(),i=t.editing.mapper.toViewElement(r),s=t.model.schema;let l;this._insertParagraphAccordingToFakeCaretPosition()?l=!0:qw(i,r,s)&&(this._insertParagraph(r,n.isSoft?"before":"after"),l=!0),l&&(n.preventDefault(),o.stop())}),{context:zw})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",((e,o)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(o.selection=t.selection)}),{priority:"high"}),r.isAndroid?this._listenToIfEnabled(t,"keydown",((t,e)=>{229==e.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()})):this._listenToIfEnabled(t,"compositionstart",(()=>{this._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}_enableDeleteIntegration(){const t=this.editor,e=t.editing.view,o=t.model,n=o.schema;this._listenToIfEnabled(e.document,"delete",((e,r)=>{if("atTarget"!=e.eventPhase)return;const i=Hw(o.document.selection);if(!i)return;const s=r.direction,l=o.document.selection.getSelectedElement(),a="forward"==s;if("before"===i===a)t.execute("delete",{selection:o.createSelection(l,"on")});else{const e=n.getNearestSelectionRange(o.createPositionAt(l,i),s);if(e)if(e.isCollapsed){const r=o.createSelection(e.start);if(o.modifySelection(r,{direction:s}),r.focus.isEqual(e.start)){const t=function(t,e){let o=e;for(const n of e.getAncestors({parentFirst:!0})){if(n.childCount>1||t.isLimit(n))break;o=n}return o}(n,e.start.parent);o.deleteContent(o.createSelection(t,"on"),{doNotAutoparagraph:!0})}else o.change((o=>{o.setSelection(e),t.execute(a?"deleteForward":"delete")}))}else o.change((o=>{o.setSelection(e),t.execute(a?"deleteForward":"delete")}))}r.preventDefault(),e.stop()}),{context:zw})}_enableInsertContentIntegration(){const t=this.editor,e=this.editor.model,o=e.document.selection;this._listenToIfEnabled(t.model,"insertContent",((t,[n,r])=>{if(r&&!r.is("documentSelection"))return;const i=Hw(o);return i?(t.stop(),e.change((t=>{const r=o.getSelectedElement(),s=e.createPositionAt(r,i),l=t.createSelection(s),a=e.insertContent(n,l);return t.setSelection(l),a}))):void 0}),{priority:"high"})}_enableInsertObjectIntegration(){const t=this.editor,e=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"insertObject",((t,o)=>{const[,n,r={}]=o;if(n&&!n.is("documentSelection"))return;const i=Hw(e);i&&(r.findOptimalPosition=i,o[3]=r)}),{priority:"high"})}_enableDeleteContentIntegration(){const t=this.editor,e=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"deleteContent",((t,[o])=>{if(o&&!o.is("documentSelection"))return;Hw(e)&&t.stop()}),{priority:"high"})}}function Yw(t){const e=t.model;return(o,n)=>{const r=n.keyCode==hr.arrowup,i=n.keyCode==hr.arrowdown,s=n.shiftKey,l=e.document.selection;if(!r&&!i)return;const a=i;if(s&&function(t,e){return!t.isCollapsed&&t.isBackward==e}(l,a))return;const d=function(t,e,o){const n=t.model;if(o){const t=e.isCollapsed?e.focus:e.getLastPosition(),o=Xw(n,t,"forward");if(!o)return null;const r=n.createRange(t,o),i=Qw(n.schema,r,"backward");return i?n.createRange(t,i):null}{const t=e.isCollapsed?e.focus:e.getFirstPosition(),o=Xw(n,t,"backward");if(!o)return null;const r=n.createRange(o,t),i=Qw(n.schema,r,"forward");return i?n.createRange(i,t):null}}(t,l,a);if(d){if(d.isCollapsed){if(l.isCollapsed)return;if(s)return}(d.isCollapsed||function(t,e,o){const n=t.model,r=t.view.domConverter;if(o){const t=n.createSelection(e.start);n.modifySelection(t),t.focus.isAtEnd||e.start.isEqual(t.focus)||(e=n.createRange(t.focus,e.end))}const i=t.mapper.toViewRange(e),s=r.viewRangeToDom(i),l=Rn.getDomRangeRects(s);let a;for(const t of l)if(void 0!==a){if(Math.round(t.top)>=a)return!1;a=Math.max(a,Math.round(t.bottom))}else a=Math.round(t.bottom);return!0}(t,d,a))&&(e.change((t=>{const o=a?d.end:d.start;if(s){const n=e.createSelection(l.anchor);n.setFocus(o),t.setSelection(n)}else t.setSelection(o)})),o.stop(),n.preventDefault(),n.stopPropagation())}}}function Xw(t,e,o){const n=t.schema,r=t.createRangeIn(e.root),i="forward"==o?"elementStart":"elementEnd";for(const{previousPosition:t,item:s,type:l}of r.getWalker({startPosition:e,direction:o})){if(n.isLimit(s)&&!n.isInline(s))return t;if(l==i&&n.isBlock(s))return null}return null}function Qw(t,e,o){const n="backward"==o?e.end:e.start;if(t.checkChild(n,"$text"))return n;for(const{nextPosition:n}of e.getWalker({direction:o}))if(t.checkChild(n,"$text"))return n;return null}var tx=o(7153),ex={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(tx.Z,ex);tx.Z.locals;class ox extends Lr{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[Jw,ef]}init(){const t=this.editor,e=t.editing.view,o=e.document;this.editor.editing.downcastDispatcher.on("selection",((e,o,n)=>{const r=n.writer,i=o.selection;if(i.isCollapsed)return;const s=i.getSelectedElement();if(!s)return;const l=t.editing.mapper.toViewElement(s);var a;zw(l)&&(n.consumable.consume(i,"selection")&&r.setSelection(r.createRangeOn(l),{fake:!0,label:(a=l,a.getCustomProperty("widgetLabel").reduce(((t,e)=>"function"==typeof e?t?t+". "+e():e():t?t+". "+e:e),""))}))})),this.editor.editing.downcastDispatcher.on("selection",((t,e,o)=>{this._clearPreviouslySelectedWidgets(o.writer);const n=o.writer,r=n.document.selection;let i=null;for(const t of r.getRanges())for(const e of t){const t=e.item;zw(t)&&!nx(t,i)&&(n.addClass(Iw,t),this._previouslySelected.add(t),i=t)}}),{priority:"low"}),e.addObserver(bh),this.listenTo(o,"mousedown",((...t)=>this._onMousedown(...t))),this.listenTo(o,"arrowKey",((...t)=>{this._handleSelectionChangeOnArrowKeyPress(...t)}),{context:[zw,"$text"]}),this.listenTo(o,"arrowKey",((...t)=>{this._preventDefaultOnArrowKeyPress(...t)}),{context:"$root"}),this.listenTo(o,"arrowKey",Yw(this.editor.editing),{context:"$text"}),this.listenTo(o,"delete",((t,e)=>{this._handleDelete("forward"==e.direction)&&(e.preventDefault(),t.stop())}),{context:"$root"})}_onMousedown(t,e){const o=this.editor,n=o.editing.view,i=n.document;let s=e.target;if(e.domEvent.detail>=3)return void(this._selectBlockContent(s)&&e.preventDefault());if(function(t){let e=t;for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(zw(e))return!1;e=e.parent}return!1}(s))return;if(!zw(s)&&(s=s.findAncestor(zw),!s))return;r.isAndroid&&e.preventDefault(),i.isFocused||n.focus();const l=o.editing.mapper.toModelElement(s);this._setSelectionOverElement(l)}_selectBlockContent(t){const e=this.editor,o=e.model,n=e.editing.mapper,r=o.schema,i=n.findMappedViewAncestor(this.editor.editing.view.createPositionAt(t,0)),s=function(t,e){for(const o of t.getAncestors({includeSelf:!0,parentFirst:!0})){if(e.checkChild(o,"$text"))return o;if(e.isLimit(o)&&!e.isObject(o))break}return null}(n.toModelElement(i),o.schema);return!!s&&(o.change((t=>{const e=r.isLimit(s)?null:function(t,e){const o=new va({startPosition:t});for(const{item:t}of o){if(e.isLimit(t)||!t.is("element"))return null;if(e.checkChild(t,"$text"))return t}return null}(t.createPositionAfter(s),r),o=t.createPositionAt(s,0),n=e?t.createPositionAt(e,0):t.createPositionAt(s,"end");t.setSelection(t.createRange(o,n))})),!0)}_handleSelectionChangeOnArrowKeyPress(t,e){const o=e.keyCode,n=this.editor.model,r=n.schema,i=n.document.selection,s=i.getSelectedElement(),l=br(o,this.editor.locale.contentLanguageDirection),a="down"==l||"right"==l,d="up"==l||"down"==l;if(s&&r.isObject(s)){const o=a?i.getLastPosition():i.getFirstPosition(),s=r.getNearestSelectionRange(o,a?"forward":"backward");return void(s&&(n.change((t=>{t.setSelection(s)})),e.preventDefault(),t.stop()))}if(!i.isCollapsed&&!e.shiftKey){const o=i.getFirstPosition(),s=i.getLastPosition(),l=o.nodeAfter,d=s.nodeBefore;return void((l&&r.isObject(l)||d&&r.isObject(d))&&(n.change((t=>{t.setSelection(a?s:o)})),e.preventDefault(),t.stop()))}if(!i.isCollapsed)return;const c=this._getObjectElementNextToSelection(a);if(c&&r.isObject(c)){if(r.isInline(c)&&d)return;this._setSelectionOverElement(c),e.preventDefault(),t.stop()}}_preventDefaultOnArrowKeyPress(t,e){const o=this.editor.model,n=o.schema,r=o.document.selection.getSelectedElement();r&&n.isObject(r)&&(e.preventDefault(),t.stop())}_handleDelete(t){const e=this.editor.model.document.selection;if(!this.editor.model.canEditAt(e))return;if(!e.isCollapsed)return;const o=this._getObjectElementNextToSelection(t);return o?(this.editor.model.change((t=>{let n=e.anchor.parent;for(;n.isEmpty;){const e=n;n=e.parent,t.remove(e)}this._setSelectionOverElement(o)})),!0):void 0}_setSelectionOverElement(t){this.editor.model.change((e=>{e.setSelection(e.createRangeOn(t))}))}_getObjectElementNextToSelection(t){const e=this.editor.model,o=e.schema,n=e.document.selection,r=e.createSelection(n);if(e.modifySelection(r,{direction:t?"forward":"backward"}),r.isEqual(n))return null;const i=t?r.focus.nodeBefore:r.focus.nodeAfter;return i&&o.isObject(i)?i:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(Iw,e);this._previouslySelected.clear()}}function nx(t,e){return!!e&&Array.from(t.getAncestors()).includes(e)}class rx extends Lr{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[ib]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",(e=>{(function(t){const e=t.getSelectedElement();return!(!e||!zw(e))})(t.editing.view.document.selection)&&e.stop()}),{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(()=>{this._updateToolbarsVisibility()})),this.listenTo(t.ui,"update",(()=>{this._updateToolbarsVisibility()})),this.listenTo(t.ui.focusTracker,"change:isFocused",(()=>{this._updateToolbarsVisibility()}),{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:e,items:o,getRelatedElement:n,balloonClassName:r="ck-toolbar-container"}){if(!o.length)return void w("widget-toolbar-no-items",{toolbarId:t});const i=this.editor,s=i.t,l=new Xp(i.locale);if(l.ariaLabel=e||s("Widget toolbar"),this._toolbarDefinitions.has(t))throw new f("widget-toolbar-duplicated",this,{toolbarId:t});const a={view:l,getRelatedElement:n,balloonClassName:r,itemsConfig:o,initialized:!1};i.ui.addToolbar(l,{isContextual:!0,beforeFocus:()=>{const t=n(i.editing.view.document.selection);t&&this._showToolbar(a,t)},afterBlur:()=>{this._hideToolbar(a)}}),this._toolbarDefinitions.set(t,a)}_updateToolbarsVisibility(){let t=0,e=null,o=null;for(const n of this._toolbarDefinitions.values()){const r=n.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&r)if(this.editor.ui.focusTracker.isFocused){const i=r.getAncestors().length;i>t&&(t=i,e=r,o=n)}else this._isToolbarVisible(n)&&this._hideToolbar(n);else this._isToolbarInBalloon(n)&&this._hideToolbar(n)}o&&this._showToolbar(o,e)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){this._isToolbarVisible(t)?ix(this.editor,e):this._isToolbarInBalloon(t)||(t.initialized||(t.initialized=!0,t.view.fillFromConfig(t.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:t.view,position:sx(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(()=>{for(const t of this._toolbarDefinitions.values())if(this._isToolbarVisible(t)){const e=t.getRelatedElement(this.editor.editing.view.document.selection);ix(this.editor,e)}})))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function ix(t,e){const o=t.plugins.get("ContextualBalloon"),n=sx(t,e);o.updatePosition(n)}function sx(t,e){const o=t.editing.view,n=yg.defaultPositions;return{target:o.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}K();K();var lx=o(4875),ax={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(lx.Z,ax);lx.Z.locals;const dx=qn("px");class cx extends Bu{constructor(){super();const t=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",(t=>!t))],style:{left:t.to("left",(t=>dx(t))),top:t.to("top",(t=>dx(t))),width:t.to("width",(t=>dx(t)))}}})}}class hx extends Lr{constructor(){super(...arguments),this.removeDropMarkerDelayed=Er((()=>this.removeDropMarker()),40),this._updateDropMarkerThrottled=wu((t=>this._updateDropMarker(t)),40),this._reconvertMarkerThrottled=wu((()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")}),0),this._dropTargetLineView=new cx,this._domEmitter=new(Sn()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:t}of this._scrollables.values())t.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(t,e,o,n,r,i){this.removeDropMarkerDelayed.cancel();const s=ux(this.editor,t,e,o,n,r,i);if(s)return i&&i.containsRange(s)?this.removeDropMarker():void this._updateDropMarkerThrottled(s)}getFinalDropRange(t,e,o,n,r,i){const s=ux(this.editor,t,e,o,n,r,i);return this.removeDropMarker(),s}removeDropMarker(){const t=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,t.markers.has("drop-target")&&t.change((t=>{t.removeMarker("drop-target")}))}_setupDropMarker(){const t=this.editor;t.ui.view.body.add(this._dropTargetLineView),t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(e,{writer:o})=>{if(t.model.schema.checkChild(e.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(o);e.markerRange.isCollapsed?this._updateDropTargetLine(e.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(t){const e=this.editor,o=e.model.markers;e.model.change((e=>{o.has("drop-target")?o.get("drop-target").getRange().isEqual(t)||e.updateMarker("drop-target",{range:t}):e.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})}))}_createDropTargetPosition(t){return t.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(t){const e=this.toDomElement(t);return e.append("⁠",t.createElement("span"),"⁠"),e}))}_updateDropTargetLine(t){const e=this.editor.editing,o=t.start.nodeBefore,n=t.start.nodeAfter,r=t.start.parent,i=o?e.mapper.toViewElement(o):null,s=i?e.view.domConverter.mapViewToDom(i):null,l=n?e.mapper.toViewElement(n):null,a=l?e.view.domConverter.mapViewToDom(l):null,d=e.mapper.toViewElement(r),c=e.view.domConverter.mapViewToDom(d),h=this._getScrollableRect(d),{scrollX:u,scrollY:p}=Tn.window,m=s?new Rn(s):null,g=a?new Rn(a):null,b=new Rn(c).excludeScrollbarsAndBorders(),f=m?m.bottom:b.top,w=g?g.top:b.bottom,x=Tn.window.getComputedStyle(c),k=f<=w?(f+w)/2:w;if(h.top<k&&k<h.bottom){const t=b.left+parseFloat(x.paddingLeft),e=b.right-parseFloat(x.paddingRight),o=Math.max(t+u,h.left),n=Math.min(e+u,h.right);this._dropTargetLineView.set({isVisible:!0,left:o,top:k+p,width:n-o})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(t){const e=t.root.rootName;let o;if(this._scrollables.has(e))o=this._scrollables.get(e).domElement;else{o=function(t){let e=t;do{e=e.parentElement;const t=Tn.window.getComputedStyle(e).overflowY;if("auto"==t||"scroll"==t)break}while("BODY"!=e.tagName);return e}(this.editor.editing.view.domConverter.mapViewToDom(t)),this._domEmitter.listenTo(o,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const n=new $n(o,this._reconvertMarkerThrottled);this._scrollables.set(e,{domElement:o,resizeObserver:n})}return new Rn(o).excludeScrollbarsAndBorders()}}function ux(t,e,o,n,r,i,s){const l=t.model,a=t.editing.mapper;let d=bx(t,e);for(;d;){if(!i)if(l.schema.checkChild(d,"$text")){if(o){const e=o[0].start,i=a.toModelPosition(e);if(!s||Array.from(s.getItems()).every((t=>l.schema.checkChild(i,t)))){if(l.schema.checkChild(i,"$text"))return l.createRange(i);if(e)return mx(t,bx(t,e.parent),n,r)}}}else if(l.schema.isInline(d))return mx(t,d,n,r);if(l.schema.isBlock(d))return mx(t,d,n,r);if(l.schema.checkChild(d,"$block")){const e=Array.from(d.getChildren()).filter((e=>e.is("element")&&!px(t,e)));let o=0,i=e.length;if(0==i)return l.createRange(l.createPositionAt(d,"end"));for(;o<i-1;){const s=Math.floor((o+i)/2);"before"==gx(t,e[s],n,r)?i=s:o=s}return mx(t,e[o],n,r)}d=d.parent}return null}function px(t,e){const o=t.editing.mapper,n=t.editing.view.domConverter,r=o.toViewElement(e),i=n.mapViewToDom(r);return"none"!=Tn.window.getComputedStyle(i).float}function mx(t,e,o,n){const r=t.model;return r.createRange(r.createPositionAt(e,gx(t,e,o,n)))}function gx(t,e,o,n){const r=t.editing.mapper,i=t.editing.view.domConverter,s=r.toViewElement(e),l=i.mapViewToDom(s),a=new Rn(l);return t.model.schema.isInline(e)?o<(a.left+a.right)/2?"before":"after":n<(a.top+a.bottom)/2?"before":"after"}function bx(t,e){const o=t.editing.mapper,n=t.editing.view,r=o.toModelElement(e);if(r)return r;const i=n.createPositionBefore(e),s=o.findMappedViewAncestor(i);return o.toModelElement(s)}class fx extends Lr{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Sn())}static get pluginName(){return"DragDropBlockToolbar"}init(){const t=this.editor;if(this.listenTo(t,"change:isReadOnly",((t,e,o)=>{o?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")})),r.isAndroid&&this.forceDisabled("noAndroidSupport"),t.plugins.has("BlockToolbar")){const e=t.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(e,"dragstart",((t,e)=>this._handleBlockDragStart(e))),this._domEmitter.listenTo(Tn.document,"dragover",((t,e)=>this._handleBlockDragging(e))),this._domEmitter.listenTo(Tn.document,"drop",((t,e)=>this._handleBlockDragging(e))),this._domEmitter.listenTo(Tn.document,"dragend",(()=>this._handleBlockDragEnd()),{useCapture:!0}),this.isEnabled&&e.setAttribute("draggable","true"),this.on("change:isEnabled",((t,o,n)=>{e.setAttribute("draggable",n?"true":"false")}))}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(t){if(!this.isEnabled)return;const e=this.editor.model,o=e.document.selection,n=this.editor.editing.view,r=Array.from(o.getSelectedBlocks()),i=e.createRange(e.createPositionBefore(r[0]),e.createPositionAfter(r[r.length-1]));e.change((t=>t.setSelection(i))),this._isBlockDragging=!0,n.focus(),n.getObserver(vw).onDomEvent(t)}_handleBlockDragging(t){if(!this.isEnabled||!this._isBlockDragging)return;const e=t.clientX+("ltr"==this.editor.locale.contentLanguageDirection?100:-100),o=t.clientY,n=document.elementFromPoint(e,o),r=this.editor.editing.view;n&&n.closest(".ck-editor__editable")&&r.getObserver(vw).onDomEvent({...t,type:t.type,dataTransfer:t.dataTransfer,target:n,clientX:e,clientY:o,preventDefault:()=>t.preventDefault(),stopPropagation:()=>t.stopPropagation()})}_handleBlockDragEnd(){this._isBlockDragging=!1}}var wx=o(799),xx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(wx.Z,xx);wx.Z.locals;class kx extends Lr{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=Er((()=>this._clearDraggableAttributes()),40),this._blockMode=!1,this._domEmitter=new(Sn())}static get pluginName(){return"DragDrop"}static get requires(){return[Ew,ox,hx,fx]}init(){const t=this.editor,e=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,e.addObserver(vw),e.addObserver(bh),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",((t,e,o)=>{o?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})),this.on("change:isEnabled",((t,e,o)=>{o||this._finalizeDragging(!1)})),r.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const t=this.editor,e=t.model,o=t.editing.view,n=o.document,i=t.plugins.get(hx);this.listenTo(n,"dragstart",((t,o)=>{if(o.target&&o.target.is("editableElement"))return void o.preventDefault();if(this._prepareDraggedRange(o.target),!this._draggedRange)return void o.preventDefault();this._draggingUid=p(),o.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",o.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const n=e.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(o.dataTransfer,n,"dragstart");const{dataTransfer:r,domTarget:i,domEvent:s}=o,{clientX:l}=s;this._updatePreview({dataTransfer:r,domTarget:i,clientX:l}),o.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")}),{priority:"low"}),this.listenTo(n,"dragend",((t,e)=>{this._finalizeDragging(!e.dataTransfer.isCanceled&&"move"==e.dataTransfer.dropEffect)}),{priority:"low"}),this._domEmitter.listenTo(Tn.document,"dragend",(()=>{this._blockMode=!1}),{useCapture:!0}),this.listenTo(n,"dragenter",(()=>{this.isEnabled&&o.focus()})),this.listenTo(n,"dragleave",(()=>{i.removeDropMarkerDelayed()})),this.listenTo(n,"dragging",((t,e)=>{if(!this.isEnabled)return void(e.dataTransfer.dropEffect="none");const{clientX:o,clientY:n}=e.domEvent;i.updateDropMarker(e.target,e.targetRanges,o,n,this._blockMode,this._draggedRange),this._draggedRange||(e.dataTransfer.dropEffect="copy"),r.isGecko||("copy"==e.dataTransfer.effectAllowed?e.dataTransfer.dropEffect="copy":["all","copyMove"].includes(e.dataTransfer.effectAllowed)&&(e.dataTransfer.dropEffect="move")),t.stop()}),{priority:"low"})}_setupClipboardInputIntegration(){const t=this.editor,e=t.editing.view.document,o=t.plugins.get(hx);this.listenTo(e,"clipboardInput",((e,n)=>{if("drop"!=n.method)return;const{clientX:r,clientY:i}=n.domEvent,s=o.getFinalDropRange(n.target,n.targetRanges,r,i,this._blockMode,this._draggedRange);if(!s)return this._finalizeDragging(!1),void e.stop();this._draggedRange&&this._draggingUid!=n.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="");if("move"==yx(n.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(s,!0))return this._finalizeDragging(!1),void e.stop();n.targetRanges=[t.editing.mapper.toViewRange(s)]}),{priority:"high"})}_setupContentInsertionIntegration(){const t=this.editor.plugins.get(Ew);t.on("contentInsertion",((t,e)=>{if(!this.isEnabled||"drop"!==e.method)return;const o=e.targetRanges.map((t=>this.editor.editing.mapper.toModelRange(t)));this.editor.model.change((t=>t.setSelection(o)))}),{priority:"high"}),t.on("contentInsertion",((t,e)=>{if(!this.isEnabled||"drop"!==e.method)return;const o="move"==yx(e.dataTransfer),n=!e.resultRange||!e.resultRange.isCollapsed;this._finalizeDragging(n&&o)}),{priority:"lowest"})}_setupDraggableAttributeHandling(){const t=this.editor,e=t.editing.view,o=e.document;this.listenTo(o,"mousedown",((n,i)=>{if(r.isAndroid||!i)return;this._clearDraggableAttributesDelayed.cancel();let s=vx(i.target);if(r.isBlink&&!t.isReadOnly&&!s&&!o.selection.isCollapsed){const t=o.selection.getSelectedElement();t&&zw(t)||(s=o.selection.editableElement)}s&&(e.change((t=>{t.setAttribute("draggable","true",s)})),this._draggableElement=t.editing.mapper.toModelElement(s))})),this.listenTo(o,"mouseup",(()=>{r.isAndroid||this._clearDraggableAttributesDelayed()}))}_clearDraggableAttributes(){const t=this.editor.editing;t.view.change((e=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&e.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null}))}_finalizeDragging(t){const e=this.editor,o=e.model;if(e.plugins.get(hx).removeDropMarker(),this._clearDraggableAttributes(),e.plugins.has("WidgetToolbarRepository")){e.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop")}this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(t&&this.isEnabled&&o.change((t=>{const e=o.createSelection(this._draggedRange);o.deleteContent(e,{doNotAutoparagraph:!0});const n=e.getFirstPosition().parent;n.isEmpty&&!o.schema.checkChild(n,"$text")&&o.schema.checkChild(n,"paragraph")&&t.insertElement("paragraph",n,0)})),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(t){const e=this.editor,o=e.model,n=o.document.selection,r=t?vx(t):null;if(r){const t=e.editing.mapper.toModelElement(r);if(this._draggedRange=Ha.fromRange(o.createRangeOn(t)),this._blockMode=o.schema.isBlock(t),e.plugins.has("WidgetToolbarRepository")){e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}return}if(n.isCollapsed&&!n.getFirstPosition().parent.isEmpty)return;const i=Array.from(n.getSelectedBlocks()),s=n.getFirstRange();if(0==i.length)return void(this._draggedRange=Ha.fromRange(s));const l=_x(o,i);if(i.length>1)this._draggedRange=Ha.fromRange(l),this._blockMode=!0;else if(1==i.length){const t=s.start.isTouching(l.start)&&s.end.isTouching(l.end);this._draggedRange=Ha.fromRange(t?l:s),this._blockMode=t}o.change((t=>t.setSelection(this._draggedRange.toRange())))}_updatePreview({dataTransfer:t,domTarget:e,clientX:o}){const n=this.editor.editing.view,i=n.document.selection.editableElement,s=n.domConverter.mapViewToDom(i),l=Tn.window.getComputedStyle(s);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=pt(Tn.document,"div",{style:"position: fixed; left: -999999px;"}),Tn.document.body.appendChild(this._previewContainer));const a=new Rn(s);if(s.contains(e))return;const d=parseFloat(l.paddingLeft),c=pt(Tn.document,"div");c.className="ck ck-content",c.style.width=l.width,c.style.paddingLeft=`${a.left-o+d}px`,r.isiOS&&(c.style.backgroundColor="white"),c.innerHTML=t.getData("text/html"),t.setDragImage(c,0,0),this._previewContainer.appendChild(c)}}function yx(t){return r.isGecko?t.dropEffect:["all","copyMove"].includes(t.effectAllowed)?"move":"copy"}function vx(t){if(t.is("editableElement"))return null;if(t.hasClass("ck-widget__selection-handle"))return t.findAncestor(zw);if(zw(t))return t;const e=t.findAncestor((t=>zw(t)||t.is("editableElement")));return zw(e)?e:null}function _x(t,e){const o=e[0],n=e[e.length-1],r=o.getCommonAncestor(n),i=t.createPositionBefore(o),s=t.createPositionAfter(n);if(r&&r.is("element")&&!t.schema.isLimit(r)){const e=t.createRangeOn(r),o=i.isTouching(e.start),n=s.isTouching(e.end);if(o&&n)return _x(t,[r])}return t.createRange(i,s)}class Ax extends Lr{static get pluginName(){return"PastePlainText"}static get requires(){return[Ew]}init(){const t=this.editor,e=t.model,o=t.editing.view,n=o.document,r=e.document.selection;let i=!1;o.addObserver(vw),this.listenTo(n,"keydown",((t,e)=>{i=e.shiftKey})),t.plugins.get(Ew).on("contentInsertion",((t,o)=>{(i||function(t,e){if(t.childCount>1)return!1;const o=t.getChild(0);if(e.isObject(o))return!1;return 0==Array.from(o.getAttributeKeys()).length}(o.content,e.schema))&&e.change((t=>{const n=Array.from(r.getAttributes()).filter((([t])=>e.schema.getAttributeProperties(t).isFormatting));r.isCollapsed||e.deleteContent(r,{doNotAutoparagraph:!0}),n.push(...r.getAttributes());const i=t.createRangeIn(o.content);for(const e of i.getItems())e.is("$textProxy")&&t.setAttributes(n,e)}))}))}}class Cx extends Lr{static get pluginName(){return"Clipboard"}static get requires(){return[Ew,kx,Ax]}}class Sx extends Ir{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let o=t.schema.getLimitElement(e);if(e.containsEntireContent(o)||!Ex(t.schema,o))do{if(o=o.parent,!o)return}while(!Ex(t.schema,o));t.change((t=>{t.setSelection(o,"in")}))}}function Ex(t,e){return t.isLimit(e)&&(t.checkChild(e,"$text")||t.checkChild(e,"paragraph"))}const Mx=mr("Ctrl+A");class Dx extends Lr{static get pluginName(){return"SelectAllEditing"}init(){const t=this.editor,e=t.editing.view.document;t.commands.add("selectAll",new Sx(t)),this.listenTo(e,"keydown",((e,o)=>{pr(o)===Mx&&(t.execute("selectAll"),o.preventDefault())}))}}class Tx extends Lr{static get pluginName(){return"SelectAllUI"}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",(e=>{const o=t.commands.get("selectAll"),n=new sp(e),r=e.t;return n.set({label:r("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),n.bind("isEnabled").to(o,"isEnabled"),this.listenTo(n,"execute",(()=>{t.execute("selectAll"),t.editing.view.focus()})),n}))}}class Bx extends Lr{static get requires(){return[Dx,Tx]}static get pluginName(){return"SelectAll"}}class Lx extends Ir{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(t.data,"set",((t,e)=>{e[1]={...e[1]};const o=e[1];o.batchType||(o.batchType={isUndoable:!1})}),{priority:"high"}),this.listenTo(t.data,"set",((t,e)=>{e[1].batchType.isUndoable||this.clearStack()}))}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(t){const e=this.editor.model.document.selection,o={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:o}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,o){const n=this.editor.model,r=n.document,i=[],s=t.map((t=>t.getTransformedByOperations(o))),l=s.flat();for(const t of s){const e=t.filter((t=>t.root!=r.graveyard)).filter((t=>!Ix(t,l)));e.length&&(Px(e),i.push(e[0]))}i.length&&n.change((t=>{t.setSelection(i,{backward:e})}))}_undo(t,e){const o=this.editor.model,n=o.document;this._createdBatches.add(e);const r=t.operations.slice().filter((t=>t.isDocumentOperation));r.reverse();for(const t of r){const r=t.baseVersion+1,i=Array.from(n.history.getOperations(r)),s=vc([t.getReversed()],i,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let r of s){const i=r.affectedSelectable;i&&!o.canEditAt(i)&&(r=new uc(r.baseVersion)),e.addOperation(r),o.applyOperation(r),n.history.setOperationAsUndone(t,r)}}}}function Px(t){t.sort(((t,e)=>t.start.isBefore(e.start)?-1:1));for(let e=1;e<t.length;e++){const o=t[e-1].getJoined(t[e],!0);o&&(e--,t.splice(e,2,o))}}function Ix(t,e){return e.some((e=>e!==t&&e.containsRange(t,!0)))}class zx extends Lx{execute(t=null){const e=t?this._stack.findIndex((e=>e.batch==t)):this._stack.length-1,o=this._stack.splice(e,1)[0],n=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(n,(()=>{this._undo(o.batch,n);const t=this.editor.model.document.history.getOperations(o.batch.baseVersion);this._restoreSelection(o.selection.ranges,o.selection.isBackward,t)})),this.fire("revert",o.batch,n),this.refresh()}}class Rx extends Lx{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,(()=>{const o=t.batch.operations[t.batch.operations.length-1].baseVersion+1,n=this.editor.model.document.history.getOperations(o);this._restoreSelection(t.selection.ranges,t.selection.isBackward,n),this._undo(t.batch,e)})),this.refresh()}}class Fx extends Lr{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const t=this.editor;this._undoCommand=new zx(t),this._redoCommand=new Rx(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",((t,e)=>{const o=e[0];if(!o.isDocumentOperation)return;const n=o.batch,r=this._redoCommand.createdBatches.has(n),i=this._undoCommand.createdBatches.has(n);this._batchRegistry.has(n)||(this._batchRegistry.add(n),n.isUndoable&&(r?this._undoCommand.addBatch(n):i||(this._undoCommand.addBatch(n),this._redoCommand.clearStack())))}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",((t,e,o)=>{this._redoCommand.addBatch(o)})),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}const Ox='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Vx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Nx extends Lr{static get pluginName(){return"UndoUI"}init(){const t=this.editor,e=t.locale,o=t.t,n="ltr"==e.uiLanguageDirection?Ox:Vx,r="ltr"==e.uiLanguageDirection?Vx:Ox;this._addButton("undo",o("Undo"),"CTRL+Z",n),this._addButton("redo",o("Redo"),"CTRL+Y",r)}_addButton(t,e,o,n){const r=this.editor;r.ui.componentFactory.add(t,(i=>{const s=r.commands.get(t),l=new sp(i);return l.set({label:e,icon:n,keystroke:o,tooltip:!0}),l.bind("isEnabled").to(s,"isEnabled"),this.listenTo(l,"execute",(()=>{r.execute(t),r.editing.view.focus()})),l}))}}class $x extends Lr{static get requires(){return[Fx,Nx]}static get pluginName(){return"Undo"}}var Kx=o(6603),qx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Kx.Z,qx);Kx.Z.locals;var Hx=o(3403),jx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Hx.Z,jx);Hx.Z.locals;class Wx extends Bu{constructor(t){super(t);const e=t.t;this.set("matchCount",0),this.set("highlightOffset",0),this.set("isDirty",!1),this.set("_areCommandsEnabled",{}),this.set("_resultsCounterText",""),this.set("_matchCase",!1),this.set("_wholeWordsOnly",!1),this.bind("_searchResultsFound").to(this,"matchCount",this,"isDirty",((t,e)=>t>0&&!e)),this._findInputView=this._createInputField(e("Find in text…")),this._replaceInputView=this._createInputField(e("Replace with…")),this._findButtonView=this._createButton({label:e("Find"),class:"ck-button-find ck-button-action",withText:!0}),this._findPrevButtonView=this._createButton({label:e("Previous result"),class:"ck-button-prev",icon:Qg,keystroke:"Shift+F3",tooltip:!0}),this._findNextButtonView=this._createButton({label:e("Next result"),class:"ck-button-next",icon:Qg,keystroke:"F3",tooltip:!0}),this._optionsDropdown=this._createOptionsDropdown(),this._replaceButtonView=this._createButton({label:e("Replace"),class:"ck-button-replace",withText:!0}),this._replaceAllButtonView=this._createButton({label:e("Replace all"),class:"ck-button-replaceall",withText:!0}),this._findFieldsetView=this._createFindFieldset(),this._replaceFieldsetView=this._createReplaceFieldset(),this._focusTracker=new Ar,this._keystrokes=new Cr,this._focusables=new Mu,this._focusCycler=new qp({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this._keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-find-and-replace-form"],tabindex:"-1"},children:[new Yg(t,{label:e("Find and replace")}),this._findFieldsetView,this._replaceFieldsetView]})}render(){super.render(),Su({view:this}),this._initFocusCycling(),this._initKeystrokeHandling()}destroy(){super.destroy(),this._focusTracker.destroy(),this._keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}reset(){this._findInputView.errorText=null,this.isDirty=!0}get _textToFind(){return this._findInputView.fieldView.element.value}get _textToReplace(){return this._replaceInputView.fieldView.element.value}_createFindFieldset(){const t=this.locale,e=new Bu(t);return this._findInputView.fieldView.on("input",(()=>{this.isDirty=!0})),this._findButtonView.on("execute",this._onFindButtonExecute.bind(this)),this._findPrevButtonView.delegate("execute").to(this,"findPrevious"),this._findNextButtonView.delegate("execute").to(this,"findNext"),this._findPrevButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",(({findPrevious:t})=>t)),this._findNextButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",(({findNext:t})=>t)),this._injectFindResultsCounter(),e.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__find"]},children:[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView]}),e}_onFindButtonExecute(){if(this._textToFind)this.isDirty=!1,this.fire("findNext",{searchText:this._textToFind,matchCase:this._matchCase,wholeWords:this._wholeWordsOnly});else{const t=this.t;this._findInputView.errorText=t("Text to find must not be empty.")}}_injectFindResultsCounter(){const t=this.locale,e=t.t,o=this.bindTemplate,n=new Bu(this.locale);this.bind("_resultsCounterText").to(this,"highlightOffset",this,"matchCount",((t,o)=>e("%0 of %1",[t,o]))),n.setTemplate({tag:"span",attributes:{class:["ck","ck-results-counter",o.if("isDirty","ck-hidden")]},children:[{text:o.to("_resultsCounterText")}]});const r=()=>{const e=this._findInputView.fieldView.element;if(!e||!Gn(e))return;const o=new Rn(n.element).width,r="ltr"===t.uiLanguageDirection?"paddingRight":"paddingLeft";e.style[r]=o?`calc( 2 * var(--ck-spacing-standard) + ${o}px )`:""};this.on("change:_resultsCounterText",r,{priority:"low"}),this.on("change:isDirty",r,{priority:"low"}),this._findInputView.template.children[0].children.push(n)}_createReplaceFieldset(){const t=this.locale.t,e=new Bu(this.locale);return this._replaceButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",(({replace:t},e)=>t&&e)),this._replaceAllButtonView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",(({replaceAll:t},e)=>t&&e)),this._replaceInputView.bind("isEnabled").to(this,"_areCommandsEnabled",this,"_searchResultsFound",(({replace:t},e)=>t&&e)),this._replaceInputView.bind("infoText").to(this._replaceInputView,"isEnabled",this._replaceInputView,"isFocused",((e,o)=>e||!o?"":t("Tip: Find some text first in order to replace it."))),this._replaceButtonView.on("execute",(()=>{this.fire("replace",{searchText:this._textToFind,replaceText:this._textToReplace})})),this._replaceAllButtonView.on("execute",(()=>{this.fire("replaceAll",{searchText:this._textToFind,replaceText:this._textToReplace}),this.focus()})),e.setTemplate({tag:"fieldset",attributes:{class:["ck","ck-find-and-replace-form__replace"]},children:[this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView]}),e}_createOptionsDropdown(){const t=this.locale.t,e=gm(this.locale);e.class="ck-options-dropdown",e.buttonView.set({withText:!1,label:t("Show options"),icon:pu.cog,tooltip:!0});const o=new Xg({withText:!0,label:t("Match case"),_isMatchCaseSwitch:!0}),n=new Xg({withText:!0,label:t("Whole words only")});return o.bind("isOn").to(this,"_matchCase"),n.bind("isOn").to(this,"_wholeWordsOnly"),e.on("execute",(t=>{t.source._isMatchCaseSwitch?this._matchCase=!this._matchCase:this._wholeWordsOnly=!this._wholeWordsOnly,this.isDirty=!0})),wm(e,new vr([{type:"switchbutton",model:o},{type:"switchbutton",model:n}])),e}_initFocusCycling(){[this._findInputView,this._findButtonView,this._findPrevButtonView,this._findNextButtonView,this._replaceInputView,this._optionsDropdown,this._replaceButtonView,this._replaceAllButtonView].forEach((t=>{this._focusables.add(t),this._focusTracker.add(t.element)}))}_initKeystrokeHandling(){const t=t=>t.stopPropagation(),e=t=>{t.stopPropagation(),t.preventDefault()};this._keystrokes.listenTo(this.element),this._keystrokes.set("f3",(t=>{e(t),this._findNextButtonView.fire("execute")})),this._keystrokes.set("shift+f3",(t=>{e(t),this._findPrevButtonView.fire("execute")})),this._keystrokes.set("enter",(t=>{const o=t.target;o===this._findInputView.fieldView.element?(this._areCommandsEnabled.findNext?this._findNextButtonView.fire("execute"):this._findButtonView.fire("execute"),e(t)):o!==this._replaceInputView.fieldView.element||this.isDirty||(this._replaceButtonView.fire("execute"),e(t))})),this._keystrokes.set("shift+enter",(t=>{t.target===this._findInputView.fieldView.element&&(this._areCommandsEnabled.findPrevious?this._findPrevButtonView.fire("execute"):this._findButtonView.fire("execute"),e(t))})),this._keystrokes.set("arrowright",t),this._keystrokes.set("arrowleft",t),this._keystrokes.set("arrowup",t),this._keystrokes.set("arrowdown",t)}_createButton(t){const e=new sp(this.locale);return e.set(t),e}_createInputField(t){const e=new Mp(this.locale,vm);return e.label=t,e}}class Ux extends Lr{static get pluginName(){return"FindAndReplaceUI"}constructor(t){super(t),this.formView=null}init(){const t=this.editor;t.ui.componentFactory.add("findAndReplace",(e=>{const o=gm(e),n=t.commands.get("find");return o.bind("isEnabled").to(n),o.once("change:isOpen",(()=>{this.formView=new(Cu(Wx))(t.locale),o.panelView.children.add(this.formView),this._setupFormView(this.formView)})),o.on("change:isOpen",((t,e,o)=>{o?(this.formView.disableCssTransitions(),this.formView.reset(),this.formView._findInputView.fieldView.select(),this.formView.enableCssTransitions()):this.fire("searchReseted")}),{priority:"low"}),this._setupDropdownButton(o),o}))}_setupDropdownButton(t){const e=this.editor,o=e.locale.t;t.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.87 13.786 1.532-1.286 3.857 4.596a1 1 0 1 1-1.532 1.286l-3.857-4.596z"/><path d="M16.004 8.5a6.5 6.5 0 0 1-9.216 5.905c-1.154-.53-.863-1.415-.663-1.615.194-.194.564-.592 1.635-.141a4.5 4.5 0 0 0 5.89-5.904l-.104-.227 1.332-1.331c.045-.046.196-.041.224.007a6.47 6.47 0 0 1 .902 3.306zm-3.4-5.715c.562.305.742 1.106.354 1.494-.388.388-.995.414-1.476.178a4.5 4.5 0 0 0-6.086 5.882l.114.236-1.348 1.349c-.038.037-.17.022-.198-.023a6.5 6.5 0 0 1 5.54-9.9 6.469 6.469 0 0 1 3.1.784z"/><path d="M4.001 11.93.948 8.877a.2.2 0 0 1 .141-.341h6.106a.2.2 0 0 1 .141.341L4.283 11.93a.2.2 0 0 1-.282 0zm11.083-6.789 3.053 3.053a.2.2 0 0 1-.14.342H11.89a.2.2 0 0 1-.14-.342l3.052-3.053a.2.2 0 0 1 .282 0z"/></svg>',label:o("Find and replace"),keystroke:"CTRL+F",tooltip:!0}),e.keystrokes.set("Ctrl+F",((e,o)=>{t.isEnabled&&(t.isOpen=!0,o())}))}_setupFormView(t){const e=this.editor.commands,o=this.editor.plugins.get("FindAndReplaceEditing").state,n={before:-1,same:0,after:1,different:1};t.bind("highlightOffset").to(o,"highlightedResult",(t=>t?Array.from(o.results).sort(((t,e)=>n[t.marker.getStart().compareWith(e.marker.getStart())])).indexOf(t)+1:0)),t.listenTo(o.results,"change",(()=>{t.matchCount=o.results.length}));const r=e.get("findNext"),i=e.get("findPrevious"),s=e.get("replace"),l=e.get("replaceAll");t.bind("_areCommandsEnabled").to(r,"isEnabled",i,"isEnabled",s,"isEnabled",l,"isEnabled",((t,e,o,n)=>({findNext:t,findPrevious:e,replace:o,replaceAll:n}))),t.delegate("findNext","findPrevious","replace","replaceAll").to(this),t.on("change:isDirty",((t,e,o)=>{o&&this.fire("searchReseted")}))}}class Gx extends Ir{constructor(t,e){super(t),this.isEnabled=!0,this.affectsData=!1,this._state=e}execute(t,{matchCase:e,wholeWords:o}={}){const{editor:n}=this,{model:r}=n,i=n.plugins.get("FindAndReplaceUtils");let s;"string"==typeof t?(s=i.findByTextCallback(t,{matchCase:e,wholeWords:o}),this._state.searchText=t):s=t;const l=r.document.getRootNames().reduce(((t,e)=>i.updateFindResultFromRange(r.createRangeIn(r.document.getRoot(e)),r,s,t)),null);return this._state.clear(r),this._state.results.addMany(l),this._state.highlightedResult=l.get(0),"string"==typeof t&&(this._state.searchText=t),this._state.matchCase=!!e,this._state.matchWholeWords=!!o,{results:l,findCallback:s}}}class Zx extends Ir{constructor(t,e){super(t),this.isEnabled=!0,this._state=e,this._isEnabledBasedOnSelection=!1}_replace(t,e){const{model:o}=this.editor,n=e.marker.getRange();o.canEditAt(n)&&o.change((r=>{if("$graveyard"===n.root.rootName)return void this._state.results.remove(e);let i={};for(const t of n.getItems())if(t.is("$text")||t.is("$textProxy")){i=t.getAttributes();break}o.insertContent(r.createText(t,i),n),this._state.results.has(e)&&this._state.results.remove(e)}))}}class Jx extends Zx{execute(t,e){this._replace(t,e)}}class Yx extends Zx{execute(t,e){const{editor:o}=this,{model:n}=o,r=o.plugins.get("FindAndReplaceUtils"),i=e instanceof vr?e:n.document.getRootNames().reduce(((t,o)=>r.updateFindResultFromRange(n.createRangeIn(n.document.getRoot(o)),n,r.findByTextCallback(e,this._state),t)),null);i.length&&n.change((()=>{[...i].forEach((e=>{this._replace(t,e)}))}))}}class Xx extends Ir{constructor(t,e){super(t),this.affectsData=!1,this._state=e,this.isEnabled=!1,this.listenTo(this._state.results,"change",(()=>{this.isEnabled=this._state.results.length>1}))}refresh(){this.isEnabled=this._state.results.length>1}execute(){const t=this._state.results,e=t.getIndex(this._state.highlightedResult),o=e+1>=t.length?0:e+1;this._state.highlightedResult=this._state.results.get(o)}}class Qx extends Xx{execute(){const t=this._state.results.getIndex(this._state.highlightedResult),e=t-1<0?this._state.results.length-1:t-1;this._state.highlightedResult=this._state.results.get(e)}}class tk extends(K()){constructor(t){super(),this.set("results",new vr),this.set("highlightedResult",null),this.set("searchText",""),this.set("replaceText",""),this.set("matchCase",!1),this.set("matchWholeWords",!1),this.results.on("change",((e,{removed:o,index:n})=>{if(Array.from(o).length){let e=!1;if(t.change((n=>{for(const r of o)this.highlightedResult===r&&(e=!0),t.markers.has(r.marker.name)&&n.removeMarker(r.marker)})),e){const t=n>=this.results.length?0:n;this.highlightedResult=this.results.get(t)}}}))}clear(t){this.searchText="",t.change((e=>{if(this.highlightedResult){const o=this.highlightedResult.marker.name.split(":")[1],n=t.markers.get(`findResultHighlighted:${o}`);n&&e.removeMarker(n)}[...this.results].forEach((({marker:t})=>{e.removeMarker(t)}))})),this.results.clear()}}class ek extends Lr{static get pluginName(){return"FindAndReplaceUtils"}updateFindResultFromRange(t,e,o,n){const r=n||new vr;return e.change((n=>{[...t].forEach((({type:t,item:i})=>{if("elementStart"===t&&e.schema.checkChild(i,"$text")){const t=o({item:i,text:this.rangeToText(e.createRangeIn(i))});if(!t)return;t.forEach((t=>{const e=`findResult:${p()}`,o=n.addMarker(e,{usingOperation:!1,affectsData:!1,range:n.createRange(n.createPositionAt(i,t.start),n.createPositionAt(i,t.end))}),s=function(t,e){const o=t.find((({marker:t})=>e.getStart().isBefore(t.getStart())));return o?t.getIndex(o):t.length}(r,o);r.add({id:e,label:t.label,marker:o},s)}))}}))})),r}rangeToText(t){return Array.from(t.getItems()).reduce(((t,e)=>e.is("$text")||e.is("$textProxy")?t+e.data:`${t}\n`),"")}findByTextCallback(t,e){let o="gu";e.matchCase||(o+="i");let n=`(${gb(t)})`;if(e.wholeWords){const e="[^a-zA-ZÀ-ɏḀ-ỿ]";new RegExp("^"+e).test(t)||(n=`(^|${e}|_)${n}`),new RegExp(e+"$").test(t)||(n=`${n}(?=_|${e}|$)`)}const r=new RegExp(n,o);return function({text:t}){return[...t.matchAll(r)].map(ok)}}}function ok(t){const e=t.length-1;let o=t.index;return 3===t.length&&(o+=t[1].length),{label:t[e],start:o,end:o+t[e].length}}var nk=o(2218),rk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(nk.Z,rk);nk.Z.locals;class ik extends Lr{static get requires(){return[ek]}static get pluginName(){return"FindAndReplaceEditing"}init(){this._activeResults=null,this.state=new tk(this.editor.model),this._defineConverters(),this._defineCommands(),this.listenTo(this.state,"change:highlightedResult",((t,e,o,n)=>{const{model:r}=this.editor;r.change((t=>{if(n){const e=n.marker.name.split(":")[1],o=r.markers.get(`findResultHighlighted:${e}`);o&&t.removeMarker(o)}if(o){const e=o.marker.name.split(":")[1];t.addMarker(`findResultHighlighted:${e}`,{usingOperation:!1,affectsData:!1,range:o.marker.getRange()})}}))}));const t=zl(((t,e,o)=>{if(o){const t=this.editor.editing.view.domConverter,e=this.editor.editing.mapper.toViewRange(o.marker.getRange());Qn({target:t.viewRangeToDom(e),viewportOffset:40})}}).bind(this),32);this.listenTo(this.state,"change:highlightedResult",t,{priority:"low"}),this.listenTo(this.editor,"destroy",t.cancel)}find(t){const{editor:e}=this,{model:o}=e,{findCallback:n,results:r}=e.execute("find",t);return this._activeResults=r,this.listenTo(o.document,"change:data",(()=>function(t,e,o){const n=new Set,r=new Set,i=e.model;i.document.differ.getChanges().forEach((t=>{"$text"===t.name||i.schema.isInline(t.position.nodeAfter)?(n.add(t.position.parent),[...i.markers.getMarkersAtPosition(t.position)].forEach((t=>{r.add(t.name)}))):"insert"===t.type&&n.add(t.position.nodeAfter)})),i.document.differ.getChangedMarkers().forEach((({name:t,data:{newRange:e}})=>{e&&"$graveyard"===e.start.root.rootName&&r.add(t)})),n.forEach((t=>{[...i.markers.getMarkersIntersectingRange(i.createRangeIn(t))].forEach((t=>r.add(t.name)))})),i.change((e=>{r.forEach((o=>{t.has(o)&&t.remove(o),e.removeMarker(o)}))})),n.forEach((n=>{e.plugins.get("FindAndReplaceUtils").updateFindResultFromRange(i.createRangeOn(n),i,o,t)}))}(this._activeResults,e,n))),this._activeResults}stop(){this._activeResults&&(this.stopListening(this.editor.model.document),this.state.clear(this.editor.model),this._activeResults=null)}_defineCommands(){this.editor.commands.add("find",new Gx(this.editor,this.state)),this.editor.commands.add("findNext",new Xx(this.editor,this.state)),this.editor.commands.add("findPrevious",new Qx(this.editor,this.state)),this.editor.commands.add("replace",new Jx(this.editor,this.state)),this.editor.commands.add("replaceAll",new Yx(this.editor,this.state))}_defineConverters(){const{editor:t}=this;t.conversion.for("editingDowncast").markerToHighlight({model:"findResult",view:({markerName:t})=>{const[,e]=t.split(":");return{name:"span",classes:["ck-find-result"],attributes:{"data-find-result":e}}}}),t.conversion.for("editingDowncast").markerToHighlight({model:"findResultHighlighted",view:({markerName:t})=>{const[,e]=t.split(":");return{name:"span",classes:["ck-find-result_selected"],attributes:{"data-find-result":e}}}})}}class sk extends Ir{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute(this.attributeKey),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,o=e.document.selection,n=t.value,r=t.batch,i=t=>{if(o.isCollapsed)n?t.setSelectionAttribute(this.attributeKey,n):t.removeSelectionAttribute(this.attributeKey);else{const r=e.schema.getValidRanges(o.getRanges(),this.attributeKey);for(const e of r)n?t.setAttribute(this.attributeKey,n,e):t.removeAttribute(this.attributeKey,e)}};r?e.enqueueChange(r,(t=>{i(t)})):e.change((t=>{i(t)}))}}const lk="fontSize",ak="fontFamily",dk="fontColor",ck="fontBackgroundColor";function hk(t,e){const o={model:{key:t,values:[]},view:{},upcastAlso:{}};for(const t of e)o.model.values.push(t.model),o.view[t.model]=t.view,t.upcastAlso&&(o.upcastAlso[t.model]=t.upcastAlso);return o}function uk(t){return e=>e.getStyle(t).replace(/\s/g,"")}function pk(t){return(e,{writer:o})=>o.createAttributeElement("span",{style:`${t}:${e}`},{priority:7})}class mk extends sk{constructor(t){super(t,ak)}}function gk(t){return t.map(bk).filter((t=>void 0!==t))}function bk(t){return"object"==typeof t?t:"default"===t?{title:"Default",model:void 0}:"string"==typeof t?function(t){const e=t.replace(/"|'/g,"").split(","),o=e[0],n=e.map(fk).join(", ");return{title:o,model:n,view:{name:"span",styles:{"font-family":n},priority:7}}}(t):void 0}function fk(t){return(t=t.trim()).indexOf(" ")>0&&(t=`'${t}'`),t}class wk extends Lr{static get pluginName(){return"FontFamilyEditing"}constructor(t){super(t),t.config.define(ak,{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:ak}),t.model.schema.setAttributeProperties(ak,{isFormatting:!0,copyOnEnter:!0});const e=gk(t.config.get("fontFamily.options")).filter((t=>t.model)),o=hk(ak,e);t.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(o),t.commands.add(ak,new mk(t))}_prepareAnyValueConverters(){const t=this.editor;t.conversion.for("downcast").attributeToElement({model:ak,view:(t,{writer:e})=>e.createAttributeElement("span",{style:"font-family:"+t},{priority:7})}),t.conversion.for("upcast").elementToAttribute({model:{key:ak,value:t=>t.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:ak,value:t=>t.getAttribute("face")}})}}class xk extends Lr{static get pluginName(){return"FontFamilyUI"}init(){const t=this.editor,e=t.t,o=this._getLocalizedOptions(),n=t.commands.get(ak),r=e("Font Family");t.ui.componentFactory.add(ak,(e=>{const i=gm(e);return wm(i,(()=>function(t,e){const o=new vr;for(const n of t){const t={type:"button",model:new Xg({commandName:ak,commandParam:n.model,label:n.title,role:"menuitemradio",withText:!0})};t.model.bind("isOn").to(e,"value",(t=>t===n.model||!(!t||!n.model)&&t.split(",")[0].replace(/'/g,"").toLowerCase()===n.model.toLowerCase())),n.view&&"string"!=typeof n.view&&n.view.styles&&t.model.set("labelStyle",`font-family: ${n.view.styles["font-family"]}`),o.add(t)}return o}(o,n)),{role:"menu",ariaLabel:r}),i.buttonView.set({label:r,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>',tooltip:!0}),i.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),i.bind("isEnabled").to(n),this.listenTo(i,"execute",(e=>{t.execute(e.source.commandName,{value:e.source.commandParam}),t.editing.view.focus()})),i}))}_getLocalizedOptions(){const t=this.editor,e=t.t;return gk(t.config.get(ak).options).map((t=>("Default"===t.title&&(t.title=e("Default")),t)))}}class kk extends sk{constructor(t){super(t,lk)}}function yk(t){return t.map((t=>function(t){"number"==typeof t&&(t=String(t));if("object"==typeof t&&(e=t,e.title&&e.model&&e.view))return _k(t);var e;const o=function(t){return"string"==typeof t?vk[t]:vk[t.model]}(t);if(o)return _k(o);if("default"===t)return{model:void 0,title:"Default"};if(function(t){let e;if("object"==typeof t){if(!t.model)throw new f("font-size-invalid-definition",null,t);e=parseFloat(t.model)}else e=parseFloat(t);return isNaN(e)}(t))return;return function(t){"string"==typeof t&&(t={title:t,model:`${parseFloat(t)}px`});return t.view={name:"span",styles:{"font-size":t.model}},_k(t)}(t)}(t))).filter((t=>void 0!==t))}const vk={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function _k(t){return t.view&&"string"!=typeof t.view&&!t.view.priority&&(t.view.priority=7),t}const Ak=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class Ck extends Lr{static get pluginName(){return"FontSizeEditing"}constructor(t){super(t),t.config.define(lk,{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:lk}),t.model.schema.setAttributeProperties(lk,{isFormatting:!0,copyOnEnter:!0});const e=t.config.get("fontSize.supportAllValues"),o=yk(this.editor.config.get("fontSize.options")).filter((t=>t.model)),n=hk(lk,o);e?(this._prepareAnyValueConverters(n),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(n),t.commands.add(lk,new kk(t))}_prepareAnyValueConverters(t){const e=this.editor,o=t.model.values.filter((t=>!Dh(String(t))&&!Bh(String(t))));if(o.length)throw new f("font-size-invalid-use-of-named-presets",null,{presets:o});e.conversion.for("downcast").attributeToElement({model:lk,view:(t,{writer:e})=>{if(t)return e.createAttributeElement("span",{style:"font-size:"+t},{priority:7})}}),e.conversion.for("upcast").elementToAttribute({model:{key:lk,value:t=>t.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:lk,value:t=>{const e=t.getAttribute("size"),o="-"===e[0]||"+"===e[0];let n=parseInt(e,10);o&&(n=3+n);const r=Ak.length-1,i=Math.min(Math.max(n,0),r);return Ak[i]}}})}}var Sk=o(5991),Ek={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Sk.Z,Ek);Sk.Z.locals;class Mk extends Lr{static get pluginName(){return"FontSizeUI"}init(){const t=this.editor,e=t.t,o=this._getLocalizedOptions(),n=t.commands.get(lk),r=e("Font Size");t.ui.componentFactory.add(lk,(e=>{const i=gm(e);return wm(i,(()=>function(t,e){const o=new vr;for(const n of t){const t={type:"button",model:new Xg({commandName:lk,commandParam:n.model,label:n.title,class:"ck-fontsize-option",role:"menuitemradio",withText:!0})};n.view&&"string"!=typeof n.view&&(n.view.styles&&t.model.set("labelStyle",`font-size:${n.view.styles["font-size"]}`),n.view.classes&&t.model.set("class",`${t.model.class} ${n.view.classes}`)),t.model.bind("isOn").to(e,"value",(t=>t===n.model)),o.add(t)}return o}(o,n)),{role:"menu",ariaLabel:r}),i.buttonView.set({label:r,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>',tooltip:!0}),i.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),i.bind("isEnabled").to(n),this.listenTo(i,"execute",(e=>{t.execute(e.source.commandName,{value:e.source.commandParam}),t.editing.view.focus()})),i}))}_getLocalizedOptions(){const t=this.editor,e=t.t,o={Default:e("Default"),Tiny:e("Tiny"),Small:e("Small"),Big:e("Big"),Huge:e("Huge")};return yk(t.config.get(lk).options).map((t=>{const e=o[t.title];return e&&e!=t.title&&(t=Object.assign({},t,{title:e})),t}))}}class Dk extends sk{constructor(t){super(t,dk)}}class Tk extends Lr{static get pluginName(){return"FontColorEditing"}constructor(t){super(t),t.config.define(dk,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:dk,value:uk("color")}}),t.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:dk,value:t=>t.getAttribute("color")}}),t.conversion.for("downcast").attributeToElement({model:dk,view:pk("color")}),t.commands.add(dk,new Dk(t)),t.model.schema.extend("$text",{allowAttributes:dk}),t.model.schema.setAttributeProperties(dk,{isFormatting:!0,copyOnEnter:!0})}}class Bk extends Lr{constructor(t,{commandName:e,componentName:o,icon:n,dropdownLabel:r}){super(t),this.commandName=e,this.componentName=o,this.icon=n,this.dropdownLabel=r,this.columns=t.config.get(`${this.componentName}.columns`),this.colorSelectorView=void 0}init(){const t=this.editor,e=t.locale,o=e.t,n=t.commands.get(this.commandName),r=t.config.get(this.componentName),i=cp(e,hp(r.colors)),s=r.documentColors,l=!1!==r.colorPicker;t.ui.componentFactory.add(this.componentName,(e=>{const a=gm(e);let d=!1;return this.colorSelectorView=function({dropdownView:t,colors:e,columns:o,removeButtonLabel:n,colorPickerLabel:r,documentColorsLabel:i,documentColorsCount:s,colorPickerViewConfig:l}){const a=t.locale,d=new pg(a,{colors:e,columns:o,removeButtonLabel:n,colorPickerLabel:r,documentColorsLabel:i,documentColorsCount:s,colorPickerViewConfig:l});return t.colorSelectorView=d,t.panelView.children.add(d),d}({dropdownView:a,colors:i.map((t=>({label:t.label,color:t.model,options:{hasBorder:t.hasBorder}}))),columns:this.columns,removeButtonLabel:o("Remove color"),colorPickerLabel:o("Color picker"),documentColorsLabel:0!==s?o("Document colors"):"",documentColorsCount:void 0===s?this.columns:s,colorPickerViewConfig:!!l&&(r.colorPicker||{})}),this.colorSelectorView.bind("selectedColor").to(n,"value"),a.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),a.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),a.bind("isEnabled").to(n),this.colorSelectorView.on("execute",((e,o)=>{a.isOpen&&t.execute(this.commandName,{value:o.value,batch:this._undoStepBatch}),"colorPicker"!==o.source&&t.editing.view.focus(),"colorPickerSaveButton"===o.source&&(a.isOpen=!1)})),this.colorSelectorView.on("colorPicker:show",(()=>{this._undoStepBatch=t.model.createBatch()})),this.colorSelectorView.on("colorPicker:cancel",(()=>{this._undoStepBatch.operations.length&&(a.isOpen=!1,t.execute("undo",this._undoStepBatch)),t.editing.view.focus()})),a.on("change:isOpen",((e,o,n)=>{d||(d=!0,a.colorSelectorView.appendUI()),n&&(0!==s&&this.colorSelectorView.updateDocumentColors(t.model,this.componentName),this.colorSelectorView.updateSelectedColors(),this.colorSelectorView.showColorGridsFragment())})),km(a,(()=>a.colorSelectorView.colorGridsFragmentView.staticColorsGrid.items.find((t=>t.isOn)))),a}))}}class Lk extends Bk{constructor(t){const e=t.locale.t;super(t,{commandName:dk,componentName:dk,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>',dropdownLabel:e("Font Color")})}static get pluginName(){return"FontColorUI"}}class Pk extends sk{constructor(t){super(t,ck)}}class Ik extends Lr{static get pluginName(){return"FontBackgroundColorEditing"}constructor(t){super(t),t.config.define(ck,{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.data.addStyleProcessorRules(jh),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:ck,value:uk("background-color")}}),t.conversion.for("downcast").attributeToElement({model:ck,view:pk("background-color")}),t.commands.add(ck,new Pk(t)),t.model.schema.extend("$text",{allowAttributes:ck}),t.model.schema.setAttributeProperties(ck,{isFormatting:!0,copyOnEnter:!0})}}class zk extends Bk{constructor(t){const e=t.locale.t;super(t,{commandName:ck,componentName:ck,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"/></svg>',dropdownLabel:e("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}class Rk extends Ir{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}refresh(){const t=this.editor.model,e=_r(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("element","paragraph"),this.isEnabled=!!e&&Fk(e,t.schema)}execute(t={}){const e=this.editor.model,o=e.document,n=t.selection||o.selection;e.canEditAt(n)&&e.change((t=>{const o=n.getSelectedBlocks();for(const n of o)!n.is("element","paragraph")&&Fk(n,e.schema)&&t.rename(n,"paragraph")}))}}function Fk(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}class Ok extends Ir{constructor(t){super(t),this._isEnabledBasedOnSelection=!1}execute(t){const e=this.editor.model,o=t.attributes;let n=t.position;e.canEditAt(n)&&e.change((t=>{if(n=this._findPositionToInsertParagraph(n,t),!n)return;const r=t.createElement("paragraph");o&&e.schema.setAllowedAttributes(r,o,t),e.insertContent(r,n),t.setSelection(r,"in")}))}_findPositionToInsertParagraph(t,e){const o=this.editor.model;if(o.schema.checkChild(t,"paragraph"))return t;const n=o.schema.findAllowedParent(t,"paragraph");if(!n)return null;const r=t.parent,i=o.schema.checkChild(r,"$text");return r.isEmpty||i&&t.isAtEnd?o.createPositionAfter(r):!r.isEmpty&&i&&t.isAtStart?o.createPositionBefore(r):e.split(t,n).position}}class Vk extends Lr{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new Rk(t)),t.commands.add("insertParagraph",new Ok(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(t,{writer:e})=>Vk.paragraphLikeElements.has(t.name)?t.isEmpty?null:e.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}Vk.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class Nk extends Ir{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=_r(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some((e=>$k(t,e,this.editor.model.schema)))}execute(t){const e=this.editor.model,o=e.document,n=t.value;e.change((t=>{const r=Array.from(o.selection.getSelectedBlocks()).filter((t=>$k(t,n,e.schema)));for(const e of r)e.is("element",n)||t.rename(e,n)}))}}function $k(t,e,o){return o.checkChild(t.parent,e)&&!o.isObject(t)}const Kk="paragraph";class qk extends Lr{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Vk]}init(){const t=this.editor,e=t.config.get("heading.options"),o=[];for(const n of e)"paragraph"!==n.model&&(t.model.schema.register(n.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(n),o.push(n.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new Nk(t,o))}afterInit(){const t=this.editor,e=t.commands.get("enter"),o=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",((e,n)=>{const r=t.model.document.selection.getFirstPosition().parent;o.some((t=>r.is("element",t.model)))&&!r.is("element",Kk)&&0===r.childCount&&n.writer.rename(r,Kk)}))}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:m.low+1})}}var Hk=o(4249),jk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Hk.Z,jk);Hk.Z.locals;class Wk extends Lr{static get pluginName(){return"HeadingUI"}init(){const t=this.editor,e=t.t,o=function(t){const e=t.t,o={Paragraph:e("Paragraph"),"Heading 1":e("Heading 1"),"Heading 2":e("Heading 2"),"Heading 3":e("Heading 3"),"Heading 4":e("Heading 4"),"Heading 5":e("Heading 5"),"Heading 6":e("Heading 6")};return t.config.get("heading.options").map((t=>{const e=o[t.title];return e&&e!=t.title&&(t.title=e),t}))}(t),n=e("Choose heading"),r=e("Heading");t.ui.componentFactory.add("heading",(e=>{const i={},s=new vr,l=t.commands.get("heading"),a=t.commands.get("paragraph"),d=[l];for(const t of o){const e={type:"button",model:new Xg({label:t.title,class:t.class,role:"menuitemradio",withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(a,"value"),e.model.set("commandName","paragraph"),d.push(a)):(e.model.bind("isOn").to(l,"value",(e=>e===t.model)),e.model.set({commandName:"heading",commandValue:t.model})),s.add(e),i[t.model]=t.title}const c=gm(e);return wm(c,s,{ariaLabel:r,role:"menu"}),c.buttonView.set({ariaLabel:r,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:r}),c.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),c.bind("isEnabled").toMany(d,"isEnabled",((...t)=>t.some((t=>t)))),c.buttonView.bind("label").to(l,"value",a,"value",((t,e)=>{const o=t||e&&"paragraph";return"boolean"==typeof o?n:i[o]?i[o]:n})),this.listenTo(c,"execute",(e=>{const{commandName:o,commandValue:n}=e.source;t.execute(o,n?{value:n}:void 0),t.editing.view.focus()})),c}))}}new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]);class Uk extends Ir{refresh(){const t=this.editor.model,e=t.schema,o=t.document.selection;this.isEnabled=function(t,e,o){const n=function(t,e){const o=function(t,e){const o=t.getSelectedElement();if(o){const n=Hw(t);if(n)return e.createRange(e.createPositionAt(o,n))}return sh(t,e)}(t,e),n=o.start.parent;if(n.isEmpty&&!n.is("element","$root"))return n.parent;return n}(t,o);return e.checkChild(n,"horizontalLine")}(o,e,t)}execute(){const t=this.editor.model;t.change((e=>{const o=e.createElement("horizontalLine");t.insertObject(o,null,null,{setSelection:"after"})}))}}var Gk=o(9893),Zk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Gk.Z,Zk);Gk.Z.locals;class Jk extends Lr{static get pluginName(){return"HorizontalLineEditing"}init(){const t=this.editor,e=t.model.schema,o=t.t,n=t.conversion;e.register("horizontalLine",{inheritAllFrom:"$blockObject"}),n.for("dataDowncast").elementToElement({model:"horizontalLine",view:(t,{writer:e})=>e.createEmptyElement("hr")}),n.for("editingDowncast").elementToStructure({model:"horizontalLine",view:(t,{writer:e})=>{const n=o("Horizontal line"),r=e.createContainerElement("div",null,e.createEmptyElement("hr"));return e.addClass("ck-horizontal-line",r),e.setCustomProperty("hr",!0,r),function(t,e,o){return e.setCustomProperty("horizontalLine",!0,t),Rw(t,e,{label:o})}(r,e,n)}}),n.for("upcast").elementToElement({view:"hr",model:"horizontalLine"}),t.commands.add("horizontalLine",new Uk(t))}}class Yk extends Lr{static get pluginName(){return"HorizontalLineUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("horizontalLine",(o=>{const n=t.commands.get("horizontalLine"),r=new sp(o);return r.set({label:e("Horizontal line"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',tooltip:!0}),r.bind("isEnabled").to(n,"isEnabled"),this.listenTo(r,"execute",(()=>{t.execute("horizontalLine"),t.editing.view.focus()})),r}))}}const Xk=function(t,e,o,n){var r=-1,i=null==t?0:t.length;for(n&&i&&(o=t[++r]);++r<i;)o=e(o,t[r],r,t);return o};const Qk=function(t){return function(e){return null==t?void 0:t[e]}}({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});var ty=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ey=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const oy=function(t){return(t=ki(t))&&t.replace(ty,Qk).replace(ey,"")};var ny=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const ry=function(t){return t.match(ny)||[]};var iy=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const sy=function(t){return iy.test(t)};var ly="\\ud800-\\udfff",ay="\\u2700-\\u27bf",dy="a-z\\xdf-\\xf6\\xf8-\\xff",cy="A-Z\\xc0-\\xd6\\xd8-\\xde",hy="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uy="["+hy+"]",py="\\d+",my="["+ay+"]",gy="["+dy+"]",by="[^"+ly+hy+py+ay+dy+cy+"]",fy="(?:\\ud83c[\\udde6-\\uddff]){2}",wy="[\\ud800-\\udbff][\\udc00-\\udfff]",xy="["+cy+"]",ky="(?:"+gy+"|"+by+")",yy="(?:"+xy+"|"+by+")",vy="(?:['’](?:d|ll|m|re|s|t|ve))?",_y="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ay="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Cy="[\\ufe0e\\ufe0f]?",Sy=Cy+Ay+("(?:\\u200d(?:"+["[^"+ly+"]",fy,wy].join("|")+")"+Cy+Ay+")*"),Ey="(?:"+[my,fy,wy].join("|")+")"+Sy,My=RegExp([xy+"?"+gy+"+"+vy+"(?="+[uy,xy,"$"].join("|")+")",yy+"+"+_y+"(?="+[uy,xy+ky,"$"].join("|")+")",xy+"?"+ky+"+"+vy,xy+"+"+_y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",py,Ey].join("|"),"g");const Dy=function(t){return t.match(My)||[]};const Ty=function(t,e,o){return t=ki(t),void 0===(e=o?void 0:e)?sy(t)?Dy(t):ry(t):t.match(e)||[]};var By=RegExp("['’]","g");const Ly=function(t){return function(e){return Xk(Ty(oy(e).replace(By,"")),t,"")}};const Py=function(t,e,o){var n=t.length;return o=void 0===o?n:o,!e&&o>=n?t:Ci(t,e,o)};var Iy=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const zy=function(t){return Iy.test(t)};const Ry=function(t){return t.split("")};var Fy="\\ud800-\\udfff",Oy="["+Fy+"]",Vy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ny="\\ud83c[\\udffb-\\udfff]",$y="[^"+Fy+"]",Ky="(?:\\ud83c[\\udde6-\\uddff]){2}",qy="[\\ud800-\\udbff][\\udc00-\\udfff]",Hy="(?:"+Vy+"|"+Ny+")"+"?",jy="[\\ufe0e\\ufe0f]?",Wy=jy+Hy+("(?:\\u200d(?:"+[$y,Ky,qy].join("|")+")"+jy+Hy+")*"),Uy="(?:"+[$y+Vy+"?",Vy,Ky,qy,Oy].join("|")+")",Gy=RegExp(Ny+"(?="+Ny+")|"+Uy+Wy,"g");const Zy=function(t){return t.match(Gy)||[]};const Jy=function(t){return zy(t)?Zy(t):Ry(t)};const Yy=function(t){return function(e){e=ki(e);var o=zy(e)?Jy(e):void 0,n=o?o[0]:e.charAt(0),r=o?Py(o,1).join(""):e.slice(1);return n[t]()+r}}("toUpperCase");const Xy=Ly((function(t,e,o){return t+(o?" ":"")+Yy(e)}));function Qy(t,e,o,n){e&&function(t,e,o){if(e.attributes)for(const[n]of Object.entries(e.attributes))t.removeAttribute(n,o);if(e.styles)for(const n of Object.keys(e.styles))t.removeStyle(n,o);e.classes&&t.removeClass(e.classes,o)}(t,e,n),o&&tv(t,o,n)}function tv(t,e,o){if(e.attributes)for(const[n,r]of Object.entries(e.attributes))t.setAttribute(n,r,o);e.styles&&t.setStyle(e.styles,o),e.classes&&t.addClass(e.classes,o)}function ev(t,e,o,n,r){const i=e.getAttribute(o),s={};for(const t of["attributes","styles","classes"]){if(t!=n){i&&i[t]&&(s[t]=i[t]);continue}if("classes"==n){const e=new Set(i&&i.classes||[]);r(e),e.size&&(s[t]=Array.from(e));continue}const e=new Map(Object.entries(i&&i[t]||{}));r(e),e.size&&(s[t]=Object.fromEntries(e))}Object.keys(s).length?e.is("documentSelection")?t.setSelectionAttribute(o,s):t.setAttribute(o,s,e):i&&(e.is("documentSelection")?t.removeSelectionAttribute(o):t.removeAttribute(o,e))}function ov(t){return`html${e=t,Xy(e).replace(/ /g,"")}Attributes`;var e}function nv({model:t}){return(e,o)=>o.writer.createElement(t,{htmlContent:e.getCustomProperty("$rawContent")})}function rv(t,{view:e,isInline:o}){const n=t.t;return(t,{writer:r})=>{const i=n("HTML object"),s=iv(e,t,r),l=t.getAttribute(ov(e));r.addClass("html-object-embed__content",s),l&&tv(r,l,s);return Rw(r.createContainerElement(o?"span":"div",{class:"html-object-embed","data-html-object-embed-label":i},s),r,{label:i})}}function iv(t,e,o){return o.createRawElement(t,null,((t,o)=>{o.setContentOf(t,e.getAttribute("htmlContent"))}))}function sv({view:t,model:e,allowEmpty:o},n){return e=>{e.on(`element:${t}`,((t,e,i)=>{let s=n.processViewAttributes(e.viewItem,i);if(s||i.consumable.test(e.viewItem,{name:!0})){if(s=s||{},i.consumable.consume(e.viewItem,{name:!0}),e.modelRange||(e=Object.assign(e,i.convertChildren(e.viewItem,e.modelCursor))),o&&e.modelRange.isCollapsed&&Object.keys(s).length){const t=i.writer.createElement("htmlEmptyElement");if(!i.safeInsert(t,e.modelCursor))return;const o=i.getSplitParts(t);return e.modelRange=i.writer.createRange(e.modelRange.start,i.writer.createPositionAfter(o[o.length-1])),i.updateConversionResult(t,e),void r(t,s,i)}for(const t of e.modelRange.getItems())r(t,s,i)}}),{priority:"low"})};function r(t,o,n){if(n.schema.checkAttribute(t,e)){const r=function(t,e){const o=ma(t);let n="attributes";for(n in e)o[n]="classes"==n?Array.from(new Set([...t[n]||[],...e[n]])):{...t[n],...e[n]};return o}(o,t.getAttribute(e)||{});n.writer.setAttribute(e,r,t)}}}function lv({model:t,view:e},o){return(n,{writer:r,consumable:i})=>{if(!n.hasAttribute(t))return null;const s=r.createContainerElement(e),l=n.getAttribute(t);return i.consume(n,`attribute:${t}`),tv(r,l,s),s.getFillerOffset=()=>null,o?Rw(s,r):s}}function av({priority:t,view:e}){return(o,n)=>{if(!o)return;const{writer:r}=n,i=r.createAttributeElement(e,null,{priority:t});return tv(r,o,i),i}}function dv({view:t},e){return o=>{o.on(`element:${t}`,((t,o,n)=>{if(!o.modelRange||o.modelRange.isCollapsed)return;const r=e.processViewAttributes(o.viewItem,n);r&&n.writer.setAttribute(ov(o.viewItem.name),r,o.modelRange)}),{priority:"low"})}}function cv({view:t,model:e}){return o=>{o.on(`attribute:${ov(t)}:${e}`,((t,e,o)=>{if(!o.consumable.consume(e.item,t.name))return;const{attributeOldValue:n,attributeNewValue:r}=e;Qy(o.writer,n,r,o.mapper.toViewElement(e.item))}))}}const hv=[{model:"codeBlock",view:"pre"},{model:"paragraph",view:"p"},{model:"blockQuote",view:"blockquote"},{model:"listItem",view:"li"},{model:"pageBreak",view:"div"},{model:"rawHtml",view:"div"},{model:"table",view:"table"},{model:"tableRow",view:"tr"},{model:"tableCell",view:"td"},{model:"tableCell",view:"th"},{model:"tableColumnGroup",view:"colgroup"},{model:"tableColumn",view:"col"},{model:"caption",view:"caption"},{model:"caption",view:"figcaption"},{model:"imageBlock",view:"img"},{model:"imageInline",view:"img"},{model:"htmlP",view:"p",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlBlockquote",view:"blockquote",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlTable",view:"table",modelSchema:{allowWhere:"$block",isBlock:!0}},{model:"htmlTbody",view:"tbody",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlThead",view:"thead",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlTfoot",view:"tfoot",modelSchema:{allowIn:"htmlTable",isBlock:!1}},{model:"htmlCaption",view:"caption",modelSchema:{allowIn:"htmlTable",allowChildren:"$text",isBlock:!1}},{model:"htmlColgroup",view:"colgroup",modelSchema:{allowIn:"htmlTable",allowChildren:"col",isBlock:!1}},{model:"htmlCol",view:"col",modelSchema:{allowIn:"htmlColgroup",isBlock:!1}},{model:"htmlTr",view:"tr",modelSchema:{allowIn:["htmlTable","htmlThead","htmlTbody"],isLimit:!0}},{model:"htmlTd",view:"td",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlTh",view:"th",modelSchema:{allowIn:"htmlTr",allowContentOf:"$container",isLimit:!0,isBlock:!1}},{model:"htmlFigure",view:"figure",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFigcaption",view:"figcaption",modelSchema:{allowIn:"htmlFigure",allowChildren:"$text",isBlock:!1}},{model:"htmlAddress",view:"address",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlAside",view:"aside",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlMain",view:"main",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDetails",view:"details",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSummary",view:"summary",modelSchema:{allowChildren:"$text",allowIn:"htmlDetails",isBlock:!1}},{model:"htmlDiv",view:"div",paragraphLikeModel:"htmlDivParagraph",modelSchema:{inheritAllFrom:"$container"}},{model:"htmlFieldset",view:"fieldset",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlLegend",view:"legend",modelSchema:{allowIn:"htmlFieldset",allowChildren:"$text"}},{model:"htmlHeader",view:"header",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlFooter",view:"footer",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlForm",view:"form",modelSchema:{inheritAllFrom:"$container",isBlock:!0}},{model:"htmlHgroup",view:"hgroup",modelSchema:{allowChildren:["htmlH1","htmlH2","htmlH3","htmlH4","htmlH5","htmlH6"],isBlock:!1}},{model:"htmlH1",view:"h1",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH2",view:"h2",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH3",view:"h3",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH4",view:"h4",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH5",view:"h5",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlH6",view:"h6",modelSchema:{inheritAllFrom:"$block"}},{model:"$htmlList",modelSchema:{allowWhere:"$container",allowChildren:["$htmlList","htmlLi"],isBlock:!1}},{model:"htmlDir",view:"dir",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlMenu",view:"menu",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlUl",view:"ul",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlOl",view:"ol",modelSchema:{inheritAllFrom:"$htmlList"}},{model:"htmlLi",view:"li",modelSchema:{allowIn:"$htmlList",allowChildren:"$text",isBlock:!1}},{model:"htmlPre",view:"pre",modelSchema:{inheritAllFrom:"$block"}},{model:"htmlArticle",view:"article",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlSection",view:"section",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlNav",view:"nav",modelSchema:{inheritAllFrom:"$container",isBlock:!1}},{model:"htmlDivDl",view:"div",modelSchema:{allowChildren:["htmlDt","htmlDd"],allowIn:"htmlDl"}},{model:"htmlDl",view:"dl",modelSchema:{allowWhere:"$container",allowChildren:["htmlDt","htmlDd","htmlDivDl"],isBlock:!1}},{model:"htmlDt",view:"dt",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlDd",view:"dd",modelSchema:{allowChildren:"$block",isBlock:!1}},{model:"htmlCenter",view:"center",modelSchema:{inheritAllFrom:"$container",isBlock:!1}}],uv=[{model:"htmlLiAttributes",view:"li",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlOlAttributes",view:"ol",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlUlAttributes",view:"ul",appliesToBlock:!0,coupledAttribute:"listItemId"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"table"},{model:"htmlTheadAttributes",view:"thead",appliesToBlock:"table"},{model:"htmlTbodyAttributes",view:"tbody",appliesToBlock:"table"},{model:"htmlFigureAttributes",view:"figure",appliesToBlock:"imageBlock"},{model:"htmlAcronym",view:"acronym",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTt",view:"tt",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlFont",view:"font",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlTime",view:"time",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlVar",view:"var",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBig",view:"big",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSmall",view:"small",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSamp",view:"samp",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlQ",view:"q",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlOutput",view:"output",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlKbd",view:"kbd",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdi",view:"bdi",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlBdo",view:"bdo",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlAbbr",view:"abbr",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlA",view:"a",priority:5,coupledAttribute:"linkHref"},{model:"htmlStrong",view:"strong",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlB",view:"b",coupledAttribute:"bold",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlI",view:"i",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlEm",view:"em",coupledAttribute:"italic",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlS",view:"s",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDel",view:"del",coupledAttribute:"strikethrough",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlIns",view:"ins",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlU",view:"u",coupledAttribute:"underline",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSub",view:"sub",coupledAttribute:"subscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSup",view:"sup",coupledAttribute:"superscript",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCode",view:"code",coupledAttribute:"code",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlMark",view:"mark",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlSpan",view:"span",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlCite",view:"cite",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlLabel",view:"label",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlDfn",view:"dfn",attributeProperties:{copyOnEnter:!0,isFormatting:!0}},{model:"htmlObject",view:"object",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlIframe",view:"iframe",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlInput",view:"input",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlButton",view:"button",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlTextarea",view:"textarea",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlSelect",view:"select",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlVideo",view:"video",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlEmbed",view:"embed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlOembed",view:"oembed",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlAudio",view:"audio",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlImg",view:"img",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlCanvas",view:"canvas",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlMeter",view:"meter",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlProgress",view:"progress",isObject:!0,modelSchema:{inheritAllFrom:"$inlineObject"}},{model:"htmlScript",view:"script",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlStyle",view:"style",modelSchema:{allowWhere:["$text","$block"],isInline:!0}},{model:"htmlCustomElement",view:"$customElement",modelSchema:{allowWhere:["$text","$block"],allowAttributesOf:"$inlineObject",isInline:!0}}];const pv=Gi((function(t,e,o,n){Ri(t,e,o,n)}));class mv extends Lr{constructor(){super(...arguments),this._definitions=[]}static get pluginName(){return"DataSchema"}init(){for(const t of hv)this.registerBlockElement(t);for(const t of uv)this.registerInlineElement(t)}registerBlockElement(t){this._definitions.push({...t,isBlock:!0})}registerInlineElement(t){this._definitions.push({...t,isInline:!0})}extendBlockElement(t){this._extendDefinition({...t,isBlock:!0})}extendInlineElement(t){this._extendDefinition({...t,isInline:!0})}getDefinitionsForView(t,e=!1){const o=new Set;for(const n of this._getMatchingViewDefinitions(t)){if(e)for(const t of this._getReferences(n.model))o.add(t);o.add(n)}return o}getDefinitionsForModel(t){return this._definitions.filter((e=>e.model==t))}_getMatchingViewDefinitions(t){return this._definitions.filter((e=>e.view&&function(t,e){if("string"==typeof t)return t===e;if(t instanceof RegExp)return t.test(e);return!1}(t,e.view)))}*_getReferences(t){const e=["inheritAllFrom","inheritTypesFrom","allowWhere","allowContentOf","allowAttributesOf"],o=this._definitions.filter((e=>e.model==t));for(const{modelSchema:n}of o)if(n)for(const o of e)for(const e of fr(n[o]||[])){const o=this._definitions.filter((t=>t.model==e));for(const n of o)e!==t&&(yield*this._getReferences(n.model),yield n)}}_extendDefinition(t){const e=Array.from(this._definitions.entries()).filter((([,e])=>e.model==t.model));if(0!=e.length)for(const[o,n]of e)this._definitions[o]=pv({},n,t,((t,e)=>Array.isArray(t)?t.concat(e):void 0));else this._definitions.push(t)}}const gv=function(t,e,o,n){for(var r=t.length,i=o+(n?1:-1);n?i--:++i<r;)if(e(t[i],i,t))return i;return-1};const bv=function(t){return t!=t};const fv=function(t,e,o){for(var n=o-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1};const wv=function(t,e,o){return e==e?fv(t,e,o):gv(t,bv,o)};const xv=function(t,e,o,n){for(var r=o-1,i=t.length;++r<i;)if(n(t[r],e))return r;return-1};var kv=Array.prototype.splice;const yv=function(t,e,o,n){var r=n?xv:wv,i=-1,s=e.length,l=t;for(t===e&&(e=bo(e)),o&&(l=bi(t,Ke(o)));++i<s;)for(var a=0,d=e[i],c=o?o(d):d;(a=r(l,c,a,n))>-1;)l!==t&&kv.call(l,a,1),kv.call(t,a,1);return t};const vv=Wi((function(t,e){return t&&t.length&&e&&e.length?yv(t,e):t}));var _v=o(1710),Av={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(_v.Z,Av);_v.Z.locals;class Cv extends Lr{constructor(t){super(t),this._dataSchema=t.plugins.get("DataSchema"),this._allowedAttributes=new oi,this._disallowedAttributes=new oi,this._allowedElements=new Set,this._disallowedElements=new Set,this._dataInitialized=!1,this._coupledAttributes=null,this._registerElementsAfterInit(),this._registerElementHandlers(),this._registerCoupledAttributesPostFixer(),this._registerAssociatedHtmlAttributesPostFixer()}static get pluginName(){return"DataFilter"}static get requires(){return[mv,ox]}loadAllowedConfig(t){for(const e of t){const t=e.name||/[\s\S]+/,o=Tv(e);this.allowElement(t),o.forEach((t=>this.allowAttributes(t)))}}loadDisallowedConfig(t){for(const e of t){const t=e.name||/[\s\S]+/,o=Tv(e);0==o.length?this.disallowElement(t):o.forEach((t=>this.disallowAttributes(t)))}}loadAllowedEmptyElementsConfig(t){for(const e of t)this.allowEmptyElement(e)}allowElement(t){for(const e of this._dataSchema.getDefinitionsForView(t,!0))this._addAllowedElement(e),this._coupledAttributes=null}disallowElement(t){for(const e of this._dataSchema.getDefinitionsForView(t,!1))this._disallowedElements.add(e.view)}allowEmptyElement(t){for(const e of this._dataSchema.getDefinitionsForView(t,!0))e.isInline&&this._dataSchema.extendInlineElement({...e,allowEmpty:!0})}allowAttributes(t){this._allowedAttributes.add(t)}disallowAttributes(t){this._disallowedAttributes.add(t)}processViewAttributes(t,e){return Sv(t,e,this._disallowedAttributes),Sv(t,e,this._allowedAttributes)}_addAllowedElement(t){if(!this._allowedElements.has(t)){if(this._allowedElements.add(t),"appliesToBlock"in t&&"string"==typeof t.appliesToBlock)for(const e of this._dataSchema.getDefinitionsForModel(t.appliesToBlock))e.isBlock&&this._addAllowedElement(e);this._dataInitialized&&this.editor.data.once("set",(()=>{this._fireRegisterEvent(t)}),{priority:m.highest+1})}}_registerElementsAfterInit(){this.editor.data.on("init",(()=>{this._dataInitialized=!0;for(const t of this._allowedElements)this._fireRegisterEvent(t)}),{priority:m.highest+1})}_registerElementHandlers(){this.on("register",((t,e)=>{const o=this.editor.model.schema;if(e.isObject&&!o.isRegistered(e.model))this._registerObjectElement(e);else if(e.isBlock)this._registerBlockElement(e);else{if(!e.isInline)throw new f("data-filter-invalid-definition",null,e);this._registerInlineElement(e)}t.stop()}),{priority:"lowest"})}_registerCoupledAttributesPostFixer(){const t=this.editor.model;t.document.registerPostFixer((e=>{const o=t.document.differ.getChanges();let n=!1;const r=this._getCoupledAttributesMap();for(const t of o){if("attribute"!=t.type||null!==t.attributeNewValue)continue;const o=r.get(t.attributeKey);if(o)for(const{item:r}of t.range.getWalker({shallow:!0}))for(const t of o)r.hasAttribute(t)&&(e.removeAttribute(t,r),n=!0)}return n}))}_registerAssociatedHtmlAttributesPostFixer(){const t=this.editor.model;t.document.registerPostFixer((e=>{const o=t.document.differ.getChanges();let n=!1;for(const r of o)if("insert"===r.type&&"$text"!==r.name)for(const o of r.attributes.keys())o.startsWith("html")&&o.endsWith("Attributes")&&(t.schema.checkAttribute(r.name,o)||(e.removeAttribute(o,r.position.nodeAfter),n=!0));return n}))}_getCoupledAttributesMap(){if(this._coupledAttributes)return this._coupledAttributes;this._coupledAttributes=new Map;for(const t of this._allowedElements)if(t.coupledAttribute&&t.model){const e=this._coupledAttributes.get(t.coupledAttribute);e?e.push(t.model):this._coupledAttributes.set(t.coupledAttribute,[t.model])}return this._coupledAttributes}_fireRegisterEvent(t){t.view&&this._disallowedElements.has(t.view)||this.fire(t.view?`register:${t.view}`:"register",t)}_registerObjectElement(t){const e=this.editor,o=e.model.schema,n=e.conversion,{view:r,model:i}=t;o.register(i,t.modelSchema),r&&(o.extend(t.model,{allowAttributes:[ov(r),"htmlContent"]}),e.data.registerRawContentMatcher({name:r}),n.for("upcast").elementToElement({view:r,model:nv(t),converterPriority:m.low+2}),n.for("upcast").add(dv(t,this)),n.for("editingDowncast").elementToStructure({model:{name:i,attributes:[ov(r)]},view:rv(e,t)}),n.for("dataDowncast").elementToElement({model:i,view:(t,{writer:e})=>iv(r,t,e)}),n.for("dataDowncast").add(cv(t)))}_registerBlockElement(t){const e=this.editor,o=e.model.schema,n=e.conversion,{view:r,model:i}=t;if(!o.isRegistered(t.model)){if(o.register(t.model,t.modelSchema),!r)return;n.for("upcast").elementToElement({model:i,view:r,converterPriority:m.low+2}),n.for("downcast").elementToElement({model:i,view:r})}r&&(o.extend(t.model,{allowAttributes:ov(r)}),n.for("upcast").add(dv(t,this)),n.for("downcast").add(cv(t)))}_registerInlineElement(t){const e=this.editor,o=e.model.schema,n=e.conversion,r=t.model;t.appliesToBlock||(o.extend("$text",{allowAttributes:r}),t.attributeProperties&&o.setAttributeProperties(r,t.attributeProperties),n.for("upcast").add(sv(t,this)),n.for("downcast").attributeToElement({model:r,view:av(t)}),t.allowEmpty&&(o.setAttributeProperties(r,{copyFromObject:!1}),o.isRegistered("htmlEmptyElement")||o.register("htmlEmptyElement",{inheritAllFrom:"$inlineObject"}),e.data.htmlProcessor.domConverter.registerInlineObjectMatcher((e=>e.name==t.view&&e.isEmpty&&Array.from(e.getAttributeKeys()).length?{name:!0}:null)),n.for("editingDowncast").elementToElement({model:"htmlEmptyElement",view:lv(t,!0)}),n.for("dataDowncast").elementToElement({model:"htmlEmptyElement",view:lv(t)})))}}function Sv(t,e,o){const n=function(t,{consumable:e},o){const n=o.matchAll(t)||[],r=[];for(const o of n)Ev(e,t,o),delete o.match.name,e.consume(t,o.match),r.push(o);return r}(t,e,o),{attributes:r,styles:i,classes:s}=function(t){const e={attributes:new Set,classes:new Set,styles:new Set};for(const o of t)for(const t in e){(o.match[t]||[]).forEach((o=>e[t].add(o)))}return e}(n),l={};if(r.size)for(const t of r)Un(t)||r.delete(t);return r.size&&(l.attributes=Mv(r,(e=>t.getAttribute(e)))),i.size&&(l.styles=Mv(i,(e=>t.getStyle(e)))),s.size&&(l.classes=Array.from(s)),Object.keys(l).length?l:null}function Ev(t,e,o){for(const n of["attributes","classes","styles"]){const r=o.match[n];if(r)for(const o of Array.from(r))t.test(e,{[n]:[o]})||vv(r,o)}}function Mv(t,e){const o={};for(const n of t){void 0!==e(n)&&(o[n]=e(n))}return o}function Dv(t,e){const{name:o}=t,n=t[e];return yt(n)?Object.entries(n).map((([t,n])=>({name:o,[e]:{[t]:n}}))):Array.isArray(n)?n.map((t=>({name:o,[e]:[t]}))):[t]}function Tv(t){const{name:e,attributes:o,classes:n,styles:r}=t,i=[];return o&&i.push(...Dv({name:e,attributes:o},"attributes")),n&&i.push(...Dv({name:e,classes:n},"classes")),r&&i.push(...Dv({name:e,styles:r},"styles")),i}class Bv extends Lr{static get requires(){return[Cv]}static get pluginName(){return"CodeBlockElementSupport"}init(){if(!this.editor.plugins.has("CodeBlockEditing"))return;const t=this.editor.plugins.get(Cv);t.on("register:pre",((e,o)=>{if("codeBlock"!==o.model)return;const n=this.editor,r=n.model.schema,i=n.conversion;r.extend("codeBlock",{allowAttributes:["htmlPreAttributes","htmlContentAttributes"]}),i.for("upcast").add(function(t){return e=>{e.on("element:code",((e,o,n)=>{const r=o.viewItem,i=r.parent;function s(e,r){const i=t.processViewAttributes(e,n);i&&n.writer.setAttribute(r,i,o.modelRange)}i&&i.is("element","pre")&&(s(i,"htmlPreAttributes"),s(r,"htmlContentAttributes"))}),{priority:"low"})}}(t)),i.for("downcast").add((t=>{t.on("attribute:htmlPreAttributes:codeBlock",((t,e,o)=>{if(!o.consumable.consume(e.item,t.name))return;const{attributeOldValue:n,attributeNewValue:r}=e,i=o.mapper.toViewElement(e.item).parent;Qy(o.writer,n,r,i)})),t.on("attribute:htmlContentAttributes:codeBlock",((t,e,o)=>{if(!o.consumable.consume(e.item,t.name))return;const{attributeOldValue:n,attributeNewValue:r}=e,i=o.mapper.toViewElement(e.item);Qy(o.writer,n,r,i)}))})),e.stop()}))}}class Lv extends Lr{static get requires(){return[Cv]}static get pluginName(){return"DualContentModelElementSupport"}init(){this.editor.plugins.get(Cv).on("register",((t,e)=>{const o=e,n=this.editor,r=n.model.schema,i=n.conversion;if(!o.paragraphLikeModel)return;if(r.isRegistered(o.model)||r.isRegistered(o.paragraphLikeModel))return;const s={model:o.paragraphLikeModel,view:o.view};r.register(o.model,o.modelSchema),r.register(s.model,{inheritAllFrom:"$block"}),i.for("upcast").elementToElement({view:o.view,model:(t,{writer:e})=>this._hasBlockContent(t)?e.createElement(o.model):e.createElement(s.model),converterPriority:m.low+.5}),i.for("downcast").elementToElement({view:o.view,model:o.model}),this._addAttributeConversion(o),i.for("downcast").elementToElement({view:s.view,model:s.model}),this._addAttributeConversion(s),t.stop()}))}_hasBlockContent(t){const e=this.editor.editing.view,o=e.domConverter.blockElements;for(const n of e.createRangeIn(t).getItems())if(n.is("element")&&o.includes(n.name))return!0;return!1}_addAttributeConversion(t){const e=this.editor,o=e.conversion,n=e.plugins.get(Cv);e.model.schema.extend(t.model,{allowAttributes:ov(t.view)}),o.for("upcast").add(dv(t,n)),o.for("downcast").add(cv(t))}}class Pv extends Lr{static get requires(){return[mv,ow]}static get pluginName(){return"HeadingElementSupport"}init(){const t=this.editor;if(!t.plugins.has("HeadingEditing"))return;const e=t.config.get("heading.options");this.registerHeadingElements(t,e)}registerHeadingElements(t,e){const o=t.plugins.get(mv),n=[];for(const t of e)"model"in t&&"view"in t&&(o.registerBlockElement({view:t.view,model:t.model}),n.push(t.model));o.extendBlockElement({model:"htmlHgroup",modelSchema:{allowChildren:n}})}}function Iv(t,e,o){const n=t.createRangeOn(e);for(const{item:t}of n.getWalker())if(t.is("element",o))return t}class zv extends Lr{static get requires(){return[Cv]}static get pluginName(){return"ImageElementSupport"}init(){const t=this.editor;if(!t.plugins.has("ImageInlineEditing")&&!t.plugins.has("ImageBlockEditing"))return;const e=t.model.schema,o=t.conversion,n=t.plugins.get(Cv);n.on("register:figure",(()=>{o.for("upcast").add(function(t){return e=>{e.on("element:figure",((e,o,n)=>{const r=o.viewItem;if(!o.modelRange||!r.hasClass("image"))return;const i=t.processViewAttributes(r,n);i&&n.writer.setAttribute("htmlFigureAttributes",i,o.modelRange)}),{priority:"low"})}}(n))})),n.on("register:img",((r,i)=>{"imageBlock"!==i.model&&"imageInline"!==i.model||(e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["htmlImgAttributes","htmlFigureAttributes","htmlLinkAttributes"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["htmlA","htmlImgAttributes"]}),o.for("upcast").add(function(t){return e=>{e.on("element:img",((e,o,n)=>{if(!o.modelRange)return;const r=o.viewItem,i=t.processViewAttributes(r,n);i&&n.writer.setAttribute("htmlImgAttributes",i,o.modelRange)}),{priority:"low"})}}(n)),o.for("downcast").add((t=>{function e(e){t.on(`attribute:${e}:imageInline`,((t,e,o)=>{if(!o.consumable.consume(e.item,t.name))return;const{attributeOldValue:n,attributeNewValue:r}=e,i=o.mapper.toViewElement(e.item);Qy(o.writer,n,r,i)}),{priority:"low"})}function o(e,o){t.on(`attribute:${o}:imageBlock`,((t,o,n)=>{if(!n.consumable.test(o.item,t.name))return;const{attributeOldValue:r,attributeNewValue:i}=o,s=n.mapper.toViewElement(o.item),l=Iv(n.writer,s,e);l&&(Qy(n.writer,r,i,l),n.consumable.consume(o.item,t.name))}),{priority:"low"}),"a"===e&&t.on("attribute:linkHref:imageBlock",((t,e,o)=>{if(!o.consumable.consume(e.item,"attribute:htmlLinkAttributes:imageBlock"))return;const n=o.mapper.toViewElement(e.item),r=Iv(o.writer,n,"a");tv(o.writer,e.item.getAttribute("htmlLinkAttributes"),r)}),{priority:"low"})}e("htmlImgAttributes"),o("img","htmlImgAttributes"),o("figure","htmlFigureAttributes"),o("a","htmlLinkAttributes")})),t.plugins.has("LinkImage")&&o.for("upcast").add(function(t,e){const o=e.plugins.get("ImageUtils");return e=>{e.on("element:a",((e,n,r)=>{const i=n.viewItem;if(!o.findViewImgElement(i))return;const s=n.modelCursor.parent;if(!s.is("element","imageBlock"))return;const l=t.processViewAttributes(i,r);l&&r.writer.setAttribute("htmlLinkAttributes",l,s)}),{priority:"low"})}}(n,t)),r.stop())}))}}class Rv extends Lr{static get requires(){return[Cv]}static get pluginName(){return"MediaEmbedElementSupport"}init(){const t=this.editor;if(!t.plugins.has("MediaEmbed")||t.config.get("mediaEmbed.previewsInData"))return;const e=t.model.schema,o=t.conversion,n=this.editor.plugins.get(Cv),r=this.editor.plugins.get(mv),i=t.config.get("mediaEmbed.elementName");r.registerBlockElement({model:"media",view:i}),n.on("register:figure",(()=>{o.for("upcast").add(function(t){return e=>{e.on("element:figure",((e,o,n)=>{const r=o.viewItem;if(!o.modelRange||!r.hasClass("media"))return;const i=t.processViewAttributes(r,n);i&&n.writer.setAttribute("htmlFigureAttributes",i,o.modelRange)}),{priority:"low"})}}(n))})),n.on(`register:${i}`,((t,r)=>{"media"===r.model&&(e.extend("media",{allowAttributes:[ov(i),"htmlFigureAttributes"]}),o.for("upcast").add(function(t,e){const o=(o,n,r)=>{function i(e,o){const i=t.processViewAttributes(e,r);i&&r.writer.setAttribute(o,i,n.modelRange)}i(n.viewItem,ov(e))};return t=>{t.on(`element:${e}`,o,{priority:"low"})}}(n,i)),o.for("dataDowncast").add(function(t){return e=>{function o(t,o){e.on(`attribute:${o}:media`,((e,o,n)=>{if(!n.consumable.consume(o.item,e.name))return;const{attributeOldValue:r,attributeNewValue:i}=o,s=n.mapper.toViewElement(o.item),l=Iv(n.writer,s,t);Qy(n.writer,r,i,l)}))}o(t,ov(t)),o("figure","htmlFigureAttributes")}}(i)),t.stop())}))}}class Fv extends Lr{static get requires(){return[Cv]}static get pluginName(){return"ScriptElementSupport"}init(){const t=this.editor.plugins.get(Cv);t.on("register:script",((e,o)=>{const n=this.editor,r=n.model.schema,i=n.conversion;r.register("htmlScript",o.modelSchema),r.extend("htmlScript",{allowAttributes:["htmlScriptAttributes","htmlContent"],isContent:!0}),n.data.registerRawContentMatcher({name:"script"}),i.for("upcast").elementToElement({view:"script",model:nv(o)}),i.for("upcast").add(dv(o,t)),i.for("downcast").elementToElement({model:"htmlScript",view:(t,{writer:e})=>iv("script",t,e)}),i.for("downcast").add(cv(o)),e.stop()}))}}class Ov extends Lr{static get requires(){return[Cv]}static get pluginName(){return"TableElementSupport"}init(){const t=this.editor;if(!t.plugins.has("TableEditing"))return;const e=t.model.schema,o=t.conversion,n=t.plugins.get(Cv),r=t.plugins.get("TableUtils");n.on("register:figure",(()=>{o.for("upcast").add(function(t){return e=>{e.on("element:figure",((e,o,n)=>{const r=o.viewItem;if(!o.modelRange||!r.hasClass("table"))return;const i=t.processViewAttributes(r,n);i&&n.writer.setAttribute("htmlFigureAttributes",i,o.modelRange)}),{priority:"low"})}}(n))})),n.on("register:table",((i,s)=>{"table"===s.model&&(e.extend("table",{allowAttributes:["htmlTableAttributes","htmlFigureAttributes","htmlTheadAttributes","htmlTbodyAttributes"]}),o.for("upcast").add(function(t){return e=>{e.on("element:table",((e,o,n)=>{if(!o.modelRange)return;const r=o.viewItem;i(r,"htmlTableAttributes");for(const t of r.getChildren())t.is("element","thead")&&i(t,"htmlTheadAttributes"),t.is("element","tbody")&&i(t,"htmlTbodyAttributes");function i(e,r){const i=t.processViewAttributes(e,n);i&&n.writer.setAttribute(r,i,o.modelRange)}}),{priority:"low"})}}(n)),o.for("downcast").add((t=>{function e(e,o){t.on(`attribute:${o}:table`,((t,o,n)=>{if(!n.consumable.test(o.item,t.name))return;const r=n.mapper.toViewElement(o.item),i=Iv(n.writer,r,e);i&&(n.consumable.consume(o.item,t.name),Qy(n.writer,o.attributeOldValue,o.attributeNewValue,i))}))}e("table","htmlTableAttributes"),e("figure","htmlFigureAttributes"),e("thead","htmlTheadAttributes"),e("tbody","htmlTbodyAttributes")})),t.model.document.registerPostFixer(function(t,e){return o=>{const n=t.document.differ.getChanges();let r=!1;for(const t of n){if("attribute"!=t.type||"headingRows"!=t.attributeKey)continue;const n=t.range.start.nodeAfter,i=n.getAttribute("htmlTheadAttributes"),s=n.getAttribute("htmlTbodyAttributes");i&&!t.attributeNewValue?(o.removeAttribute("htmlTheadAttributes",n),r=!0):s&&t.attributeNewValue==e.getRows(n)&&(o.removeAttribute("htmlTbodyAttributes",n),r=!0)}return r}}(t.model,r)),i.stop())}))}}class Vv extends Lr{static get requires(){return[Cv]}static get pluginName(){return"StyleElementSupport"}init(){const t=this.editor.plugins.get(Cv);t.on("register:style",((e,o)=>{const n=this.editor,r=n.model.schema,i=n.conversion;r.register("htmlStyle",o.modelSchema),r.extend("htmlStyle",{allowAttributes:["htmlStyleAttributes","htmlContent"],isContent:!0}),n.data.registerRawContentMatcher({name:"style"}),i.for("upcast").elementToElement({view:"style",model:nv(o)}),i.for("upcast").add(dv(o,t)),i.for("downcast").elementToElement({model:"htmlStyle",view:(t,{writer:e})=>iv("style",t,e)}),i.for("downcast").add(cv(o)),e.stop()}))}}class Nv extends Lr{static get requires(){return[Cv]}static get pluginName(){return"DocumentListElementSupport"}init(){const t=this.editor;if(!t.plugins.has("DocumentListEditing"))return;const e=t.model.schema,o=t.conversion,n=t.plugins.get(Cv),r=t.plugins.get("DocumentListEditing"),i=["ul","ol","li"];r.registerDowncastStrategy({scope:"item",attributeName:"htmlLiAttributes",setAttributeOnDowncast:tv}),r.registerDowncastStrategy({scope:"list",attributeName:"htmlUlAttributes",setAttributeOnDowncast:tv}),r.registerDowncastStrategy({scope:"list",attributeName:"htmlOlAttributes",setAttributeOnDowncast:tv}),n.on("register",((t,r)=>{if(!i.includes(r.view))return;if(t.stop(),e.checkAttribute("$block","htmlLiAttributes"))return;const s=i.map((t=>ov(t)));e.extend("$listItem",{allowAttributes:s}),o.for("upcast").add((t=>{t.on("element:ul",$v("htmlUlAttributes",n),{priority:"low"}),t.on("element:ol",$v("htmlOlAttributes",n),{priority:"low"}),t.on("element:li",$v("htmlLiAttributes",n),{priority:"low"})}))})),r.on("postFixer",((t,{listNodes:e,writer:o})=>{for(const{node:n,previousNodeInList:r}of e)if(r){if(r.getAttribute("listType")==n.getAttribute("listType")){const e=Kv(r.getAttribute("listType")),i=r.getAttribute(e);!cc(n.getAttribute(e),i)&&o.model.schema.checkAttribute(n,e)&&(o.setAttribute(e,i,n),t.return=!0)}if(r.getAttribute("listItemId")==n.getAttribute("listItemId")){const e=r.getAttribute("htmlLiAttributes");!cc(n.getAttribute("htmlLiAttributes"),e)&&o.model.schema.checkAttribute(n,"htmlLiAttributes")&&(o.setAttribute("htmlLiAttributes",e,n),t.return=!0)}}})),r.on("postFixer",((t,{listNodes:e,writer:o})=>{for(const{node:n}of e){const e=n.getAttribute("listType");"numbered"!==e&&n.getAttribute("htmlOlAttributes")&&(o.removeAttribute("htmlOlAttributes",n),t.return=!0),"numbered"===e&&n.getAttribute("htmlUlAttributes")&&(o.removeAttribute("htmlUlAttributes",n),t.return=!0)}}))}afterInit(){const t=this.editor;if(!t.commands.get("indentList"))return;const e=t.commands.get("indentList");this.listenTo(e,"afterExecute",((e,o)=>{t.model.change((e=>{for(const n of o){const o=Kv(n.getAttribute("listType"));t.model.schema.checkAttribute(n,o)&&e.setAttribute(o,{},n)}}))}))}}function $v(t,e){return(o,n,r)=>{const i=n.viewItem;n.modelRange||Object.assign(n,r.convertChildren(n.viewItem,n.modelCursor));const s=e.processViewAttributes(i,r);for(const e of n.modelRange.getItems({shallow:!0}))e.hasAttribute("listItemId")&&(e.hasAttribute(t)||r.writer.model.schema.checkAttribute(e,t)&&r.writer.setAttribute(t,s||{},e))}}function Kv(t){return"numbered"===t?"htmlOlAttributes":"htmlUlAttributes"}class qv extends Lr{static get requires(){return[Cv,mv]}static get pluginName(){return"CustomElementSupport"}init(){const t=this.editor.plugins.get(Cv),e=this.editor.plugins.get(mv);t.on("register:$customElement",((o,n)=>{o.stop();const r=this.editor,i=r.model.schema,s=r.conversion,l=r.editing.view.domConverter.unsafeElements,a=r.data.htmlProcessor.domConverter.preElements;i.register(n.model,n.modelSchema),i.extend(n.model,{allowAttributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"],isContent:!0}),s.for("upcast").elementToElement({view:/.*/,model:(o,i)=>{if("$comment"==o.name)return null;if(!function(t){try{document.createElement(t)}catch(t){return!1}return!0}(o.name))return null;if(e.getDefinitionsForView(o.name).size)return null;l.includes(o.name)||l.push(o.name),a.includes(o.name)||a.push(o.name);const s=i.writer.createElement(n.model,{htmlElementName:o.name}),d=t.processViewAttributes(o,i);d&&i.writer.setAttribute("htmlCustomElementAttributes",d,s);const c=new fh(o.document).createDocumentFragment(o),h=r.data.processor.toData(c);i.writer.setAttribute("htmlContent",h,s);for(const{item:t}of r.editing.view.createRangeIn(o))i.consumable.consume(t,{name:!0});return s},converterPriority:"low"}),s.for("editingDowncast").elementToElement({model:{name:n.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(t,{writer:e})=>{const o=t.getAttribute("htmlElementName"),n=e.createRawElement(o);return t.hasAttribute("htmlCustomElementAttributes")&&tv(e,t.getAttribute("htmlCustomElementAttributes"),n),n}}),s.for("dataDowncast").elementToElement({model:{name:n.model,attributes:["htmlElementName","htmlCustomElementAttributes","htmlContent"]},view:(t,{writer:e})=>{const o=t.getAttribute("htmlElementName"),n=t.getAttribute("htmlContent"),r=e.createRawElement(o,null,((t,e)=>{e.setContentOf(t,n);const o=t.firstChild;for(o.remove();o.firstChild;)t.appendChild(o.firstChild)}));return t.hasAttribute("htmlCustomElementAttributes")&&tv(e,t.getAttribute("htmlCustomElementAttributes"),r),r}})}))}}function*Hv(t,e,o){if(e)if(!(Symbol.iterator in e)&&e.is("documentSelection")&&e.isCollapsed)t.schema.checkAttributeInSelection(e,o)&&(yield e);else for(const n of function(t,e,o){return!(Symbol.iterator in e)&&(e.is("node")||e.is("$text")||e.is("$textProxy"))?t.schema.checkAttribute(e,o)?[t.createRangeOn(e)]:[]:t.schema.getValidRanges(t.createSelection(e).getRanges(),o)}(t,e,o))yield*n.getItems({shallow:!0})}class jv extends Lr{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new Rr(t)),t.commands.add("outdent",new Rr(t))}}const Wv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Uv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Gv extends Lr{static get pluginName(){return"IndentUI"}init(){const t=this.editor,e=t.locale,o=t.t,n="ltr"==e.uiLanguageDirection?Wv:Uv,r="ltr"==e.uiLanguageDirection?Uv:Wv;this._defineButton("indent",o("Increase indent"),n),this._defineButton("outdent",o("Decrease indent"),r)}_defineButton(t,e,o){const n=this.editor;n.ui.componentFactory.add(t,(r=>{const i=n.commands.get(t),s=new sp(r);return s.set({label:e,icon:o,tooltip:!0}),s.bind("isEnabled").to(i,"isEnabled"),this.listenTo(s,"execute",(()=>{n.execute(t),n.editing.view.focus()})),s}))}}class Zv extends Ir{constructor(t,e){super(t),this._indentBehavior=e}refresh(){const t=_r(this.editor.model.document.selection.getSelectedBlocks());t&&this._isIndentationChangeAllowed(t)?this.isEnabled=this._indentBehavior.checkEnabled(t.getAttribute("blockIndent")):this.isEnabled=!1}execute(){const t=this.editor.model,e=this._getBlocksToChange();t.change((t=>{for(const o of e){const e=o.getAttribute("blockIndent"),n=this._indentBehavior.getNextIndent(e);n?t.setAttribute("blockIndent",n,o):t.removeAttribute("blockIndent",o)}}))}_getBlocksToChange(){const t=this.editor.model.document.selection;return Array.from(t.getSelectedBlocks()).filter((t=>this._isIndentationChangeAllowed(t)))}_isIndentationChangeAllowed(t){const e=this.editor;if(!e.model.schema.checkAttribute(t,"blockIndent"))return!1;if(!e.plugins.has("DocumentListUtils"))return!0;if(!this._indentBehavior.isForward)return!0;return!e.plugins.get("DocumentListUtils").isListItemBlock(t)}}class Jv{constructor(t){this.isForward="forward"===t.direction,this.offset=t.offset,this.unit=t.unit}checkEnabled(t){const e=parseFloat(t||"0");return this.isForward||e>0}getNextIndent(t){const e=parseFloat(t||"0");if(!(!t||t.endsWith(this.unit)))return this.isForward?this.offset+this.unit:void 0;const o=e+(this.isForward?this.offset:-this.offset);return o>0?o+this.unit:void 0}}class Yv{constructor(t){this.isForward="forward"===t.direction,this.classes=t.classes}checkEnabled(t){const e=this.classes.indexOf(t);return this.isForward?e<this.classes.length-1:e>=0}getNextIndent(t){const e=this.classes.indexOf(t),o=this.isForward?1:-1;return this.classes[e+o]}}const Xv=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"];class Qv{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach((t=>this._definitions.add(t))):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",((t,e,o)=>{if(!o.consumable.test(e.item,"attribute:linkHref"))return;if(!e.item.is("selection")&&!o.schema.isInline(e.item))return;const n=o.writer,r=n.document.selection;for(const t of this._definitions){const i=n.createAttributeElement("a",t.attributes,{priority:5});t.classes&&n.addClass(t.classes,i);for(const e in t.styles)n.setStyle(e,t.styles[e],i);n.setCustomProperty("link",!0,i),t.callback(e.attributeNewValue)?e.item.is("selection")?n.wrap(r.getFirstRange(),i):n.wrap(o.mapper.toViewRange(e.range),i):n.unwrap(o.mapper.toViewRange(e.range),i)}}),{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",((t,e,{writer:o,mapper:n})=>{const r=n.toViewElement(e.item),i=Array.from(r.getChildren()).find((t=>t.is("element","a")));for(const t of this._definitions){const n=Sr(t.attributes);if(t.callback(e.attributeNewValue)){for(const[t,e]of n)"class"===t?o.addClass(e,i):o.setAttribute(t,e,i);t.classes&&o.addClass(t.classes,i);for(const e in t.styles)o.setStyle(e,t.styles[e],i)}else{for(const[t,e]of n)"class"===t?o.removeClass(e,i):o.removeAttribute(t,i);t.classes&&o.removeClass(t.classes,i);for(const e in t.styles)o.removeStyle(e,i)}}}))}}}const t_=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,e_=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,o_=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,n_=/^((\w+:(\/{2,})?)|(\W))/i,r_="Ctrl+K";function i_(t,{writer:e}){const o=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,o),o}function s_(t){const e=String(t);return function(t){const e=t.replace(t_,"");return!!e.match(e_)}(e)?e:"#"}function l_(t,e){return!!t&&e.checkAttribute(t.name,"linkHref")}function a_(t,e){const o=(n=t,o_.test(n)?"mailto:":e);var n;const r=!!o&&!d_(t);return t&&r?o+t:t}function d_(t){return n_.test(t)}function c_(t){window.open(t,"_blank","noopener")}class h_ extends Ir{constructor(){super(...arguments),this.manualDecorators=new vr,this.automaticDecorators=new Qv}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document.selection,o=e.getSelectedElement()||_r(e.getSelectedBlocks());l_(o,t.schema)?(this.value=o.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(o,"linkHref")):(this.value=e.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref"));for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}execute(t,e={}){const o=this.editor.model,n=o.document.selection,r=[],i=[];for(const t in e)e[t]?r.push(t):i.push(t);o.change((e=>{if(n.isCollapsed){const s=n.getFirstPosition();if(n.hasAttribute("linkHref")){const l=u_(n);let a=wf(s,"linkHref",n.getAttribute("linkHref"),o);n.getAttribute("linkHref")===l&&(a=this._updateLinkContent(o,e,a,t)),e.setAttribute("linkHref",t,a),r.forEach((t=>{e.setAttribute(t,!0,a)})),i.forEach((t=>{e.removeAttribute(t,a)})),e.setSelection(e.createPositionAfter(a.end.nodeBefore))}else if(""!==t){const i=Sr(n.getAttributes());i.set("linkHref",t),r.forEach((t=>{i.set(t,!0)}));const{end:l}=o.insertContent(e.createText(t,i),s);e.setSelection(l)}["linkHref",...r,...i].forEach((t=>{e.removeSelectionAttribute(t)}))}else{const s=o.schema.getValidRanges(n.getRanges(),"linkHref"),l=[];for(const t of n.getSelectedBlocks())o.schema.checkAttribute(t,"linkHref")&&l.push(e.createRangeOn(t));const a=l.slice();for(const t of s)this._isRangeToUpdate(t,l)&&a.push(t);for(const s of a){let l=s;if(1===a.length){const r=u_(n);n.getAttribute("linkHref")===r&&(l=this._updateLinkContent(o,e,s,t),e.setSelection(e.createSelection(l)))}e.setAttribute("linkHref",t,l),r.forEach((t=>{e.setAttribute(t,!0,l)})),i.forEach((t=>{e.removeAttribute(t,l)}))}}}))}_getDecoratorStateFromModel(t){const e=this.editor.model,o=e.document.selection,n=o.getSelectedElement();return l_(n,e.schema)?n.getAttribute(t):o.getAttribute(t)}_isRangeToUpdate(t,e){for(const o of e)if(o.containsRange(t))return!1;return!0}_updateLinkContent(t,e,o,n){const r=e.createText(n,{linkHref:n});return t.insertContent(r,o)}}function u_(t){if(t.isCollapsed){const e=t.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(t.getFirstRange().getItems());if(e.length>1)return null;const o=e[0];return o.is("$text")||o.is("$textProxy")?o.data:null}}class p_ extends Ir{refresh(){const t=this.editor.model,e=t.document.selection,o=e.getSelectedElement();l_(o,t.schema)?this.isEnabled=t.schema.checkAttribute(o,"linkHref"):this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const t=this.editor,e=this.editor.model,o=e.document.selection,n=t.commands.get("link");e.change((t=>{const r=o.isCollapsed?[wf(o.getFirstPosition(),"linkHref",o.getAttribute("linkHref"),e)]:e.schema.getValidRanges(o.getRanges(),"linkHref");for(const e of r)if(t.removeAttribute("linkHref",e),n)for(const o of n.manualDecorators)t.removeAttribute(o.id,e)}))}}class m_ extends(K()){constructor({id:t,label:e,attributes:o,classes:n,styles:r,defaultValue:i}){super(),this.id=t,this.set("value",void 0),this.defaultValue=i,this.label=e,this.attributes=o,this.classes=n,this.styles=r}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var g_=o(3925),b_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(g_.Z,b_);g_.Z.locals;const f_="automatic",w_=/^(https?:)?\/\//;class x_ extends Lr{static get pluginName(){return"LinkEditing"}static get requires(){return[sf,Wb,Ew]}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:i_}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(t,e)=>i_(s_(t),e)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:t=>t.getAttribute("href")}}),t.commands.add("link",new h_(t)),t.commands.add("unlink",new p_(t));const e=function(t,e){const o={"Open in a new tab":t("Open in a new tab"),Downloadable:t("Downloadable")};return e.forEach((t=>("label"in t&&o[t.label]&&(t.label=o[t.label]),t))),e}(t.t,function(t){const e=[];if(t)for(const[o,n]of Object.entries(t)){const t=Object.assign({},n,{id:`link${Yy(o)}`});e.push(t)}return e}(t.config.get("link.decorators")));this._enableAutomaticDecorators(e.filter((t=>t.mode===f_))),this._enableManualDecorators(e.filter((t=>"manual"===t.mode)));t.plugins.get(sf).registerAttribute("linkHref"),function(t,e,o,n){const r=t.editing.view,i=new Set;r.document.registerPostFixer((r=>{const s=t.model.document.selection;let l=!1;if(s.hasAttribute(e)){const a=wf(s.getFirstPosition(),e,s.getAttribute(e),t.model),d=t.editing.mapper.toViewRange(a);for(const t of d.getItems())t.is("element",o)&&!t.hasClass(n)&&(r.addClass(n,t),i.add(t),l=!0)}return l})),t.conversion.for("editingDowncast").add((t=>{function e(){r.change((t=>{for(const e of i.values())t.removeClass(n,e),i.delete(e)}))}t.on("insert",e,{priority:"highest"}),t.on("remove",e,{priority:"highest"}),t.on("attribute",e,{priority:"highest"}),t.on("selection",e,{priority:"highest"})}))}(t,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(t){const e=this.editor,o=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&o.add({id:"linkIsExternal",mode:f_,callback:t=>!!t&&w_.test(t),attributes:{target:"_blank",rel:"noopener noreferrer"}}),o.add(t),o.length&&e.conversion.for("downcast").add(o.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,o=e.commands.get("link").manualDecorators;t.forEach((t=>{e.model.schema.extend("$text",{allowAttributes:t.id});const n=new m_(t);o.add(n),e.conversion.for("downcast").attributeToElement({model:n.id,view:(t,{writer:e,schema:o},{item:r})=>{if((r.is("selection")||o.isInline(r))&&t){const t=e.createAttributeElement("a",n.attributes,{priority:5});n.classes&&e.addClass(n.classes,t);for(const o in n.styles)e.setStyle(o,n.styles[o],t);return e.setCustomProperty("link",!0,t),t}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",...n._createPattern()},model:{key:n.id}})}))}_enableLinkOpen(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",((t,e)=>{if(!(r.isMac?e.domEvent.metaKey:e.domEvent.ctrlKey))return;let o=e.domTarget;if("a"!=o.tagName.toLowerCase()&&(o=o.closest("a")),!o)return;const n=o.getAttribute("href");n&&(t.stop(),e.preventDefault(),c_(n))}),{context:"$capture"}),this.listenTo(e,"keydown",((e,o)=>{const n=t.commands.get("link").value;!!n&&o.keyCode===hr.enter&&o.altKey&&(e.stop(),c_(n))}))}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,e=t.document.selection;this.listenTo(t,"insertContent",(()=>{const o=e.anchor.nodeBefore,n=e.anchor.nodeAfter;e.hasAttribute("linkHref")&&o&&o.hasAttribute("linkHref")&&(n&&n.hasAttribute("linkHref")||t.change((e=>{k_(e,v_(t.schema))})))}),{priority:"low"})}_enableClickingAfterLink(){const t=this.editor,e=t.model;t.editing.view.addObserver(bh);let o=!1;this.listenTo(t.editing.view.document,"mousedown",(()=>{o=!0})),this.listenTo(t.editing.view.document,"selectionChange",(()=>{if(!o)return;o=!1;const t=e.document.selection;if(!t.isCollapsed)return;if(!t.hasAttribute("linkHref"))return;const n=t.getFirstPosition(),r=wf(n,"linkHref",t.getAttribute("linkHref"),e);(n.isTouching(r.start)||n.isTouching(r.end))&&e.change((t=>{k_(t,v_(e.schema))}))}))}_enableTypingOverLink(){const t=this.editor,e=t.editing.view;let o=null,n=!1;this.listenTo(e.document,"delete",(()=>{n=!0}),{priority:"high"}),this.listenTo(t.model,"deleteContent",(()=>{const e=t.model.document.selection;e.isCollapsed||(n?n=!1:y_(t)&&function(t){const e=t.document.selection,o=e.getFirstPosition(),n=e.getLastPosition(),r=o.nodeAfter;if(!r)return!1;if(!r.is("$text"))return!1;if(!r.hasAttribute("linkHref"))return!1;const i=n.textNode||n.nodeBefore;if(r===i)return!0;return wf(o,"linkHref",r.getAttribute("linkHref"),t).containsRange(t.createRange(o,n),!0)}(t.model)&&(o=e.getAttributes()))}),{priority:"high"}),this.listenTo(t.model,"insertContent",((e,[r])=>{n=!1,y_(t)&&o&&(t.model.change((t=>{for(const[e,n]of o)t.setAttribute(e,n,r)})),o=null)}),{priority:"high"})}_handleDeleteContentAfterLink(){const t=this.editor,e=t.model,o=e.document.selection,n=t.editing.view;let r=!1,i=!1;this.listenTo(n.document,"delete",((t,e)=>{i="backward"===e.direction}),{priority:"high"}),this.listenTo(e,"deleteContent",(()=>{r=!1;const t=o.getFirstPosition(),n=o.getAttribute("linkHref");if(!n)return;const i=wf(t,"linkHref",n,e);r=i.containsPosition(t)||i.end.isEqual(t)}),{priority:"high"}),this.listenTo(e,"deleteContent",(()=>{i&&(i=!1,r||t.model.enqueueChange((t=>{k_(t,v_(e.schema))})))}),{priority:"low"})}_enableClipboardIntegration(){const t=this.editor,e=t.model,o=this.editor.config.get("link.defaultProtocol");o&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",((t,n)=>{e.change((t=>{const e=t.createRangeIn(n.content);for(const n of e.getItems())if(n.hasAttribute("linkHref")){const e=a_(n.getAttribute("linkHref"),o);t.setAttribute("linkHref",e,n)}}))}))}}function k_(t,e){t.removeSelectionAttribute("linkHref");for(const o of e)t.removeSelectionAttribute(o)}function y_(t){return t.model.change((t=>t.batch)).isTyping}function v_(t){return t.getDefinition("$text").allowAttributes.filter((t=>t.startsWith("link")))}var __=o(4874),A_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(__.Z,A_);__.Z.locals;class C_ extends Bu{constructor(t,e){super(t),this.focusTracker=new Ar,this.keystrokes=new Cr,this._focusables=new Mu;const o=t.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),pu.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),pu.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e),this.children=this._createFormChildren(e.manualDecorators),this._focusCycler=new qp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const n=["ck","ck-link-form","ck-responsive-form"];e.manualDecorators.length&&n.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:n,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce(((t,e)=>(t[e.name]=e.isOn,t)),{})}render(){super.render(),Su({view:this});[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,e=new Mp(this.locale,vm);return e.label=t("Link URL"),e}_createButton(t,e,o,n){const r=new sp(this.locale);return r.set({label:t,icon:e,tooltip:!0}),r.extendTemplate({attributes:{class:o}}),n&&r.delegate("execute").to(this,n),r}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const o of t.manualDecorators){const n=new dp(this.locale);n.set({name:o.id,label:o.label,withText:!0}),n.bind("isOn").toMany([o,t],"value",((t,e)=>void 0===e&&void 0===t?!!o.defaultValue:!!t)),n.on("execute",(()=>{o.set("value",!n.isOn)})),e.add(n)}return e}_createFormChildren(t){const e=this.createCollection();if(e.add(this.urlInputView),t.length){const t=new Bu;t.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((t=>({tag:"li",children:[t],attributes:{class:["ck","ck-list__item"]}}))),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(t)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}}var S_=o(7536),E_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(S_.Z,E_);S_.Z.locals;class M_ extends Bu{constructor(t){super(t),this.focusTracker=new Ar,this.keystrokes=new Cr,this._focusables=new Mu;const e=t.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(e("Edit link"),pu.pencil,"edit"),this.set("href",void 0),this._focusCycler=new qp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render();[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(t,e,o){const n=new sp(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n.delegate("execute").to(this,o),n}_createPreviewButton(){const t=new sp(this.locale),e=this.bindTemplate,o=this.t;return t.set({withText:!0,tooltip:o("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",(t=>t&&s_(t))),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",(t=>t||o("This link has no URL"))),t.bind("isEnabled").to(this,"href",(t=>!!t)),t.template.tag="a",t.template.eventListeners={},t}}const D_="link-ui";class T_ extends Lr{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[ib]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(gh),this._balloon=t.plugins.get(ib),this._createToolbarLinkButton(),this._enableBalloonActivators(),t.conversion.for("editingDowncast").markerToHighlight({model:D_,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:D_,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const t=this.editor,e=new M_(t.locale),o=t.commands.get("link"),n=t.commands.get("unlink");return e.bind("href").to(o,"value"),e.editButtonView.bind("isEnabled").to(o),e.unlinkButtonView.bind("isEnabled").to(n),this.listenTo(e,"edit",(()=>{this._addFormView()})),this.listenTo(e,"unlink",(()=>{t.execute("unlink"),this._hideUI()})),e.keystrokes.set("Esc",((t,e)=>{this._hideUI(),e()})),e.keystrokes.set(r_,((t,e)=>{this._addFormView(),e()})),e}_createFormView(){const t=this.editor,e=t.commands.get("link"),o=t.config.get("link.defaultProtocol"),n=new(Cu(C_))(t.locale,e);return n.urlInputView.fieldView.bind("value").to(e,"value"),n.urlInputView.bind("isEnabled").to(e,"isEnabled"),n.saveButtonView.bind("isEnabled").to(e),this.listenTo(n,"submit",(()=>{const{value:e}=n.urlInputView.fieldView.element,r=a_(e,o);t.execute("link",r,n.getDecoratorSwitchesState()),this._closeFormView()})),this.listenTo(n,"cancel",(()=>{this._closeFormView()})),n.keystrokes.set("Esc",((t,e)=>{this._closeFormView(),e()})),n}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link"),o=t.t;t.ui.componentFactory.add("link",(t=>{const n=new sp(t);return n.isEnabled=!0,n.label=o("Link"),n.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',n.keystroke=r_,n.tooltip=!0,n.isToggleable=!0,n.bind("isEnabled").to(e,"isEnabled"),n.bind("isOn").to(e,"value",(t=>!!t)),this.listenTo(n,"execute",(()=>this._showUI(!0))),n}))}_enableBalloonActivators(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",(()=>{this._getSelectedLinkElement()&&this._showUI()})),t.keystrokes.set(r_,((e,o)=>{o(),t.commands.get("link").isEnabled&&this._showUI(!0)}))}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",((t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())}),{priority:"high"}),this.editor.keystrokes.set("Esc",((t,e)=>{this._isUIVisible&&(this._hideUI(),e())})),Au({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),void 0!==t.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let o=this._getSelectedLinkElement(),n=i();const r=()=>{const t=this._getSelectedLinkElement(),e=i();o&&!t||!o&&e!==n?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),o=t,n=e};function i(){return e.selection.focus.getAncestors().reverse().find((t=>t.is("element")))}this.listenTo(t.ui,"update",r),this.listenTo(this._balloon,"change:visibleView",r)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const t=this._balloon.visibleView;return!!this.formView&&t==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=this.editor.model,o=t.document;let n;if(e.markers.has(D_)){const e=Array.from(this.editor.editing.mapper.markerNameToElements(D_)),o=t.createRange(t.createPositionBefore(e[0]),t.createPositionAfter(e[e.length-1]));n=t.domConverter.viewRangeToDom(o)}else n=()=>{const e=this._getSelectedLinkElement();return e?t.domConverter.mapViewToDom(e):t.domConverter.viewRangeToDom(o.selection.getFirstRange())};return{target:n}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection,o=e.getSelectedElement();if(e.isCollapsed||o&&zw(o))return B_(e.getFirstPosition());{const o=e.getFirstRange().getTrimmed(),n=B_(o.start),r=B_(o.end);return n&&n==r&&t.createRangeIn(n).getTrimmed().isEqual(o)?n:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change((e=>{const o=t.document.selection.getFirstRange();if(t.markers.has(D_))e.updateMarker(D_,{range:o});else if(o.start.isAtEnd){const n=o.start.getLastMatchingPosition((({item:e})=>!t.schema.isContent(e)),{boundaries:o});e.addMarker(D_,{usingOperation:!1,affectsData:!1,range:e.createRange(n,o.end)})}else e.addMarker(D_,{usingOperation:!1,affectsData:!1,range:o})}))}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(D_)&&t.change((t=>{t.removeMarker(D_)}))}}function B_(t){return t.getAncestors().find((t=>{return(e=t).is("attributeElement")&&!!e.getCustomProperty("link");var e}))||null}const L_=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class P_ extends Lr{static get requires(){return[ef]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",(()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const t=this.editor,e=new rf(t.model,(t=>{if(!function(t){return t.length>4&&" "===t[t.length-1]&&" "!==t[t.length-2]}(t))return;const e=I_(t.substr(0,t.length-1));return e?{url:e}:void 0}));e.on("matched:data",((e,o)=>{const{batch:n,range:r,url:i}=o;if(!n.isTyping)return;const s=r.end.getShiftedBy(-1),l=s.getShiftedBy(-i.length),a=t.model.createRange(l,s);this._applyAutoLink(i,a)})),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,o=t.commands.get("enter");o&&o.on("execute",(()=>{const t=e.document.selection.getFirstPosition();if(!t.parent.previousSibling)return;const o=e.createRangeIn(t.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(o)}))}_enableShiftEnterHandling(){const t=this.editor,e=t.model,o=t.commands.get("shiftEnter");o&&o.on("execute",(()=>{const t=e.document.selection.getFirstPosition(),o=e.createRange(e.createPositionAt(t.parent,0),t.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(o)}))}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:o,range:n}=nf(t,e),r=I_(o);if(r){const t=e.createRange(n.end.getShiftedBy(-r.length),n.end);this._applyAutoLink(r,t)}}_applyAutoLink(t,e){const o=this.editor.model,n=a_(t,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(t,e){return e.schema.checkAttributeInSelection(e.createSelection(t),"linkHref")}(e,o)&&d_(n)&&!function(t){const e=t.start.nodeAfter;return!!e&&e.hasAttribute("linkHref")}(e)&&this._persistAutoLink(n,e)}_persistAutoLink(t,e){const o=this.editor.model,n=this.editor.plugins.get("Delete");o.enqueueChange((r=>{r.setAttribute("linkHref",t,e),o.enqueueChange((()=>{n.requestUndoOnBackspace()}))}))}}function I_(t){const e=L_.exec(t);return e?e[2]:null}var z_=o(4330),R_={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(z_.Z,R_);z_.Z.locals;function F_(t,e){if(!t.childCount)return;const o=new fh(t.document),n=function(t,e){const o=e.createRangeIn(t),n=new oi({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),r=[];for(const t of o)if("elementStart"===t.type&&n.match(t.item)){const e=N_(t.item);r.push({element:t.item,id:e.id,order:e.order,indent:e.indent})}return r}(t,o);if(!n.length)return;let r=null,i=1;n.forEach(((t,s)=>{const l=function(t,e){if(!t)return!0;if(t.id!==e.id)return e.indent-t.indent!=1;const o=e.element.previousSibling;if(!o)return!0;return n=o,!(n.is("element","ol")||n.is("element","ul"));var n}(n[s-1],t),a=l?null:n[s-1],d=(h=t,(c=a)?h.indent-c.indent:h.indent-1);var c,h;if(l&&(r=null,i=1),!r||0!==d){const n=function(t,e){const o=new RegExp(`@list l${t.id}:level${t.indent}\\s*({[^}]*)`,"gi"),n=/mso-level-number-format:([^;]{0,100});/gi,r=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,i=o.exec(e);let s="decimal",l="ol",a=null;if(i&&i[1]){const e=n.exec(i[1]);if(e&&e[1]&&(s=e[1].trim(),l="bullet"!==s&&"image"!==s?"ol":"ul"),"bullet"===s){const e=function(t){const e=function(t){if(t.getChild(0).is("$text"))return null;for(const e of t.getChildren()){if(!e.is("element","span"))continue;const t=e.getChild(0);if(t)return t.is("$text")?t:t.getChild(0)}return null}(t);if(!e)return null;const o=e._data;if("o"===o)return"circle";if("·"===o)return"disc";if("§"===o)return"square";return null}(t.element);e&&(s=e)}else{const t=r.exec(i[1]);t&&t[1]&&(a=parseInt(t[1]))}}return{type:l,startIndex:a,style:O_(s)}}(t,e);if(r){if(t.indent>i){const t=r.getChild(r.childCount-1),e=t.getChild(t.childCount-1);r=V_(n,e,o),i+=1}else if(t.indent<i){const e=i-t.indent;r=function(t,e){const o=t.getAncestors({parentFirst:!0});let n=null,r=0;for(const t of o)if((t.is("element","ul")||t.is("element","ol"))&&r++,r===e){n=t;break}return n}(r,e),i=t.indent}}else r=V_(n,t.element,o);t.indent<=i&&(r.is("element",n.type)||(r=o.rename(n.type,r)))}const u=function(t,e){return function(t,e){const o=new oi({name:"span",styles:{"mso-list":"Ignore"}}),n=e.createRangeIn(t);for(const t of n)"elementStart"===t.type&&o.match(t.item)&&e.remove(t.item)}(t,e),e.removeStyle("text-indent",t),e.rename("li",t)}(t.element,o);o.appendChild(u,r)}))}function O_(t){if(t.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(t){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return t;default:return null}}function V_(t,e,o){const n=e.parent,r=o.createElement(t.type),i=n.getChildIndex(e)+1;return o.insertChild(i,r,n),t.style&&o.setStyle("list-style-type",t.style,r),t.startIndex&&t.startIndex>1&&o.setAttribute("start",t.startIndex,r),r}function N_(t){const e={},o=t.getStyle("mso-list");if(o){const t=o.match(/(^|\s{1,100})l(\d+)/i),n=o.match(/\s{0,100}lfo(\d+)/i),r=o.match(/\s{0,100}level(\d+)/i);t&&n&&r&&(e.id=t[2],e.order=n[1],e.indent=parseInt(r[1]))}return e}function $_(t,e){if(!t.childCount)return;const o=new fh(t.document),n=function(t,e){const o=e.createRangeIn(t),n=new oi({name:/v:(.+)/}),r=[];for(const t of o){if("elementStart"!=t.type)continue;const e=t.item,o=e.previousSibling,i=o&&o.is("element")?o.name:null;n.match(e)&&e.getAttribute("o:gfxdata")&&"v:shapetype"!==i&&r.push(t.item.getAttribute("id"))}return r}(t,o);!function(t,e,o){const n=o.createRangeIn(e),r=new oi({name:"img"}),i=[];for(const e of n)if(e.item.is("element")&&r.match(e.item)){const o=e.item,n=o.getAttribute("v:shapes")?o.getAttribute("v:shapes").split(" "):[];n.length&&n.every((e=>t.indexOf(e)>-1))?i.push(o):o.getAttribute("src")||i.push(o)}for(const t of i)o.remove(t)}(n,t,o),function(t,e,o){const n=o.createRangeIn(e),r=[];for(const e of n)if("elementStart"==e.type&&e.item.is("element","v:shape")){const o=e.item.getAttribute("id");if(t.includes(o))continue;i(e.item.parent.getChildren(),o)||r.push(e.item)}for(const t of r){const e={src:s(t)};t.hasAttribute("alt")&&(e.alt=t.getAttribute("alt"));const n=o.createElement("img",e);o.insertChild(t.index+1,n,t.parent)}function i(t,e){for(const o of t)if(o.is("element")){if("img"==o.name&&o.getAttribute("v:shapes")==e)return!0;if(i(o.getChildren(),e))return!0}return!1}function s(t){for(const e of t.getChildren())if(e.is("element")&&e.getAttribute("src"))return e.getAttribute("src")}}(n,t,o),function(t,e){const o=e.createRangeIn(t),n=new oi({name:/v:(.+)/}),r=[];for(const t of o)"elementStart"==t.type&&n.match(t.item)&&r.push(t.item);for(const t of r)e.remove(t)}(t,o);const r=function(t,e){const o=e.createRangeIn(t),n=new oi({name:"img"}),r=[];for(const t of o)t.item.is("element")&&n.match(t.item)&&t.item.getAttribute("src").startsWith("file://")&&r.push(t.item);return r}(t,o);r.length&&function(t,e,o){if(t.length===e.length)for(let n=0;n<t.length;n++){const r=`data:${e[n].type};base64,${K_(e[n].hex)}`;o.setAttribute("src",r,t[n])}}(r,function(t){if(!t)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,o=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),n=t.match(o),r=[];if(n)for(const t of n){let o=!1;t.includes("\\pngblip")?o="image/png":t.includes("\\jpegblip")&&(o="image/jpeg"),o&&r.push({hex:t.replace(e,"").replace(/[^\da-fA-F]/g,""),type:o})}return r}(e),o)}function K_(t){return btoa(t.match(/\w{2}/g).map((t=>String.fromCharCode(parseInt(t,16)))).join(""))}const q_=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,H_=/xmlns:o="urn:schemas-microsoft-com/i;class j_{constructor(t){this.document=t}isActive(t){return q_.test(t)||H_.test(t)}execute(t){const{body:e,stylesString:o}=t._parsedData;F_(e,o),$_(e,t.dataTransfer.getData("text/rtf")),function(t){const e=[],o=new fh(t.document);for(const{item:n}of o.createRangeIn(t))if(n.is("element")){for(const t of n.getClassNames())/\bmso/gi.exec(t)&&o.removeClass(t,n);for(const t of n.getStyleNames())/\bmso/gi.exec(t)&&o.removeStyle(t,n);n.is("element","w:sdt")&&e.push(n)}for(const t of e){const e=t.parent,n=e.getChildIndex(t);o.insertChild(n,t.getChildren(),e),o.remove(t)}}(e),t.content=e}}function W_(t,e,o,{blockElements:n,inlineObjectElements:r}){let i=o.createPositionAt(t,"forward"==e?"after":"before");return i=i.getLastMatchingPosition((({item:t})=>t.is("element")&&!n.includes(t.name)&&!r.includes(t.name)),{direction:e}),"forward"==e?i.nodeAfter:i.nodeBefore}function U_(t,e){return!!t&&t.is("element")&&e.includes(t.name)}const G_=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Z_{constructor(t){this.document=t}isActive(t){return G_.test(t)}execute(t){const e=new fh(this.document),{body:o}=t._parsedData;!function(t,e){for(const o of t.getChildren())if(o.is("element","b")&&"normal"===o.getStyle("font-weight")){const n=t.getChildIndex(o);e.remove(o),e.insertChild(n,o.getChildren(),t)}}(o,e),function(t,e){for(const o of e.createRangeIn(t)){const t=o.item;if(t.is("element","li")){const o=t.getChild(0);o&&o.is("element","p")&&e.unwrapElement(o)}}}(o,e),function(t,e){const o=new vs(e.document.stylesProcessor),n=new pl(o,{renderingMode:"data"}),r=n.blockElements,i=n.inlineObjectElements,s=[];for(const o of e.createRangeIn(t)){const t=o.item;if(t.is("element","br")){const o=W_(t,"forward",e,{blockElements:r,inlineObjectElements:i}),n=W_(t,"backward",e,{blockElements:r,inlineObjectElements:i}),l=U_(o,r);(U_(n,r)||l)&&s.push(t)}}for(const t of s)t.hasClass("Apple-interchange-newline")?e.remove(t):e.replace(t,e.createElement("p"))}(o,e),t.content=o}}const J_=/<google-sheets-html-origin/i;class Y_{constructor(t){this.document=t}isActive(t){return J_.test(t)}execute(t){const e=new fh(this.document),{body:o}=t._parsedData;!function(t,e){for(const o of t.getChildren())if(o.is("element","google-sheets-html-origin")){const n=t.getChildIndex(o);e.remove(o),e.insertChild(n,o.getChildren(),t)}}(o,e),function(t,e){for(const o of t.getChildren())o.is("element","table")&&o.hasAttribute("xmlns")&&e.removeAttribute("xmlns",o)}(o,e),function(t,e){for(const o of t.getChildren())o.is("element","table")&&"0px"===o.getStyle("width")&&e.removeStyle("width",o)}(o,e),function(t,e){for(const o of Array.from(t.getChildren()))o.is("element","style")&&e.remove(o)}(o,e),t.content=o}}function X_(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((t,e)=>1===e.length?" ":Array(e.length+1).join("  ").substr(0,e.length)))}function Q_(t,e){const o=new DOMParser,n=function(t){return X_(X_(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(t){const e="</body>",o="</html>",n=t.indexOf(e);if(n<0)return t;const r=t.indexOf(o,n+e.length);return t.substring(0,n+e.length)+(r>=0?t.substring(r):"")}(t=t.replace(/<!--\[if gte vml 1]>/g,""))),r=o.parseFromString(n,"text/html");!function(t){t.querySelectorAll("span[style*=spacerun]").forEach((t=>{const e=t,o=e.innerText.length||0;e.innerText=Array(o+1).join("  ").substr(0,o)}))}(r);const i=r.body.innerHTML,s=function(t,e){const o=new vs(e),n=new pl(o,{renderingMode:"data"}),r=t.createDocumentFragment(),i=t.body.childNodes;for(;i.length>0;)r.appendChild(i[0]);return n.domToView(r,{skipComments:!0})}(r,e),l=function(t){const e=[],o=[],n=Array.from(t.getElementsByTagName("style"));for(const t of n)t.sheet&&t.sheet.cssRules&&t.sheet.cssRules.length&&(e.push(t.sheet),o.push(t.innerHTML));return{styles:e,stylesString:o.join(" ")}}(r);return{body:s,bodyString:i,styles:l.styles,stylesString:l.stylesString}}const tA="removeFormat";class eA extends Lr{static get pluginName(){return"RemoveFormatUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(tA,(o=>{const n=t.commands.get(tA),r=new sp(o);return r.set({label:e("Remove Format"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>',tooltip:!0}),r.bind("isOn","isEnabled").to(n,"value","isEnabled"),this.listenTo(r,"execute",(()=>{t.execute(tA),t.editing.view.focus()})),r}))}}class oA extends Ir{refresh(){const t=this.editor.model;this.isEnabled=!!_r(this._getFormattingItems(t.document.selection,t.schema))}execute(){const t=this.editor.model,e=t.schema;t.change((o=>{for(const n of this._getFormattingItems(t.document.selection,e))if(n.is("selection"))for(const t of this._getFormattingAttributes(n,e))o.removeSelectionAttribute(t);else{const t=o.createRangeOn(n);for(const r of this._getFormattingAttributes(n,e))o.removeAttribute(r,t)}}))}*_getFormattingItems(t,e){const o=t=>!!_r(this._getFormattingAttributes(t,e));for(const n of t.getRanges())for(const t of n.getItems())!e.isBlock(t)&&o(t)&&(yield t);for(const e of t.getSelectedBlocks())o(e)&&(yield e);o(t)&&(yield t)}*_getFormattingAttributes(t,e){for(const[o]of t.getAttributes()){const t=e.getAttributeProperties(o);t&&t.isFormatting&&(yield o)}}}class nA extends Lr{static get pluginName(){return"RemoveFormatEditing"}init(){const t=this.editor;t.commands.add("removeFormat",new oA(t))}}class rA extends Yg{constructor(t,e){super(t);const o=t.t;this.set("class","ck-special-characters-navigation"),this.groupDropdownView=this._createGroupDropdown(e),this.groupDropdownView.panelPosition="rtl"===t.uiLanguageDirection?"se":"sw",this.label=o("Special characters"),this.children.add(this.groupDropdownView)}get currentGroupName(){return this.groupDropdownView.value}focus(){this.groupDropdownView.focus()}_createGroupDropdown(t){const e=this.locale,o=e.t,n=gm(e),r=this._getCharacterGroupListItemDefinitions(n,t),i=o("Character categories");return n.set("value",r.first.model.name),n.buttonView.bind("label").to(n,"value",(e=>t.get(e))),n.buttonView.set({isOn:!1,withText:!0,tooltip:i,class:["ck-dropdown__button_label-width_auto"],ariaLabel:i,ariaLabelledBy:void 0}),n.on("execute",(t=>{n.value=t.source.name})),n.delegate("execute").to(this),wm(n,r,{ariaLabel:i,role:"menu"}),n}_getCharacterGroupListItemDefinitions(t,e){const o=new vr;for(const[n,r]of e){const e=new Xg({name:n,label:r,withText:!0,role:"menuitemradio"});e.bind("isOn").to(t,"value",(t=>t===e.name)),o.add({type:"button",model:e})}return o}}var iA=o(1550),sA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(iA.Z,sA);iA.Z.locals;class lA extends Bu{constructor(t){super(t),this.tiles=this.createCollection(),this.setTemplate({tag:"div",children:[{tag:"div",attributes:{class:["ck","ck-character-grid__tiles"]},children:this.tiles}],attributes:{class:["ck","ck-character-grid"]}}),this.focusTracker=new Ar,this.keystrokes=new Cr,Eu({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.tiles,numberOfColumns:()=>Tn.window.getComputedStyle(this.element.firstChild).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}createTile(t,e){const o=new sp(this.locale);return o.set({label:t,withText:!0,class:"ck-character-grid__tile"}),o.extendTemplate({attributes:{title:e},on:{mouseover:o.bindTemplate.to("mouseover"),focus:o.bindTemplate.to("focus")}}),o.on("mouseover",(()=>{this.fire("tileHover",{name:e,character:t})})),o.on("focus",(()=>{this.fire("tileFocus",{name:e,character:t})})),o.on("execute",(()=>{this.fire("execute",{name:e,character:t})})),o}render(){super.render();for(const t of this.tiles)this.focusTracker.add(t.element);this.tiles.on("change",((t,{added:e,removed:o})=>{if(e.length>0)for(const t of e)this.focusTracker.add(t.element);if(o.length>0)for(const t of o)this.focusTracker.remove(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.keystrokes.destroy()}focus(){this.tiles.first.focus()}}var aA=o(2234),dA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(aA.Z,dA);aA.Z.locals;class cA extends Bu{constructor(t){super(t);const e=this.bindTemplate;this.set("character",null),this.set("name",null),this.bind("code").to(this,"character",hA),this.setTemplate({tag:"div",children:[{tag:"span",attributes:{class:["ck-character-info__name"]},children:[{text:e.to("name",(t=>t||"​"))}]},{tag:"span",attributes:{class:["ck-character-info__code"]},children:[{text:e.to("code")}]}],attributes:{class:["ck","ck-character-info"]}})}}function hA(t){if(null===t)return"";return"U+"+("0000"+t.codePointAt(0).toString(16)).slice(-4)}class uA extends Bu{constructor(t,e,o,n){super(t),this.navigationView=e,this.gridView=o,this.infoView=n,this.items=this.createCollection(),this.focusTracker=new Ar,this.keystrokes=new Cr,this._focusCycler=new qp({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",children:[this.navigationView,this.gridView,this.infoView],attributes:{tabindex:"-1"}}),this.items.add(this.navigationView.groupDropdownView.buttonView),this.items.add(this.gridView)}render(){super.render(),this.focusTracker.add(this.navigationView.groupDropdownView.buttonView.element),this.focusTracker.add(this.gridView.element),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.navigationView.focus()}}var pA=o(2538),mA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(pA.Z,mA);pA.Z.locals;const gA="All";class bA extends Lr{static get pluginName(){return"SpecialCharactersArrows"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Arrows",[{title:e("leftwards simple arrow"),character:"←"},{title:e("rightwards simple arrow"),character:"→"},{title:e("upwards simple arrow"),character:"↑"},{title:e("downwards simple arrow"),character:"↓"},{title:e("leftwards double arrow"),character:"⇐"},{title:e("rightwards double arrow"),character:"⇒"},{title:e("upwards double arrow"),character:"⇑"},{title:e("downwards double arrow"),character:"⇓"},{title:e("leftwards dashed arrow"),character:"⇠"},{title:e("rightwards dashed arrow"),character:"⇢"},{title:e("upwards dashed arrow"),character:"⇡"},{title:e("downwards dashed arrow"),character:"⇣"},{title:e("leftwards arrow to bar"),character:"⇤"},{title:e("rightwards arrow to bar"),character:"⇥"},{title:e("upwards arrow to bar"),character:"⤒"},{title:e("downwards arrow to bar"),character:"⤓"},{title:e("up down arrow with base"),character:"↨"},{title:e("back with leftwards arrow above"),character:"🔙"},{title:e("end with leftwards arrow above"),character:"🔚"},{title:e("on with exclamation mark with left right arrow above"),character:"🔛"},{title:e("soon with rightwards arrow above"),character:"🔜"},{title:e("top with upwards arrow above"),character:"🔝"}],{label:e("Arrows")})}}class fA extends Lr{static get pluginName(){return"SpecialCharactersText"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Text",[{character:"‹",title:e("Single left-pointing angle quotation mark")},{character:"›",title:e("Single right-pointing angle quotation mark")},{character:"«",title:e("Left-pointing double angle quotation mark")},{character:"»",title:e("Right-pointing double angle quotation mark")},{character:"‘",title:e("Left single quotation mark")},{character:"’",title:e("Right single quotation mark")},{character:"“",title:e("Left double quotation mark")},{character:"”",title:e("Right double quotation mark")},{character:"‚",title:e("Single low-9 quotation mark")},{character:"„",title:e("Double low-9 quotation mark")},{character:"¡",title:e("Inverted exclamation mark")},{character:"¿",title:e("Inverted question mark")},{character:"‥",title:e("Two dot leader")},{character:"…",title:e("Horizontal ellipsis")},{character:"‡",title:e("Double dagger")},{character:"‰",title:e("Per mille sign")},{character:"‱",title:e("Per ten thousand sign")},{character:"‼",title:e("Double exclamation mark")},{character:"⁈",title:e("Question exclamation mark")},{character:"⁉",title:e("Exclamation question mark")},{character:"⁇",title:e("Double question mark")},{character:"©",title:e("Copyright sign")},{character:"®",title:e("Registered sign")},{character:"™",title:e("Trade mark sign")},{character:"§",title:e("Section sign")},{character:"¶",title:e("Paragraph sign")},{character:"⁋",title:e("Reversed paragraph sign")}],{label:e("Text")})}}class wA extends Lr{static get pluginName(){return"SpecialCharactersMathematical"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Mathematical",[{character:"<",title:e("Less-than sign")},{character:">",title:e("Greater-than sign")},{character:"≤",title:e("Less-than or equal to")},{character:"≥",title:e("Greater-than or equal to")},{character:"–",title:e("En dash")},{character:"—",title:e("Em dash")},{character:"¯",title:e("Macron")},{character:"‾",title:e("Overline")},{character:"°",title:e("Degree sign")},{character:"−",title:e("Minus sign")},{character:"±",title:e("Plus-minus sign")},{character:"÷",title:e("Division sign")},{character:"⁄",title:e("Fraction slash")},{character:"×",title:e("Multiplication sign")},{character:"ƒ",title:e("Latin small letter f with hook")},{character:"∫",title:e("Integral")},{character:"∑",title:e("N-ary summation")},{character:"∞",title:e("Infinity")},{character:"√",title:e("Square root")},{character:"∼",title:e("Tilde operator")},{character:"≅",title:e("Approximately equal to")},{character:"≈",title:e("Almost equal to")},{character:"≠",title:e("Not equal to")},{character:"≡",title:e("Identical to")},{character:"∈",title:e("Element of")},{character:"∉",title:e("Not an element of")},{character:"∋",title:e("Contains as member")},{character:"∏",title:e("N-ary product")},{character:"∧",title:e("Logical and")},{character:"∨",title:e("Logical or")},{character:"¬",title:e("Not sign")},{character:"∩",title:e("Intersection")},{character:"∪",title:e("Union")},{character:"∂",title:e("Partial differential")},{character:"∀",title:e("For all")},{character:"∃",title:e("There exists")},{character:"∅",title:e("Empty set")},{character:"∇",title:e("Nabla")},{character:"∗",title:e("Asterisk operator")},{character:"∝",title:e("Proportional to")},{character:"∠",title:e("Angle")},{character:"¼",title:e("Vulgar fraction one quarter")},{character:"½",title:e("Vulgar fraction one half")},{character:"¾",title:e("Vulgar fraction three quarters")}],{label:e("Mathematical")})}}class xA extends Lr{static get pluginName(){return"SpecialCharactersLatin"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Latin",[{character:"Ā",title:e("Latin capital letter a with macron")},{character:"ā",title:e("Latin small letter a with macron")},{character:"Ă",title:e("Latin capital letter a with breve")},{character:"ă",title:e("Latin small letter a with breve")},{character:"Ą",title:e("Latin capital letter a with ogonek")},{character:"ą",title:e("Latin small letter a with ogonek")},{character:"Ć",title:e("Latin capital letter c with acute")},{character:"ć",title:e("Latin small letter c with acute")},{character:"Ĉ",title:e("Latin capital letter c with circumflex")},{character:"ĉ",title:e("Latin small letter c with circumflex")},{character:"Ċ",title:e("Latin capital letter c with dot above")},{character:"ċ",title:e("Latin small letter c with dot above")},{character:"Č",title:e("Latin capital letter c with caron")},{character:"č",title:e("Latin small letter c with caron")},{character:"Ď",title:e("Latin capital letter d with caron")},{character:"ď",title:e("Latin small letter d with caron")},{character:"Đ",title:e("Latin capital letter d with stroke")},{character:"đ",title:e("Latin small letter d with stroke")},{character:"Ē",title:e("Latin capital letter e with macron")},{character:"ē",title:e("Latin small letter e with macron")},{character:"Ĕ",title:e("Latin capital letter e with breve")},{character:"ĕ",title:e("Latin small letter e with breve")},{character:"Ė",title:e("Latin capital letter e with dot above")},{character:"ė",title:e("Latin small letter e with dot above")},{character:"Ę",title:e("Latin capital letter e with ogonek")},{character:"ę",title:e("Latin small letter e with ogonek")},{character:"Ě",title:e("Latin capital letter e with caron")},{character:"ě",title:e("Latin small letter e with caron")},{character:"Ĝ",title:e("Latin capital letter g with circumflex")},{character:"ĝ",title:e("Latin small letter g with circumflex")},{character:"Ğ",title:e("Latin capital letter g with breve")},{character:"ğ",title:e("Latin small letter g with breve")},{character:"Ġ",title:e("Latin capital letter g with dot above")},{character:"ġ",title:e("Latin small letter g with dot above")},{character:"Ģ",title:e("Latin capital letter g with cedilla")},{character:"ģ",title:e("Latin small letter g with cedilla")},{character:"Ĥ",title:e("Latin capital letter h with circumflex")},{character:"ĥ",title:e("Latin small letter h with circumflex")},{character:"Ħ",title:e("Latin capital letter h with stroke")},{character:"ħ",title:e("Latin small letter h with stroke")},{character:"Ĩ",title:e("Latin capital letter i with tilde")},{character:"ĩ",title:e("Latin small letter i with tilde")},{character:"Ī",title:e("Latin capital letter i with macron")},{character:"ī",title:e("Latin small letter i with macron")},{character:"Ĭ",title:e("Latin capital letter i with breve")},{character:"ĭ",title:e("Latin small letter i with breve")},{character:"Į",title:e("Latin capital letter i with ogonek")},{character:"į",title:e("Latin small letter i with ogonek")},{character:"İ",title:e("Latin capital letter i with dot above")},{character:"ı",title:e("Latin small letter dotless i")},{character:"Ĳ",title:e("Latin capital ligature ij")},{character:"ĳ",title:e("Latin small ligature ij")},{character:"Ĵ",title:e("Latin capital letter j with circumflex")},{character:"ĵ",title:e("Latin small letter j with circumflex")},{character:"Ķ",title:e("Latin capital letter k with cedilla")},{character:"ķ",title:e("Latin small letter k with cedilla")},{character:"ĸ",title:e("Latin small letter kra")},{character:"Ĺ",title:e("Latin capital letter l with acute")},{character:"ĺ",title:e("Latin small letter l with acute")},{character:"Ļ",title:e("Latin capital letter l with cedilla")},{character:"ļ",title:e("Latin small letter l with cedilla")},{character:"Ľ",title:e("Latin capital letter l with caron")},{character:"ľ",title:e("Latin small letter l with caron")},{character:"Ŀ",title:e("Latin capital letter l with middle dot")},{character:"ŀ",title:e("Latin small letter l with middle dot")},{character:"Ł",title:e("Latin capital letter l with stroke")},{character:"ł",title:e("Latin small letter l with stroke")},{character:"Ń",title:e("Latin capital letter n with acute")},{character:"ń",title:e("Latin small letter n with acute")},{character:"Ņ",title:e("Latin capital letter n with cedilla")},{character:"ņ",title:e("Latin small letter n with cedilla")},{character:"Ň",title:e("Latin capital letter n with caron")},{character:"ň",title:e("Latin small letter n with caron")},{character:"ŉ",title:e("Latin small letter n preceded by apostrophe")},{character:"Ŋ",title:e("Latin capital letter eng")},{character:"ŋ",title:e("Latin small letter eng")},{character:"Ō",title:e("Latin capital letter o with macron")},{character:"ō",title:e("Latin small letter o with macron")},{character:"Ŏ",title:e("Latin capital letter o with breve")},{character:"ŏ",title:e("Latin small letter o with breve")},{character:"Ő",title:e("Latin capital letter o with double acute")},{character:"ő",title:e("Latin small letter o with double acute")},{character:"Œ",title:e("Latin capital ligature oe")},{character:"œ",title:e("Latin small ligature oe")},{character:"Ŕ",title:e("Latin capital letter r with acute")},{character:"ŕ",title:e("Latin small letter r with acute")},{character:"Ŗ",title:e("Latin capital letter r with cedilla")},{character:"ŗ",title:e("Latin small letter r with cedilla")},{character:"Ř",title:e("Latin capital letter r with caron")},{character:"ř",title:e("Latin small letter r with caron")},{character:"Ś",title:e("Latin capital letter s with acute")},{character:"ś",title:e("Latin small letter s with acute")},{character:"Ŝ",title:e("Latin capital letter s with circumflex")},{character:"ŝ",title:e("Latin small letter s with circumflex")},{character:"Ş",title:e("Latin capital letter s with cedilla")},{character:"ş",title:e("Latin small letter s with cedilla")},{character:"Š",title:e("Latin capital letter s with caron")},{character:"š",title:e("Latin small letter s with caron")},{character:"Ţ",title:e("Latin capital letter t with cedilla")},{character:"ţ",title:e("Latin small letter t with cedilla")},{character:"Ť",title:e("Latin capital letter t with caron")},{character:"ť",title:e("Latin small letter t with caron")},{character:"Ŧ",title:e("Latin capital letter t with stroke")},{character:"ŧ",title:e("Latin small letter t with stroke")},{character:"Ũ",title:e("Latin capital letter u with tilde")},{character:"ũ",title:e("Latin small letter u with tilde")},{character:"Ū",title:e("Latin capital letter u with macron")},{character:"ū",title:e("Latin small letter u with macron")},{character:"Ŭ",title:e("Latin capital letter u with breve")},{character:"ŭ",title:e("Latin small letter u with breve")},{character:"Ů",title:e("Latin capital letter u with ring above")},{character:"ů",title:e("Latin small letter u with ring above")},{character:"Ű",title:e("Latin capital letter u with double acute")},{character:"ű",title:e("Latin small letter u with double acute")},{character:"Ų",title:e("Latin capital letter u with ogonek")},{character:"ų",title:e("Latin small letter u with ogonek")},{character:"Ŵ",title:e("Latin capital letter w with circumflex")},{character:"ŵ",title:e("Latin small letter w with circumflex")},{character:"Ŷ",title:e("Latin capital letter y with circumflex")},{character:"ŷ",title:e("Latin small letter y with circumflex")},{character:"Ÿ",title:e("Latin capital letter y with diaeresis")},{character:"Ź",title:e("Latin capital letter z with acute")},{character:"ź",title:e("Latin small letter z with acute")},{character:"Ż",title:e("Latin capital letter z with dot above")},{character:"ż",title:e("Latin small letter z with dot above")},{character:"Ž",title:e("Latin capital letter z with caron")},{character:"ž",title:e("Latin small letter z with caron")},{character:"ſ",title:e("Latin small letter long s")}],{label:e("Latin")})}}class kA extends Lr{static get pluginName(){return"SpecialCharactersCurrency"}init(){const t=this.editor,e=t.t;t.plugins.get("SpecialCharacters").addItems("Currency",[{character:"$",title:e("Dollar sign")},{character:"€",title:e("Euro sign")},{character:"¥",title:e("Yen sign")},{character:"£",title:e("Pound sign")},{character:"¢",title:e("Cent sign")},{character:"₠",title:e("Euro-currency sign")},{character:"₡",title:e("Colon sign")},{character:"₢",title:e("Cruzeiro sign")},{character:"₣",title:e("French franc sign")},{character:"₤",title:e("Lira sign")},{character:"¤",title:e("Currency sign")},{character:"₿",title:e("Bitcoin sign")},{character:"₥",title:e("Mill sign")},{character:"₦",title:e("Naira sign")},{character:"₧",title:e("Peseta sign")},{character:"₨",title:e("Rupee sign")},{character:"₩",title:e("Won sign")},{character:"₪",title:e("New sheqel sign")},{character:"₫",title:e("Dong sign")},{character:"₭",title:e("Kip sign")},{character:"₮",title:e("Tugrik sign")},{character:"₯",title:e("Drachma sign")},{character:"₰",title:e("German penny sign")},{character:"₱",title:e("Peso sign")},{character:"₲",title:e("Guarani sign")},{character:"₳",title:e("Austral sign")},{character:"₴",title:e("Hryvnia sign")},{character:"₵",title:e("Cedi sign")},{character:"₶",title:e("Livre tournois sign")},{character:"₷",title:e("Spesmilo sign")},{character:"₸",title:e("Tenge sign")},{character:"₹",title:e("Indian rupee sign")},{character:"₺",title:e("Turkish lira sign")},{character:"₻",title:e("Nordic mark sign")},{character:"₼",title:e("Manat sign")},{character:"₽",title:e("Ruble sign")}],{label:e("Currency")})}}class yA extends(K()){constructor(){super();const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;return this.total=t.size,new Promise(((o,n)=>{e.onload=()=>{const t=e.result;this._data=t,o(t)},e.onerror=()=>{n("error")},e.onabort=()=>{n("aborted")},this._reader.readAsDataURL(t)}))}abort(){this._reader.abort()}}class vA extends Lr{constructor(){super(...arguments),this.loaders=new vr,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[du]}init(){this.loaders.on("change",(()=>this._updatePendingAction())),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((t,e)=>e?t/e*100:0))}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return w("filerepository-no-upload-adapter"),null;const e=new _A(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then((t=>{this._loadersMap.set(t,e)})).catch((()=>{})),e.on("change:uploaded",(()=>{let t=0;for(const e of this.loaders)t+=e.uploaded;this.uploaded=t})),e.on("change:uploadTotal",(()=>{let t=0;for(const e of this.loaders)e.uploadTotal&&(t+=e.uploadTotal);this.uploadTotal=t})),e}destroyLoader(t){const e=t instanceof _A?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach(((t,o)=>{t===e&&this._loadersMap.delete(o)}))}_updatePendingAction(){const t=this.editor.plugins.get(du);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,o=t=>`${e("Upload in progress")} ${parseInt(t)}%.`;this._pendingAction=t.add(o(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",o)}}else t.remove(this._pendingAction),this._pendingAction=null}}class _A extends(K()){constructor(t,e){super(),this.id=p(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new yA,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((t,e)=>e?t/e*100:0)),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((t=>this._filePromiseWrapper?t:null)):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new f("filerepository-read-wrong-status",this);return this.status="reading",this.file.then((t=>this._reader.read(t))).then((t=>{if("reading"!==this.status)throw this.status;return this.status="idle",t})).catch((t=>{if("aborted"===t)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:t}))}upload(){if("idle"!=this.status)throw new f("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then((()=>this._adapter.upload())).then((t=>(this.uploadResponse=t,this.status="idle",t))).catch((t=>{if("aborted"===this.status)throw"aborted";throw this.status="error",t}))}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((()=>{})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise(((o,n)=>{e.rejecter=n,e.isFulfilled=!1,t.then((t=>{e.isFulfilled=!0,o(t)})).catch((t=>{e.isFulfilled=!0,n(t)}))})),e}}class AA{constructor(t){this.loader=t}upload(){return new Promise(((t,e)=>{const o=this.reader=new window.FileReader;o.addEventListener("load",(()=>{t({default:o.result})})),o.addEventListener("error",(t=>{e(t)})),o.addEventListener("abort",(()=>{e()})),this.loader.file.then((t=>{o.readAsDataURL(t)}))}))}abort(){this.reader.abort()}}function CA(t){if(t.is("$text")||t.is("$textProxy"))return t.data;const e=t;let o="",n=null;for(const t of e.getChildren()){const e=CA(t);n&&n.is("element")&&(o+="\n"),o+=e,n=t}return o}var SA=Object.defineProperty,EA=Object.defineProperties,MA=Object.getOwnPropertyDescriptors,DA=Object.getOwnPropertySymbols,TA=Object.prototype.hasOwnProperty,BA=Object.prototype.propertyIsEnumerable,LA=(t,e,o)=>e in t?SA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,PA=(t,e)=>{for(var o in e||(e={}))TA.call(e,o)&&LA(t,o,e[o]);if(DA)for(var o of DA(e))BA.call(e,o)&&LA(t,o,e[o]);return t},IA=(t,e)=>EA(t,MA(e)),zA=t=>"symbol"==typeof t?t:t+"",RA=(t,e)=>{var o={};for(var n in t)TA.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(null!=t&&DA)for(var n of DA(t))e.indexOf(n)<0&&BA.call(t,n)&&(o[n]=t[n]);return o};function FA(t){return Array.isArray(t)}function OA(){return"window"in globalThis&&"document"in globalThis}function VA(){return"matchMedia"in window?window.matchMedia("(pointer: coarse)").matches:"ontouchstart"in window||navigator.maxTouchPoints>0}function NA(){return"function"==typeof navigator.vibrate}function $A(){var t,e;if(!OA())return"other";let o=null!=(e=null==(t=navigator.userAgentData)?void 0:t.platform)?e:navigator.platform;return/^mac/i.test(o)?5===navigator.maxTouchPoints?"ios":"macos":/^win/i.test(o)?"windows":/android/i.test(navigator.userAgent)?"android":/iphone|ipod|ipad/i.test(navigator.userAgent)?"ios":/\bcros\b/i.test(navigator.userAgent)?"chromeos":"other"}function KA(){return HTMLElement.prototype.hasOwnProperty("popover")}var qA={strings:{en:{"keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.cut to clipboard":"Cut to Clipboard","tooltip.paste from clipboard":"Paste from Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.menu":"Menu","tooltip.undo":"Undo","menu.borders":"Borders","menu.insert matrix":"Insert Matrix","menu.array.add row above":"Add Row Before","menu.array.add row below":"Add Row After","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","menu.insert":"Insert","menu.insert.abs":"Absolute Value","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"n<sup>th</sup> Root","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logarithm base a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Calculus","menu.insert.derivative":"Derivative","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"n<sup>th</sup> derivative","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Integral","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Sum","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Product","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Complex Numbers","menu.insert.modulus":"Modulus","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argument","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Real Part","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Imaginary Part","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Conjugate","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Blackboard","tooltip.bold":"Bold","tooltip.italic":"Italic","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligraphic","tooltip.typewriter":"Typewriter","tooltip.roman-upright":"Roman Upright","tooltip.row-by-col":"%@ × %@","menu.font-style":"Font Style","menu.accent":"Accent","menu.decoration":"Decoration","menu.color":"Color","menu.background-color":"Background","menu.evaluate":"Evaluate","menu.simplify":"Simplify","menu.solve":"Solve","menu.solve-for":"Solve for %@","menu.cut":"Cut","menu.copy":"Copy","menu.copy-as-latex":"Copy as LaTeX","menu.copy-as-ascii-math":"Copy as ASCII Math","menu.copy-as-mathml":"Copy as MathML","menu.paste":"Paste","menu.select-all":"Select All","color.red":"Red","color.orange":"Orange","color.yellow":"Yellow","color.lime":"Lime","color.green":"Green","color.teal":"Teal","color.cyan":"Cyan","color.blue":"Blue","color.indigo":"Indigo","color.purple":"Purple","color.magenta":"Magenta","color.black":"Black","color.dark-grey":"Dark Grey","color.grey":"Grey","color.light-grey":"Light Grey","color.white":"White"},ar:{"keyboard.tooltip.symbols":"حرف او رمز","keyboard.tooltip.greek":"حروف يونانية","keyboard.tooltip.numeric":"الرقمية","keyboard.tooltip.alphabetic":"رموز الاحرف الرومانية","tooltip.copy to clipboard":"نسخ إلى الحافظة","tooltip.cut to clipboard":"قص إلى الحافظة","tooltip.paste from clipboard":"لصق من الحافظة","tooltip.redo":"الإعادة","tooltip.toggle virtual keyboard":"تبديل لوحة المفاتيح الإفتراضية","tooltip.undo":"إلغاء","menu.insert matrix":"أدخل المصفوفة","menu.borders":"محددات المصفوفة","menu.array.add row above":"أضف صفًا بعد ذلك","menu.array.add row below":"أضف الصف قبل","menu.array.add column after":"أضف العمود بعد ذلك","menu.array.add column before":"أضف العمود قبل","menu.array.delete row":"احذف صف","menu.array.delete rows":"حذف الصفوف المحددة","menu.array.delete column":"حذف العمود","menu.array.delete columns":"حذف الأعمدة المحددة","menu.mode":"وضع","menu.mode-math":"رياضيات","menu.mode-text":"نص","menu.mode-latex":"لاتكس","tooltip.blackboard":"سبورة","tooltip.bold":"عريض","tooltip.italic":"مائل","tooltip.fraktur":"فراكتور","tooltip.script":"سكريبت","tooltip.caligraphic":"كاليجرافيك","tooltip.typewriter":"آلة كاتبة","tooltip.roman-upright":"روماني مستقيم","tooltip.row-by-col":"%@ × %@","menu.font-style":"نمط الخط","menu.accent":"تشكيل","menu.decoration":"زخرفة","menu.color":"لون","menu.background-color":"الخلفية","menu.evaluate":"تقييم","menu.simplify":"تبسيط","menu.solve":"حل","menu.solve-for":"حل لـ %@","menu.cut":"قص","menu.copy":"نسخ","menu.copy-as-latex":"نسخ كـ LaTeX","menu.copy-as-ascii-math":"نسخ كـ ASCII Math","menu.copy-as-mathml":"نسخ كـ MathML","menu.paste":"لصق","menu.select-all":"تحديد الكل","color.red":"أحمر","color.orange":"برتقالي","color.yellow":"أصفر","color.lime":"ليموني","color.green":"أخضر","color.teal":"سماوي","color.cyan":"سماوي فاتح","color.blue":"أزرق","color.indigo":"نيلي","color.purple":"بنفسجي","color.magenta":"أرجواني","color.black":"أسود","color.dark-grey":"رمادي غامق","color.grey":"رمادي","color.light-grey":"رمادي فاتح","color.white":"أبيض"},de:{"keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.alphabetic":"Römische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfügen","menu.borders":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufügen nach","menu.array.add row below":"Zeile hinzufügen vor","menu.array.add column after":"Spalte hinzufügen nach","menu.array.add column before":"Spalte hinzufügen vor","menu.array.delete row":"Zeile löschen","menu.array.delete rows":"Ausgewählte Zeilen löschen","menu.array.delete column":"Spalte löschen","menu.array.delete columns":"Ausgewählte Spalten löschen","menu.mode":"Modus","menu.mode-math":"Mathematik","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tafel","tooltip.bold":"Fett","tooltip.italic":"Kursiv","tooltip.fraktur":"Fraktur","tooltip.script":"Skript","tooltip.caligraphic":"Kalligraphie","tooltip.typewriter":"Schreibmaschine","tooltip.roman-upright":"Römisch aufrecht","tooltip.row-by-col":"%@ × %@","menu.font-style":"Schriftstil","menu.accent":"Akzent","menu.decoration":"Dekoration","menu.color":"Farbe","menu.background-color":"Hintergrund","menu.evaluate":"Auswerten","menu.simplify":"Vereinfachen","menu.solve":"Lösen","menu.solve-for":"Lösen für %@","menu.cut":"Ausschneiden","menu.copy":"Kopieren","menu.copy-as-latex":"Als LaTeX kopieren","menu.copy-as-ascii-math":"Als ASCII Math kopieren","menu.copy-as-mathml":"Als MathML kopieren","menu.paste":"Einfügen","menu.select-all":"Alles auswählen","color.red":"Rot","color.orange":"Orange","color.yellow":"Gelb","color.lime":"Limette","color.green":"Grün","color.teal":"Blaugrün","color.cyan":"Cyan","color.blue":"Blau","color.indigo":"Indigo","color.purple":"Lila","color.magenta":"Magenta","color.black":"Schwarz","color.dark-grey":"Dunkelgrau","color.grey":"Grau","color.light-grey":"Hellgrau","color.white":"Weiß"},el:{"keyboard.tooltip.symbols":"σύμβολα","keyboard.tooltip.greek":"ελληνικά γράμματα","keyboard.tooltip.numeric":"Αριθμητικός","keyboard.tooltip.alphabetic":"Ρωμαϊκά γράμματα","tooltip.copy to clipboard":"Αντιγραφή στο πρόχειρο","tooltip.redo":"Ξανακάνω","tooltip.toggle virtual keyboard":"Εναλλαγή εικονικού πληκτρολογίου","tooltip.undo":"Ξεκάνω","menu.insert matrix":"Εισαγωγή μήτρα","menu.borders":"Οριοθέτες μήτρα","menu.array.add row above":"Προσθήκη σειράς μετά","menu.array.add row below":"Προσθήκη σειράς πριν","menu.array.add column after":"Προσθήκη στήλης μετά","menu.array.add column before":"Προσθήκη στήλης πριν","menu.array.delete row":"Διαγραφή σειράς","menu.array.delete rows":"Διαγραφή επιλεγμένων σειρών","menu.array.delete column":"Διαγραφή στήλης","menu.array.delete columns":"Διαγραφή επιλεγμένων στηλών","menu.mode":"Λειτουργία","menu.mode-math":"Μαθηματικά","menu.mode-text":"Κείμενο","menu.mode-latex":"LaTeX","tooltip.blackboard":"Πίνακας","tooltip.bold":"Έντονη","tooltip.italic":"Πλάγια","tooltip.fraktur":"Φράκτουρ","tooltip.script":"Σενάριο","tooltip.caligraphic":"Καλλιγραφική","tooltip.typewriter":"Μηχανή γραφής","tooltip.roman-upright":"Ρωμαϊκό Κατακόρυφο","tooltip.row-by-col":"%@ × %@","menu.font-style":"Στυλ γραμματοσειράς","menu.accent":"Τόνος","menu.decoration":"Διακόσμηση","menu.color":"Χρώμα","menu.background-color":"Χρώμα φόντου","menu.evaluate":"Αξιολόγηση","menu.simplify":"Απλοποίηση","menu.solve":"Λύση","menu.solve-for":"Λύση για %@","menu.cut":"Αποκοπή","menu.copy":"Αντιγραφή","menu.copy-as-latex":"Αντιγραφή ως LaTeX","menu.copy-as-ascii-math":"Αντιγραφή ως ASCII Math","menu.copy-as-mathml":"Αντιγραφή ως MathML","menu.paste":"Επικόλληση","menu.select-all":"Επιλογή όλων","color.red":"Κόκκινο","color.orange":"Πορτοκαλί","color.yellow":"Κίτρινο","color.lime":"Λαχανί","color.green":"Πράσινο","color.teal":"Κυανό","color.cyan":"Γαλάζιο","color.blue":"Μπλε","color.indigo":"Ινδικό","color.purple":"Μωβ","color.magenta":"Ματζέντα","color.black":"Μαύρο","color.dark-grey":"Σκούρο Γκρι","color.grey":"Γκρι","color.light-grey":"Ανοιχτό Γκρι","color.white":"Λευκό"},es:{"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Añadir Matriz","menu.borders":"Delimitadores de Matriz","menu.array.add row above":"Añadir Línea Antes","menu.array.add row below":"Añadir Línea Despues","menu.array.add column after":"Añadir Columna Despues","menu.array.add column before":"Añadir Columna Antes","menu.array.delete row":"Borrar Línea","menu.array.delete rows":"Borrar Líneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","menu.mode":"Modo","menu.mode-math":"Matemáticas","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Pizarra","tooltip.bold":"Negrita","tooltip.italic":"Cursiva","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligráfico","tooltip.typewriter":"Máquina de escribir","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@ × %@","menu.font-style":"Estilo de fuente","menu.accent":"Acento","menu.decoration":"Decoración","menu.color":"Color","menu.background-color":"Fondo","menu.evaluate":"Evaluar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Cortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Pegar","menu.select-all":"Seleccionar todo","color.red":"Rojo","color.orange":"Naranja","color.yellow":"Amarillo","color.lime":"Lima","color.green":"Verde","color.teal":"Verde azulado","color.cyan":"Cian","color.blue":"Azul","color.indigo":"Índigo","color.purple":"Morado","color.magenta":"Magenta","color.black":"Negro","color.dark-grey":"Gris oscuro","color.grey":"Gris","color.light-grey":"Gris claro","color.white":"Blanco"},fr:{"keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.numeric":"Numérique","keyboard.tooltip.alphabetic":"Lettres romaines","tooltip.menu":"Menu","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rétablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Insérer une Matrice","menu.borders":"Bords","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Après","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Après","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Sélectionées","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes Sélectionées","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tableau noir","tooltip.bold":"Gras","tooltip.italic":"Italique","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Calligraphique","tooltip.typewriter":"Machine à écrire","tooltip.roman-upright":"Romain droit","tooltip.row-by-col":"%@ × %@","menu.font-style":"Style de police","menu.accent":"Accent","menu.decoration":"Décoration","menu.color":"Couleur","menu.background-color":"Arrière-plan","menu.evaluate":"Évaluer","menu.simplify":"Simplifier","menu.solve":"Résoudre","menu.solve-for":"Résoudre pour %@","menu.cut":"Couper","menu.copy":"Copier","menu.copy-as-latex":"Copier en LaTeX","menu.copy-as-ascii-math":"Copier en ASCII Math","menu.copy-as-mathml":"Copier en MathML","menu.paste":"Coller","menu.select-all":"Sélectionner tout","color.red":"Rouge","color.orange":"Orange","color.yellow":"Jaune","color.lime":"Citron vert","color.green":"Vert","color.teal":"Turquoise","color.cyan":"Cyan","color.blue":"Bleu","color.indigo":"Indigo","color.purple":"Violet","color.magenta":"Magenta","color.black":"Noir","color.dark-grey":"Gris foncé","color.grey":"Gris","color.light-grey":"Gris clair","color.white":"Blanc"},he:{"keyboard.tooltip.symbols":"סמלים","keyboard.tooltip.greek":"אותיות יווניות","keyboard.tooltip.numeric":"מספרי","keyboard.tooltip.alphabetic":"מכתבים רומיים","tooltip.copy to clipboard":"העתק ללוח","tooltip.redo":"לַעֲשׂוֹת שׁוּב","tooltip.toggle virtual keyboard":"החלף את המקלדת הווירטואלית","tooltip.undo":"לבטל","menu.insert matrix":"הכנס מטריקס","menu.borders":"מפרידי מטריקס","menu.array.add row above":"הוסף שורה אחרי","menu.array.add row below":"הוסף שורה לפני","menu.array.add column after":"הוסף עמודה אחרי","menu.array.add column before":"הוסף עמודה לפני","menu.array.delete row":"מחק שורה","menu.array.delete rows":"מחק שורות שנבחרו","menu.array.delete column":"מחק עמודה","menu.array.delete columns":"מחק עמודות שנבחרו","menu.mode":"מצב","menu.mode-math":"מתמטיקה","menu.mode-text":"טקסט","menu.mode-latex":"LaTeX","tooltip.blackboard":"לוח שחור","tooltip.bold":"מודגש","tooltip.italic":"נטוי","tooltip.fraktur":"פרקטור","tooltip.script":"כתב","tooltip.caligraphic":"קליגרפי","tooltip.typewriter":"מכונת כתיבה","tooltip.roman-upright":"רומי ישר","tooltip.row-by-col":"%@ × %@","menu.font-style":"סגנון גופן","menu.accent":"צליל","menu.decoration":"קישוט","menu.color":"צבע","menu.background-color":"רקע","menu.evaluate":"חשב","menu.simplify":"פשט","menu.solve":"פתור","menu.solve-for":"פתור עבור %@","menu.cut":"גזור","menu.copy":"העתק","menu.copy-as-latex":"העתק כ־LaTeX","menu.copy-as-ascii-math":"העתק כ־ASCII Math","menu.copy-as-mathml":"העתק כ־MathML","menu.paste":"הדבק","menu.select-all":"בחר הכל","color.red":"אדום","color.orange":"כתום","color.yellow":"צהוב","color.lime":"ירוק ליים","color.green":"ירוק","color.teal":"טיל","color.cyan":"ציאן","color.blue":"כחול","color.indigo":"אינדיגו","color.purple":"סגול","color.magenta":"מגנטה","color.black":"שחור","color.dark-grey":"אפור כהה","color.grey":"אפור","color.light-grey":"אפור בהיר","color.white":"לבן"},it:{"keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.alphabetic":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.borders":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo","menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","menu.mode":"Modalità","menu.mode-math":"Matematica","menu.mode-text":"Testo","menu.mode-latex":"LaTeX","tooltip.blackboard":"Lavagna","tooltip.bold":"Grassetto","tooltip.italic":"Corsivo","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrafico","tooltip.typewriter":"Macchina da scrivere","tooltip.roman-upright":"Romano dritto","tooltip.row-by-col":"%@ × %@","menu.font-style":"Stile del carattere","menu.accent":"Accento","menu.decoration":"Decorazione","menu.color":"Colore","menu.background-color":"Sfondo","menu.evaluate":"Valuta","menu.simplify":"Semplifica","menu.solve":"Risolvi","menu.solve-for":"Risolvi per %@","menu.cut":"Taglia","menu.copy":"Copia","menu.copy-as-latex":"Copia come LaTeX","menu.copy-as-ascii-math":"Copia come ASCII Math","menu.copy-as-mathml":"Copia come MathML","menu.paste":"Incolla","menu.select-all":"Seleziona tutto","color.red":"Rosso","color.orange":"Arancione","color.yellow":"Giallo","color.lime":"Lime","color.green":"Verde","color.teal":"Verde acqua","color.cyan":"Ciano","color.blue":"Blu","color.indigo":"Indaco","color.purple":"Viola","color.magenta":"Magenta","color.black":"Nero","color.dark-grey":"Grigio scuro","color.grey":"Grigio","color.light-grey":"Grigio chiaro","color.white":"Bianco"},ja:{"keyboard.tooltip.symbols":"シンボル","keyboard.tooltip.greek":"ギリシャ文字","keyboard.tooltip.numeric":"数値","keyboard.tooltip.alphabetic":"ローマ字","tooltip.menu":"メニュー","tooltip.copy to clipboard":"クリップボードにコピー","tooltip.redo":"やり直し","tooltip.toggle virtual keyboard":"仮想キーボードの切り替え","tooltip.undo":"元に戻す","menu.insert matrix":"マトリックスを挿入","menu.borders":"行列区切り文字","menu.array.add row above":"後に行を追加","menu.array.add row below":"前に行を追加","menu.array.add column after":"後に列を追加","menu.array.add column before":"前に列を追加","menu.array.delete row":"行を削除","menu.array.delete rows":"選択した行を削除する","menu.array.delete column":"列を削除","menu.array.delete columns":"選択した列を削除する","menu.mode":"モード","menu.mode-math":"数式","menu.mode-text":"テキスト","menu.mode-latex":"LaTeX","tooltip.blackboard":"黒板","tooltip.bold":"太字","tooltip.italic":"イタリック","tooltip.fraktur":"フラクトゥール","tooltip.script":"スクリプト","tooltip.caligraphic":"カリグラフィック","tooltip.typewriter":"タイプライター","tooltip.roman-upright":"ローマ直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"フォントスタイル","menu.accent":"アクセント","menu.decoration":"装飾","menu.color":"色","menu.background-color":"背景","menu.evaluate":"評価","menu.simplify":"簡略化","menu.solve":"解く","menu.solve-for":"%@ を解く","menu.cut":"切り取り","menu.copy":"コピー","menu.copy-as-latex":"LaTeXとしてコピー","menu.copy-as-ascii-math":"ASCII Mathとしてコピー","menu.copy-as-mathml":"MathMLとしてコピー","menu.paste":"貼り付け","menu.select-all":"すべて選択","color.red":"赤","color.orange":"オレンジ","color.yellow":"黄色","color.lime":"ライム","color.green":"緑","color.teal":"ティール","color.cyan":"シアン","color.blue":"青","color.indigo":"インディゴ","color.purple":"紫","color.magenta":"マゼンタ","color.black":"黒","color.dark-grey":"濃いグレー","color.grey":"グレー","color.light-grey":"薄いグレー","color.white":"白"},ko:{"keyboard.tooltip.symbols":"기호","keyboard.tooltip.greek":"그리스 문자","keyboard.tooltip.numeric":"숫자","keyboard.tooltip.alphabetic":"로마 문자","tooltip.copy to clipboard":"클립 보드에 복사","tooltip.redo":"다시 하다","tooltip.toggle virtual keyboard":"가상 키보드 전환","tooltip.undo":"실행 취소","menu.insert matrix":"매트릭스 삽입","menu.borders":"행렬 구분 기호","menu.array.add row above":"뒤에 행 추가","menu.array.add row below":"앞에 행 추가","menu.array.add column after":"뒤에 열 추가","menu.array.add column before":"앞에 열 추가","menu.array.delete row":"행 삭제","menu.array.delete rows":"선택한 행 삭제","menu.array.delete column":"열 삭제","menu.array.delete columns":"선택한 열 삭제","menu.mode":"モード","menu.mode-math":"数式","menu.mode-text":"テキスト","menu.mode-latex":"LaTeX","tooltip.blackboard":"칠판","tooltip.bold":"굵게","tooltip.italic":"이탤릭","tooltip.fraktur":"프랙투어","tooltip.script":"스크립트","tooltip.caligraphic":"캘리그래픽","tooltip.typewriter":"타자기","tooltip.roman-upright":"로마 직립","tooltip.row-by-col":"%@ × %@","menu.font-style":"글꼴 스타일","menu.accent":"악센트","menu.decoration":"장식","menu.color":"색상","menu.background-color":"배경","menu.evaluate":"평가","menu.simplify":"간소화","menu.solve":"해결","menu.solve-for":"%@에 대해 해결","menu.cut":"잘라내기","menu.copy":"복사","menu.copy-as-latex":"LaTeX로 복사","menu.copy-as-ascii-math":"ASCII Math로 복사","menu.copy-as-mathml":"MathML로 복사","menu.paste":"붙여넣기","menu.select-all":"모두 선택","color.red":"빨강","color.orange":"주황","color.yellow":"노랑","color.lime":"라임","color.green":"초록","color.teal":"청록","color.cyan":"청색","color.blue":"파랑","color.indigo":"남색","color.purple":"보라","color.magenta":"자홍","color.black":"검정","color.dark-grey":"진한 회색","color.grey":"회색","color.light-grey":"연한 회색","color.white":"흰색"},pl:{"keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.alphabetic":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.cut to clipboard":"Wytnij ze Schowka","tooltip.paste from clipboard":"Wklej ze Schowka","tooltip.redo":"Przywróć","tooltip.toggle virtual keyboard":"Przełącz klawiaturę wirtualną","tooltip.menu":"Menu","tooltip.undo":"Cofnij","menu.borders":"Ograniczniki macierzy","menu.insert matrix":"Wstaw macierz","menu.array.add row above":"Dodaj wiersz przed","menu.array.add row below":"Dodaj wiersz po","menu.array.add column after":"Dodaj kolumnę po","menu.array.add column before":"Dodaj kolumnę przed","menu.array.delete row":"Usuń wiersz","menu.array.delete rows":"Usuń wybrane wiersze","menu.array.delete column":"Usuń kolumnę","menu.array.delete columns":"Usuń wybrane kolumny","menu.mode":"Tryb","menu.mode-math":"Formuła","menu.mode-text":"Tekst","menu.mode-latex":"LaTeX","menu.insert":"Wstaw","menu.insert.abs":"Wartość bezwzględna","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"Pierwiastek n-tego stopnia","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logarytm o podstawie a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Rachunek różniczkowy i całkowy","menu.insert.derivative":"Pochodna","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"Pochodna n-tego rzędu","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Całka","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Suma","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Iloczyn","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Liczby zespolone","menu.insert.modulus":"Moduł","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argument","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Część rzeczywista","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Część urojona","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Sprzężenie","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Tablica","tooltip.bold":"Pogrubienie","tooltip.italic":"Kursywa","tooltip.fraktur":"Fraktura","tooltip.script":"Skrypt","tooltip.caligraphic":"Kaligraficzny","tooltip.typewriter":"Maszynowy","tooltip.roman-upright":"Rzymski prosto","tooltip.row-by-col":"%@ × %@","menu.font-style":"Styl czcionki","menu.accent":"Akcent","menu.decoration":"Dekoracja","menu.color":"Kolor","menu.background-color":"Tło","menu.evaluate":"Oblicz","menu.simplify":"Uprość","menu.solve":"Rozwiąż","menu.solve-for":"Rozwiąż dla %@","menu.cut":"Wytnij","menu.copy":"Kopiuj","menu.copy-as-latex":"Kopiuj jako LaTeX","menu.copy-as-ascii-math":"Kopiuj jako ASCII Math","menu.copy-as-mathml":"Kopiuj jako MathML","menu.paste":"Wklej","menu.select-all":"Zaznacz wszystko","color.red":"Czerwony","color.orange":"Pomarańczowy","color.yellow":"Żółty","color.lime":"Limetkowy","color.green":"Zielony","color.teal":"Turkusowy","color.cyan":"Cyjan","color.blue":"Niebieski","color.indigo":"Indygo","color.purple":"Fioletowy","color.magenta":"Magenta","color.black":"Czarny","color.dark-grey":"Ciemnoszary","color.grey":"Szary","color.light-grey":"Jasnoszary","color.white":"Biały"},pt:{"keyboard.tooltip.symbols":"Símbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.numeric":"Numérico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar para área de transferência","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.borders":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","menu.mode":"Modo","menu.mode-math":"Fórmula","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Quadro Negro","tooltip.bold":"Negrito","tooltip.italic":"Itálico","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligráfico","tooltip.typewriter":"Máquina de Escrever","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@ × %@","menu.font-style":"Estilo da Fonte","menu.accent":"Acento","menu.decoration":"Decoração","menu.color":"Cor","menu.background-color":"Cor de Fundo","menu.evaluate":"Avaliar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Recortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Colar","menu.select-all":"Selecionar Tudo","color.red":"Vermelho","color.orange":"Laranja","color.yellow":"Amarelo","color.lime":"Verde Lima","color.green":"Verde","color.teal":"Verde-azulado","color.cyan":"Ciano","color.blue":"Azul","color.indigo":"Índigo","color.purple":"Roxo","color.magenta":"Magenta","color.black":"Preto","color.dark-grey":"Cinza Escuro","color.grey":"Cinza","color.light-grey":"Cinza Claro","color.white":"Branco"},uk:{"keyboard.tooltip.symbols":"Символи","keyboard.tooltip.greek":"Грецькі літери","keyboard.tooltip.numeric":"Числовий","keyboard.tooltip.alphabetic":"Римські літери","tooltip.copy to clipboard":"Копіювати в буфер обміну","tooltip.cut to clipboard":"Вирізати в буфер обміну","tooltip.paste from clipboard":"Вставити з буфера обміну","tooltip.redo":"Повторити","tooltip.toggle virtual keyboard":"Переключити віртуальну клавіатуру","tooltip.menu":"Меню","tooltip.undo":"Скасувати","menu.borders":"Межі","menu.insert matrix":"Вставити матрицю","menu.array.add row above":"Додати рядок перед","menu.array.add row below":"Додати рядок після","menu.array.add column after":"Додати стовпець після","menu.array.add column before":"Додати стовпець перед","menu.array.delete row":"Видалити рядок","menu.array.delete rows":"Видалити вибрані рядки","menu.array.delete column":"Видалити стовпець","menu.array.delete columns":"Видалити вибрані стовпці","menu.mode":"Режим","menu.mode-math":"Математика","menu.mode-text":"Текст","menu.mode-latex":"LaTeX","menu.insert":"Вставити","menu.insert.abs":"Абсолютне значення","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"Корінь n-го степеня","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Логарифм за основою a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Обчислення","menu.insert.derivative":"Похідна","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"Похідна n-го порядку","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Інтеграл","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Сума","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Добуток","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Комплексні числа","menu.insert.modulus":"Модуль","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Аргумент","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Дійсна частина","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Уявна частина","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Спряжене число","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Дошка","tooltip.bold":"Жирний","tooltip.italic":"Курсив","tooltip.fraktur":"Фрактурний","tooltip.script":"Рукописний","tooltip.caligraphic":"Каліграфічний","tooltip.typewriter":"Друкарський","tooltip.roman-upright":"Прямий римський","tooltip.row-by-col":"%@ × %@","menu.font-style":"Стиль шрифту","menu.accent":"Акцент","menu.decoration":"Оформлення","menu.color":"Колір","menu.background-color":"Фон","menu.evaluate":"Обчислити","menu.simplify":"Спростити","menu.solve":"Розв’язати","menu.solve-for":"Розв’язати для %@","menu.cut":"Вирізати","menu.copy":"Копіювати","menu.copy-as-latex":"Копіювати як LaTeX","menu.copy-as-ascii-math":"Копіювати як ASCII Math","menu.copy-as-mathml":"Копіювати як MathML","menu.paste":"Вставити","menu.select-all":"Вибрати все","color.red":"Червоний","color.orange":"Помаранчевий","color.yellow":"Жовтий","color.lime":"Лаймовий","color.green":"Зелений","color.teal":"Бірюзовий","color.cyan":"Синьо-зелений","color.blue":"Синій","color.indigo":"Індиго","color.purple":"Фіолетовий","color.magenta":"Пурпурний","color.black":"Чорний","color.dark-grey":"Темно-сірий","color.grey":"Сірий","color.light-grey":"Світло-сірий","color.white":"Білий"},"zh-cn":{"keyboard.tooltip.symbols":"符号","keyboard.tooltip.greek":"希腊字母","keyboard.tooltip.numeric":"数字","keyboard.tooltip.alphabetic":"罗马字母","tooltip.copy to clipboard":"复制到剪贴板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切换虚拟键盘","tooltip.undo":"撤消","menu.insert matrix":"插入矩阵","menu.borders":"矩阵分隔符","menu.array.add row above":"在后面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在后面添加列r","menu.array.add column before":"在前面添加列","menu.array.delete row":"删除行","menu.array.delete rows":"删除选定行","menu.array.delete column":"删除列","menu.array.delete columns":"删除选定的列","menu.mode":"模式","menu.mode-math":"数学","menu.mode-text":"文本","menu.mode-latex":"LaTeX","tooltip.blackboard":"黑板","tooltip.bold":"粗体","tooltip.italic":"斜体","tooltip.fraktur":"Fraktur","tooltip.script":"脚本","tooltip.caligraphic":"草书","tooltip.typewriter":"打字机","tooltip.roman-upright":"罗马直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"字体样式","menu.accent":"重音","menu.decoration":"装饰","menu.color":"颜色","menu.background-color":"背景","menu.evaluate":"计算","menu.simplify":"简化","menu.solve":"求解","menu.solve-for":"求解 %@","menu.cut":"剪切","menu.copy":"复制","menu.copy-as-latex":"复制为 LaTeX","menu.copy-as-ascii-math":"复制为 ASCII Math","menu.copy-as-mathml":"复制为 MathML","menu.paste":"粘贴","menu.select-all":"全选","color.red":"红色","color.orange":"橙色","color.yellow":"黄色","color.lime":"绿黄色","color.green":"绿色","color.teal":"青色","color.cyan":"蓝绿色","color.blue":"蓝色","color.indigo":"靛蓝色","color.purple":"紫色","color.magenta":"洋红色","color.black":"黑色","color.dark-grey":"深灰色","color.grey":"灰色","color.light-grey":"浅灰色","color.white":"白色"},"zh-tw":{"keyboard.tooltip.symbols":"符號","keyboard.tooltip.greek":"希臘字母","keyboard.tooltip.numeric":"數字","keyboard.tooltip.alphabetic":"羅馬字母","tooltip.copy to clipboard":"複製到剪貼板","tooltip.redo":"重做","tooltip.toggle virtual keyboard":"切換虛擬鍵盤","tooltip.undo":"撤消","menu.insert matrix":"插入矩陣","menu.borders":"矩陣分隔符","menu.array.add row above":"在後面添加行","menu.array.add row below":"在前面添加行","menu.array.add column after":"在後面添加列","menu.array.add column before":"在前面添加列","menu.array.delete row":"刪除行","menu.array.delete rows":"刪除選定行","menu.array.delete column":"刪除列","menu.array.delete columns":"刪除選定的列","menu.mode":"模式","menu.mode-math":"數學","menu.mode-text":"文本","menu.mode-latex":"LaTeX","tooltip.blackboard":"黑板","tooltip.bold":"粗體","tooltip.italic":"斜體","tooltip.fraktur":"Fraktur","tooltip.script":"腳本","tooltip.caligraphic":"草書","tooltip.typewriter":"打字機","tooltip.roman-upright":"羅馬直立","tooltip.row-by-col":"%@ × %@","menu.font-style":"字體樣式","menu.accent":"重音","menu.decoration":"裝飾","menu.color":"顏色","menu.background-color":"背景","menu.evaluate":"計算","menu.simplify":"簡化","menu.solve":"求解","menu.solve-for":"求解 %@","menu.cut":"剪下","menu.copy":"複製","menu.copy-as-latex":"複製為 LaTeX","menu.copy-as-ascii-math":"複製為 ASCII Math","menu.copy-as-mathml":"複製為 MathML","menu.paste":"貼上","menu.select-all":"全選","color.red":"紅色","color.orange":"橙色","color.yellow":"黃色","color.lime":"綠黃色","color.green":"綠色","color.teal":"青色","color.cyan":"藍綠色","color.blue":"藍色","color.indigo":"靛藍色","color.purple":"紫色","color.magenta":"洋紅色","color.black":"黑色","color.dark-grey":"深灰色","color.grey":"灰色","color.light-grey":"淺灰色","color.white":"白色"}},_locale:"",_dirty:!1,_subscribers:[],_numberFormatter:void 0,get locale(){return qA._locale||(qA._locale=OA()?navigator.language.slice(0,5):"en-US"),qA._locale},set locale(t){qA._locale=t,qA._numberFormatter=void 0,qA.dirty=!0},get numberFormatter(){if(!qA._numberFormatter)try{qA._numberFormatter=new Intl.NumberFormat(qA.locale)}catch(t){try{qA._numberFormatter=new Intl.NumberFormat(qA.locale.slice(0,2))}catch(t){qA._numberFormatter=new Intl.NumberFormat("en-US")}}return qA._numberFormatter},merge(t,e){if("string"==typeof t&&e)qA.strings[t]=PA(PA({},qA.strings[t]),e),qA.dirty=!0;else for(let e of Object.keys(t))qA.merge(e,t[e])},get dirty(){return qA._dirty},set dirty(t){qA._dirty||qA._dirty===t||(qA._dirty=!0,setTimeout((()=>{qA._dirty=!1,this._subscribers.forEach((t=>null==t?void 0:t()))}),0))},subscribe:t=>(qA._subscribers.push(t),qA._subscribers.length-1),unsubscribe(t){t<0||t>=qA._subscribers.length||(qA._subscribers[t]=void 0)},update(t){let e=t.querySelectorAll("[data-l10n-tooltip]");for(let t of e){let e=t.getAttribute("data-l10n-tooltip");if(e){let o=HA(e);o&&t.setAttribute("data-tooltip",o)}}e=t.querySelectorAll("[data-l10n-arial-label]");for(let t of e){let e=t.getAttribute("data-l10n-arial-label");if(e){let o=HA(e);o&&t.setAttribute("aria-label",o)}}}};function HA(t,...e){if(void 0===t)return;let o="",n=qA.locale;qA.strings[n]&&(o=qA.strings[n][t]);let r=n.slice(0,2);if(!o&&qA.strings[r]&&(o=qA.strings[r][t]),o||(o=qA.strings.en[t]),!o)return;let i=/(%@|%([0-9]+)\$@)/g,s=i.exec(o),l=0;for(;s;){if(e[l++]){let t=e[s[2]?parseInt(s[2],10)-1:l-1];"number"==typeof t&&(t=qA.numberFormatter.format(t)),o=o.replace(s[1],t)}s=i.exec(o)}return o=o.replace(/%%/g,"%"),o}var jA={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},WA={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},UA={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",cyan:"#b8e5c9",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},GA={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",cyan:"#13a7ec",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},ZA={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},JA={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function YA(t){var e,o,n,r,i,s;let l,a,d,c=t.split("!"),h=255,u=255,p=255,m=-1,g=c.length>0&&c[0].startsWith("-");g&&(c[0]=c[0].slice(1));for(let t=0;t<c.length;t++){l=h,a=u,d=p;let g=null==(e=c[t].trim().match(/^([A-Za-z\d-]+)/))?void 0:e[1],b=null==g?void 0:g.toLowerCase(),f=g&&null!=(s=null!=(i=null!=(r=null!=(n=null!=(o=GA[b])?o:GA[ZA[g]])?n:WA[g])?r:JA[g])?i:jA[g])?s:c[t].trim(),w=f.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if(null!=w&&w[1]&&w[2]&&w[3])h=Math.max(0,Math.min(255,Number.parseInt(w[1],16))),u=Math.max(0,Math.min(255,Number.parseInt(w[2],16))),p=Math.max(0,Math.min(255,Number.parseInt(w[3],16)));else if(w=f.match(/^#([\da-f]{3})$/i),null!=w&&w[1]){let t=Number.parseInt(w[1][0],16),e=Number.parseInt(w[1][1],16),o=Number.parseInt(w[1][2],16);h=Math.max(0,Math.min(255,16*t+t)),u=Math.max(0,Math.min(255,16*e+e)),p=Math.max(0,Math.min(255,16*o+o))}else{if(w=f.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),!(null!=w&&w[1]&&w[2]&&w[3]))return;h=Math.max(0,Math.min(255,Number.parseInt(w[1]))),u=Math.max(0,Math.min(255,Number.parseInt(w[2]))),p=Math.max(0,Math.min(255,Number.parseInt(w[3])))}m>=0&&(h=(1-m)*h+m*l,u=(1-m)*u+m*a,p=(1-m)*p+m*d,m=-1),t+1<c.length&&(m=Math.max(0,Math.min(100,Number.parseInt(c[++t])))/100)}return m>=0&&(h=m*h+(1-m)*l,u=m*u+(1-m)*a,p=m*p+(1-m)*d),g&&(h=255-h,u=255-u,p=255-p),"#"+("00"+Math.round(h).toString(16)).slice(-2)+("00"+Math.round(u).toString(16)).slice(-2)+("00"+Math.round(p).toString(16)).slice(-2)}function XA(t){var e,o;return t=t.trim(),null!=(o=null!=(e=UA[t.toLowerCase()])?e:UA[ZA[t]])?o:YA(t)}function QA(t,e,o){return o<0&&(o+=6),o>=6&&(o-=6),o<1?(e-t)*o+t:o<3?e:o<4?(e-t)*(4-o)+t:t}function tC(t){return t<0?0:t>255?255:Math.round(t)}function eC(t){let e=function(t){if(!t||"#"!==t[0])return;let e;return(t=t.slice(1)).length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},4===t.length&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},8===t.length&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&void 0===e.a&&(e.a=1),e}(t);if(!e)return t;let{h:o,s:n,l:r}=function(t){let{r:e,g:o,b:n}=t;e/=255,o/=255,n/=255;let r,i,s=Math.min(e,o,n),l=Math.max(e,o,n),a=l-s;l===s?r=0:e===l?r=(o-n)/a:o===l?r=2+(n-e)/a:n===l&&(r=4+(e-o)/a),r=Math.min(60*r,360),r<0&&(r+=360);let d=(s+l)/2;return i=l===s?0:d<=.5?a/(l+s):a/(2-l-s),{h:r,s:i,l:d}}(e);return n+=.1,r-=.1,function(t){let{r:e,g:o,b:n}=t,r=((1<<24)+(tC(e)<<16)+(tC(o)<<8)+tC(n)).toString(16).slice(1);return r[0]===r[1]&&r[2]===r[3]&&r[4]===r[5]&&r[6]===r[7]&&(r=r[0]+r[2]+r[4]),"#"+r}(function(t){let[e,o,n]=[t.h,t.s,t.l];e=(e+360)%360/60,n=Math.max(0,Math.min(n,1)),o=Math.max(0,Math.min(o,1));let r=n<=.5?n*(o+1):n+o-n*o,i=2*n-r;return{r:Math.round(255*QA(i,r,e+2)),g:Math.round(255*QA(i,r,e)),b:Math.round(255*QA(i,r,e-2))}}({h:o,s:n,l:r}))}var oC={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10178:"\\perp",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},nC={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},rC=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120822,len:10,offset:48,variant:"monospace"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"}];function iC(t,e,o){if(!/[A-Za-z\d]/.test(t)||("up"===o&&(o=void 0),!e&&!o))return;let n=t.codePointAt(0);if(void 0===n)return t;for(let t of rC)if((!e||t.variant===e)&&(!o||t.style===o)&&n>=t.offset&&n<t.offset+t.len){let e=t.start+n-t.offset;return String.fromCodePoint(nC[e]||e)}}function sC(t){var e;if("{}<>[]$&*#^_%:'˜".includes(t)||t.length>1)return;let o=null!=(e=t.codePointAt(0))?e:0,n=oC[o];if(n)return n;let{char:r,variant:i,style:s}=function(t){var e;if((t<119808||t>120831)&&(t<8448||t>8527))return{char:String.fromCodePoint(t)};for(let o in nC)if(nC[o]===t){t=null!=(e=o.codePointAt(0))?e:0;break}for(let e of rC)if(t>=e.start&&t<e.start+e.len)return{char:String.fromCodePoint(t-e.start+e.offset),variant:e.variant,style:e.style};return{char:String.fromCodePoint(t)}}(o);if(i||s){switch(n=r,i){case"double-struck":n=`\\mathbb{${n}}`;break;case"fraktur":n=`\\mathfrak{${n}}`;break;case"script":n=`\\mathscr{${n}}`;break;case"sans-serif":n=`\\mathsf{${n}}`;break;case"monospace":n=`\\mathtt{${n}}`;break;case"calligraphic":n=`\\mathcal{${n}}`}switch(s){case"bold":n=`\\mathbf{${n}}`;break;case"italic":n=`\\mathit{${n}}`;break;case"bolditalic":n=`\\mathbfit{${n}}`}return n}}function lC(t){return t?Array.isArray(t)?t:"object"==typeof t&&"group"in t?t.group:[]:[]}var aC,dC,cC,hC={},uC=PA({},oC),pC={},mC={},gC={iff:{primitive:!0,captureSelection:!0,def:"\\;\\Longleftrightarrow\\;}"},nicefrac:"^{#1}\\!\\!/\\!_{#2}",phase:{def:"\\enclose{phasorangle}{#1}",args:1,captureSelection:!1},rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",exponentialE:"\\mathrm{e}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}",mathstrut:{def:"\\vphantom{(}",primitive:!0},angl:"\\enclose{actuarial}{#1}",angln:"\\enclose{actuarial}{n}",anglr:"\\enclose{actuarial}{r}",anglk:"\\enclose{actuarial}{k}",mathtools:{primitive:!0,package:{ordinarycolon:":",vcentcolon:"\\mathrel{\\mathop\\ordinarycolon}",dblcolon:'{\\mathop{\\char"2237}}',coloneqq:'{\\mathop{\\char"2254}}',Coloneqq:'{\\mathop{\\char"2a74}}',coloneq:'{\\mathop{\\char"2254}}',Coloneq:'{\\mathop{\\char"2A74}}',eqqcolon:'{\\mathop{\\char"2255}}',Eqqcolon:'{\\mathop{\\char"3D\\char"2237}}',eqcolon:'{\\mathop{\\char"2255}}',Eqcolon:'{\\mathop{\\char"3D\\char"2237}}',colonapprox:'{\\mathop{\\char"003A\\char"2248}}',Colonapprox:'{\\mathop{\\char"2237\\char"2248}}',colonsim:'{\\mathop{\\char"3A\\char"223C}}',Colonsim:'{\\mathop{\\char"2237\\char"223C}}',colondash:"\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",Colondash:"\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"}},ratio:"\\vcentcolon",coloncolon:"\\dblcolon",colonequals:"\\coloneq",coloncolonequals:"\\Coloneq",equalscolon:"\\eqcolon",equalscoloncolon:"\\Eqcolon",colonminus:"\\colondash",coloncolonminus:"\\Colondash",minuscolon:"\\dashcolon",minuscoloncolon:"\\Dashcolon",coloncolonapprox:"\\Colonapprox",coloncolonsim:"\\Colonsim",simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",simcoloncolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcoloncolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",notni:"\\mathrel{\\char`∌}",limsup:"\\operatorname*{lim\\,sup}",liminf:"\\operatorname*{lim\\,inf}",injlim:"\\operatorname*{inj\\,lim}",projlim:"\\operatorname*{proj\\,lim}",varlimsup:"\\operatorname*{\\overline{lim}}",varliminf:"\\operatorname*{\\underline{lim}}",varinjlim:"\\operatorname*{\\underrightarrow{lim}}",varprojlim:"\\operatorname*{\\underleftarrow{lim}}",argmin:"\\operatorname*{arg\\,min}",argmax:"\\operatorname*{arg\\,max}",plim:"\\mathop{\\operatorname{plim}}\\limits",tripledash:{def:"\\vphantom{-}\\raise{4mu}{\\mkern1.5mu\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2mu}}",expand:!0},"braket.sty":{package:{bra:{def:"\\mathinner{\\langle{#1}|}",args:1,captureSelection:!1},ket:{def:"\\mathinner{|{#1}\\rangle}",args:1,captureSelection:!1},braket:{def:"\\mathinner{\\langle{#1}\\rangle}",args:1,captureSelection:!1},set:{def:"\\mathinner{\\lbrace #1 \\rbrace}",args:1,captureSelection:!1},Bra:{def:"\\left\\langle #1\\right|",args:1,captureSelection:!1},Ket:{def:"\\left|#1\\right\\rangle",args:1,captureSelection:!1},Braket:{def:"\\left\\langle{#1}\\right\\rangle",args:1,captureSelection:!1},Set:{def:"\\left\\lbrace #1 \\right\\rbrace",args:1,captureSelection:!1}}},"amsmath.sty":{package:{varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1,captureSelection:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},primitive:!0},"texvc.sty":{package:{darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",C:"\\mathbb{C}",H:"\\mathbb{H}",N:"\\mathbb{N}",Q:"\\mathbb{Q}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",doublecap:"\\Cap",doublecup:"\\Cup",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",hAar:"\\Leftrightarrow",harr:"\\leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",Larr:"\\Leftarrow",lArr:"\\Leftarrow",lrarr:"\\leftrightarrow",Lrarr:"\\Leftrightarrow",lrArr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",part:"\\partial",plusmn:"\\pm",rarr:"\\rightarrow",Rarr:"\\Rightarrow",rArr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",restriction:"\\upharpoonright",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",varcoppa:"\\coppa",weierp:"\\wp",Zeta:"\\mathrm{Z}"},primitive:!1}},bC={" ":32,"\\!":33,"\\#":35,"\\$":36,"\\%":37,"\\&":38,"\\_":95,"-":45,"\\textunderscore":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\textbraceleft":123,"\\textbraceright":125,"\\lbrace":123,"\\rbrace":125,"\\lbrack":91,"\\rbrack":93,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"–":8211,"—":8212,"‘":8216,"’":8217,"“":8220,"”":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197},fC=/[\w!@*()-=+{}\[\]\\';:?/.,~<>`|$%#&^" ]/;function wC(t,e,o="mord",n){void 0!==e&&(hC[t]={definitionType:"symbol",type:o,variant:n,codepoint:e},uC[e]||(uC[e]=t))}function xC(t,e,o){if("string"!=typeof t)for(let[n,r,i,s]of t)wC(n,r,null!=i?i:e,null!=s?s:o);else for(let e=0;e<t.length;e++){let o=t.charAt(e);wC(o,o.codePointAt(0))}}function kC(t,e){for(let o=t;o<=e;o++)wC(String.fromCodePoint(o),o)}function yC(t){let e="auto",o=t.match(/:([^=]+)/);return o&&(e=o[1].trim()),e}function vC(t){if(!t)return[];let e=[],o=t.split("]");if(o[0].startsWith("[")){e.push({isOptional:!0,type:yC(o[0].slice(1))});for(let t=1;t<=o.length;t++)e.push(...vC(o[t]))}else if(o=t.split("}"),o[0].startsWith("{")){e.push({isOptional:!1,type:yC(o[0].slice(1))});for(let t=1;t<=o.length;t++)e.push(...vC(o[t]))}return e}function _C(t){if(!t)return"";let e="",o=!0;for(let n of t)"string"==typeof n.value?e+=n.value:o=!1;return o?e:""}function AC(t,e,o){"string"==typeof t&&(t=[t]);let n={tabular:!0,rootOnly:!1,params:vC(e),createAtom:o};for(let e of t)mC[e]=n}function CC(t,e,o){var n;"string"==typeof t&&(t=[t]);let r={tabular:null!=(n=null==o?void 0:o.tabular)&&n,rootOnly:!0,params:[],createAtom:e};for(let e of t)mC[e]=r}function SC(t,e,o){var n,r;o||(o={});let i={definitionType:"function",params:vC(e),ifMode:o.ifMode,isFunction:null!=(n=o.isFunction)&&n,applyMode:o.applyMode,infix:null!=(r=o.infix)&&r,parse:o.parse,createAtom:o.createAtom,applyStyle:o.applyStyle,serialize:o.serialize,render:o.render};if("string"==typeof t)pC["\\"+t]=i;else for(let e of t)pC["\\"+e]=i}function EC(t){return cC||(cC=DC(gC)),t?DC(PA(PA({},cC),t)):cC}function MC(t,e){var o,n,r,i;if("string"==typeof t){let r=0,i=t;return/(^|[^\\])#1/.test(i)&&(r=1),/(^|[^\\])#2/.test(i)&&(r=2),/(^|[^\\])#3/.test(i)&&(r=3),/(^|[^\\])#4/.test(i)&&(r=4),/(^|[^\\])#5/.test(i)&&(r=5),/(^|[^\\])#6/.test(i)&&(r=6),/(^|[^\\])#7/.test(i)&&(r=7),/(^|[^\\])#8/.test(i)&&(r=8),/(^|[^\\])#9/.test(i)&&(r=9),{expand:null==(o=null==e?void 0:e.expand)||o,captureSelection:null==(n=null==e?void 0:e.captureSelection)||n,args:r,def:i}}return PA({expand:null==(r=null==e?void 0:e.expand)||r,captureSelection:null==(i=null==e?void 0:e.captureSelection)||i,args:0},t)}function DC(t){if(!t)return{};let e={};for(let o of Object.keys(t)){let n=t[o];if(null==n)delete e[o];else if("object"==typeof n&&"package"in n)for(let t of Object.keys(n.package))e[t]=MC(n.package[t],{expand:!n.primitive,captureSelection:n.captureSelection});else e[o]=MC(n)}return e}function TC(t,e="math"){if(!t||0===t.length)return null;let o=null;if(t.startsWith("\\")){if(o=pC[t],o)return o.ifMode&&o.ifMode!==e?null:o;"math"===e?o=hC[t]:bC[t]&&(o={definitionType:"symbol",type:"mord",codepoint:bC[t]})}else if("math"===e){if(o=hC[t],!o&&1===t.length){let e=LC("math",t.codePointAt(0));return e.startsWith("\\")?IA(PA({},TC(e,"math")),{command:e}):null}}else bC[t]?o={definitionType:"symbol",type:"mord",codepoint:bC[t]}:"text"===e&&(o={definitionType:"symbol",type:"mord",codepoint:t.codePointAt(0)});return null!=o?o:null}function BC(t,e){if(!t.startsWith("\\"))return null;return e[t.slice(1)]}function LC(t,e){if(void 0===e)return"";if("math"===t&&uC[e])return uC[e];if("text"===t){return Object.keys(bC).find((t=>bC[t]===e))||String.fromCodePoint(e)}return String.fromCodePoint(e)}!function(){if(!OA())return!0;if(/firefox/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/firefox\/(\d+)/i);return!!t&&parseInt(t[1])>=78}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){let t=navigator.userAgent.match(/edg\/(\d+)/i);return!!t&&parseInt(t[1])>=79}return!0}()?(aC=/[a-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/,dC=/[\da-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяĄąĆćĘęŁłŃńÓóŚśŹźŻżàâäôéèëêïîçùûüÿæœÀÂÄÔÉÈËÊÏÎŸÇÙÛÜÆŒößÖẞìíòúÌÍÒÚáñÁÑ]/):(aC=new RegExp("\\p{Letter}","u"),dC=new RegExp("[0-9\\p{Letter}]","u"));var PC=[0,.68889,0,0,.72222],IC=[0,.68889,0,0,.66667],zC=[0,.68889,0,0,.77778],RC=[0,.68889,0,0,.61111],FC=[.16667,.68889,0,0,.77778],OC=[0,.68889,0,0,.55556],VC=[0,0,0,0,.25],NC=[0,.825,0,0,2.33334],$C=[0,.9,0,0,2.33334],KC=[0,.68889,0,0,.54028],qC=[-.03598,.46402,0,0,.5],HC=[-.13313,.36687,0,0,1],jC=[.01354,.52239,0,0,1],WC=[.01354,.52239,0,0,1.11111],UC=[0,.54986,0,0,1],GC=[0,.69224,0,0,.5],ZC=[0,.43056,0,0,1],JC=[.08198,.58198,0,0,.77778],YC=[.19444,.69224,0,0,.41667],XC=[.1808,.675,0,0,1],QC=[.19444,.69224,0,0,.83334],tS=[.13667,.63667,0,0,1],eS=[-.064,.437,0,0,1.334],oS=[.08167,.58167,0,0,.77778],nS=[0,.69224,0,0,.72222],rS=[0,.69224,0,0,.66667],iS=[-.13313,.36687,0,0,.77778],sS=[.06062,.54986,0,0,.77778],lS=[0,.69224,0,0,.77778],aS=[.25583,.75583,0,0,.77778],dS=[.25142,.75726,0,0,.77778],cS=[.20576,.70576,0,0,.77778],hS=[.30274,.79383,0,0,.77778],uS=[.22958,.72958,0,0,.77778],pS=[.1808,.675,0,0,.77778],mS=[.13667,.63667,0,0,.77778],gS=[.13597,.63597,0,0,.77778],bS=[.03517,.54986,0,0,.77778],fS=[0,.675,0,0,.77778],wS=[.19444,.69224,0,0,.61111],xS=[0,.54986,0,0,.76042],kS=[0,.54986,0,0,.66667],yS=[.0391,.5391,0,0,.77778],vS=[.03517,.54986,0,0,1.33334],_S=[.38569,.88569,0,0,.77778],AS=[.23222,.74111,0,0,.77778],CS=[.19444,.69224,0,0,.77778],SS=[0,.37788,0,0,.5],ES=[0,.54986,0,0,.72222],MS=[0,.69224,0,0,.83334],DS=[.11111,.69224,0,0,.66667],TS=[.26167,.75726,0,0,.77778],BS=[.48256,.98256,0,0,.77778],LS=[.28481,.79383,0,0,.77778],PS=[.08167,.58167,0,0,.22222],IS=[.08167,.58167,0,0,.38889],zS=[0,.43056,.04028,0,.66667],RS=[.41951,.91951,0,0,.77778],FS=[.24982,.74947,0,0,.38865],OS=[.08319,.58283,0,0,.75623],VS=[0,.10803,0,0,.27764],NS=[0,.47534,0,0,.50181],$S=[.18906,.47534,0,0,.50181],KS=[0,.69141,0,0,.50181],qS=[.24982,.74947,0,0,.27764],HS=[0,.69141,0,0,.21471],jS=[.25,.75,0,0,.44722],WS=[0,.64444,0,0,.575],US=[.08556,.58556,0,0,.89444],GS=[0,.69444,0,0,.89444],ZS=[0,.68611,0,0,.9],JS=[0,.68611,0,0,.86944],YS=[.25,.75,0,0,.575],XS=[.25,.75,0,0,.31944],QS=[0,.69444,0,0,.63889],tE=[0,.69444,0,0,.31944],eE=[0,.44444,0,0,.63889],oE=[0,.44444,0,0,.51111],nE=[0,.69444,0,0,.575],rE=[.13333,.63333,0,0,.89444],iE=[0,.44444,0,0,.31944],sE=[0,.69444,0,0,.86944],lE=[0,.68611,0,0,.69166],aE=[0,.68611,0,0,.83055],dE=[0,.68611,0,0,.89444],cE=[0,.69444,0,0,.60278],hE=[.19444,.69444,0,0,.51111],uE=[0,.69444,0,0,.83055],pE=[-.10889,.39111,0,0,1.14999],mE=[.19444,.69444,0,0,.575],gE=[.19444,.69444,0,0,1.14999],bE=[.19444,.69444,0,0,.70277],fE=[.05556,.75,0,0,.575],wE=[0,.68611,0,0,.95833],xE=[.08556,.58556,0,0,.76666],kE=[-.02639,.47361,0,0,.575],yE=[0,.44444,0,0,.89444],vE=[0,.55556,0,0,.76666],_E=[-.10889,.39111,0,0,.89444],AE=[.00222,.50222,0,0,.89444],CE=[.19667,.69667,0,0,.89444],SE=[.08556,.58556,0,0,1.14999],EE=[0,.69444,0,0,.70277],ME=[-.02778,.47222,0,0,.575],DE=[.25,.75,0,0,.51111],TE=[-.13889,.36111,0,0,1.14999],BE=[.19444,.69444,0,0,1.02222],LE=[.12963,.69444,0,0,.89444],PE=[.19444,.69444,0,0,.44722],IE=[0,.64444,.13167,0,.59111],zE=[.19444,.64444,.13167,0,.59111],RE=[0,.68611,.17208,0,.8961],FE=[.19444,.44444,.105,0,.53222],OE=[0,.44444,.085,0,.82666],VE=[0,.69444,.06709,0,.59111],NE=[0,.69444,.12945,0,.35555],$E=[0,.69444,0,0,.94888],KE=[0,.69444,.11472,0,.59111],qE=[0,.68611,.10778,0,.88555],HE=[0,.69444,.07939,0,.62055],jE=[0,.69444,.12417,0,.30667],WE=[0,.64444,.13556,0,.51111],UE=[.19444,.64444,.13556,0,.51111],GE=[0,.68333,.16389,0,.74333],ZE=[.19444,.43056,.08847,0,.46],JE=[0,.43056,.07514,0,.71555],YE=[0,.69444,.06646,0,.51111],XE=[0,.69444,0,0,.83129],QE=[0,.69444,.1225,0,.51111],tM=[0,.68333,.09403,0,.76666],eM=[0,.68333,.11111,0,.76666],oM=[0,.69444,.06961,0,.51444],nM=[0,.69444,0,0,.27778],rM=[.25,.75,0,0,.38889],iM=[0,.64444,0,0,.5],sM=[0,.69444,0,0,.77778],lM=[0,.68333,0,0,.75],aM=[0,.68333,0,0,.77778],dM=[0,.68333,0,0,.68056],cM=[0,.68333,0,0,.72222],hM=[.25,.75,0,0,.5],uM=[.25,.75,0,0,.27778],pM=[0,.69444,0,0,.5],mM=[0,.69444,0,0,.55556],gM=[0,.43056,0,0,.44445],bM=[0,.43056,0,0,.5],fM=[.19444,.43056,0,0,.55556],wM=[0,.43056,0,0,.55556],xM=[.08333,.58333,0,0,.77778],kM=[0,.43056,0,0,.27778],yM=[0,.66786,0,0,.27778],vM=[0,.69444,0,0,.75],_M=[0,.66786,0,0,.5],AM=[0,.68333,0,0,.625],CM=[.19444,.69444,0,0,.44445],SM=[0,.69444,0,0,.72222],EM=[.19444,.69444,0,0,.5],MM=[.19444,.69444,0,0,1],DM=[.011,.511,0,0,1.126],TM=[.19444,.69444,0,0,.61111],BM=[.05556,.75,0,0,.5],LM=[0,.68333,0,0,.83334],PM=[.0391,.5391,0,0,.66667],IM=[-.05555,.44445,0,0,.5],zM=[0,.43056,0,0,.77778],RM=[0,.55556,0,0,.66667],FM=[-.03625,.46375,0,0,.77778],OM=[-.01688,.48312,0,0,.77778],VM=[.0391,.5391,0,0,1],NM=[0,.69444,0,0,.61111],$M=[-.03472,.46528,0,0,.5],KM=[.25,.75,0,0,.44445],qM=[-.14236,.35764,0,0,1],HM=[.244,.744,0,0,.412],jM=[.19444,.69444,0,0,.88889],WM=[.12963,.69444,0,0,.77778],UM=[.19444,.69444,0,0,.38889],GM=[.011,.511,0,0,1.638],ZM=[.19444,.69444,0,0,0],JM=[0,.44444,0,0,.575],YM=[.19444,.44444,0,0,.575],XM=[0,.68611,0,0,.75555],QM=[0,.69444,0,0,.66759],tD=[0,.68611,0,0,.80555],eD=[0,.68611,.08229,0,.98229],oD=[0,.68611,0,0,.76666],nD=[0,.44444,0,0,.58472],rD=[.19444,.44444,0,0,.6118],iD=[.19444,.43056,0,0,.5],sD=[0,.68333,.02778,.08334,.76278],lD=[0,.68333,.08125,.05556,.83125],aD=[0,.43056,0,.05556,.48472],dD=[.19444,.43056,0,.08334,.51702],cD=[.25,.75,0,0,.42778],hD=[0,.69444,0,0,.55],uD=[0,.69444,0,0,.73334],pD=[0,.69444,0,0,.79445],mD=[0,.69444,0,0,.51945],gD=[0,.69444,0,0,.70278],bD=[0,.69444,0,0,.76389],fD=[.25,.75,0,0,.34306],wD=[0,.69444,0,0,.56111],xD=[0,.69444,0,0,.25556],kD=[.19444,.45833,0,0,.56111],yD=[0,.45833,0,0,.56111],vD=[0,.69444,0,0,.30556],_D=[0,.69444,0,0,.58056],AD=[0,.69444,0,0,.67223],CD=[0,.69444,0,0,.85556],SD=[0,.69444,0,0,.55834],ED=[0,.65556,.11156,0,.5],MD=[0,.69444,.08094,0,.70834],DD=[.17014,0,0,0,.44445],TD=[0,.69444,.0799,0,.5],BD=[0,.69444,0,0,.73752],LD=[0,.69444,.09205,0,.5],PD=[0,.69444,.09031,0,.77778],ID=[0,.69444,.07816,0,.27778],zD=[0,.69444,.00316,0,.5],RD=[.19444,.69444,0,0,.83334],FD=[.05556,.75,0,0,.83334],OD=[0,.75,0,0,.5],VD=[.125,.08333,0,0,.27778],ND=[0,.08333,0,0,.27778],$D=[0,.65556,0,0,.5],KD=[0,.69444,0,0,.47222],qD=[0,.69444,0,0,.66667],HD=[0,.69444,0,0,.59722],jD=[0,.69444,0,0,.54167],WD=[0,.69444,0,0,.70834],UD=[.25,.75,0,0,.28889],GD=[0,.69444,0,0,.51667],ZD=[0,.44444,0,0,.44445],JD=[.19444,.44444,0,0,.51667],YD=[0,.44444,0,0,.38333],XD=[0,.44444,0,0,.51667],QD=[0,.69444,0,0,.83334],tT=[.35001,.85,0,0,.45834],eT=[.35001,.85,0,0,.57778],oT=[.35001,.85,0,0,.41667],nT=[.35001,.85,0,0,.58334],rT=[0,.72222,0,0,.55556],iT=[1e-5,.6,0,0,.66667],sT=[1e-5,.6,0,0,.77778],lT=[.25001,.75,0,0,.94445],aT=[.306,.805,.19445,0,.47222],dT=[.30612,.805,.19445,0,.47222],cT=[.25001,.75,0,0,.83334],hT=[.35001,.85,0,0,.47222],uT=[.25001,.75,0,0,1.11111],pT=[.65002,1.15,0,0,.59722],mT=[.65002,1.15,0,0,.81111],gT=[.65002,1.15,0,0,.47222],bT=[.65002,1.15,0,0,.66667],fT=[0,.75,0,0,1],wT=[.55001,1.05,0,0,1.27778],xT=[.862,1.36,.44445,0,.55556],kT=[.86225,1.36,.44445,0,.55556],yT=[.55001,1.05,0,0,1.11111],vT=[.65002,1.15,0,0,.52778],_T=[.65002,1.15,0,0,.61111],AT=[.55001,1.05,0,0,1.51112],CT=[.95003,1.45,0,0,.73611],ST=[.95003,1.45,0,0,1.04445],ET=[.95003,1.45,0,0,.52778],MT=[.95003,1.45,0,0,.75],DT=[0,.75,0,0,1.44445],TT=[.95003,1.45,0,0,.58334],BT=[1.25003,1.75,0,0,.79167],LT=[1.25003,1.75,0,0,1.27778],PT=[1.25003,1.75,0,0,.58334],IT=[1.25003,1.75,0,0,.80556],zT=[0,.825,0,0,1.8889],RT=[1.25003,1.75,0,0,.63889],FT=[.64502,1.155,0,0,.875],OT=[1e-5,.6,0,0,.875],VT=[-99e-5,.601,0,0,.66667],NT=[.64502,1.155,0,0,.66667],$T=[1e-5,.9,0,0,.88889],KT=[.65002,1.15,0,0,.88889],qT=[.90001,0,0,0,.88889],HT=[-.00499,.605,0,0,1.05556],jT=[0,.12,0,0,.45],WT=[0,.61111,0,0,.525],UT=[.08333,.69444,0,0,.525],GT=[-.08056,.53055,0,0,.525],ZT=[-.05556,.55556,0,0,.525],JT=[0,.43056,0,0,.525],YT=[.22222,.43056,0,0,.525],XT=[0,0,0,0,.525],QT={"AMS-Regular":{32:VC,65:PC,66:IC,67:PC,68:PC,69:IC,70:RC,71:zC,72:zC,73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:zC,76:IC,77:[0,.68889,0,0,.94445],78:PC,79:FC,80:RC,81:FC,82:PC,83:OC,84:IC,85:PC,86:PC,87:[0,.68889,0,0,1],88:PC,89:PC,90:IC,107:OC,160:VC,165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:OC,295:KC,710:NC,732:$C,770:NC,771:$C,989:oS,1008:zS,8245:[0,.54986,0,0,.275],8463:KC,8487:PC,8498:OC,8502:IC,8503:[0,.68889,0,0,.44445],8504:IC,8513:[0,.68889,0,0,.63889],8592:qC,8594:qC,8602:HC,8603:HC,8606:jC,8608:jC,8610:WC,8611:WC,8619:UC,8620:UC,8621:[-.13313,.37788,0,0,1.38889],8622:HC,8624:GC,8625:GC,8630:ZC,8631:ZC,8634:JC,8635:JC,8638:YC,8639:YC,8642:YC,8643:YC,8644:XC,8646:XC,8647:XC,8648:QC,8649:XC,8650:QC,8651:jC,8652:jC,8653:HC,8654:HC,8655:HC,8666:tS,8667:tS,8669:[-.13313,.37788,0,0,1],8672:eS,8674:eS,8705:[0,.825,0,0,.5],8708:OC,8709:oS,8717:[0,.43056,0,0,.42917],8722:qC,8724:[.08198,.69224,0,0,.77778],8726:oS,8733:lS,8736:nS,8737:nS,8738:[.03517,.52239,0,0,.72222],8739:PS,8740:[.25142,.74111,0,0,.27778],8741:IS,8742:[.25142,.74111,0,0,.5],8756:rS,8757:rS,8764:iS,8765:[-.13313,.37788,0,0,.77778],8769:iS,8770:FM,8774:hS,8776:OM,8778:oS,8782:sS,8783:sS,8785:JC,8786:JC,8787:JC,8790:lS,8791:uS,8796:[.08198,.91667,0,0,.77778],8806:aS,8807:aS,8808:dS,8809:dS,8812:[.25583,.75583,0,0,.5],8814:cS,8815:cS,8816:hS,8817:hS,8818:uS,8819:uS,8822:pS,8823:pS,8828:mS,8829:mS,8830:uS,8831:uS,8832:cS,8833:cS,8840:hS,8841:hS,8842:gS,8843:gS,8847:bS,8848:bS,8858:JC,8859:JC,8861:JC,8862:fS,8863:fS,8864:fS,8865:fS,8872:[0,.69224,0,0,.61111],8873:nS,8874:[0,.69224,0,0,.88889],8876:RC,8877:RC,8878:PC,8879:PC,8882:bS,8883:bS,8884:mS,8885:mS,8888:[0,.54986,0,0,1.11111],8890:fM,8891:wS,8892:wS,8901:[0,.54986,0,0,.27778],8903:oS,8905:oS,8906:oS,8907:lS,8908:lS,8909:[-.03598,.46402,0,0,.77778],8910:xS,8911:xS,8912:bS,8913:bS,8914:kS,8915:kS,8916:rS,8918:yS,8919:yS,8920:vS,8921:vS,8922:_S,8923:_S,8926:mS,8927:mS,8928:hS,8929:hS,8934:AS,8935:AS,8936:AS,8937:AS,8938:cS,8939:cS,8940:hS,8941:hS,8994:CS,8995:CS,9416:[.15559,.69224,0,0,.90222],9484:GC,9488:GC,9492:SS,9496:SS,9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:fS,9633:fS,9650:ES,9651:ES,9654:bS,9660:ES,9661:ES,9664:bS,9674:DS,9733:[.19444,.69224,0,0,.94445],10003:MS,10016:MS,10731:DS,10846:[.19444,.75583,0,0,.61111],10877:mS,10878:mS,10885:aS,10886:aS,10887:gS,10888:gS,10889:TS,10890:TS,10891:BS,10892:BS,10901:mS,10902:mS,10933:dS,10934:dS,10935:TS,10936:TS,10937:TS,10938:TS,10949:aS,10950:aS,10955:LS,10956:LS,57350:PS,57351:IS,57352:oS,57353:zS,57356:dS,57357:dS,57358:RS,57359:hS,57360:hS,57361:RS,57366:dS,57367:dS,57368:dS,57369:dS,57370:gS,57371:gS},"Caligraphic-Regular":{32:VC,65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:VC},"Fraktur-Regular":{32:VC,33:[0,.69141,0,0,.29574],34:HS,38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:FS,41:FS,42:[0,.62119,0,0,.27764],43:OS,44:VS,45:OS,46:VS,47:[.24982,.74947,0,0,.50181],48:NS,49:NS,50:NS,51:$S,52:$S,53:$S,54:KS,55:$S,56:KS,57:$S,58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:qS,93:qS,94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:VC,8216:HS,8217:HS,58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:VC,33:[0,.69444,0,0,.35],34:cE,35:[.19444,.69444,0,0,.95833],36:fE,37:[.05556,.75,0,0,.95833],38:GS,39:tE,40:jS,41:jS,42:[0,.75,0,0,.575],43:rE,44:[.19444,.15556,0,0,.31944],45:YD,46:[0,.15556,0,0,.31944],47:YS,48:WS,49:WS,50:WS,51:WS,52:WS,53:WS,54:WS,55:WS,56:WS,57:WS,58:iE,59:[.19444,.44444,0,0,.31944],60:US,61:_E,62:US,63:[0,.69444,0,0,.54305],64:GS,65:JS,66:[0,.68611,0,0,.81805],67:aE,68:[0,.68611,0,0,.88194],69:XM,70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:ZS,73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:lE,77:[0,.68611,0,0,1.09166],78:ZS,79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:JS,89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:XS,92:YS,93:XS,94:nE,95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:QS,99:oE,100:QS,101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:QS,105:tE,106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:tE,109:[0,.44444,0,0,.95833],110:eE,111:JM,112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:eE,118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:oE,123:YS,124:XS,125:YS,126:[.35,.34444,0,0,.575],160:VC,163:[0,.69444,0,0,.86853],168:nE,172:[0,.44444,0,0,.76666],176:sE,177:rE,184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:rE,216:[.04861,.73472,0,0,.89444],223:HD,230:[0,.44444,0,0,.83055],247:rE,248:[.09722,.54167,0,0,.575],305:iE,338:[0,.68611,0,0,1.16944],339:yE,567:[.19444,.44444,0,0,.35139],710:nE,711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:nE,715:nE,728:nE,729:tE,730:sE,732:nE,733:nE,915:lE,916:wE,920:dE,923:tD,926:oD,928:ZS,931:aE,933:dE,934:aE,936:dE,937:aE,8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:tE,8217:tE,8220:cE,8221:cE,8224:hE,8225:hE,8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:QM,8465:uE,8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:uE,8501:EE,8592:pE,8593:mE,8594:pE,8595:mE,8596:pE,8597:YS,8598:gE,8599:gE,8600:gE,8601:gE,8636:pE,8637:pE,8640:pE,8641:pE,8656:pE,8657:bE,8658:pE,8659:bE,8660:pE,8661:[.25,.75,0,0,.70277],8704:QS,8706:[0,.69444,.06389,0,.62847],8707:QS,8709:fE,8711:wE,8712:xE,8715:xE,8722:rE,8723:rE,8725:YS,8726:YS,8727:ME,8728:kE,8729:kE,8730:[.18,.82,0,0,.95833],8733:yE,8734:[0,.44444,0,0,1.14999],8736:nS,8739:XS,8741:YS,8743:vE,8744:vE,8745:vE,8746:vE,8747:[.19444,.69444,.12778,0,.56875],8764:_E,8768:[.19444,.69444,0,0,.31944],8771:AE,8776:[.02444,.52444,0,0,.89444],8781:AE,8801:AE,8804:CE,8805:CE,8810:SE,8811:SE,8826:US,8827:US,8834:US,8835:US,8838:CE,8839:CE,8846:vE,8849:CE,8850:CE,8851:vE,8852:vE,8853:rE,8854:rE,8855:rE,8856:rE,8857:rE,8866:EE,8867:EE,8868:GS,8869:GS,8900:kE,8901:[-.02639,.47361,0,0,.31944],8902:ME,8968:DE,8969:DE,8970:DE,8971:DE,8994:TE,8995:TE,9651:BE,9657:ME,9661:BE,9667:ME,9711:gE,9824:LE,9825:LE,9826:LE,9827:LE,9837:[0,.75,0,0,.44722],9838:PE,9839:PE,10216:jS,10217:jS,10815:ZS,10927:CE,10928:CE,57376:ZM},"Main-BoldItalic":{32:VC,33:[0,.69444,.11417,0,.38611],34:HE,35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:NE,40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:IE,49:IE,50:IE,51:IE,52:zE,53:IE,54:IE,55:zE,56:IE,57:IE,58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:KE,64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:RE,73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:RE,79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:VE,95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:FE,104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:FE,114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:VC,168:[0,.69444,.11473,0,.59111],176:$E,184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:OE,248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:OE,567:[.19444,.44444,.04611,0,.385],710:VE,711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:NE,730:$E,732:KE,733:KE,915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:RE,931:[0,.68611,.11431,0,.82666],933:qE,934:[0,.68611,.05632,0,.82666],936:qE,937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:NE,8217:NE,8220:[0,.69444,.16772,0,.62055],8221:HE},"Main-Italic":{32:VC,33:jE,34:oM,35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:jE,40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:WE,49:WE,50:WE,51:WE,52:UE,53:WE,54:WE,55:UE,56:WE,57:WE,58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:QE,64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:GE,73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:GE,79:tM,80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:GE,86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:YE,95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:ZE,104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:ZE,114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:VC,168:[0,.66786,.10474,0,.51111],176:XE,184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:JE,248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:JE,710:YE,711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:XE,732:[0,.66786,.11585,0,.51111],733:QE,915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:tM,923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:GE,931:[0,.68333,.12028,0,.71555],933:eM,934:[0,.68333,.05986,0,.71555],936:eM,937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:jE,8217:jE,8220:[0,.69444,.1685,0,.51444],8221:oM,8463:KC},"Main-Regular":{32:VC,33:nM,34:pM,35:RD,36:BM,37:FD,38:sM,39:nM,40:rM,41:rM,42:OD,43:xM,44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:hM,48:iM,49:iM,50:iM,51:iM,52:iM,53:iM,54:iM,55:iM,56:iM,57:iM,58:kM,59:[.19444,.43056,0,0,.27778],60:yS,61:iS,62:yS,63:KD,64:sM,65:lM,66:[0,.68333,0,0,.70834],67:cM,68:[0,.68333,0,0,.76389],69:dM,70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:lM,73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:aM,76:AM,77:[0,.68333,0,0,.91667],78:lM,79:aM,80:dM,81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:cM,85:lM,86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:lM,89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:uM,92:hM,93:uM,94:pM,95:[.31,.12056,.02778,0,.5],97:bM,98:mM,99:gM,100:mM,101:gM,102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:mM,105:yM,106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:nM,109:[0,.43056,0,0,.83334],110:wM,111:bM,112:fM,113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:wM,118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:gM,123:hM,124:uM,125:hM,126:[.35,.31786,0,0,.5],160:VC,163:[0,.69444,0,0,.76909],167:CM,168:_M,172:[0,.43056,0,0,.66667],176:vM,177:xM,182:TM,184:DD,198:[0,.68333,0,0,.90278],215:xM,216:[.04861,.73194,0,0,.77778],223:pM,230:[0,.43056,0,0,.72222],247:xM,248:[.09722,.52778,0,0,.5],305:kM,338:[0,.68333,0,0,1.01389],339:zM,567:[.19444,.43056,0,0,.30556],710:pM,711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:pM,715:pM,728:pM,729:yM,730:vM,732:_M,733:pM,915:AM,916:LM,920:aM,923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:lM,931:cM,933:aM,934:cM,936:aM,937:cM,8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:nM,8217:nM,8220:pM,8221:pM,8224:CM,8225:CM,8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:KC,8465:SM,8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:SM,8501:NM,8592:HC,8593:EM,8594:HC,8595:EM,8596:HC,8597:hM,8598:MM,8599:MM,8600:MM,8601:MM,8614:[.011,.511,0,0,1],8617:DM,8618:DM,8636:HC,8637:HC,8640:HC,8641:HC,8652:[.011,.671,0,0,1],8656:HC,8657:TM,8658:HC,8659:TM,8660:HC,8661:[.25,.75,0,0,.61111],8704:mM,8706:[0,.69444,.05556,.08334,.5309],8707:mM,8709:BM,8711:LM,8712:PM,8715:PM,8722:xM,8723:xM,8725:hM,8726:hM,8727:$M,8728:IM,8729:IM,8730:[.2,.8,0,0,.83334],8733:zM,8734:ZC,8736:nS,8739:uM,8741:hM,8743:RM,8744:RM,8745:RM,8746:RM,8747:[.19444,.69444,.11111,0,.41667],8764:iS,8768:[.19444,.69444,0,0,.27778],8771:FM,8773:[-.022,.589,0,0,1],8776:OM,8781:FM,8784:[-.133,.67,0,0,.778],8801:FM,8804:gS,8805:gS,8810:VM,8811:VM,8826:yS,8827:yS,8834:yS,8835:yS,8838:gS,8839:gS,8846:RM,8849:gS,8850:gS,8851:RM,8852:RM,8853:xM,8854:xM,8855:xM,8856:xM,8857:xM,8866:NM,8867:NM,8868:sM,8869:sM,8872:[.249,.75,0,0,.867],8900:IM,8901:[-.05555,.44445,0,0,.27778],8902:$M,8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:KM,8969:KM,8970:KM,8971:KM,8994:qM,8995:qM,9136:HM,9137:HM,9651:jM,9657:$M,9661:jM,9667:$M,9711:MM,9824:WM,9825:WM,9826:WM,9827:WM,9837:[0,.75,0,0,.38889],9838:UM,9839:UM,10216:rM,10217:rM,10222:HM,10223:HM,10229:[.011,.511,0,0,1.609],10230:GM,10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:GM,10815:lM,10927:gS,10928:gS,57376:ZM},"Math-BoldItalic":{32:VC,48:JM,49:JM,50:JM,51:YM,52:YM,53:YM,54:WS,55:YM,56:WS,57:YM,65:JS,66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:eD,73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:XM,77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:QM,105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:nD,112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:VC,915:[0,.68611,.15972,0,.65694],916:wE,920:[0,.68611,.03194,0,.86722],923:tD,926:[0,.68611,.07458,0,.84125],928:eD,931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:oD,936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:nD,960:[0,.44444,.03704,0,.68241],961:rD,962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:rD,1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:VC,48:bM,49:bM,50:bM,51:iD,52:iD,53:iD,54:iM,55:iD,56:iM,57:iD,65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:lD,73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:sD,80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:aD,112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:VC,915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:sD,923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:lD,931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:aD,960:[0,.43056,.03588,0,.57003],961:dD,962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:dD,1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:VC,33:[0,.69444,0,0,.36667],34:SD,35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:vD,40:cD,41:cD,42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:hD,49:hD,50:hD,51:hD,52:hD,53:hD,54:hD,55:hD,56:hD,57:hD,58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:mD,64:uD,65:uD,66:uD,67:gD,68:pD,69:[0,.69444,0,0,.64167],70:NM,71:uD,72:pD,73:[0,.69444,0,0,.33056],74:mD,75:bD,76:_D,77:[0,.69444,0,0,.97778],78:pD,79:pD,80:gD,81:[.10556,.69444,0,0,.79445],82:gD,83:NM,84:uD,85:bD,86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:uD,89:[0,.69444,.0275,0,.73334],90:AD,91:fD,93:fD,94:hD,95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:wD,99:[0,.45833,0,0,.48889],100:wD,101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:wD,105:xD,106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:xD,109:[0,.45833,0,0,.86667],110:yD,111:[0,.45833,0,0,.55],112:kD,113:kD,114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:yD,118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:VC,168:hD,176:uD,180:hD,184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:hD,711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:hD,729:vD,730:uD,732:hD,733:hD,915:_D,916:[0,.69444,0,0,.91667],920:CD,923:AD,926:uD,928:pD,931:pD,933:CD,934:pD,936:CD,937:pD,8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:vD,8217:vD,8220:SD,8221:SD},"SansSerif-Italic":{32:VC,33:[0,.69444,.05733,0,.31945],34:zD,35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:ID,40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:VD,45:[0,.44444,.01946,0,.33333],46:ND,47:[.25,.75,.13164,0,.5],48:ED,49:ED,50:ED,51:ED,52:ED,53:ED,54:ED,55:ED,56:ED,57:ED,58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:qD,66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:MD,73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:jD,77:[0,.69444,.08094,0,.875],78:MD,79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:TD,95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:VC,168:[0,.67937,.06385,0,.5],176:BD,184:DD,305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:TD,711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:LD,715:pM,728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:BD,732:[0,.67659,.08826,0,.5],733:LD,915:[0,.69444,.13372,0,.54167],916:QD,920:[0,.69444,.07555,0,.77778],923:NM,926:[0,.69444,.12816,0,.66667],928:MD,931:[0,.69444,.11983,0,.72222],933:PD,934:[0,.69444,.04603,0,.72222],936:PD,937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:ID,8217:ID,8220:[0,.69444,.14205,0,.5],8221:zD},"SansSerif-Regular":{32:VC,33:[0,.69444,0,0,.31945],34:pM,35:RD,36:BM,37:FD,38:[0,.69444,0,0,.75834],39:nM,40:rM,41:rM,42:OD,43:xM,44:VD,45:[0,.44444,0,0,.33333],46:ND,47:hM,48:$D,49:$D,50:$D,51:$D,52:$D,53:$D,54:$D,55:$D,56:$D,57:$D,58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:KD,64:qD,65:qD,66:qD,67:QS,68:[0,.69444,0,0,.72223],69:HD,70:[0,.69444,0,0,.56945],71:qD,72:WD,73:nM,74:KD,75:[0,.69444,0,0,.69445],76:jD,77:[0,.69444,0,0,.875],78:WD,79:[0,.69444,0,0,.73611],80:QS,81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:mM,84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:qD,89:[0,.69444,.025,0,.66667],90:NM,91:UD,93:UD,94:pM,95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:GD,99:ZD,100:GD,101:ZD,102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:GD,105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:XD,111:[0,.44444,0,0,.5],112:JD,113:JD,114:[0,.44444,.01389,0,.34167],115:YD,116:[0,.57143,0,0,.36111],117:XD,118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:VC,168:[0,.67937,0,0,.5],176:qD,184:DD,305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:pM,711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:pM,715:pM,728:pM,729:[0,.67937,0,0,.27778],730:qD,732:[0,.67659,0,0,.5],733:pM,915:jD,916:QD,920:sM,923:NM,926:qD,928:WD,931:SM,933:sM,934:SM,936:sM,937:SM,8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:nM,8217:nM,8220:pM,8221:pM},"Script-Regular":{32:VC,65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:VC},"Size1-Regular":{32:VC,40:tT,41:tT,47:eT,91:oT,92:eT,93:oT,123:nT,125:nT,160:VC,710:rT,732:rT,770:rT,771:rT,8214:[-99e-5,.601,0,0,.77778],8593:iT,8595:iT,8657:sT,8659:sT,8719:lT,8720:lT,8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:dT,8748:aT,8749:aT,8750:dT,8896:cT,8897:cT,8898:cT,8899:cT,8968:hT,8969:hT,8970:hT,8971:hT,9168:VT,10216:hT,10217:hT,10752:uT,10753:uT,10754:uT,10756:cT,10758:cT},"Size2-Regular":{32:VC,40:pT,41:pT,47:mT,91:gT,92:mT,93:gT,123:bT,125:bT,160:VC,710:fT,732:fT,770:fT,771:fT,8719:wT,8720:wT,8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:kT,8748:xT,8749:xT,8750:kT,8896:yT,8897:yT,8898:yT,8899:yT,8968:vT,8969:vT,8970:vT,8971:vT,10216:_T,10217:_T,10752:AT,10753:AT,10754:AT,10756:yT,10758:yT},"Size3-Regular":{32:VC,40:CT,41:CT,47:ST,91:ET,92:ST,93:ET,123:MT,125:MT,160:VC,710:DT,732:DT,770:DT,771:DT,8730:[.95003,1.45,0,0,1],8968:TT,8969:TT,8970:TT,8971:TT,10216:MT,10217:MT},"Size4-Regular":{32:VC,40:BT,41:BT,47:LT,91:PT,92:LT,93:PT,123:IT,125:IT,160:VC,710:zT,732:zT,770:zT,771:zT,8730:[1.25003,1.75,0,0,1],8968:RT,8969:RT,8970:RT,8971:RT,9115:FT,9116:OT,9117:FT,9118:FT,9119:OT,9120:FT,9121:NT,9122:VT,9123:NT,9124:NT,9125:VT,9126:NT,9127:$T,9128:KT,9129:qT,9130:[0,.3,0,0,.88889],9131:$T,9132:KT,9133:qT,9143:[.88502,.915,0,0,1.05556],10216:IT,10217:IT,57344:HT,57345:HT,57680:jT,57681:jT,57682:jT,57683:jT},"Typewriter-Regular":{32:XT,33:WT,34:WT,35:WT,36:UT,37:UT,38:WT,39:WT,40:UT,41:UT,42:[0,.52083,0,0,.525],43:GT,44:[.13889,.125,0,0,.525],45:GT,46:[0,.125,0,0,.525],47:UT,48:WT,49:WT,50:WT,51:WT,52:WT,53:WT,54:WT,55:WT,56:WT,57:WT,58:JT,59:[.13889,.43056,0,0,.525],60:ZT,61:[-.19549,.41562,0,0,.525],62:ZT,63:WT,64:WT,65:WT,66:WT,67:WT,68:WT,69:WT,70:WT,71:WT,72:WT,73:WT,74:WT,75:WT,76:WT,77:WT,78:WT,79:WT,80:WT,81:[.13889,.61111,0,0,.525],82:WT,83:WT,84:WT,85:WT,86:WT,87:WT,88:WT,89:WT,90:WT,91:UT,92:UT,93:UT,94:WT,95:[.09514,0,0,0,.525],96:WT,97:JT,98:WT,99:JT,100:WT,101:JT,102:WT,103:YT,104:WT,105:WT,106:[.22222,.61111,0,0,.525],107:WT,108:WT,109:JT,110:JT,111:JT,112:YT,113:YT,114:JT,115:JT,116:[0,.55358,0,0,.525],117:JT,118:JT,119:JT,120:JT,121:YT,122:JT,123:UT,124:UT,125:UT,126:WT,127:WT,160:XT,176:WT,184:[.19445,0,0,0,.525],305:JT,567:YT,711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:WT,715:WT,728:WT,730:WT,770:WT,771:WT,776:WT,915:WT,916:WT,920:WT,923:WT,926:WT,928:WT,931:WT,933:WT,934:WT,936:WT,937:WT,8216:WT,8217:WT,8242:WT,9251:[.11111,.21944,0,0,.525]}},tB=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,eB=10,oB=.25,nB=.431,rB={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[nB,nB,nB],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.5,.732,.925],num2:[.394,.384,.5],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[oB,oB,oB],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},iB=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sB=5,lB={" ":" ","​":" ",Å:"A",Ç:"C",Ð:"D",Þ:"o",å:"a",ç:"c",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function aB(t,e){void 0===t&&(t=77);let o=QT[e][t];if(o)return{defaultMetrics:!1,depth:o[0],height:o[1],italic:o[2],skew:o[3],width:o[4]};if(11034===t)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0,width:.8};let n=String.fromCodePoint(t);if(n in lB)t=lB[n].codePointAt(0);else if(tB.test(n))return t=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0,width:1};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0,width:.8}}var dB={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],longrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],longleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],longleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],longrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],longleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],longleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],longRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716],longLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},cB={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},hB={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:"m 529 160\n  c -179 0 -524 -115 -524 -115\n  c -5 -1 -9 -5 -9 -10\n  c 0 -1 1 -2 1 -3\n  l 4 -22\n  c 1 -5 5 -9 11 -9\n  h 2\n  s 338 93 512 92\n  c 174 0 513 -92 513 -92\n  h 2\n  c 5 0 9 4 11 9\n  l 5 22\n  c 1 6 -2 12 -8 13\n  c 0 0 -342 115 -520 115\n  z\n  ",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",widetilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",widetilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",widetilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",widetilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};var uB,pB=8205,mB=[[pB,1],[65038,2],[127995,5],[129456,4],[917536,96]],gB=[127462,127487];function bB(t){var e;if(void 0===uB){uB={};for(let t of mB)for(let e=t[0];e<=t[0]+t[1]-1;e++)uB[e]=!0}return null!=(e=uB[t])&&e}function fB(t){return t>=gB[0]&&t<=gB[1]}function wB(t){if(/^[\u0020-\u00FF]*$/.test(t))return t;let e=[],o=function(t){let e=[];for(let o=0;o<t.length;o++){let n=t.charCodeAt(o);if(13===n&&10===t.charCodeAt(o+1)&&(n=10,o++),(13===n||12===n)&&(n=10),0===n&&(n=65533),n>=55296&&n<=56319){let e=t.charCodeAt(o+1);e>=56320&&e<=57343&&(n=65536+1024*(n-55296)+(e-56320),o++)}e.push(n)}return e}(t),n=0;for(;n<o.length;){let t=o[n++],r=o[n];if(r===pB){let t=n-1;for(n+=2;o[n]===pB;)n+=2;e.push(String.fromCodePoint(...o.slice(t,n-t+1)))}else if(bB(r)){let t=n-1;for(;bB(o[n]);)n+=o[n]===pB?2:1;e.push(String.fromCodePoint(...o.slice(t,2*n-t-1)))}else fB(t)?(n+=1,e.push(String.fromCodePoint(...o.slice(n-2,2)))):e.push(String.fromCodePoint(t))}return e}var xB=class{constructor(t){this.obeyspaces=!1,this.pos=0,this.s=wB(t)}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(t){let e="string"==typeof this.s?t.exec(this.s.slice(this.pos)):t.exec(this.s.slice(this.pos).join(""));return null!=e&&e[0]?(this.pos+=e[0].length,e[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";let t=this.get();if("\\"===t){if(!this.end()){let t=this.match(/^[a-zA-Z\*]+/);return t?this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/):t=this.get(),"\\"+t}}else{if("{"===t)return"<{>";if("}"===t)return"<}>";if("^"===t){if("^"===this.peek()){this.get();let t=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(t)return String.fromCodePoint(Number.parseInt(t.slice(t.lastIndexOf("^")+1),16))}return t}if("#"===t){if(!this.end()){let t=!1;if(/[\d?@]/.test(this.peek())&&(t=!0,this.pos+1<this.s.length)){let e=this.s[this.pos+1];t=/[^\dA-Za-z]/.test(e)}return t?"#"+this.get():"#"}}else if("$"===t)return"$"===this.peek()?(this.get(),"<$$>"):"<$>"}return t}};function kB(t,e){var o,n,r,i;let s=[],l=t.next();if(l&&"\\relax"!==l)if("\\noexpand"===l)l=t.next(),l&&s.push(l);else if("\\obeyspaces"===l)t.obeyspaces=!0;else if("\\bgroup"===l)s.push("<{>");else if("\\egroup"===l)s.push("<}>");else if("\\string"===l){if(l=t.next(),l)if(l.startsWith("\\"))for(let t of l)s.push("\\"===t?"\\backslash":t);else"<{>"===l?s.push("\\{"):"<space>"===l?s.push("~"):"<}>"===l&&s.push("\\}")}else if("\\csname"===l){for(;"<space>"===t.peek();)t.next();let r="",i=!1,a=[];do{if(0===a.length)if(/^#[\d?@]$/.test(t.peek())){let r=t.get().slice(1);a=yB(null!=(n=null!=(o=null==e?void 0:e(r))?o:null==e?void 0:e("?"))?n:"\\placeholder{}",e),l=a[0]}else l=t.next(),a=l?[l]:[];i=0===a.length,!i&&"\\endcsname"===l&&(i=!0,a.shift()),i||(i="<$>"===l||"<$$>"===l||"<{>"===l||"<}>"===l||"string"==typeof l&&l.length>1&&l.startsWith("\\")),i||(r+=a.shift())}while(!i);r&&s.push("\\"+r),s.push(...a)}else if("\\endcsname"!==l)if(l.length>1&&l.startsWith("#")){let t=l.slice(1);s.push(...yB(null!=(i=null!=(r=null==e?void 0:e(t))?r:null==e?void 0:e("?"))?i:"\\placeholder{}",e))}else s.push(l);return s}function yB(t,e=null){if(!t)return[];let o=[],n="";for(let e of t.toString().split(/\r?\n/)){n&&o.push(n),n=" ";let t=e.match(/((?:\\%)|[^%])*/);null!==t&&o.push(t[0])}let r=new xB(o.join("")),i=[];do{i.push(...kB(r,e))}while(!r.end());return i}function vB(t){let e="",o=[];for(let n of t)n&&(e&&/^[a-zA-Z\*]/.test(n)&&o.push(e),o.push(n),/^\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(n)&&o.push(" "),e=/\\[a-zA-Z]+\*?$/.test(n)?" ":"");return o.join("")}function _B(t,...e){return t.startsWith("\\"),0===e.length?t:vB([t,...e.map((t=>`{${t}}`))])}function AB(t){return vB(t.map((t=>{var e;return null!=(e={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[t])?e:t})))}var CB=class t{constructor(e){t._registry[e]=this}static createAtom(e,o,n){return t._registry[e].createAtom(o,TC(o,e),n)}static serialize(e,o){var n;if(!e||0===e.length)return"";if(null!=(n=o.skipStyles)&&n){let n=[];for(let r of EB(e)){let e=t._registry[r[0].mode];n.push(...e.serialize(r,o))}return vB(n)}return vB(function(t,e){if(0===t.length)return[];let{parent:o}=t[0],n=null==o?void 0:o.style.fontSize,r=[];for(let i of TB(t,"fontSize")){let t=i[0].style.fontSize,s=LB(i,e);s&&(!t||"auto"===t||o&&n===t?r.push(...s):r.push(["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][t],...s))}return r}(e,o))}static getFont(e,o,n){return t._registry[e].getFont(o,n)}};CB._registry={};var SB=CB;function EB(t){let e=[],o=[],n="NONE";for(let r of t)"first"!==r.type&&(r.mode!==n?(o.length>0&&e.push(o),o=[r],n=r.mode):o.push(r));return o.length>0&&e.push(o),e}function MB(t){if(!t||"math"!==t.mode)return"";let{style:e}=t;return e&&e.variantStyle&&("bold"===e.variantStyle||"bolditalic"===e.variantStyle)?"bold":""}function DB(t){if(!t)return"";let{style:e}=t;if(!e)return"";let o=e.variant;return void 0===o?"normal":(!["calligraphic","fraktur","double-struck","script","monospace","sans-serif"].includes(o)&&e.variantStyle&&"up"!==e.variantStyle&&(o+="-"+e.variantStyle),o)}function TB(t,e){let o,n=[],r=[];for(let i of t){if("first"===i.type)continue;let t;t="variant"===e?DB(i):"bold"===e?MB(i):i.style[e],t===o?r.push(i):(r.length>0&&n.push(r),r=[i],o=t)}return r.length>0&&n.push(r),n}function BB(t,e){var o;let{parent:n}=t[0],r=null==n?void 0:n.style.color,i=[];for(let s of EB(t)){let t=e.defaultMode;for(let l of TB(s,"color")){let s=l[0].style,a=SB._registry[l[0].mode].serialize(l,IA(PA({},e),{defaultMode:"text"===t?"text":"math"}));e.skipStyles||!s.color||"none"===s.color||n&&r===s.color?i.push(vB(a)):i.push(_B("\\textcolor",null!=(o=s.verbatimColor)?o:s.color,vB(a)))}}return i}function LB(t,e){let{parent:o}=t[0],n=null==o?void 0:o.style.backgroundColor;return TB(t,"backgroundColor").map((t=>{var r;if(t.length>0||"box"!==t[0].type){let i=t[0].style;if(i.backgroundColor&&"none"!==i.backgroundColor&&(!o||n!==i.backgroundColor))return _B("\\colorbox",null!=(r=i.verbatimBackgroundColor)?r:i.backgroundColor,vB(BB(t,IA(PA({},e),{defaultMode:"text"}))))}return vB(BB(t,e))}))}function PB(t){return t?{mord:"ord",mbin:"bin",mop:"op",mrel:"rel",mopen:"open",mclose:"close",mpunct:"punct",minner:"inner",spacing:"ignore",latex:"latex",composition:"inner",error:"inner",placeholder:"ord",supsub:"ignore"}[t]:void 0}function IB(t){if(0===t.length)return"ord";let e=PB(t[0].type),o=PB(t[t.length-1].type);return e&&e===o?e:"ord"}function zB(t,e){if("string"==typeof t)return t;if("number"==typeof t){Number.isFinite(t);let o=Math.ceil(100*t)/100;return 0===o?"0":o.toString()+(null!=e?e:"")}return""}var RB=class t{constructor(e,o){var n,r,i,s,l;if("number"==typeof e?this.value=String.fromCodePoint(e):"string"==typeof e?this.value=e:FA(e)?this.children=e.filter((t=>null!==t)):e&&e instanceof t&&(this.children=[e]),this.children)for(let t of this.children)t.parent=this;this.type=null!=(n=null==o?void 0:o.type)?n:"ignore",this.isSelected=!0===(null==o?void 0:o.isSelected),null!=o&&o.caret&&(this.caret=o.caret),this.classes=null!=(r=null==o?void 0:o.classes)?r:"",this.isTight=null!=(i=null==o?void 0:o.isTight)&&i,null!=o&&o.attributes&&(this.attributes=o.attributes);let a=null==o?void 0:o.fontFamily;null!=o&&o.style&&this.value&&(a=null!=(l=SB.getFont(null!=(s=o.mode)?s:"math",this,IA(PA({variant:"normal"},o.style),{letterShapeStyle:o.letterShapeStyle})))?l:void 0),a||(a="Main-Regular"),this._height=0,this._depth=0,this._width=0,this.hasExplicitWidth=!1,this.skew=0,this.italic=0,this.maxFontSize=0,this.scale=1,void 0!==(null==o?void 0:o.maxFontSize)&&(this.maxFontSize=o.maxFontSize),function(t,e){var o;if("latex"===t.type)return t.height=.9,t.depth=.2,void(t._width=1);if(t.value){t.height=-1/0,t.depth=-1/0,t._width=0,t.skew=-1/0,t.italic=-1/0;for(let o=0;o<t.value.length;o++){let n=aB(t.value.codePointAt(o),e);t.height=Math.max(t.height,n.height),t.depth=Math.max(t.depth,n.depth),t._width+=n.width,t.skew=n.skew,t.italic=n.italic}return}if(t.children&&t.children.length>0){let e=-1/0,n=-1/0,r=0;for(let i of t.children)i.height>e&&(e=i.height),i.depth>n&&(n=i.depth),r=Math.max(r,null!=(o=i.maxFontSize)?o:0);t.height=e,t.depth=n,t._width=t.children.reduce(((t,e)=>t+e.width),0),t.maxFontSize=r}}(this,a)}set atomID(t){void 0===t||0===t.length||(this.id=t)}selected(t){if(this.isSelected!==t&&(this.isSelected=t,this.children))for(let e of this.children)e.selected(t)}setStyle(t,e,o){if(void 0===e)return;let n=zB(e,o);n.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[t]=n)}setTop(t){Number.isFinite(t)&&Math.abs(t)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=zB(t,"em"),this.height-=t,this.depth+=t)}get left(){var t;return null!=(t=this.cssProperties)&&t["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(t){Number.isFinite(t)&&(0===t?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=zB(t,"em")))}set right(t){Number.isFinite(t)&&(0===t?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=zB(t,"em")))}set bottom(t){Number.isFinite(t)&&(0===t?this.cssProperties&&delete this.cssProperties["margin-bottom"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-bottom"]=zB(t,"em")))}get width(){return this._width*this.scale}set width(t){this._width=t,this.hasExplicitWidth=!0}set softWidth(t){}get height(){return this._height*this.scale}set height(t){this._height=t}get depth(){return this._depth*this.scale}set depth(t){this._depth=t}wrap(t){let e=t.parent;if(!e)return this;t.isPhantom&&this.setStyle("opacity",0);let o=t.color;o&&o!==e.color&&this.setStyle("color",o);let n=t.backgroundColor;this.isSelected&&(n=eC(n)),n&&n!==e.backgroundColor&&(this.setStyle("background-color",n),this.setStyle("display","inline-block"));let r=t.scalingFactor;return this.scale=r,this.skew*=r,this.italic*=r,this}toMarkup(){var t,e,o,n;let r=null!=(t=this.value)?t:"";if(this.children)for(let t of this.children)r+=t.toMarkup();let i="";if(this.svgBody)i=function(t){if(cB[t]){let[e,o,n]=cB[t],r=`<span class="ML__stretchy" style="height:${n}em"><svg width="100%" height="${n}em" viewBox="0 0 ${e} ${o}" preserveAspectRatio="none" ><path fill="currentcolor" d="${hB[t]}"></path></svg></span>`;return`<span style="display:inline-block;height:${Math.floor(100*n/2)/100}em;min-width:0">${r}</span>`}let e,o,[n,r,i,s]=dB[t],l=i/1e3;3===n.length?(e=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],o=["xMinYMin","xMidYMin","xMaxYMin"]):2===n.length?(e=["slice-1-of-2","slice-2-of-2"],o=["xMinYMin","xMaxYMin"]):(e=["slice-1-of-1"],o=[s]);let a=n.map(((t,n)=>`<span class="${e[n]}" style=height:${l}em><svg width=400em height=${l}em viewBox="0 0 400000 ${i}" preserveAspectRatio="${o[n]} slice"><path fill="currentcolor" d="${hB[t]}"></path></svg></span>`)).join("");return`<span style="display:inline-block;height:${l}em;min-width:${r}em;">${a}</span>`}(this.svgBody);else if(this.svgOverlay){i='<span style="',i+="display: inline-block;",i+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`,i+=`vertical-align:${Math.floor(100*this.depth)/100}em;`,i+='">',i+=r,i+="</span>",i+='<svg style="position:absolute;overflow:visible;',i+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`;let t=null==(e=this.cssProperties)?void 0:e.padding;t?(i+=`top:${t};`,i+=`left:${t};`,i+=`width:calc(100% - 2 * ${t} );`):i+="top:0;left:0;width:100%;",i+="z-index:2;",i+='"',this.svgStyle&&(i+=this.svgStyle),i+=` viewBox="0 0 ${Math.floor(100*this.width)/100} ${Math.floor(100*(this.height+this.depth))/100}"`,i+=`>${this.svgOverlay}</svg>`}let s=[],l=this.classes.split(" ");l.push(null!=(o={latex:"ML__raw-latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])?o:""),"latex"===this.caret&&l.push("ML__latex-caret"),this.isSelected&&l.push("ML__selected");let a=1===l.length?l[0]:l.filter(((t,e,o)=>t.length>0&&o.indexOf(t)===e)).join(" ");if(a.length>0&&s.push(`class=${KB(`"${a}"`)}`),this.id&&s.push(` data-atom-id=${KB(this.id)}`),this.cssId&&s.push(` id=${KB(`"${this.cssId.replace(/ /g,"-")}"`)}`),this.attributes&&s.concat(Object.keys(this.attributes).map((t=>`${$B(t)}=${KB(this.attributes[t])}`))),this.htmlData){let t=this.htmlData.split(",");for(let e of t){let t=e.match(/([^=]+)=(.+$)/);if(t){let e=$B(t[1]);if(e)if("href"===e){let e=new URL(t[2]);if("http:"!==e.protocol&&"https:"!==e.protocol)throw new Error(`Invalid URL: ${t[2]}`);s.push(`href="${t[2].replace(/"/g,"&quot;")}"`)}else s.push(`data-${e}=${KB(t[2])}`)}else{let t=$B(e);t&&s.push(`data-${t} `)}}}let d=null!=(n=this.cssProperties)?n:{};this.hasExplicitWidth&&void 0===d.width&&(d.width=Math.ceil(100*this._width)/100+"em");let c=Object.keys(d).map((t=>`${t}:${d[t]}`));if(void 0!==this.scale&&1!==this.scale&&(r.length>0||i.length>0)&&c.push(`font-size: ${Math.ceil(1e4*this.scale)/100}%`),this.htmlStyle)for(let t of this.htmlStyle.split(";")){let e=t.match(/([^:]+):(.+$)/);if(e){let t=e[1].trim().replace(/ /g,"-");t&&c.push(`${t}:${e[2]}`)}}c.length>0&&s.push(`style=${KB(c.join(";"))}`);let h="";return h=s.length>0||i.length>0?`<span ${s.join(" ")}>${r}${i}</span>`:r,"text"===this.caret?h+='<span class="ML__text-caret"></span>':"math"===this.caret&&(h+='<span class="ML__caret"></span>'),h}tryCoalesceWith(t){if(this.svgBody||!this.value||t.svgBody||!t.value)return!1;let e=this.children&&this.children.length>0,o=t.children&&t.children.length>0;if(e||o)return!1;if(t.cssProperties||this.cssProperties)for(let e of["border","border-left","border-right","border-right-width","left","margin","margin-left","margin-right","padding","position","width"])if(t.cssProperties&&e in t.cssProperties||this.cssProperties&&e in this.cssProperties)return!1;let n=this.cssProperties?Object.keys(this.cssProperties).length:0;if(n!==(t.cssProperties?Object.keys(t.cssProperties).length:0))return!1;if(n>0)for(let e of Object.keys(this.cssProperties))if(this.cssProperties[e]!==t.cssProperties[e])return!1;let r=this.classes.trim().replace(/\s+/g," ").split(" "),i=t.classes.trim().replace(/\s+/g," ").split(" ");if(r.length!==i.length)return!1;r.sort(),i.sort();for(let[t,e]of r.entries())if("ML__vertical-separator"===e||e!==i[t])return!1;return this.value+=t.value,this.height=Math.max(this.height,t.height),this.depth=Math.max(this.depth,t.depth),this._width=this._width+t._width,this.maxFontSize=Math.max(this.maxFontSize,t.maxFontSize),this.italic=t.italic,!0}};function FB(t){if(!t||0===t.length)return[];t[0].children=FB(t[0].children);let e=[t[0]];for(let o=1;o<t.length;o++)e[e.length-1].tryCoalesceWith(t[o])||(t[o].children=FB(t[o].children),e.push(t[o]));return e}function OB(t){return t.children&&(t.children=FB(t.children)),t}function VB(t,e){if(!t)return new RB(null,e);let o=new RB(null,{classes:"ML__strut",type:"ignore"});o.setStyle("height",Math.max(0,t.height),"em");let n=[o];if(0!==t.depth){let e=new RB(null,{classes:"ML__strut--bottom",type:"ignore"});e.setStyle("height",t.height+t.depth,"em"),e.setStyle("vertical-align",-t.depth,"em"),n.push(e)}return n.push(t),new RB(n,IA(PA({},e),{type:"lift"}))}function NB(t){let e=function(t){return dB[t]?dB[t][2]/1e3:cB[t][2]}(t)/2,o=new RB(null,{maxFontSize:0});return o.height=e+.166,o.depth=e-.166,o.svgBody=t,o}function $B(t){if(0===(t=t.trim().replace(/ /g,"-")).length)throw new Error("Invalid empty attribute name");if(/[\x20\x09\x0a\x0c\x0d"'>/=\x00-\x1f]/.test(t))throw new Error(`Invalid attribute name "${t}"`);return t}function KB(t){if((t=t.trim()).startsWith('"')&&t.endsWith('"')){if(/"/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(t.startsWith("'")&&t.endsWith("'")){if(/'/.test(t.slice(1,-1)))throw new Error(`Invalid attribute value: ${t}`);return t}if(0===t.length)throw new Error("Invalid empty attribute value");return`"${t.replace(/"/g,"&quot;")}"`}function qB(t){var e;let[o,n]=function(t){if("individualShift"in t){let e=t.individualShift,o=e[0];if(null==o)return[null,0];let n=[o],r=-o.shift-o.box.depth,i=r;for(let t=1;t<e.length;t++){let r=e[t],s=-r.shift-i-r.box.depth,l=s-(o.box.height+o.box.depth);i+=s,n.push(l),n.push(r),o=r}return[n,r]}if("top"in t){let e=t.top;for(let o of t.children)e-="number"==typeof o?o:o.box.height+o.box.depth;return[t.children,e]}if("bottom"in t)return[t.children,-t.bottom];if("firstBaseline"in t){let e=t.firstBaseline[0];if("number"==typeof e)throw new Error("First child must be an element.");return[t.firstBaseline,-e.box.depth]}if("shift"in t){let e=t.children[0];if("number"==typeof e)throw new Error("First child must be an element.");return[t.children,-e.box.depth-t.shift]}return[null,0]}(t);if(!o)return[[],0,0];let r=new RB(null,{classes:"ML__pstrut"}),i=0;for(let t of o)if("number"!=typeof t){let e=t.box;i=Math.max(i,e.maxFontSize,e.height)}i+=2,r.height=i,r.setStyle("height",i,"em");let s=[],l=n,a=n,d=n,c=0;for(let t of o){if("number"==typeof t)d+=t;else{let o=t.box,n=null!=(e=t.classes)?e:[],l=new RB([r,o],{classes:n.join(" "),style:t.style});o.setStyle("height",o.height+o.depth,"em"),o.setStyle("display","inline-block"),l.setStyle("top",-i-d-o.depth,"em"),t.marginLeft&&l.setStyle("margin-left",t.marginLeft,"em"),t.marginRight&&l.setStyle("margin-right",t.marginRight,"em"),s.push(l),d+=o.height+o.depth,c=Math.max(c,l.width)}l=Math.min(l,d),a=Math.max(a,d)}s.forEach((t=>{t.softWidth=c}));let h=new RB(s,{classes:"ML__vlist"});if(h.softWidth=c,h.height=a,h.setStyle("height",a,"em"),l>=0)return[[new RB(h,{classes:"ML__vlist-r"})],a,-l];let u=new RB(new RB(null),{classes:"ML__vlist"});u.height=-l,u.setStyle("height",-l,"em");let p=new RB(8203,{classes:"ML__vlist-s",maxFontSize:0});return p.softWidth=0,p.height=0,p.depth=0,[[new RB([h,p],{classes:"ML__vlist-r"}),new RB(u,{classes:"ML__vlist-r"})],a,-l]}var HB=class extends RB{constructor(t,e){var o;let[n,r,i]=qB(t);super(1===n.length?n[0]:n,{type:null==e?void 0:e.type,classes:(null!=(o=null==e?void 0:e.classes)?o:"")+" ML__vlist-t"+(2===n.length?" ML__vlist-t2":"")}),this.height=r,this.depth=i,this.softWidth=n.reduce(((t,e)=>Math.max(t,e.width)),0)}};var jB=class{constructor(t,e,o){this.id=t,this.sizeDelta=e,this.cramped=o;let n={"-4":2,"-3":1,0:0}[e];this.metrics=Object.keys(rB).reduce(((t,e)=>IA(PA({},t),{[e]:rB[e][n]})),{})}getFontSize(t){return Math.max(1,t+this.sizeDelta)}get sup(){return UB[[0,1,0,1,2,3,2,3][this.id]]}get sub(){return UB[[0,0,0,0,2,2,2,2][this.id]]}get fracNum(){return UB[[0,1,0,1,2,3,4,5][this.id]]}get fracDen(){return UB[[0,0,0,0,2,2,4,4][this.id]]}get cramp(){return UB[[0,0,2,2,4,4,6,6][this.id]]}get isTight(){return this.sizeDelta<0}},WB={7:new jB(7,0,!1),6:new jB(6,0,!0),5:new jB(5,0,!1),4:new jB(4,0,!0),3:new jB(3,-3,!1),2:new jB(2,-3,!0),1:new jB(1,-4,!1),0:new jB(0,-4,!0)},UB=IA(PA({},WB),{displaystyle:WB[7],textstyle:WB[5],scriptstyle:WB[3],scriptscriptstyle:WB[1]});function GB(t,e){var o;if(!t)return 0;let n={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:eB,bp:1.00375,dd:1238/1157,pc:12,in:72.27,mu:10/18}[null!=(o=t.unit)?o:"pt"];if(Number.isFinite(e)){let o=10**e;return Math.round(t.dimension/eB*n*o)/o}return t.dimension*n}function ZB(t,e){if(null===t)return 0;let o=GB(t)/eB;if(Number.isFinite(e)){let t=10**e;return Math.round(o*t)/t}return o}function JB(t){var e;return`${t.dimension}${null!=(e=t.unit)?e:"pt"}`}function YB(t){var e,o;if(null==t)return null;let n="";if("dimension"in t&&(n=`${t.dimension}${null!=(e=t.unit)?e:"pt"}`),"glue"in t&&(n=function(t){let e=JB(t.glue);return t.grow&&0!==t.grow.dimension&&(e+=` plus ${JB(t.grow)}`),t.shrink&&0!==t.shrink.dimension&&(e+=` minus ${JB(t.shrink)}`),e}(t)),"number"in t)if("base"in t&&"decimal"!==t.base)if("alpha"===t.base)n=`\`${String.fromCodePoint(t.number)}`;else{let e=Math.round(t.number)>>>0;"hexadecimal"===t.base?(n=Number(e).toString(16).toUpperCase(),n=e<=255?n.padStart(2,"0"):e<=65535?n.padStart(4,"0"):e<=16777215?n.padStart(6,"0"):n.padStart(8,"0"),n=`"${n}`):"octal"===t.base&&(n=Number(e).toString(8),n=e<=63?n.padStart(2,"0"):e<=30583?n.padStart(4,"0"):n.padStart(8,"0"),n=`'${n}`)}else n=Number(t.number).toString();return"register"in t&&("factor"in t&&(-1===t.factor?n="-":1!==t.factor&&(n=Number(t.factor).toString())),"global"in t&&t.global&&(n+="\\global"),n+=`\\${t.register}`),"string"in t&&(n=t.string),null!=(o=t.relax)&&o&&(n+="\\relax"),n}function XB(t,e){return null==t?null:"number"in t?IA(PA({},t),{number:t.number*e}):"register"in t?"factor"in t&&t.factor?IA(PA({},t),{factor:t.factor*e}):IA(PA({},t),{factor:e}):"dimension"in t?IA(PA({},t),{dimension:t.dimension*e}):"glue"in t?t.shrink&&t.grow?{glue:XB(t.glue,e),shrink:XB(t.shrink,e),grow:XB(t.grow,e)}:t.shrink?{glue:XB(t.glue,e),shrink:XB(t.shrink,e)}:t.grow?{glue:XB(t.glue,e),grow:XB(t.grow,e)}:{glue:XB(t.glue,e)}:null}var QB={"p@":{dimension:1},"z@":{dimension:0},maxdimen:{dimension:16383.99999},hfuzz:{dimension:.1},vfuzz:{dimension:.1},overfullrule:{dimension:5},hsize:{dimension:6.5,unit:"in"},vsize:{dimension:8.9,unit:"in"},parindent:{dimension:20},maxdepth:{dimension:4},splitmaxdepth:{register:"maxdimen"},boxmaxdepth:{register:"maxdimen"},delimitershortfall:{dimension:5},nulldelimiterspace:{dimension:1.2,unit:"pt"},scriptspace:{dimension:.5},topskip:{dimension:10},splittopskip:{dimension:10},normalbaselineskip:{dimension:12},normallineskip:{dimension:1},normallineskiplimit:{dimension:0},jot:{dimension:3},doublerulesep:{dimension:2},arrayrulewidth:{dimension:.4},arraycolsep:{dimension:5},fboxsep:{dimension:3},fboxrule:{dimension:.4},"z@skip":{glue:{dimension:0},shrink:{dimension:0},grow:{dimension:0}},hideskip:{glue:{dimension:-1e3},grow:{dimension:1,unit:"fill"}},"@flushglue":{glue:{dimension:0},grow:{dimension:1,unit:"fill"}},parskip:{glue:{dimension:0},grow:{dimension:1}},abovedisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},abovedisplayshortskip:{glue:{dimension:0},grow:{dimension:3}},belowdisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},belowdisplayshortskip:{glue:{dimension:7},grow:{dimension:3},shrink:{dimension:4}},parfillskip:{glue:{dimension:0},grow:{dimension:1,unit:"fil"}},thinmuskip:{glue:{dimension:3,unit:"mu"}},medmuskip:{glue:{dimension:4,unit:"mu"},grow:{dimension:2,unit:"mu"},shrink:{dimension:4,unit:"mu"}},thickmuskip:{glue:{dimension:5,unit:"mu"},grow:{dimension:5,unit:"mu"}},smallskipamount:{glue:{dimension:3},grow:{dimension:1},shrink:{dimension:1}},medskipamount:{glue:{dimension:6},grow:{dimension:2},shrink:{dimension:3}},bigskipamount:{glue:{dimension:12},grow:{dimension:2},shrink:{dimension:4}},pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:1,month:(new Date).getMonth()+1,day:(new Date).getDate(),year:(new Date).getFullYear()};function tL(){return PA({},QB)}function eL(){return{registers:tL(),smartFence:!1,renderPlaceholder:void 0,placeholderSymbol:"▢",letterShapeStyle:qA.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,colorMap:YA,backgroundColorMap:XA,getMacro:t=>BC(t,EC())}}var oL=class t{constructor(e,o){var n,r,i,s,l,a,d,c,h,u,p,m,g,b,f;let w;null!=e&&e.parent?(this.parent=e.parent,w=e.parent,this.registers={}):(w=PA(PA({},eL()),null!=(n=null==e?void 0:e.from)?n:{}),this.registers=w.registers),w.atomIdsSettings&&(this.atomIdsSettings=PA({},w.atomIdsSettings)),this.renderPlaceholder=w.renderPlaceholder,this.isPhantom=null!=(s=null!=(i=null==e?void 0:e.isPhantom)?i:null==(r=this.parent)?void 0:r.isPhantom)&&s,this.letterShapeStyle=w.letterShapeStyle,this.minFontScale=w.minFontScale,this.maxMatrixCols=w.maxMatrixCols,null!=o&&o.color&&"none"!==o.color?this.color=o.color:this.color=null!=(a=null==(l=this.parent)?void 0:l.color)?a:"",null!=o&&o.backgroundColor&&"none"!==o.backgroundColor?this.backgroundColor=o.backgroundColor:this.backgroundColor=null!=(c=null==(d=this.parent)?void 0:d.backgroundColor)?c:"",null!=o&&o.fontSize&&"auto"!==o.fontSize&&o.fontSize!==(null==(h=this.parent)?void 0:h.size)?this.size=o.fontSize:this.size=null!=(p=null==(u=this.parent)?void 0:u.size)?p:sB;let x=null!=(g=null==(m=this.parent)?void 0:m.mathstyle)?g:UB.displaystyle;if("string"==typeof(null==e?void 0:e.mathstyle)){if(w instanceof t)switch(e.mathstyle){case"cramp":x=x.cramp;break;case"superscript":x=x.sup;break;case"subscript":x=x.sub;break;case"numerator":x=x.fracNum;break;case"denominator":x=x.fracDen}switch(e.mathstyle){case"textstyle":x=UB.textstyle;break;case"displaystyle":x=UB.displaystyle;break;case"scriptstyle":x=UB.scriptstyle;break;case"scriptscriptstyle":x=UB.scriptscriptstyle}}this.mathstyle=x,this.smartFence=w.smartFence,this.placeholderSymbol=w.placeholderSymbol,this.colorMap=null!=(b=w.colorMap)?b:t=>t,this.backgroundColorMap=null!=(f=w.backgroundColorMap)?f:t=>t,this.getMacro=w.getMacro,void 0!==this.parent||this.registers}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if("number"!=typeof this.atomIdsSettings.seed)return`${Date.now().toString(36).slice(-2)}${Math.floor(1e5*Math.random()).toString(36)}`;let t=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,t}scale(t){return t*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return 7===this.mathstyle.id||6===this.mathstyle.id}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get metrics(){return this.mathstyle.metrics}get effectiveFontSize(){return Math.max(iB[Math.max(1,this.size+this.mathstyle.sizeDelta)],this.minFontScale)}getRegister(t){var e;return null!=(e=this.registers)&&e[t]?this.registers[t]:this.parent?this.parent.getRegister(t):void 0}getRegisterAsNumber(t){let e=this.getRegister(t);return"number"==typeof e?e:"string"==typeof e?Number(e):void 0}getRegisterAsGlue(t){var e;if(null!=(e=this.registers)&&e[t]){let e=this.registers[t];return"object"==typeof e&&"glue"in e?e:"object"==typeof e&&"dimension"in e?{glue:{dimension:e.dimension}}:"number"==typeof e?{glue:{dimension:e}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(t)}getRegisterAsEm(t,e){return ZB(this.getRegisterAsDimension(t),e)}getRegisterAsDimension(t){var e;if(null!=(e=this.registers)&&e[t]){let e=this.registers[t];return"object"==typeof e&&"glue"in e?e.glue:"object"==typeof e&&"dimension"in e?e:"number"==typeof e?{dimension:e}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(t)}setRegister(t,e){void 0!==e?this.registers[t]=e:delete this.registers[t]}evaluate(t){if(!t||!("register"in t))return t;let e=this;if("global"in t&&t.global)for(;e.parent;)e=e.parent;let o=1;"factor"in t&&1!==t.factor&&void 0!==t.factor&&(o=t.factor);let n=e.getRegister(t.register);if(void 0===n)return;if("string"==typeof n)return{string:Number(n).toString()+n};if("number"==typeof n)return{number:o*n};let r=e.evaluate(n);return void 0!==r?"string"in r?{string:Number(n).toString()+r.string}:"number"in r?{number:o*r.number}:"dimension"in r?IA(PA({},r),{dimension:o*r.dimension}):"glue"in r?IA(PA({},r),{glue:IA(PA({},r.glue),{dimension:o*r.glue.dimension}),shrink:r.shrink?IA(PA({},r.shrink),{dimension:o*r.shrink.dimension}):void 0,grow:r.grow?IA(PA({},r.grow),{dimension:o*r.grow.dimension}):void 0}):t:void 0}toDimension(t){let e=this.evaluate(t);return void 0===e?null:"dimension"in e?e:"glue"in e?e.glue:"number"in e?{dimension:e.number}:null}toEm(t,e){if(null===t)return 0;let o=this.toDimension(t);return null===o?0:GB(o,e)/eB}toNumber(t){if(null===t)return null;let e=this.evaluate(t);return void 0===e?null:"number"in e?e.number:"dimension"in e?e.dimension:"glue"in e?e.glue.dimension:"string"in e?Number(e.string):null}toColor(t){var e,o;if(null===t)return null;let n=this.evaluate(t);return void 0===n?null:"string"in n?null!=(o=null==(e=this.colorMap)?void 0:e.call(this,n.string))?o:n.string:null}toBackgroundColor(t){var e,o;if(null===t)return null;let n=this.evaluate(t);return void 0===n?null:"string"in n?null!=(o=null==(e=this.backgroundColorMap)?void 0:e.call(this,n.string))?o:n.string:null}},nL=["body","above","below","superscript","subscript"];function rL(t){return"string"==typeof t&&nL.includes(t)}function iL(t){return void 0!==t&&Array.isArray(t)&&2===t.length}var sL=class t{constructor(t){var e,o,n,r,i,s,l;this.isRoot=!1,this.type=t.type,"string"==typeof t.value&&(this.value=t.value),this.command=null!=(o=null!=(e=t.command)?e:this.value)?o:"",this.mode=null!=(n=t.mode)?n:"math",t.isFunction&&(this.isFunction=!0),(t.isRoot||"root"===this.type)&&(this.isRoot=!0),t.limits&&(this.subsupPlacement=t.limits),this.style=PA({},null!=(r=t.style)?r:{}),this.displayContainsHighlight=null!=(i=t.displayContainsHighlight)&&i,this.captureSelection=null!=(s=t.captureSelection)&&s,this.skipBoundary=null!=(l=t.skipBoundary)&&l,void 0!==t.verbatimLatex&&null!==t.verbatimLatex&&(this.verbatimLatex=t.verbatimLatex),t.args&&(this.args=t.args),t.body&&(this.body=t.body),this._changeCounter=0}static createBox(t,e,o){var n;if(!e)return null;let r=function(t){let e,o=[],n=[];for(let r of t)if("first"===r.type&&n.push(r),e||r.style){let t=r.style;e&&t.color===e.color&&t.backgroundColor===e.backgroundColor&&t.fontSize===e.fontSize?n.push(r):(n.length>0&&o.push(n),n=[r],e=t)}else n.push(r);return n.length>0&&o.push(n),o}(e),i=[];for(let e of r){let o=e[0].style,n=lL(t,e,{style:{color:o.color,backgroundColor:o.backgroundColor,fontSize:o.fontSize}});n&&i.push(n)}if(0===i.length)return null;let s=(null!=(n=null==o?void 0:o.classes)?n:"").trim();return 1!==i.length||s||null!=o&&o.type?new RB(i,{classes:s,type:null==o?void 0:o.type}).wrap(t):i[0].wrap(t)}static serialize(t,e){return SB.serialize(t,e)}static commonAncestor(t,e){if(t===e||t.parent===e.parent)return t.parent;let o=new WeakSet,{parent:n}=t;for(;n;)o.add(n),n=n.parent;for(n=e.parent;n;){if(o.has(n))return n;n=n.parent}}static fromJson(e){return new t("string"==typeof e?{type:"mord",value:e,mode:"math"}:e)}toJson(){if(this._json)return this._json;let t={};if(this.type&&(t.type=this.type),"math"!==this.mode&&(t.mode=this.mode),this.command&&this.command!==this.value&&(t.command=this.command),void 0!==this.value&&(t.value=this.value),this.style&&Object.keys(this.style).length>0&&(t.style=PA({},this.style)),void 0!==this.verbatimLatex&&(t.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(t.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(t.explicitSubsupPlacement=!0),this.isFunction&&(t.isFunction=!0),this.displayContainsHighlight&&(t.displayContainsHighlight=!0),this.skipBoundary&&(t.skipBoundary=!0),this.captureSelection&&(t.captureSelection=!0),this.args&&(t.args=function(t){return t.map((t=>null===t?"<null>":Array.isArray(t)&&t[0]instanceof sL?{atoms:t.map((t=>t.toJson()))}:"object"==typeof t&&"group"in t?{group:t.group.map((t=>t.toJson()))}:t))}(this.args)),this._branches)for(let e of Object.keys(this._branches))this._branches[e]&&(t[e]=this._branches[e].filter((t=>"first"!==t.type)).map((t=>t.toJson())));return"mord"===t.type&&2===Object.keys(t).length&&"value"in t?t.value:(this._json=t,t)}get changeCounter(){return this.parent?this.parent.changeCounter:this._changeCounter}set isDirty(t){t&&(this._json=void 0,this.parent||this._changeCounter++,"verbatimLatex"in this&&(this.verbatimLatex=void 0),this._children=void 0,this.parent&&(this.parent.isDirty=!0))}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let e=TC(this.command,this.mode);return null!=e&&e.serialize?e.serialize(this,t):this.body&&this.command?vB([_B(this.command,this.bodyToLatex(t)),this.supsubToLatex(t)]):this.body?vB([this.bodyToLatex(t),this.supsubToLatex(t)]):this.value&&"​"!==this.value?this.command:""}bodyToLatex(t){var e;let o=null!=(e=t.defaultMode)?e:"math"===this.mode?"math":"text";return SB.serialize(this.body,IA(PA({},t),{defaultMode:o}))}aboveToLatex(t){return SB.serialize(this.above,t)}belowToLatex(t){return SB.serialize(this.below,t)}supsubToLatex(t){let e="";if(t=IA(PA({},t),{defaultMode:"math"}),void 0!==this.branch("subscript")){let o=SB.serialize(this.subscript,t);0===o.length?e+="_{}":1===o.length&&/^[0-9]$/.test(o)?e+=`_${o}`:e+=`_{${o}}`}if(void 0!==this.branch("superscript")){let o=SB.serialize(this.superscript,t);0===o.length?e+="^{}":1===o.length?"′"===o?e+="^\\prime ":"″"===o?e+="^\\doubleprime ":/^[0-9]$/.test(o)?e+=`^${o}`:e+=`^{${o}}`:e+=`^{${o}}`}return e}get treeDepth(){let t=1,e=this.parent;for(;e;)e=e.parent,t+=1;return t}get inCaptureSelection(){let t=this;for(;t;){if(t.captureSelection)return!0;t=t.parent}return!1}get parentPrompt(){let t=this.parent;for(;t;){if("prompt"===t.type&&!t.captureSelection)return t;t=t.parent}return null}branch(t){if(rL(t)&&this._branches)return this._branches[t]}get branches(){if(!this._branches)return[];let t=[];for(let e of nL)this._branches[e]&&t.push(e);return t}createBranch(t){return rL(t),rL(t)?(this._branches?this._branches[t]||(this._branches[t]=[this.makeFirstAtom(t)]):this._branches={[t]:[this.makeFirstAtom(t)]},this.isDirty=!0,this._branches[t]):[]}get row(){return iL(this.parentBranch)?this.parentBranch[0]:-1}get col(){return iL(this.parentBranch)?this.parentBranch[1]:-1}get body(){var t;return null==(t=this._branches)?void 0:t.body}set body(t){this.setChildren(t,"body")}get superscript(){var t;return null==(t=this._branches)?void 0:t.superscript}set superscript(t){this.setChildren(t,"superscript")}get subscript(){var t;return null==(t=this._branches)?void 0:t.subscript}set subscript(t){this.setChildren(t,"subscript")}get above(){var t;return null==(t=this._branches)?void 0:t.above}set above(t){this.setChildren(t,"above")}get below(){var t;return null==(t=this._branches)?void 0:t.below}set below(t){this.setChildren(t,"below")}applyStyle(t,e){this.isDirty=!0,null!=e&&e.unstyledOnly?(t.color&&!this.style.color&&(this.style.color=t.color),t.backgroundColor&&!this.style.backgroundColor&&(this.style.backgroundColor=t.backgroundColor),t.fontFamily&&!this.style.fontFamily&&(this.style.fontFamily=t.fontFamily),t.fontShape&&!this.style.fontShape&&(this.style.fontShape=t.fontShape),t.fontSeries&&!this.style.fontSeries&&(this.style.fontSeries=t.fontSeries),t.fontSize&&!this.style.fontSize&&(this.style.fontSize=t.fontSize),t.variant&&!this.style.variant&&(this.style.variant=t.variant),t.variantStyle&&!this.style.variantStyle&&(this.style.variantStyle=t.variantStyle)):this.style=PA(PA({},this.style),t),"none"===this.style.fontFamily&&delete this.style.fontFamily,"auto"===this.style.fontShape&&delete this.style.fontShape,"auto"===this.style.fontSeries&&delete this.style.fontSeries,"none"===this.style.color&&(delete this.style.color,delete this.style.verbatimColor),"none"===this.style.backgroundColor&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),"auto"===this.style.fontSize&&delete this.style.fontSize;for(let o of this.children)o.applyStyle(t,e)}getInitialBaseElement(){var t,e,o;return this.hasEmptyBranch("body")?this:(null==(t=this.body)||t[0].type,null!=(o=null==(e=this.body[1])?void 0:e.getInitialBaseElement())?o:this)}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){return"leftright"!==this.type&&"genfrac"!==this.type&&"subsup"!==this.type&&"delim"!==this.type&&"array"!==this.type&&"surd"!==this.type&&"mord"===this.getFinalBaseElement().type}hasEmptyBranch(t){let e=this.branch(t);return!e||(e.length,e[0].type,1===e.length)}setChildren(t,e){var o;if(!t||(rL(e),!rL(e)))return;let n="first"===(null==(o=t[0])?void 0:o.type)?[...t]:[this.makeFirstAtom(e),...t];this._branches?this._branches[e]=n:this._branches={[e]:n};for(let o of t)o.parent=this,o.parentBranch=e;this.isDirty=!0}makeFirstAtom(e){let o=new t({type:"first",mode:this.mode});return o.parent=this,o.parentBranch=e,o}addChild(t,e){t.type,this.createBranch(e).push(t),this.isDirty=!0,t.parent=this,t.parentBranch=e}addChildBefore(t,e){e.parentBranch;let o=this.createBranch(e.parentBranch);o.splice(o.indexOf(e),0,t),this.isDirty=!0,t.parent=this,t.parentBranch=e.parentBranch}addChildAfter(t,e){e.parentBranch;let o=this.createBranch(e.parentBranch);o.splice(o.indexOf(e)+1,0,t),this.isDirty=!0,t.parent=this,t.parentBranch=e.parentBranch}addChildren(t,e){let o=this.createBranch(e);for(let n of t)n.parent=this,n.parentBranch=e,o.push(n);this.isDirty=!0}addChildrenAfter(t,e){0===t.length||t[0].type,e.parentBranch;let o=this.createBranch(e.parentBranch);o.splice(o.indexOf(e)+1,0,...t),this.isDirty=!0;for(let o of t)o.parent=this,o.parentBranch=e.parentBranch;return t[t.length-1]}removeBranch(t){let e=this.branch(t);if(rL(t)&&(this._branches[t]=void 0),!e)return[];for(let t of e)t.parent=void 0,t.parentBranch=void 0;e[0].type;let[o,...n]=e;return this.isDirty=!0,n}removeChild(t){if(t.parent,"first"===t.type)return;let e=this.branch(t.parentBranch),o=e.indexOf(t);e.splice(o,1),this.isDirty=!0,t.parent=void 0,t.parentBranch=void 0}get siblings(){return this.parent?this.parent.branch(this.parentBranch):[]}get firstSibling(){return this.siblings[0]}get lastSibling(){let{siblings:t}=this;return t[t.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return 1===this.siblings.length}get leftSibling(){this.parent;let t=this.parent.branch(this.parentBranch);return t[t.indexOf(this)-1]}get rightSibling(){this.parent;let t=this.parent.branch(this.parentBranch);return t[t.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&this.children.length>0)}get firstChild(){return this.hasChildren,this.children[0]}get lastChild(){this.hasChildren;let{children:t}=this;return t[t.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];let t=[];for(let e of nL)if(this._branches[e])for(let o of this._branches[e])t.push(...o.children),t.push(o);return this._children=t,t}render(t){if("first"===this.type&&!t.atomIdsSettings)return null;let e=TC(this.command,this.mode);if(null!=e&&e.render)return e.render(this,t);let o=new oL({parent:t},this.style),n=this.createBox(o,{classes:this.parent?"":"ML__base"});return n?(!this.subsupPlacement&&(this.superscript||this.subscript)&&(n=this.attachSupsub(o,{base:n})),n.wrap(o)):null}attachSupsub(e,o){var n;let r=o.base,i=this.superscript,s=this.subscript;if(!i&&!s)return r;let l=null,a=null,d=null!=(n=o.isCharacterBox)?n:this.isCharacterBox(),c=0;if(i){let o=new oL({parent:e,mathstyle:"superscript"});l=t.createBox(o,i),d||(c=r.height-e.metrics.supDrop*o.scalingFactor)}let h,u=0;if(s){let o=new oL({parent:e,mathstyle:"subscript"});a=t.createBox(o,s),d||(u=r.depth+e.metrics.subDrop*o.scalingFactor)}h=e.isDisplayStyle?e.metrics.sup1:e.isCramped?e.metrics.sup3:e.metrics.sup2;let p=.5/eB/e.scalingFactor,m=null;if(a&&l){c=Math.max(c,h,l.depth+.25*e.metrics.xHeight),u=Math.max(u,e.metrics.sub2);let t=e.metrics.defaultRuleThickness;if(c-l.depth-(a.height-u)<4*t){u=4*t-(c-l.depth)+a.height;let o=.8*e.metrics.xHeight-(c-l.depth);o>0&&(c+=o,u-=o)}let o="extensible-symbol"===this.type&&r.italic?-r.italic:0;m=new HB({individualShift:[{box:a,shift:u,marginLeft:o},{box:l,shift:-c}]}).wrap(e)}else a&&!l?(u=Math.max(u,e.metrics.sub1,a.height-.3448),m=new HB({shift:u,children:[{box:a,marginRight:p,marginLeft:this.isCharacterBox()?-r.italic:0}]})):!a&&l&&(c=Math.max(c,h,l.depth+.10775),m=new HB({shift:-c,children:[{box:l,marginRight:p}]}));return new RB([r,new RB(m,{caret:this.caret,isSelected:this.isSelected,classes:"ML__msubsup"})],{type:o.type})}attachLimits(e,o){let n=this.superscript?t.createBox(new oL({parent:e,mathstyle:"superscript"},this.style),this.superscript):null,r=this.subscript?t.createBox(new oL({parent:e,mathstyle:"subscript"},this.style),this.subscript):null;return n||r?function(t,e){var o,n,r,i,s;let l=t.metrics,a=new RB(e.base),d=null!=(o=e.baseShift)?o:0,c=null!=(n=e.slant)?n:0,h=0,u=0;e.above&&(h=null!=(r=e.aboveShift)?r:Math.max(l.bigOpSpacing1,l.bigOpSpacing3-e.above.depth)),e.below&&(u=null!=(i=e.belowShift)?i:Math.max(l.bigOpSpacing2,l.bigOpSpacing4-e.below.height));let p=null;if(e.below&&e.above){let o=l.bigOpSpacing5+e.below.height+e.below.depth+u+a.depth+d;p=new HB({bottom:o,children:[l.bigOpSpacing5,{box:e.below,marginLeft:-c,classes:["ML__center"]},u,{box:a,classes:["ML__center"]},h,{box:e.above,marginLeft:c,classes:["ML__center"]},l.bigOpSpacing5]}).wrap(t)}else if(e.below&&!e.above)p=new HB({top:a.height-d,children:[l.bigOpSpacing5,{box:e.below,marginLeft:-c,classes:["ML__center"]},u,{box:a,classes:["ML__center"]}]}).wrap(t);else if(!e.below&&e.above){let o=a.depth+d;p=new HB({bottom:o,children:[{box:a,classes:["ML__center"]},h,{box:e.above,marginLeft:c,classes:["ML__center"]},l.bigOpSpacing5]}).wrap(t)}else{let e=a.depth+d;p=new HB({bottom:e,children:[{box:a},l.bigOpSpacing5]}).wrap(t)}return new RB(p,{type:null!=(s=e.type)?s:"op"})}(e,IA(PA({},o),{above:n,below:r})):o.base.wrap(e)}bind(t,e){if(!e||t.isPhantom||"​"===this.value)return e;let o=this.parent;for(;o&&!o.captureSelection;)o=o.parent;return null!=o&&o.captureSelection||(this.id||(this.id=t.makeID()),e.atomID=this.id),e}createBox(e,o){var n,r,i,s;let l=null!=(n=this.value)?n:this.body,a=null!=(r=null==o?void 0:o.boxType)?r:PB(this.type),d=null!=(i=null==o?void 0:o.classes)?i:"";"text"===this.mode&&(d+=" ML__text");let c="string"==typeof l||void 0===l?new RB(null!=l?l:null,{type:a,isSelected:this.isSelected,mode:this.mode,maxFontSize:e.scalingFactor,style:IA(PA({variant:"normal"},this.style),{fontSize:Math.max(1,e.size+e.mathstyle.sizeDelta)}),letterShapeStyle:e.letterShapeStyle,classes:d}):null!=(s=t.createBox(e,l,{type:a,classes:d}))?s:new RB(null);return e.isTight&&(c.isTight=!0),("math"!==this.mode||"main"===this.style.variant)&&(c.italic=0),c.right=c.italic,this.bind(e,c),this.caret&&!this.superscript&&!this.subscript&&(c.caret=this.caret),c}isDigit(){var t;return"mord"===this.type&&this.value?/^[\d,\.]$/.test(this.value):"group"===this.type&&2===(null==(t=this.body)?void 0:t.length)&&("first"===this.body[0].type&&","===this.body[1].value)}asDigit(){var t;return"mord"===this.type&&this.value&&/^[\d,\.]$/.test(this.value)?this.value:"group"===this.type&&2===(null==(t=this.body)?void 0:t.length)&&"first"===this.body[0].type&&","===this.body[1].value?".":""}};function lL(t,e,o){var n,r,i,s,l;if(!e||0===e.length)return null;let a=new oL({parent:t},o.style),d=!(null!=(n=a.atomIdsSettings)&&n.groupNumbers),c=[];if(1===e.length){let t=e[0],o=t.render(a);o&&(d&&t.isSelected&&o.selected(!0),c=[o])}else{let t="",o=!0;for(let n of e){null!=(r=a.atomIdsSettings)&&r.groupNumbers&&t&&(o&&n.isDigit()||!o&&aL(n))&&(a.atomIdsSettings.overrideID=t);let e=n.render(a);a.atomIdsSettings&&(a.atomIdsSettings.overrideID=void 0),e&&(null!=(i=a.atomIdsSettings)&&i.groupNumbers&&((n.isDigit()||aL(n))&&(!t||o!==n.isDigit())&&(o=n.isDigit(),t=null!=(s=n.id)?s:""),t&&(!(n.isDigit()||aL(n))||!n.hasEmptyBranch("superscript")||!n.hasEmptyBranch("subscript"))&&(t="")),d&&n.isSelected&&e.selected(!0),c.push(e))}}if(0===c.length)return null;let h=new RB(c,IA(PA({isTight:a.isTight},o),{type:null!=(l=o.type)?l:"lift"}));return h.isSelected=c.every((t=>t.isSelected)),h.wrap(a)}function aL(t){return"text"===t.mode}var dL=class t extends sL{constructor(t,e,o){super({type:"text",command:t,mode:"text",displayContainsHighlight:!0}),this.value=e,this.verbatimLatex=e,this.applyStyle(o)}static fromJson(e){return new t(e.command,e.value,e.style)}render(t){let e=this.createBox(t);return this.caret&&(e.caret=this.caret),e}_serialize(t){var e;return null!=(e=this.verbatimLatex)?e:LC("text",this.value.codePointAt(0))}};function cL(t,e){return t[0]===e[0]&&t[1]===e[1]?"equal":"different"}function hL(t){let e=1/0,o=-1/0;for(let n of t.ranges)e=Math.min(e,n[0],n[1]),o=Math.max(o,n[0],n[1]);return[e,o]}function uL(t){return"number"==typeof t&&!Number.isNaN(t)}function pL(t){return Array.isArray(t)&&2===t.length}function mL(t){return null!=t&&"object"==typeof t&&"ranges"in t&&Array.isArray(t.ranges)}function gL(t,e,o){return o?function(t,e){if(!e)return"";if("string"==typeof e)return e;if(!t||void 0===e.after)return e.value;let o=!1,n=!1,r=!1,i=!1,s=!1,l=!1,a=!1,d=!1,c=!1,h=!1,u=!1,p=!1,m=!1,g=!1,b=!1,f=t[0],w=0;for(;null!=f&&f.type&&/^(subsup|placeholder)$/.test(f.type);)w+=1,f=t[w];return o=!f||"first"===f.type,f&&(g="text"===f.mode,n=!g&&"mord"===f.type&&aC.test(f.value),r=!g&&"mord"===f.type&&/\d+$/.test(f.value),i=!g&&f.isFunction,s="genfrac"===f.type,l="surd"===f.type,a="mbin"===f.type,d="mrel"===f.type,c="mop"===f.type||"operator"===f.type||"extensible-symbol"===f.type,h="mpunct"===f.type||"minner"===f.type,u="array"===f.type,p="mopen"===f.type,m="mclose"===f.type||"leftright"===f.type,b="space"===f.type),e.after.includes("nothing")&&o||e.after.includes("letter")&&n||e.after.includes("digit")&&r||e.after.includes("function")&&i||e.after.includes("frac")&&s||e.after.includes("surd")&&l||e.after.includes("binop")&&a||e.after.includes("relop")&&d||e.after.includes("operator")&&c||e.after.includes("punct")&&h||e.after.includes("array")&&u||e.after.includes("openfence")&&p||e.after.includes("closefence")&&m||e.after.includes("text")&&g||e.after.includes("space")&&b?e.value:""}(t,o[e]):""}var bL={"&":"\\&","%":"\\%",$:"\\$","''":"^{\\doubleprime}","'''":"^{\\prime\\prime\\prime}","''''":"^{\\prime\\prime\\prime\\prime}",alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:"\\pi",Pi:"\\Pi",theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:"\\nabla",grad:"\\nabla",del:"\\partial",deg:{after:"digit+space",value:"\\degree"},infty:"\\infty","∞":"\\infty",oo:{after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"∑":"\\sum",sum:"\\sum_{#?}^{#?}",int:"\\int_{#?}^{#?}",prod:"\\prod_{#?}^{#?}",sqrt:"\\sqrt{#?}","∆":"\\differentialD","∂":"\\differentialD",sin:"\\sin",cos:"\\cos",tan:"\\tan",arccos:"\\arccos",arcsin:"\\arcsin",arctan:"\\arctan",arctg:"\\operatorname{arctg}",arcsec:"\\operatorname{arcsec}",arccsc:"\\operatorname{arccsc}",arsinh:"\\operatorname{arsinh}",arccosh:"\\operatorname{arccosh}",arcosh:"\\operatorname{arcosh}",artanh:"\\operatorname{artanh}",arctanh:"\\operatorname{arctanh}",arcsech:"\\operatorname{arcsech}",arccsch:"\\operatorname{arccsch}",ch:"\\operatorname{ch}",cosec:"\\operatorname{cosec}",cosh:"\\cosh",cot:"\\cot",cotg:"\\operatorname{cotg}",coth:"\\coth",csc:"\\csc",ctg:"\\operatorname{ctg}",cth:"\\operatorname{cth}",sec:"\\sec",sech:"\\operatorname{sech}",sinh:"\\sinh",sh:"\\operatorname{sh}",tanh:"\\tanh",tg:"\\operatorname{tg}",th:"\\operatorname{th}",arg:"\\arg",lg:"\\lg",lb:"\\operatorname{lb}",log:"\\log_{#?}",ln:"\\ln",exp:"\\exp",lim:"\\lim_{#?\\to#?}",dx:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD x"},dy:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD y"},dt:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\differentialD t"},AA:"\\forall",EE:"\\exists","!EE":"\\nexists","&&":"\\land",xin:{after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},sint:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\sin t"},in:{after:"nothing+letter+closefence",value:"\\in"},"!in":"\\notin",NN:"\\mathbb{N}",ZZ:"\\mathbb{Z}",QQ:"\\mathbb{Q}",RR:"\\mathbb{R}",CC:"\\mathbb{C}",xx:"\\times","+-":"\\pm","≠":"\\ne","!=":"\\ne","≥":"\\ge",">=":"\\ge","≤":"\\le","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","≈":"\\approx","?=":"\\questeq","÷":"\\div","¬":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},nu:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},µ:"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega",Ω:"\\omega",forall:"\\forall",exists:"\\exists","!exists":"\\nexists",":.":"\\therefore",liminf:"\\liminf_{#?}",limsup:"\\limsup_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:"\\bmod{#?}","(mod":"\\pmod{#?}",max:"\\max",min:"\\min",erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:"\\operatorname{bessel}",mean:"\\operatorname{mean}",median:"\\operatorname{median}",fft:"\\operatorname{fft}",lcm:"\\operatorname{lcm}",gcd:"\\gcd",randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:"\\operatorname{Re}",Im:"\\operatorname{Im}",mm:{after:"nothing+digit+operator",value:"\\operatorname{mm}"},cm:{after:"nothing+digit+operator",value:"\\operatorname{cm}"},km:{after:"nothing+digit+operator",value:"\\operatorname{km}"},kg:{after:"nothing+digit+operator",value:"\\operatorname{kg}"},ft:{after:"nothing+digit+operator",value:"\\operatorname{ft}"},inch:{after:"nothing+digit+operator",value:"\\operatorname{inch}"},mi:{after:"nothing+digit+operator",value:"\\operatorname{mi}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","--\x3e...":"\\longrightarrow\\cdots","->":"\\to","|->":"\\mapsto","--\x3e":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\iff","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","*":"\\cdot","**":"\\star","***":"\\ast","//":"\\slash","\\\\":"\\backslash",setminus:"\\backslash","|><":"\\ltimes","><|":"\\rtimes","|><|":"\\bowtie","-:":"\\div",divide:"\\div","@":"\\circ","^^":"\\wedge","^^^":"\\bigwedge",vv:"\\vee",vvv:"\\bigvee",nn:"\\cap",nnn:"\\bigcap",uu:"\\cup",uuu:"\\bigcup","-=":"\\equiv","~=":"\\cong",lt:"<","lt=":"\\leq",gt:">","gt=":"\\geq","-<":"\\prec","-lt":"\\prec","-<=":"\\preceq",">-=":"\\succeq",prop:"\\propto",diamond:"\\diamond",square:"\\square",iff:"\\iff",sub:"\\subset",sup:"\\supset",sube:"\\subseteq",supe:"\\supseteq",uarr:"\\uparrow",darr:"\\downarrow",rarr:"\\rightarrow",rArr:"\\Rightarrow",larr:"\\leftarrow",lArr:"\\Leftarrow",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",aleph:"\\aleph",and:"\\land",or:"\\lor",not:"\\neg","_|_":"\\bot",TT:"\\top","|--":"\\vdash","|==":"\\models","|__":"\\lfloor","__|":"\\rfloor","|~":"\\lceil","~|":"\\rceil",">->":"\\rightarrowtail","->>":"\\twoheadrightarrow",">->>":"\\twoheadrightarrowtail",times:"\\times",of:"\\circ",infinity:"\\infty",defint:"\\int_{#?}^{#?}",approaches:"\\to",ceil:"\\left\\lceil#?\\right\\rceil",floor:"\\left\\lfloor#?\\right\\rfloor",union:"\\cup",asterisk:"\\ast",frac:"\\frac{#?}{#?}",cbrt:"\\sqrt[3]{#?}",nthroot:"\\sqrt[#?]{#?}"};function fL(t,e){var o;let n=null!=(o=null==e?void 0:e.format)?o:"auto";return"auto"===n&&([n,t]=function(t){if(t=t.trim(),t.length<=1)return["latex",t];let e;return[e,t]=_L(t),e?["latex",t]:t.startsWith("`")&&t.endsWith("`")?(t=t.substring(1,t.length-1),["ascii-math",t]):t.includes("\\")?["latex",t]:/\$.+\$/.test(t)?["latex",`\\text{${t}}`]:[void 0,t]}(t)),"ascii-math"===n?["ascii-math",wL(t=(t=(t=(t=(t=(t=t.replace(/\u2061/gu,"")).replace(/\u3016/gu,"{")).replace(/\u3017/gu,"}")).replace(/([^\\])sinx/g,"$1\\sin x")).replace(/([^\\])cosx/g,"$1\\cos x ")).replace(/\u2013/g,"-"),{inlineShortcuts:null==e?void 0:e.inlineShortcuts})]:["latex",t]}function wL(t,e){var o;if(!(t=t.trim()))return"";let n=null!=(o=e.inlineShortcuts)?o:bL;if(t.startsWith("^")||t.startsWith("_")){let{match:o,rest:r}=kL(t.slice(1),{inlineShortcuts:n,noWrap:!0});return`${t[0]}{${o}}${wL(r,e)}`}let r=t.match(/^(sqrt|\u221A)(.*)/);if(r){let{match:t,rest:o}=kL(r[2],{inlineShortcuts:n,noWrap:!0});return`\\sqrt{${null!=t?t:"\\placeholder{}"}}${wL(o,e)}`}if(r=t.match(/^(\\cbrt|\u221B)(.*)/),r){let{match:t,rest:o}=kL(r[2],{inlineShortcuts:n,noWrap:!0});return`\\sqrt[3]{${null!=t?t:"\\placeholder{}"}}${wL(o,e)}`}if(r=t.match(/^abs(.*)/),r){let{match:t,rest:o}=kL(r[1],{inlineShortcuts:n,noWrap:!0});return`\\left|${null!=t?t:"\\placeholder{}"}\\right|${wL(o,e)}`}if(r=t.match(/^["”“](.*?)["”“](.*)/),r)return`\\text{${r[1]}}${wL(r[2],e)}`;if(r=t.match(/^([^a-zA-Z0-9\(\{\[\_\^\\\s"]+)(.*)/),r)return`${yL(r[1],n)}${wL(r[2],e)}`;if(/^([fgh])[^a-zA-Z]/.test(t)){let{rest:o,match:r}=kL(t.slice(1),{inlineShortcuts:n,noWrap:!0}),i="";return i="("===t[1]?`${t[0]}\\left(${r}\\right)`:t[0]+r,i+wL(o,e)}if(r=t.match(/^([a-zA-Z]+)(.*)/),r)return yL(r[1],n)+wL(r[2],e);let{match:i,rest:s}=kL(t,{inlineShortcuts:n,noWrap:!0});if(!i||"/"!==s[0])return t.startsWith("(")?"\\left("+i+"\\right)"+wL(s,e):i+wL(s,e);{let t=kL(s.slice(1),{inlineShortcuts:n,noWrap:!0});if(t.match)return`\\frac{${i}}{${t.match}}${wL(t.rest,e)}`}return r=t.match(/^(\s+)(.*)$/),r?" "+wL(r[2],e):t}var xL={"[":"\\lbrack","]":"\\rbrack","{":"\\lbrace","}":"\\rbrace"};function kL(t,e){var o,n;let r="",i=t=t.trim(),s=t.charAt(0),l={"(":")","{":"}","[":"]"}[s];if(l){let a=1,d=1;for(;d<t.length&&a>0;)t[d]===s&&a++,t[d]===l&&a--,d++;if(0===a){let a=wL(t.substring(1,d-1),e);r=e.noWrap&&"("===s?a:`\\left${null!=(o=xL[s])?o:s}${a}\\right${null!=(n=xL[l])?n:l}`,i=t.slice(Math.max(0,d))}else r=t.substring(1,d),i=""}else{let o=t.match(/^([a-zA-Z]+)/);if(o){let o=gL(null,t,e.inlineShortcuts);if(o)return o=o.replace("_{#?}",""),o=o.replace("^{#?}",""),{match:o,rest:t.slice(o.length)}}if(o=t.match(/^([a-zA-Z])/),o)return{match:o[1],rest:t.slice(1)};if(o=t.match(/^(-)?\d+(\.\d*)?/),o)return{match:o[0],rest:t.slice(o[0].length)};/^\\(left|right)/.test(t)||(o=t.match(/^(\\[a-zA-Z]+)/),o&&(i=t.slice(o[1].length),r=o[1]))}return{match:r,rest:i}}function yL(t,e){let o=gL(null,t,e);return o?(o=o.replace("_{#?}",""),o=o.replace("^{#?}",""),o+=" "):o=t,o}var vL=[["\\[","\\]"],["\\(","\\)"],["$$","$$"],["$","$"],["\\begin{math}","\\end{math}"],["\\begin{displaymath}","\\end{displaymath}"],["\\begin{equation}","\\end{equation}"],["\\begin{equation*}","\\end{equation*}"]];function _L(t){let e=t.trim();for(let t of vL)if(e.startsWith(t[0])&&e.endsWith(t[1]))return[!0,e.substring(t[0].length,e.length-t[1].length)];return[!1,t]}var AL=(t,e,o)=>(vL.some((t=>e.startsWith(t[0])&&e.endsWith(t[1])))||(e=`$$ ${e} $$`),e),CL=class t{constructor(e){t._modes[e]=this}static onPaste(e,o,n){var r;if(!o.contentEditable&&"none"===o.userSelect)return o.model.announce("plonk"),!1;if("string"==typeof n){let t=new DataTransfer;t.setData("text/plain",n),n=t}let i=new ClipboardEvent("paste",{clipboardData:n,cancelable:!0});return!(null==(r=o.host)||!r.dispatchEvent(i))&&t._modes[e].onPaste(o,n)}static copyToClipboard(t,e){if(!t.contentEditable&&"none"===t.userSelect)return void t.model.announce("plonk");let o=t.model,n=o.selectionIsCollapsed?[0,o.lastOffset]:hL(o.selection),r=o.getValue(n,e);navigator.clipboard.writeText(r).then((()=>{}),(()=>t.model.announce("plonk")))}static onCopy(t,e){var o;if(!e.clipboardData)return;if(!t.contentEditable&&"none"===t.userSelect)return void t.model.announce("plonk");let n=t.model,r=n.selectionIsCollapsed?[0,n.lastOffset]:hL(n.selection),i=n.getAtoms(r);if(i.every((t=>"text"===t.mode||!t.mode)))e.clipboardData.setData("text/plain",i.filter((t=>t instanceof dL)).map((t=>t.value)).join(""));else if(i.every((t=>"latex"===t.mode)))e.clipboardData.setData("text/plain",n.getAtoms(r,{includeChildren:!0}).map((t=>{var e;return null!=(e=t.value)?e:""})).join(""));else{let s;s=1===i.length&&void 0!==i[0].verbatimLatex?i[0].verbatimLatex:n.getValue(r,"latex-expanded"),e.clipboardData.setData("application/x-latex",s);try{e.clipboardData.setData("text/plain",t.options.onExport(t,s,r))}catch(t){}if(1===i.length){let t=i[0];("root"===t.type||"group"===t.type)&&(i=t.body.filter((t=>"first"!==t.type)))}try{e.clipboardData.setData("application/json+mathlive",JSON.stringify(i.map((t=>t.toJson()))))}catch(t){}if(null!=(o=window[Symbol.for("io.cortexjs.compute-engine")])&&o.ComputeEngine){let t=globalThis.MathfieldElement.computeEngine;if(t)try{let o=t.jsonSerializationOptions;t.jsonSerializationOptions={metadata:["latex"]};let i=t.parse(n.getValue(r,"latex-unstyled"));t.jsonSerializationOptions=o;let s=JSON.stringify(i.json);s&&e.clipboardData.setData("application/json",s)}catch(t){}}}e.preventDefault()}static insert(e,o,n={}){var r;let i="auto"===n.mode?e.mode:null!=(r=n.mode)?r:e.mode;return t._modes[i].insert(e,o,n)}onPaste(t,e){return!1}insert(t,e,o){return!1}};CL._modes={};var SL=CL,EL=[{key:"left",command:"moveToPreviousChar"},{key:"right",command:"moveToNextChar"},{key:"up",command:"moveUp"},{key:"down",command:"moveDown"},{key:"shift+[ArrowLeft]",command:"extendSelectionBackward"},{key:"shift+[ArrowRight]",command:"extendSelectionForward"},{key:"shift+[ArrowUp]",command:"extendSelectionUpward"},{key:"shift+[ArrowDown]",command:"extendSelectionDownward"},{key:"[Backspace]",command:"deleteBackward"},{key:"alt+[Delete]",command:"deleteBackward"},{key:"[Delete]",command:"deleteForward"},{key:"alt+[Backspace]",command:"deleteForward"},{key:"alt+[ArrowLeft]",command:"moveToPreviousWord"},{key:"alt+[ArrowRight]",command:"moveToNextWord"},{key:"shift+alt+[ArrowLeft]",command:"extendToPreviousWord"},{key:"shift+alt+[ArrowRight]",command:"extendToNextWord"},{key:"ctrl+[ArrowLeft]",command:"moveToGroupStart"},{key:"ctrl+[ArrowRight]",command:"moveToGroupEnd"},{key:"shift+ctrl+[ArrowLeft]",command:"extendToGroupStart"},{key:"shift+ctrl+[ArrowRight]",command:"extendToGroupEnd"},{key:"[Home]",command:"moveToMathfieldStart"},{key:"cmd+[ArrowLeft]",command:"moveToMathfieldStart"},{key:"shift+[Home]",command:"extendToMathFieldStart"},{key:"shift+cmd+[ArrowLeft]",command:"extendToMathFieldStart"},{key:"[End]",command:"moveToMathfieldEnd"},{key:"cmd+[ArrowRight]",command:"moveToMathfieldEnd"},{key:"shift+[End]",command:"extendToMathFieldEnd"},{key:"shift+cmd+[ArrowRight]",command:"extendToMathFieldEnd"},{key:"[Pageup]",command:"moveToGroupStart"},{key:"[Pagedown]",command:"moveToGroupEnd"},{key:"[Tab]",command:"moveToNextGroup"},{key:"shift+[Tab]",command:"moveToPreviousGroup"},{key:"[Escape]",ifMode:"math",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"text",command:["switchMode","latex"]},{key:"[Escape]",ifMode:"latex",command:["complete","complete",{selectItem:"true"}]},{key:"\\",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[IntlBackslash]",ifMode:"math",command:["switchMode","latex","","\\"]},{key:"[Tab]",ifMode:"latex",command:["complete","accept-suggestion"]},{key:"[Return]",ifMode:"latex",command:"complete"},{key:"[Enter]",ifMode:"latex",command:"complete"},{key:"shift+[Escape]",ifMode:"latex",command:["complete","reject"]},{key:"[ArrowDown]",ifMode:"latex",command:"nextSuggestion"},{key:"[ArrowUp]",ifMode:"latex",command:"previousSuggestion"},{key:"ctrl+a",ifPlatform:"!macos",command:"selectAll"},{key:"cmd+a",command:"selectAll"},{key:"[Cut]",command:"cutToClipboard"},{key:"[Copy]",command:"copyToClipboard"},{key:"[Paste]",command:"pasteFromClipboard"},{key:"[Clear]",command:"deleteBackward"},{key:"[Undo]",command:"undo"},{key:"[Redo]",command:"redo"},{key:"[EraseEof]",command:"deleteToGroupEnd"},{key:"ctrl+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"cmd+x",ifPlatform:"ios",command:"cutToClipboard"},{key:"ctrl+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"cmd+c",ifPlatform:"ios",command:"copyToClipboard"},{key:"ctrl+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"cmd+v",ifPlatform:"ios",command:"pasteFromClipboard"},{key:"ctrl+z",ifPlatform:"!macos",command:"undo"},{key:"cmd+z",command:"undo"},{key:"ctrl+y",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+y",command:"redo"},{key:"shift+ctrl+z",ifPlatform:"!macos",command:"redo"},{key:"shift+cmd+z",command:"redo"},{key:"ctrl+b",ifPlatform:"macos",command:"moveToPreviousChar"},{key:"ctrl+f",ifPlatform:"macos",command:"moveToNextChar"},{key:"ctrl+p",ifPlatform:"macos",command:"moveUp"},{key:"ctrl+n",ifPlatform:"macos",command:"moveDown"},{key:"ctrl+a",ifPlatform:"macos",command:"moveToMathfieldStart"},{key:"ctrl+e",ifPlatform:"macos",command:"moveToMathfieldEnd"},{key:"shift+ctrl+b",ifPlatform:"macos",command:"extendSelectionBackward"},{key:"shift+ctrl+f",ifPlatform:"macos",command:"extendSelectionForward"},{key:"shift+ctrl+p",ifPlatform:"macos",command:"extendSelectionUpward"},{key:"shift+ctrl+n",ifPlatform:"macos",command:"extendSelectionDownward"},{key:"shift+ctrl+a",ifPlatform:"macos",command:"extendToMathFieldStart"},{key:"shift+ctrl+e",ifPlatform:"macos",command:"extendToMathFieldEnd"},{key:"alt+ctrl+b",ifPlatform:"macos",command:"moveToPreviousWord"},{key:"alt+ctrl+f",ifPlatform:"macos",command:"moveToNextWord"},{key:"shift+alt+ctrl+b",ifPlatform:"macos",command:"extendToPreviousWord"},{key:"shift+alt+ctrl+f",ifPlatform:"macos",command:"extendToNextWord"},{key:"ctrl+h",ifPlatform:"macos",command:"deleteBackward"},{key:"ctrl+d",ifPlatform:"macos",command:"deleteForward"},{key:"ctrl+l",ifPlatform:"macos",command:"scrollIntoView"},{key:"ctrl+[Digit2]",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"ctrl+[Digit5]",ifMode:"math",command:"moveToOpposite"},{key:"ctrl+[Digit6]",ifMode:"math",command:"moveToSuperscript"},{key:"ctrl+[Return]",ifMode:"math",command:"addRowAfter"},{key:"ctrl+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Return]",ifMode:"math",command:"addRowAfter"},{key:"cmd+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"alt+p",ifMode:"math",command:["insert","\\pi"]},{key:"alt+v",ifMode:"math",command:["insert","\\sqrt{#0}"]},{key:"alt+o",ifMode:"math",command:["insert","\\emptyset"]},{key:"alt+d",ifMode:"math",command:["insert","\\differentialD"]},{key:"shift+alt+o",ifMode:"math",command:["insert","\\varnothing"]},{key:"shift+alt+d",ifMode:"math",command:["insert","\\partial"]},{key:"alt+[Backslash]",ifMode:"math",command:["insert","\\backslash"]},{key:"[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+[NumpadDivide]",ifMode:"math",command:["insert","\\frac{#?}{#@}"]},{key:"shift+alt+k",command:"toggleKeystrokeCaption"},{key:"alt+[Space]",command:"toggleContextMenu"},{key:"alt+shift+[Space]",command:"toggleVirtualKeyboard"},{key:"alt+ctrl+[ArrowUp]",command:["speak","all",{withHighlighting:!1}]},{key:"alt+ctrl+[ArrowDown]",command:["speak","selection",{withHighlighting:!1}]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["switchMode","text","",""]},{key:"shift+[Quote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"text",command:["switchMode","math","",""]},{key:"shift+alt+[KeyT]",ifMode:"math",command:["switchMode","text"]},{key:"shift+alt+[KeyT]",ifMode:"text",command:["switchMode","math"]},{key:"/",ifMode:"math",command:["insert","\\frac{#@}{#?}"]},{key:"alt+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+shift+/",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","/"]},{key:"alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrack #0 \\right\\rbrack"]},{key:"ctrl+[Minus]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"moveToSubscript"},{key:"shift+alt+[BracketLeft]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\left\\lbrace #0 \\right\\rbrace"]},{key:"ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowAfter"},{key:"shift+ctrl+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"shift+cmd+;",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:"addRowBefore"},{key:"ctrl+[Backspace]",ifMode:"math",command:"removeRow"},{key:"cmd+[Backspace]",ifMode:"math",command:"removeRow"},{key:"alt+[Tab]",ifMode:"math",command:"addColumnAfter"},{key:"shift+alt+[Tab]",ifMode:"math",command:"addColumnBefore"},{key:"alt+[Enter]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Enter]",ifMode:"math",command:"addRowBefore"},{key:"alt+[Return]",ifMode:"math",command:"addRowAfter"},{key:"shift+alt+[Return]",ifMode:"math",command:"addRowBefore"},{key:"shift+[Backspace]",ifMode:"math",command:"removeColumn"},{key:"alt+[Digit5]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","$\\infty"]},{key:"alt+[Digit9]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","("]},{key:"alt+[Digit0]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert",")"]},{key:"alt+|",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","|"]},{key:"shift+[Backquote]",ifLayout:["apple.en-intl","windows.en-intl","linux.en"],ifMode:"math",command:["insert","\\~"]},{key:"[Backquote]",ifLayout:["windows.french","linux.french"],ifMode:"math",command:["insert","^2"]},{key:"[Backquote]",ifLayout:["windows.german","linux.german"],ifMode:"math",command:["insert","^"]},{key:"[IntlBackslash]",ifLayout:["apple.german"],ifMode:"math",command:["insert","^"]}],ML={"\\sqrt":["alt+v","ctrl+[Digit2]"],"\\pi":"alt+p","\\infty":"alt+[Digit5]","\\differentialD":"alt+d","\\partial":"shift+alt+d","\\frac":"Slash","\\emptyset":"alt+o","\\varnothing":"shift+alt+o","\\~":"~"};function DL(t){var e;return(null==(e=t.element)?void 0:e.mathfield)===t}function TL(t){let e=function(t){var e,o;return null!=(o=null!=(e=t.querySelector(".ML__caret"))?e:t.querySelector(".ML__text-caret"))?o:t.querySelector(".ML__latex-caret")}(t);if(!e)return null;let o=e.getBoundingClientRect();return{x:o.right,y:o.bottom,height:o.height}}function BL(t){var e;if(!t.parent)return"root";let o=null!=(e=t.parent.id)?e:"";return o+="string"==typeof t.parentBranch?"-"+t.parentBranch:`-${t.parentBranch[0]}/${t.parentBranch[0]}`,o}function LL(t,e,o){if(!e)return null;let n=t.field.getBoundingClientRect(),r=e.right-e.left,i=e.bottom-e.top,s=Math.ceil(e.left-n.left+t.field.scrollLeft*o),l=Math.ceil(e.top-n.top);return{left:s,right:s+r,top:l,bottom:l+i}}function PL(t){let e=t.getBoundingClientRect(),o=parseInt(getComputedStyle(t).marginRight),n={top:e.top-1,bottom:e.bottom,left:e.left,right:e.right-1+o};if(0===t.children.length||"SVG"===t.tagName.toUpperCase())return n;for(let e of t.children)if(1===e.nodeType&&"atomId"in e.dataset&&!e.classList.contains("ML__pstrut")){let t=PL(e);n.left=Math.min(n.left,t.left),n.right=Math.max(n.right,t.right),n.top=Math.min(n.top,t.top),n.bottom=Math.max(n.bottom,t.bottom)}return n}function IL(t,e){var o,n;if(!e.id)return null;let r=null!=(n=null==(o=t.atomBoundsCache)?void 0:o.get(e.id))?n:null;if(null!==r)return r;let i=t.field.querySelector(`[data-atom-id="${e.id}"]`);return r=i?PL(i):null,t.atomBoundsCache&&(r?t.atomBoundsCache.set(e.id,r):t.atomBoundsCache.delete(e.id)),null!=r?r:null}function zL(t,e){let[o,n]=e,r=null;for(let e=o;e<=n;e++){let o=IL(t,t.model.at(e));o&&(r?(r.top=Math.min(r.top,o.top),r.bottom=Math.max(r.bottom,o.bottom),r.left=Math.min(r.left,o.left),r.right=Math.max(r.right,o.right)):r=o)}return null!=r?r:{top:0,bottom:0,left:0,right:0}}function RL(t,e){return t.model.selection.ranges.reduce(((o,n)=>o.concat(...function(t,e,o){let n=new Map,r=t.field,i=r.offsetWidth,s=Math.floor(r.getBoundingClientRect().width)/i;s=isNaN(s)?1:s;for(let r of t.model.getAtoms(e,{includeChildren:!0})){if(null!=o&&o.excludeAtomsWithBackground&&r.style.backgroundColor)continue;let e=LL(t,IL(t,r),s);if(e){let t=BL(r);if(n.has(t)){let o=n.get(t);n.set(t,{left:Math.min(o.left,e.left),right:Math.max(o.right,e.right),top:Math.min(o.top,e.top),bottom:Math.max(o.bottom,e.bottom)})}else n.set(t,e)}}return[...n.values()]}(t,n,e))),[])}function FL(t,e){return"*"===t||"none"===e||("same-origin"===e?!window.origin||t===window.origin:"function"==typeof e&&e(t))}function OL(t){let e=0,o=0,n=t.offsetWidth,r=t.offsetHeight;for(;t instanceof HTMLElement;)e+=t.offsetTop,o+=t.offsetLeft,t=t.offsetParent;return new DOMRect(o,e,n,r)}function VL(t,e){if(!t)return;let o=t.model.at(e);if(!o)return;let n={},r=IL(t,o);r&&(n.bounds=new DOMRect(r.left,r.top,r.right-r.left,r.bottom-r.top)),n.depth=o.treeDepth-2,n.style=o.style;let i=o;for(;i;){if("\\htmlData"===i.command&&i.args&&"string"==typeof i.args[0]){let t=i.args[0].split(",");for(let e of t){let t=e.match(/([^=]+)=(.+$)/);if(t){let e=t[1].trim().replace(/ /g,"-");e&&(n.data||(n.data={}),n.data[e]=t[2])}else{let t=e.trim().replace(/ /g,"-");t&&(n.data||(n.data={}),n.data[t]=void 0)}}}("\\htmlId"===i.command||"\\cssId"===i.command)&&!n.id&&i.args&&"string"==typeof i.args[0]&&(n.id=i.args[0]),i=i.parent}return("math"===o.mode||"text"===o.mode)&&(n.latex=sL.serialize([o],{defaultMode:"math"})),n}var NL,$L,KL="@keyframes ML__caret-blink {\n  0%,\n  100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0;\n  }\n}\n.ML__container {\n  display: inline-flex;\n  flex-flow: row;\n  justify-content: space-between;\n  align-items: flex-end;\n  min-height: 39px;\n  /* Need some room for the virtual keyboard toggle */\n  width: 100%;\n  padding: 4px;\n  box-sizing: border-box;\n  /* This attribute is necessary to work around a Firefox issue where \n  where clicking multiple times on the border leads to a focused mathfield that cannot be edited until focus is lost and regained (also fixes the multiple cursor issue on firefox that can occur with the same sequence of events).\n  */\n  pointer-events: auto;\n  /* Prevent the browser from trying to interpret touch gestures in the field */\n  /* \"Disabling double-tap to zoom removes the need for browsers to\n        delay the generation of click events when the user taps the screen.\" */\n  touch-action: none;\n  --_caret-color: var(--caret-color, hsl(var(--_hue), 40%, 49%));\n  --_selection-color: var(--selection-color, #000);\n  --_selection-background-color: var(--selection-background-color, hsl(var(--_hue), 70%, 85%));\n  --_text-highlight-background-color: var(--highlight-text, hsla(var(--_hue), 40%, 50%, 0.1));\n  --_contains-highlight-background-color: var(--contains-highlight-background-color, hsl(var(--_hue), 40%, 95%));\n  --_smart-fence-color: var(--smart-fence-color, currentColor);\n  --_smart-fence-opacity: var(--smart-fence-opacity, 0.5);\n  --_latex-color: var(--latex-color, hsl(var(--_hue), 80%, 40%));\n  --_correct-color: var(--correct-color, #10a000);\n  --_incorrect-color: var(--incorrect-color, #a01b00);\n  --_composition-background-color: var(--composition-background-color, #fff1c2);\n  --_composition-text-color: var(--composition-text-color, black);\n  --_composition-underline-color: var(--composition-underline-color, transparent);\n  --_tooltip-border: var(--tooltip-border, 1px solid transparent);\n  --_tooltip-border-radius: var(--tooltip-border-radius, 8px);\n  --_tooltip-background-color: var(--tooltip-background-color, #616161);\n  --_tooltip-color: var(--tooltip-color, #fff);\n  --_tooltip-box-shadow: var(--tooltip-box-shadow, 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2));\n}\n@media (hover: none) and (pointer: coarse) {\n  :host(:not(:focus)) .ML__container {\n    pointer-events: none;\n  }\n}\n/* This is the actual field content (formula) */\n.ML__content {\n  display: flex;\n  align-items: center;\n  align-self: center;\n  position: relative;\n  overflow: hidden;\n  padding: 2px 3px 2px 1px;\n  width: 100%;\n  /* Encourage the browser to use the GPU to render the field.\n     Weirdly, this is required for prompts to be rendered correctly. \n   */\n  isolation: isolate;\n}\n.ML__virtual-keyboard-toggle,\n.ML__menu-toggle {\n  box-sizing: border-box;\n  display: flex;\n  align-self: center;\n  align-items: center;\n  flex-shrink: 0;\n  flex-direction: column;\n  justify-content: center;\n  width: 34px;\n  height: 34px;\n  padding: 0;\n  margin-right: 4px;\n  cursor: pointer;\n  /* Avoid some weird blinking with :hover */\n  border-radius: 8px;\n  border: 1px solid transparent;\n  transition: background 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);\n  color: hsl(var(--_hue), 40%, 50%);\n  fill: currentColor;\n  background: transparent;\n}\n.ML__virtual-keyboard-toggle:hover,\n.ML__menu-toggle:hover {\n  background: hsla(0, 0%, 70%, 0.3);\n  color: #333;\n  fill: currentColor;\n}\n.ML__virtual-keyboard-toggle > span,\n.ML__menu-toggle > span {\n  display: flex;\n  align-self: center;\n  align-items: center;\n}\n@media (pointer: coarse) {\n  .ML__virtual-keyboard-toggle,\n  .ML__menu-toggle {\n    min-width: 60px;\n    min-height: 60px;\n  }\n}\n/* The invisible element used to capture keyboard events. We're just trying\n really hard to make sure it doesn't show. */\n.ML__keyboard-sink {\n  display: inline-block;\n  resize: none;\n  outline: none;\n  border: none;\n  /* Need these for Microsoft Edge */\n  position: fixed;\n  clip: rect(0 0 0 0);\n  /* Need this to prevent iOS Safari from auto-zooming */\n  font-size: 1em;\n  font-family: KaTeX_Main;\n  line-height: 0.5;\n  /* On Chromium, if this is 0, no keyboard events are received */\n  /* Preferred over clip */\n  clip-path: inset(50%);\n}\n[part='placeholder'] {\n  color: var(--neutral-400);\n}\n.ML__composition {\n  background: var(--_composition-background-color);\n  color: var(--_composition-text-color);\n  text-decoration: underline var(--_composition-underline-color);\n}\n.ML__caret {\n  display: inline-block;\n}\n.ML__caret::after {\n  content: '';\n  visibility: hidden;\n  width: 0;\n  display: inline-block;\n  height: 0.76em;\n  --_caret-width: clamp(2px, 0.08em, 10px);\n  border: none;\n  border-radius: calc(var(--_caret-width) / 2);\n  border-right: var(--_caret-width) solid var(--_caret-color);\n  margin-right: calc(-1 * var(--_caret-width));\n  position: relative;\n  left: -0.045em;\n  bottom: -0.05em;\n  animation: ML__caret-blink 1.05s step-end forwards infinite;\n}\n.ML__text-caret::after {\n  content: '';\n  visibility: hidden;\n  width: 0;\n  display: inline-block;\n  height: 0.76em;\n  --_caret-width: clamp(2px, 0.08em, 10px);\n  border: none;\n  border-radius: calc(var(--_caret-width) / 2);\n  border-right: var(--_caret-width) solid var(--_caret-color);\n  margin-right: calc(-1 * var(--_caret-width));\n  position: relative;\n  left: -0.045em;\n  bottom: -0.05em;\n  animation: ML__caret-blink 1.05s step-end forwards infinite;\n}\n.ML__latex-caret::after {\n  content: '';\n  visibility: hidden;\n  --_caret-width: clamp(2px, 0.08em, 10px);\n  border: none;\n  border-radius: calc(var(--_caret-width) / 2);\n  border-right: var(--_caret-width) solid var(--_latex-color);\n  margin-right: calc(-1 * var(--_caret-width));\n  position: relative;\n  left: -0.019em;\n  animation: ML__caret-blink 1.05s step-end forwards infinite;\n}\n.ML__focused .ML__latex-caret::after,\n.ML__focused .ML__text-caret::after,\n.ML__focused .ML__caret::after {\n  visibility: visible;\n}\n.ML__focused .ML__text {\n  background: var(--_text-highlight-background-color);\n}\n/* When using smartFence, the anticipated closing fence is displayed\nwith this style */\n.ML__smart-fence__close {\n  opacity: var(--_smart-fence-opacity);\n  color: var(--_smart-fence-color);\n}\n.ML__selected,\n.ML__focused .ML__selected .ML__contains-caret,\n.ML__focused .ML__selected .ML__smart-fence__close,\n.ML__focused .ML__selected .ML__placeholder {\n  color: var(--_selection-color);\n  opacity: 1;\n}\n.ML__selection {\n  box-sizing: border-box;\n  background: transparent;\n}\n:host(:focus) .ML__selection {\n  background: var(--_selection-background-color) !important;\n}\n.ML__contains-caret.ML__close,\n.ML__contains-caret.ML__open,\n.ML__contains-caret > .ML__close,\n.ML__contains-caret > .ML__open,\n.ML__contains-caret .ML__sqrt-sign,\n.ML__contains-caret .ML__sqrt-line {\n  color: var(--_caret-color);\n}\n.ML__contains-highlight {\n  box-sizing: border-box;\n  background: transparent;\n}\n.ML__focused .ML__contains-highlight {\n  background: var(--_contains-highlight-background-color);\n}\n.ML__raw-latex {\n  font-family: 'Berkeley Mono', 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;\n  font-weight: 400;\n  font-size: 0.8em;\n  letter-spacing: -0.05em;\n  color: var(--_latex-color);\n}\n.ML__suggestion {\n  color: var(--neutral-500);\n}\n.ML__virtual-keyboard-toggle.is-visible.is-pressed:hover {\n  background: hsl(var(--_hue), 25%, 35%);\n  color: #fafafa;\n  fill: currentColor;\n}\n.ML__virtual-keyboard-toggle.is-pressed,\n.ML__virtual-keyboard-toggle.is-active:hover,\n.ML__virtual-keyboard-toggle.is-active {\n  background: hsl(var(--_hue), 25%, 35%);\n  color: #fafafa;\n  fill: currentColor;\n}\n/* Add an attribute 'data-tooltip' to automatically show a\n   tooltip over a element on hover.\n*/\n[data-tooltip] {\n  position: relative;\n}\n[data-tooltip]::after {\n  content: attr(data-tooltip);\n  position: absolute;\n  display: block;\n  z-index: 2;\n  pointer-events: none;\n  right: auto;\n  top: calc(-100% - 4px);\n  width: max-content;\n  max-width: 200px;\n  padding: 8px 8px;\n  border-radius: 4px;\n  background: #616161;\n  color: #fff;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);\n  text-align: center;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-style: normal;\n  font-weight: 400;\n  font-size: 13px;\n  /* Phone */\n  opacity: 0;\n  transform: scale(0.5);\n}\n@media only screen and (max-width: 767px) {\n  [data-tooltip]::after {\n    padding: 8px 16px;\n    font-size: 16px;\n  }\n}\nmenu [data-tooltip]::after {\n  left: 100%;\n  top: 0%;\n}\nmenu .ML__base {\n  cursor: default;\n}\n/** Don't display if we're tracking, i.e. have the pointer down */\n.tracking [data-tooltip]:hover::after {\n  /* Use visibility, not display. Display will remove the after from the DOM, and the override below will not work */\n  visibility: hidden;\n}\n/** But do display if tracking and inside a menu */\n.tracking menu li[data-tooltip]:hover::after,\n[data-tooltip]:hover::after {\n  visibility: visible;\n  opacity: 1;\n  transform: scale(1);\n  transition-property: opacity, scale;\n  transition-duration: 0.15s;\n  transition-delay: 1s;\n  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);\n}\n.ML__prompt {\n  border-radius: 2px;\n}\n.ML__editablePromptBox {\n  outline: 1px solid #acacac;\n  border-radius: 2px;\n  z-index: -1;\n}\n.ML__focused .ML__focusedPromptBox {\n  outline: highlight auto 1px;\n}\n.ML__lockedPromptBox {\n  background-color: rgba(142, 142, 141, 0.4);\n  z-index: -1;\n}\n.ML__correctPromptBox {\n  outline: 1px solid var(--_correct-color);\n  box-shadow: 0 0 5px var(--_correct-color);\n}\n.ML__incorrectPromptBox {\n  outline: 1px solid var(--_incorrect-color);\n  box-shadow: 0 0 5px var(--_incorrect-color);\n}\n.variant-submenu {\n  display: flex;\n  flex-direction: column;\n  padding: 8px;\n}\n.variant-submenu [part='menu-item'].ML__xl {\n  font-size: 2rem;\n  text-align: center;\n  margin: 0;\n}\n.ML__center-menu .label {\n  text-align: center;\n}\n.insert-matrix-submenu {\n  /* Grid doesn't work on Safari */\n  --_menu-item-size: 25px;\n  width: calc(5 * var(--_menu-item-size));\n  display: flex;\n  flex-wrap: wrap;\n  padding: 8px;\n  align-content: center;\n  justify-content: center;\n}\n.insert-matrix-submenu [part='menu-item'] {\n  width: var(--_menu-item-size);\n  height: var(--_menu-item-size);\n  font-size: 21px;\n  border: none;\n  border-radius: 0;\n  line-height: 21px;\n  text-align: center;\n  padding: 0;\n  margin: 0;\n}\n.border-submenu [part='menu-item'] {\n  font-size: 2rem;\n  line-height: 1.2;\n  text-align: center;\n}\n.swatches-submenu {\n  --_swatch-size: 2rem;\n  --_columns: 4;\n  display: flex;\n  flex-flow: wrap;\n  padding: 8px;\n  max-width: calc(var(--_columns) * (var(--_swatch-size) + 18px) + 16px);\n  box-sizing: border-box;\n}\n.menu-swatch {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  width: fit-content;\n  height: fit-content;\n  margin: 2px;\n  padding: 0;\n  background: var(--neutral-200);\n}\n.menu-swatch > .label {\n  padding: 0;\n  margin: 0;\n  line-height: 0;\n}\n.menu-swatch > .label > span {\n  display: inline-block;\n  margin: 6px;\n  min-width: var(--_swatch-size);\n  min-height: var(--_swatch-size);\n  border-radius: 50%;\n}\n.menu-swatch.active {\n  background: var(--neutral-100);\n  scale: 1.4;\n}\n.menu-swatch.active > .label > span {\n  border-radius: 2px;\n}\n.menu-swatch .ui-checkmark,\n.menu-swatch .ui-mixedmark {\n  position: absolute;\n  margin: 0;\n  padding: 0;\n  color: white;\n}\n.menu-swatch.dark-contrast .ui-checkmark,\n.menu-swatch.dark-contrast .ui-mixedmark {\n  color: #000;\n}\n.ML__insert-template {\n  font-size: 1em;\n}\n.ML__insert-label {\n  opacity: 0.5;\n  margin-left: 2ex;\n}\n",qL=".ML__container {\n  min-height: auto !important;\n  --_hue: var(--hue, 212);\n  --_placeholder-color: var(--placeholder-color, hsl(var(--_hue), 40%, 49%));\n  --_placeholder-opacity: var(--placeholder-opacity, 0.4);\n  --_text-font-family: var(--text-font-family, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif);\n}\n.ML__sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  clip-path: inset(50%);\n  white-space: nowrap;\n  border: 0;\n}\n.ML__is-inline {\n  display: inline-block;\n}\n.ML__base {\n  visibility: inherit;\n  display: inline-block;\n  position: relative;\n  cursor: text;\n  padding: 0;\n  margin: 0;\n  box-sizing: content-box;\n  border: 0;\n  outline: 0;\n  vertical-align: baseline;\n  font-weight: inherit;\n  font-family: inherit;\n  font-style: inherit;\n  text-decoration: none;\n  width: min-content;\n}\n.ML__strut,\n.ML__strut--bottom {\n  display: inline-block;\n  min-height: 0.5em;\n}\n.ML__small-delim {\n  font-family: KaTeX_Main;\n}\n/* Text mode */\n.ML__text {\n  font-family: var(--_text-font-family);\n  white-space: pre;\n}\n/* Use cmr for 'math upright' */\n.ML__cmr {\n  font-family: KaTeX_Main;\n  font-style: normal;\n}\n.ML__mathit {\n  font-family: KaTeX_Math;\n  /* The KaTeX_Math font is italic by default, so the font-style below is only \n     useful when a fallback font is used\n  */\n  font-style: italic;\n}\n.ML__mathbf {\n  font-family: KaTeX_Main;\n  font-weight: bold;\n}\n/* Lowercase greek symbols should stick to math font when \\mathbf is applied \n   to match TeX idiosyncratic behavior */\n.lcGreek.ML__mathbf {\n  font-family: KaTeX_Math;\n}\n.ML__mathbfit {\n  font-family: KaTeX_Math;\n  font-weight: bold;\n  font-style: italic;\n}\n.ML__ams {\n  font-family: KaTeX_AMS;\n}\n/* Blackboard */\n.ML__bb {\n  font-family: KaTeX_AMS;\n}\n.ML__cal {\n  font-family: KaTeX_Caligraphic;\n}\n.ML__frak {\n  font-family: KaTeX_Fraktur;\n}\n.ML__tt {\n  font-family: KaTeX_Typewriter;\n}\n.ML__script {\n  font-family: KaTeX_Script;\n}\n.ML__sans {\n  font-family: KaTeX_SansSerif;\n}\n.ML__series_ul {\n  font-weight: 100;\n}\n.ML__series_el {\n  font-weight: 100;\n}\n.ML__series_l {\n  font-weight: 200;\n}\n.ML__series_sl {\n  font-weight: 300;\n}\n.ML__series_sb {\n  font-weight: 500;\n}\n.ML__bold {\n  font-weight: 700;\n}\n.ML__series_eb {\n  font-weight: 800;\n}\n.ML__series_ub {\n  font-weight: 900;\n}\n.ML__series_uc {\n  font-stretch: ultra-condensed;\n}\n.ML__series_ec {\n  font-stretch: extra-condensed;\n}\n.ML__series_c {\n  font-stretch: condensed;\n}\n.ML__series_sc {\n  font-stretch: semi-condensed;\n}\n.ML__series_sx {\n  font-stretch: semi-expanded;\n}\n.ML__series_x {\n  font-stretch: expanded;\n}\n.ML__series_ex {\n  font-stretch: extra-expanded;\n}\n.ML__series_ux {\n  font-stretch: ultra-expanded;\n}\n.ML__it {\n  font-style: italic;\n}\n.ML__shape_ol {\n  -webkit-text-stroke: 1px black;\n  text-stroke: 1px black;\n  color: transparent;\n}\n.ML__shape_sc {\n  font-variant: small-caps;\n}\n.ML__shape_sl {\n  font-style: oblique;\n}\n/* First level emphasis */\n.ML__emph {\n  color: #bc2612;\n}\n/* Second level emphasis */\n.ML__emph .ML__emph {\n  color: #0c7f99;\n}\n.ML__highlight {\n  color: #007cb2;\n  background: #edd1b0;\n}\n.ML__center {\n  text-align: center;\n}\n.ML__left {\n  text-align: left;\n}\n.ML__right {\n  text-align: right;\n}\n.ML__label_padding {\n  padding: 0 0.5em;\n}\n.ML__frac-line {\n  width: 100%;\n  min-height: 1px;\n}\n.ML__frac-line:after {\n  content: '';\n  display: block;\n  margin-top: max(-1px, -0.04em);\n  min-height: max(1px, 0.04em);\n  /* Ensure the line is visible when printing even if \"turn off background images\" is on*/\n  -webkit-print-color-adjust: exact;\n  print-color-adjust: exact;\n  /* There's a bug since Chrome 62 where \n      sub-pixel border lines don't draw at some zoom \n      levels (110%, 90%). \n      Setting the min-height used to work around it, but that workaround\n      broke in Chrome 84 or so.\n      Setting the background (and the min-height) seems to work for now.\n      */\n  background: currentColor;\n  box-sizing: content-box;\n  /* Vuetify sets the box-sizing to inherit \n            causes the fraction line to not draw at all sizes (see #26) */\n  /* On some versions of Firefox on Windows, the line fails to \n            draw at some zoom levels, but setting the transform triggers\n            the hardware accelerated path, which works */\n  transform: translate(0, 0);\n}\n.ML__sqrt {\n  display: inline-block;\n}\n.ML__sqrt-sign {\n  display: inline-block;\n  position: relative;\n}\n.ML__sqrt-line {\n  display: inline-block;\n  height: max(1px, 0.04em);\n  width: 100%;\n}\n.ML__sqrt-line:before {\n  content: '';\n  display: block;\n  margin-top: min(-1px, -0.04em);\n  min-height: max(1px, 0.04em);\n  /* Ensure the line is visible when printing even if \"turn off background images\" is on*/\n  -webkit-print-color-adjust: exact;\n  print-color-adjust: exact;\n  background: currentColor;\n  /* On some versions of Firefox on Windows, the line fails to \n            draw at some zoom levels, but setting the transform triggers\n            the hardware accelerated path, which works */\n  transform: translate(0, 0);\n}\n.ML__sqrt-line:after {\n  border-bottom-width: 1px;\n  content: ' ';\n  display: block;\n  margin-top: -0.1em;\n}\n.ML__sqrt-index {\n  margin-left: 0.27777778em;\n  margin-right: -0.55555556em;\n}\n.ML__delim-size1 {\n  font-family: KaTeX_Size1;\n}\n.ML__delim-size2 {\n  font-family: KaTeX_Size2;\n}\n.ML__delim-size3 {\n  font-family: KaTeX_Size3;\n}\n.ML__delim-size4 {\n  font-family: KaTeX_Size4;\n}\n.ML__delim-mult .delim-size1 > span {\n  font-family: KaTeX_Size1;\n}\n.ML__delim-mult .delim-size4 > span {\n  font-family: KaTeX_Size4;\n}\n.ML__accent-body {\n  font-family: KaTeX_Main;\n}\n.ML__accent-combining-char {\n  position: relative;\n  left: 0.24em;\n}\n/** The markup for a LaTeX formula, either in an editable mathfield or \n    in a static display.\n*/\n.ML__latex {\n  display: inline-block;\n  direction: ltr;\n  text-align: left;\n  text-indent: 0;\n  text-rendering: auto;\n  font-family: inherit;\n  font-style: normal;\n  font-size-adjust: none;\n  font-stretch: normal;\n  font-variant-caps: normal;\n  letter-spacing: normal;\n  line-height: 1.2;\n  word-wrap: normal;\n  word-spacing: normal;\n  white-space: nowrap;\n  text-shadow: none;\n  -webkit-user-select: none;\n  user-select: none;\n  width: min-content;\n}\n.ML__latex .style-wrap {\n  position: relative;\n}\n.ML__latex .ML__mfrac {\n  display: inline-block;\n}\n.ML__latex .ML__left-right {\n  display: inline-block;\n}\n.ML__latex .ML__vlist-t {\n  display: inline-table;\n  table-layout: fixed;\n  border-collapse: collapse;\n}\n.ML__latex .ML__vlist-r {\n  display: table-row;\n}\n.ML__latex .ML__vlist {\n  display: table-cell;\n  vertical-align: bottom;\n  position: relative;\n}\n.ML__latex .ML__vlist > span {\n  display: block;\n  height: 0;\n  position: relative;\n}\n.ML__latex .ML__vlist > span > span {\n  display: inline-block;\n}\n.ML__latex .ML__vlist > span > .ML__pstrut {\n  overflow: hidden;\n  width: 0;\n}\n.ML__latex .ML__vlist-t2 {\n  margin-right: -2px;\n}\n.ML__latex .ML__vlist-s {\n  display: table-cell;\n  vertical-align: bottom;\n  font-size: 1px;\n  width: 2px;\n  min-width: 2px;\n}\n.ML__latex .ML__msubsup {\n  text-align: left;\n}\n.ML__latex .ML__negativethinspace {\n  display: inline-block;\n  margin-left: -0.16667em;\n  height: 0.71em;\n}\n.ML__latex .ML__thinspace {\n  display: inline-block;\n  width: 0.16667em;\n  height: 0.71em;\n}\n.ML__latex .ML__mediumspace {\n  display: inline-block;\n  width: 0.22222em;\n  height: 0.71em;\n}\n.ML__latex .ML__thickspace {\n  display: inline-block;\n  width: 0.27778em;\n  height: 0.71em;\n}\n.ML__latex .ML__enspace {\n  display: inline-block;\n  width: 0.5em;\n  height: 0.71em;\n}\n.ML__latex .ML__quad {\n  display: inline-block;\n  width: 1em;\n  height: 0.71em;\n}\n.ML__latex .ML__qquad {\n  display: inline-block;\n  width: 2em;\n  height: 0.71em;\n}\n.ML__latex .ML__llap,\n.ML__latex .ML__rlap {\n  width: 0;\n  position: relative;\n  display: inline-block;\n}\n.ML__latex .ML__llap > .ML__inner,\n.ML__latex .ML__rlap > .ML__inner {\n  position: absolute;\n}\n.ML__latex .ML__llap > .ML__fix,\n.ML__latex .ML__rlap > .ML__fix {\n  display: inline-block;\n}\n.ML__latex .ML__llap > .ML__inner {\n  right: 0;\n}\n.ML__latex .ML__rlap > .ML__inner {\n  left: 0;\n}\n.ML__latex .ML__rule {\n  display: inline-block;\n  border: solid 0;\n  position: relative;\n  box-sizing: border-box;\n}\n.ML__latex .overline .overline-line,\n.ML__latex .underline .underline-line {\n  width: 100%;\n}\n.ML__latex .overline .overline-line:before,\n.ML__latex .underline .underline-line:before {\n  content: '';\n  border-bottom-style: solid;\n  border-bottom-width: max(1px, 0.04em);\n  -webkit-print-color-adjust: exact;\n  print-color-adjust: exact;\n  display: block;\n}\n.ML__latex .overline .overline-line:after,\n.ML__latex .underline .underline-line:after {\n  border-bottom-style: solid;\n  border-bottom-width: max(1px, 0.04em);\n  -webkit-print-color-adjust: exact;\n  print-color-adjust: exact;\n  content: '';\n  display: block;\n  margin-top: -1px;\n}\n.ML__latex .ML__stretchy {\n  display: block;\n  position: absolute;\n  width: 100%;\n  left: 0;\n  overflow: hidden;\n}\n.ML__latex .ML__stretchy:before,\n.ML__latex .ML__stretchy:after {\n  content: '';\n}\n.ML__latex .ML__stretchy svg {\n  display: block;\n  position: absolute;\n  width: 100%;\n  height: inherit;\n  fill: currentColor;\n  stroke: currentColor;\n  fill-rule: nonzero;\n  fill-opacity: 1;\n  stroke-width: 1;\n  stroke-linecap: butt;\n  stroke-linejoin: miter;\n  stroke-miterlimit: 4;\n  stroke-dasharray: none;\n  stroke-dashoffset: 0;\n  stroke-opacity: 1;\n}\n.ML__latex .slice-1-of-2 {\n  display: inline-flex;\n  position: absolute;\n  left: 0;\n  width: 50.2%;\n  overflow: hidden;\n}\n.ML__latex .slice-2-of-2 {\n  display: inline-flex;\n  position: absolute;\n  right: 0;\n  width: 50.2%;\n  overflow: hidden;\n}\n.ML__latex .slice-1-of-3 {\n  display: inline-flex;\n  position: absolute;\n  left: 0;\n  width: 25.1%;\n  overflow: hidden;\n}\n.ML__latex .slice-2-of-3 {\n  display: inline-flex;\n  position: absolute;\n  left: 25%;\n  width: 50%;\n  overflow: hidden;\n}\n.ML__latex .slice-3-of-3 {\n  display: inline-flex;\n  position: absolute;\n  right: 0;\n  width: 25.1%;\n  overflow: hidden;\n}\n.ML__latex .slice-1-of-1 {\n  display: inline-flex;\n  position: absolute;\n  width: 100%;\n  left: 0;\n  overflow: hidden;\n}\n.ML__latex .ML__nulldelimiter {\n  display: inline-block;\n}\n.ML__latex .ML__op-group {\n  display: inline-block;\n}\n.ML__latex .ML__op-symbol {\n  position: relative;\n}\n.ML__latex .ML__op-symbol.ML__small-op {\n  font-family: KaTeX_Size1;\n}\n.ML__latex .ML__op-symbol.ML__large-op {\n  font-family: KaTeX_Size2;\n}\n.ML__latex:has(.ML__center_environment),\n.ML__latex:has(.ML__multiline_environment),\n.ML__latex:has(.ML__align_environment),\n.ML__latex:has(.ML__eqnarray_environment),\n.ML__latex:has(.ML__gather_environment) {\n  width: 100%;\n}\n.ML__latex .ML__multiline_environment {\n  display: inline-flex;\n  width: 100%;\n}\n.ML__latex .ML__center_environment {\n  display: inline-flex;\n  width: 100%;\n  justify-content: center;\n}\n.ML__latex .ML__align_environment,\n.ML__latex .ML__eqnarray_environment,\n.ML__latex .ML__gather_environment {\n  display: inline-block;\n}\n.ML__latex .ML__mtable .ML__vertical-separator {\n  display: inline-block;\n  min-width: 1px;\n  box-sizing: border-box;\n}\n.ML__latex .ML__mtable .ML__arraycolsep {\n  display: inline-block;\n}\n.ML__latex .ML__mtable .col-align-m > .ML__vlist-t {\n  text-align: center;\n}\n.ML__latex .ML__mtable .col-align-c > .ML__vlist-t {\n  text-align: center;\n}\n.ML__latex .ML__mtable .col-align-l > .ML__vlist-t {\n  text-align: left;\n}\n.ML__latex .ML__mtable .col-align-r > .ML__vlist-t {\n  text-align: right;\n}\n[data-href] {\n  cursor: pointer;\n}\n.ML__error {\n  display: inline-block;\n  background-image: radial-gradient(ellipse at center, hsl(341, 100%, 40%), rgba(0, 0, 0, 0) 70%);\n  background-color: hsla(341, 100%, 40%, 0.1);\n  background-repeat: repeat-x;\n  background-size: 3px 3px;\n  padding-bottom: 3px;\n  background-position: 0 100%;\n}\n.ML__error > .ML__error {\n  background: transparent;\n  padding: 0;\n}\n.ML__placeholder {\n  color: var(--_placeholder-color);\n  opacity: var(--_placeholder-opacity);\n  padding-left: 0.4ex;\n  padding-right: 0.4ex;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n}\n.ML__notation {\n  position: absolute;\n  box-sizing: border-box;\n  line-height: 0;\n}\n/* This class is used to implement the `\\mathtip` and `\\texttip` commands\n   For UI elements, see `[data-ML__tooltip]`\n*/\n.ML__tooltip-container {\n  position: relative;\n  transform: scale(0);\n}\n.ML__tooltip-container .ML__tooltip-content {\n  position: fixed;\n  display: inline-table;\n  visibility: hidden;\n  z-index: 2;\n  width: max-content;\n  max-width: 400px;\n  padding: 12px 12px;\n  border: var(--tooltip-border);\n  border-radius: var(--tooltip-border-radius);\n  background: var(--tooltip-background-color);\n  --_selection-color: var(--tooltip-color);\n  color: var(--tooltip-color);\n  box-shadow: var(--tooltip-box-shadow);\n  opacity: 0;\n  transition: opacity 0.15s cubic-bezier(0.4, 0, 1, 1);\n}\n.ML__tooltip-container .ML__tooltip-content .ML__text {\n  white-space: normal;\n}\n.ML__tooltip-container .ML__tooltip-content .ML__base {\n  display: contents;\n}\n.ML__tooltip-container:hover .ML__tooltip-content {\n  visibility: visible;\n  opacity: 1;\n  font-size: 0.75em;\n  transform: scale(1) translate(0, 3em);\n}\n",HL="#mathlive-environment-popover.is-visible {\n  visibility: visible;\n}\n#mathlive-environment-popover {\n  --_environment-panel-height: var(--environment-panel-height, 70px);\n  --_accent-color: var(--accent-color, #aaa);\n  --_background: var(--environment-panel-background, #fff);\n  --_button-background: var(--environment-panel-button-background, white);\n  --_button-background-hover: var(--environment-panel-button-background-hover, #f5f5f7);\n  --_button-background-active: var(--environment-panel-button-background-active, #f5f5f7);\n  --_button-text: var(--environment-panel-button-text, #e3e4e8);\n  position: absolute;\n  width: calc(var(--_environment-panel-height) * 2);\n  height: var(--_environment-panel-height);\n  border-radius: 4px;\n  border: 1.5px solid var(--_accent-color);\n  background-color: var(--_background);\n  box-shadow: 0 0 30px 0 var(--environment-shadow, rgba(0, 0, 0, 0.4));\n  pointer-events: all;\n  visibility: hidden;\n}\n#mathlive-environment-popover .MLEP__array-buttons {\n  height: calc(var(--_environment-panel-height) * 5/4);\n  width: calc(var(--_environment-panel-height) * 5/4);\n  margin-left: calc(0px - var(--_environment-panel-height) * 0.16);\n  margin-top: calc(0px - var(--_environment-panel-height) * 0.19);\n}\n#mathlive-environment-popover .MLEP__array-buttons .font {\n  fill: white;\n}\n#mathlive-environment-popover .MLEP__array-buttons circle {\n  fill: #7f7f7f;\n  transition: fill 300ms;\n}\n#mathlive-environment-popover .MLEP__array-buttons .MLEP__array-insert-background {\n  fill-opacity: 1;\n  fill: var(--_background);\n  stroke: var(--_accent-color);\n  stroke-width: 3px;\n}\n#mathlive-environment-popover .MLEP__array-buttons line {\n  stroke: var(--_accent-color);\n  stroke-opacity: 0;\n  stroke-width: 40;\n  pointer-events: none;\n  transition: stroke-opacity 300ms;\n  stroke-linecap: round;\n}\n#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover circle {\n  fill: var(--_accent-color);\n}\n#mathlive-environment-popover .MLEP__array-buttons g[data-command]:hover line {\n  stroke-opacity: 1;\n}\n#mathlive-environment-popover .MLEP__environment-delimiter-controls {\n  height: 100%;\n  width: 50%;\n}\n#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options {\n  width: var(--_environment-panel-height);\n  height: var(--_environment-panel-height);\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  justify-content: space-around;\n}\n#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg {\n  pointer-events: all;\n  margin-top: 2px;\n  width: calc(var(--_environment-panel-height) / 3 * 28 / 24);\n  height: calc(var(--_environment-panel-height) / 3 - 2px);\n  border-radius: calc(var(--_environment-panel-height) / 25);\n  background-color: var(--_button-background);\n}\n#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg:hover {\n  background-color: var(--_button-background-hover);\n}\n#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path,\n#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg line {\n  stroke: var(--_button-text);\n  stroke-width: 2;\n  stroke-linecap: round;\n}\n#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg rect,\n#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg path {\n  fill-opacity: 0;\n}\n#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active {\n  pointer-events: none;\n  background-color: var(--_button-background-active);\n}\n#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active path,\n#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active line {\n  stroke: var(--_accent-color);\n}\n#mathlive-environment-popover .MLEP__environment-delimiter-controls .MLEP__array-delimiter-options svg.active circle {\n  fill: var(--_accent-color);\n}\n",jL="/* The element that display info while in latex mode */\n#mathlive-suggestion-popover {\n  background-color: rgba(97, 97, 97);\n  color: #fff;\n  text-align: center;\n  border-radius: 8px;\n  position: fixed;\n  z-index: 1;\n  display: none;\n  flex-direction: column;\n  justify-content: center;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n}\n#mathlive-suggestion-popover.top-tip::after {\n  content: '';\n  position: absolute;\n  top: -15px;\n  left: calc(50% - 15px);\n  width: 0;\n  height: 0;\n  border-left: 15px solid transparent;\n  border-right: 15px solid transparent;\n  border-bottom: 15px solid rgba(97, 97, 97);\n  font-size: 1rem;\n}\n#mathlive-suggestion-popover.bottom-tip::after {\n  content: '';\n  position: absolute;\n  bottom: -15px;\n  left: calc(50% - 15px);\n  width: 0;\n  height: 0;\n  border-left: 15px solid transparent;\n  border-right: 15px solid transparent;\n  border-top: 15px solid rgba(97, 97, 97);\n  font-size: 1rem;\n}\n#mathlive-suggestion-popover.is-animated {\n  transition: all 0.2s cubic-bezier(0.64, 0.09, 0.08, 1);\n  animation: ML__fade-in cubic-bezier(0, 0, 0.2, 1) 0.15s;\n}\n#mathlive-suggestion-popover.is-visible {\n  display: flex;\n}\n@keyframes ML__fade-in {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n/* The wrapper class for the entire content of the popover panel */\n#mathlive-suggestion-popover ul {\n  display: flex;\n  flex-flow: column;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  align-items: flex-start;\n  max-height: 400px;\n  overflow-y: auto;\n}\n#mathlive-suggestion-popover li {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin: 8px;\n  padding: 8px;\n  width: calc(100% - 16px - 16px);\n  column-gap: 1em;\n  border-radius: 8px;\n  cursor: pointer;\n  /* Since the content can be clicked on, provide feedback on hover */\n}\n#mathlive-suggestion-popover li a {\n  color: #5ea6fd;\n  padding-top: 0.3em;\n  margin-top: 0.4em;\n  display: block;\n}\n#mathlive-suggestion-popover li a:hover {\n  color: #5ea6fd;\n  text-decoration: underline;\n}\n#mathlive-suggestion-popover li:hover,\n#mathlive-suggestion-popover li.is-pressed,\n#mathlive-suggestion-popover li.is-active {\n  background: rgba(255, 255, 255, 0.1);\n}\n/* The command inside a popover (inside a #mathlive-suggestion-popover) */\n.ML__popover__command {\n  font-size: 1.6rem;\n  font-family: KaTeX_Main;\n}\n.ML__popover__current {\n  background: #5ea6fd;\n  color: #fff;\n}\n.ML__popover__latex {\n  font-family: 'IBM Plex Mono', 'Source Code Pro', Consolas, 'Roboto Mono', Menlo, 'Bitstream Vera Sans Mono', 'DejaVu Sans Mono', Monaco, Courier, monospace;\n  align-self: center;\n}\n/* The keyboard shortcuts for a symbol as displayed in the popover */\n.ML__popover__keybinding {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-size: 0.8em;\n  opacity: 0.7;\n}\n/* Style for the character that joins the modifiers of a keyboard shortcut \n(usually a \"+\" sign)*/\n.ML__shortcut-join {\n  opacity: 0.5;\n}\n",WL="/* The element that displays the keys as the user type them */\n#mathlive-keystroke-caption-panel {\n  visibility: hidden;\n  /*min-width: 160px;*/\n  /*background-color: rgba(97, 97, 200, .95);*/\n  background: var(--secondary, hsl(var(--_hue), 19%, 26%));\n  border-color: var(--secondary-border, hsl(0, 0%, 91%));\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n  text-align: center;\n  border-radius: 6px;\n  padding: 16px;\n  position: absolute;\n  z-index: 1;\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: center;\n  --keystroke: white;\n  --on-keystroke: #555;\n  --keystroke-border: #f7f7f7;\n}\n@media (prefers-color-scheme: dark) {\n  body:not([theme='light']) #mathlive-keystroke-caption-panel {\n    --keystroke: hsl(var(--_hue), 50%, 30%);\n    --on-keystroke: hsl(0, 0%, 98%);\n    --keystroke-border: hsl(var(--_hue), 50%, 25%);\n  }\n}\nbody[theme='dark'] #mathlive-keystroke-caption-panel {\n  --keystroke: hsl(var(--_hue), 50%, 30%);\n  --on-keystroke: hsl(0, 0%, 98%);\n  --keystroke-border: hsl(var(--_hue), 50%, 25%);\n}\n#mathlive-keystroke-caption-panel > span {\n  min-width: 14px;\n  /*height: 8px;*/\n  margin: 0 8px 0 0;\n  padding: 4px;\n  background-color: var(--keystroke);\n  color: var(--on-keystroke);\n  fill: currentColor;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-size: 1em;\n  border-radius: 6px;\n  border: 2px solid var(--keystroke-border);\n  /*box-shadow: 0 7px 14px rgba(0,0,0,0.25), 0 5px 5px rgba(0,0,0,0.22);*/\n}\n",UL=".ML__keyboard {\n  --_keyboard-height: 0;\n  --_keyboard-zindex: var(--keyboard-zindex, 105);\n  --_accent-color: var(--keyboard-accent-color, #0c75d8);\n  --_background: var(--keyboard-background, #cacfd7);\n  --_border: var(--keyboard-border, #ddd);\n  --_padding-horizontal: var(--keyboard-padding-horizontal, 0px);\n  --_padding-top: var(--keyboard-padding-top, 5px);\n  --_padding-bottom: var(--keyboard-padding-bottom, 0px);\n  --_row-padding-left: var(--keyboard-row-padding-left, 0px);\n  --_row-padding-right: var(--keyboard-row-padding-right, 0px);\n  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);\n  --_toolbar-text-active: var(--keyboard-toolbar-text-active, var(--_accent-color));\n  --_toolbar-background: var(--keyboard-toolbar-background, transparent);\n  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);\n  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);\n  --_toolbar-font-size: var(--keyboard-toolbar-font-size, '135%');\n  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);\n  --_keycap-background: var(--keycap-background, #f0f0f0);\n  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);\n  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));\n  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));\n  --_keycap-border: var(--keycap-border, #e5e6e9);\n  --_keycap-border-bottom: var(--keycap-border-bottom, #8d8f92);\n  --_keycap-text: var(--keycap-text, #000);\n  --_keycap-text-active: var(--keycap-text-active, #fff);\n  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));\n  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);\n  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));\n  --_keycap-primary-background: var(--keycap-primary-background, var(--_accent-color));\n  --_keycap-primary-text: var(--keycap-primary-text, #ddd);\n  --_keycap-primary-background-hover: var(--keycap-primary-background-hover, #0d80f2);\n  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);\n  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);\n  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);\n  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);\n  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);\n  --_keycap-height: var(--keycap-height, 60px);\n  /* Keycap width (incl. margin) */\n  --_keycap-max-width: var(--keycap-max-width, 100px);\n  --_keycap-gap: var(--keycap-gap, 8px);\n  --_keycap-font-size: var(--keycap-font-size, clamp(16px, 4cqw, 24px));\n  --_keycap-small-font-size: var(--keycap-small-font-size, calc(var(--keycap-font-size) * 0.8));\n  --_keycap-extra-small-font-size: var(--keycap-extra-small-font-size, calc(var(--keycap-font-size) / 1.42));\n  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);\n  --_variant-keycap-text: var(--variant-keycap-text, var(--_keycap-text));\n  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));\n  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));\n  --_variant-keycap-length: var(--variant-keycap-length, 70px);\n  --_variant-keycap-font-size: var(--variant-keycap-font-size, 30px);\n  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 12px);\n  --_keycap-shift-font-size: var(--keycap-shift-font-size, 16px);\n  --_keycap-shift-color: var(--keycap-shift-color, var(--_accent-color));\n  --_box-placeholder-color: var(--box-placeholder-color, var(--_accent-color));\n  --_box-placeholder-pressed-color: var(--box-placeholder-pressed-color, var(--keycap-text-pressed));\n  --_keycap-glyph-size: var(--keycap-glyph-size, 20px);\n  --_keycap-glyph-size-lg: var(--keycap-glyph-size-lg, 24px);\n  --_keycap-glyph-size-xl: var(--keycap-glyph-size-xl, 50px);\n}\n.is-math-mode .MLK__rows .if-text-mode,\n.is-text-mode .MLK__rows .if-math-mode {\n  display: none;\n}\n.if-can-undo,\n.if-can-redo,\n.if-can-copy,\n.if-can-cut,\n.if-can-paste {\n  opacity: 0.4;\n  pointer-events: none;\n}\n.can-undo .if-can-undo,\n.can-redo .if-can-redo,\n.can-copy .if-can-copy,\n.can-cut .if-can-cut,\n.can-paste .if-can-paste {\n  opacity: 1;\n  pointer-events: all;\n}\nbody > .ML__keyboard {\n  position: fixed;\n  --_padding-bottom: calc(var(--keyboard-padding-bottom, 0px) + env(safe-area-inset-bottom, 0));\n}\nbody > .ML__keyboard.is-visible > .MLK__backdrop {\n  box-shadow: 0 -5px 6px rgba(0, 0, 0, 0.08);\n  border-top: 1px solid var(--_border);\n}\nbody > .ML__keyboard.backdrop-is-transparent.is-visible > .MLK__backdrop {\n  box-shadow: none;\n  border: none;\n}\nbody > .ML__keyboard.is-visible.animate > .MLK__backdrop {\n  transition: 0.28s cubic-bezier(0, 0, 0.2, 1);\n  transition-property: transform, opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 1, 1);\n}\n.ML__keyboard {\n  position: relative;\n  overflow: hidden;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  z-index: var(--_keyboard-zindex);\n  box-sizing: border-box;\n  outline: none;\n  border: none;\n  margin: 0;\n  padding: 0;\n  line-height: 1;\n  overflow-wrap: unset;\n  text-align: left;\n  vertical-align: baseline;\n  cursor: auto;\n  white-space: pre;\n  box-shadow: none;\n  opacity: 1;\n  transform: none;\n  pointer-events: none;\n}\n.ML__keyboard :where(div) {\n  box-sizing: border-box;\n  outline: none;\n  border: none;\n  margin: 0;\n  padding: 0;\n  line-height: 1;\n  overflow-wrap: unset;\n  text-align: left;\n  vertical-align: baseline;\n  cursor: auto;\n  white-space: pre;\n  box-shadow: none;\n  transform: none;\n}\n.MLK__backdrop {\n  position: absolute;\n  bottom: calc(-1 * var(--_keyboard-height));\n  width: 100%;\n  height: var(--_keyboard-height);\n  box-sizing: border-box;\n  padding-top: var(--_padding-top);\n  padding-bottom: var(--_padding-bottom);\n  padding-left: var(--_padding-horizontal);\n  padding-right: var(--_padding-horizontal);\n  opacity: 0;\n  visibility: hidden;\n  transform: translate(0, 0);\n  background: var(--_background);\n}\n.backdrop-is-transparent .MLK__backdrop {\n  background: transparent;\n}\n/* If a custom layout has a custom container/backdrop\n  (backdrop-is-transparent), make sure to let pointer event go through. */\n.backdrop-is-transparent .MLK__plate {\n  background: transparent;\n  pointer-events: none;\n}\n/* If a custom layout has a custom container/backdrop, make sure to \n   allow pointer events on it. */\n.backdrop-is-transparent .MLK__layer > div > div {\n  pointer-events: all;\n}\n.ML__keyboard.is-visible > .MLK__backdrop {\n  transform: translate(0, calc(-1 * var(--_keyboard-height)));\n  opacity: 1;\n  visibility: visible;\n}\n.caps-lock-indicator {\n  display: none;\n  width: 8px;\n  height: 8px;\n  background: #0cbc0c;\n  box-shadow: inset 0 0 4px 0 #13ca13, 0 0 4px 0 #a9ef48;\n  border-radius: 8px;\n  right: 8px;\n  top: 8px;\n  position: absolute;\n}\n.ML__keyboard.is-caps-lock .caps-lock-indicator {\n  display: block;\n}\n.ML__keyboard.is-caps-lock .shift {\n  background: var(--_keycap-background-active);\n  color: var(--_keycap-text-active);\n}\n.MLK__plate {\n  position: absolute;\n  top: var(--_padding-top);\n  left: var(--_padding-horizontal);\n  width: calc(100% - 2 * var(--_padding-horizontal));\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  container-type: inline-size;\n  touch-action: none;\n  -webkit-user-select: none;\n  user-select: none;\n  pointer-events: all;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-size: 16px;\n  /* Size of toolbar labels */\n  font-weight: 400;\n  text-shadow: none;\n}\n.ML__box-placeholder {\n  color: var(--_box-placeholder-color);\n}\n.MLK__tex {\n  font-family: KaTeX_Main, KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;\n}\n.MLK__tex-math {\n  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;\n  font-style: italic;\n}\n.MLK__layer {\n  display: none;\n  outline: none;\n}\n.MLK__layer.is-visible {\n  display: flex;\n  flex-flow: column;\n}\n/* Keyboard layouts are made or rows of keys... */\n.MLK__rows {\n  --_keycap-width: var(--keycap-width, min(var(--_keycap-max-width), 10cqw));\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  border-collapse: separate;\n  clear: both;\n  border: 0;\n  margin: 0;\n  margin-bottom: var(--_keycap-gap);\n  gap: var(--_keycap-gap);\n  /* If the styling include, e.g., some shadows, they will be\n  cut off by the overflow. In that case, set the padding to \n  compensate. */\n  padding-left: var(--_row-padding-left);\n  padding-right: var(--_row-padding-right);\n  overflow: visible;\n  touch-action: none;\n}\n.MLK__rows > .MLK__row {\n  display: flex;\n  flex-flow: row;\n  justify-content: center;\n  width: 100%;\n  gap: var(--_keycap-gap);\n  margin: 0;\n  padding: 0;\n  /* For the alignment of the text on some modifiers (e.g. shift) */\n  /* Extra spacing between two adjacent keys */\n}\n.MLK__rows > .MLK__row .tex {\n  font-family: KaTeX_Math, KaTeX_Main, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;\n}\n.MLK__rows > .MLK__row .tex-math {\n  font-family: KaTeX_Math, 'Cambria Math', 'Asana Math', OpenSymbol, Symbola, STIX, Times, serif !important;\n}\n.MLK__rows > .MLK__row .big-op {\n  font-size: calc(1.25 * var(--_keycap-font-size));\n}\n.MLK__rows > .MLK__row .small {\n  font-size: var(--_keycap-small-font-size);\n}\n.MLK__rows > .MLK__row .bottom {\n  justify-content: flex-end;\n}\n.MLK__rows > .MLK__row .left {\n  align-items: flex-start;\n  padding-left: 12px;\n}\n.MLK__rows > .MLK__row .right {\n  align-items: flex-end;\n  padding-right: 12px;\n}\n.MLK__rows > .MLK__row .w0 {\n  width: 0;\n}\n.MLK__rows > .MLK__row .w5 {\n  width: calc(0.5 * var(--_keycap-width) - var(--_keycap-gap));\n}\n.MLK__rows > .MLK__row .w15 {\n  width: calc(1.5 * var(--_keycap-width) - var(--_keycap-gap));\n}\n.MLK__rows > .MLK__row .w20 {\n  width: calc(2 * var(--_keycap-width) - var(--_keycap-gap));\n}\n.MLK__rows > .MLK__row .w40 {\n  width: calc(4 * var(--_keycap-width) - var(--_keycap-gap));\n}\n.MLK__rows > .MLK__row .w50 {\n  width: calc(5 * var(--_keycap-width) - var(--_keycap-gap));\n}\n.MLK__rows > .MLK__row .MLK__keycap.w50 {\n  font-size: 80%;\n  padding-top: 10px;\n  font-weight: 100;\n}\n.MLK__rows > .MLK__row .separator {\n  background: transparent;\n  border: none;\n  pointer-events: none;\n}\n.MLK__rows > .MLK__row .horizontal-rule {\n  height: 6px;\n  margin-top: 3px;\n  margin-bottom: 0;\n  width: 100%;\n  border-radius: 0;\n  border-top: var(--_horizontal-rule);\n}\n.MLK__rows > .MLK__row .ghost {\n  background: var(--_toolbar-background);\n  border: none;\n  color: var(--_toolbar-text);\n}\n.MLK__rows > .MLK__row .ghost:hover {\n  background: var(--_toolbar-background-hover);\n}\n.MLK__rows > .MLK__row .bigfnbutton {\n  font-size: var(--_keycap-extra-small-font-size);\n}\n.MLK__rows > .MLK__row .shift,\n.MLK__rows > .MLK__row .action {\n  color: var(--_keycap-secondary-text);\n  background: var(--_keycap-secondary-background);\n  border-color: var(--_keycap-secondary-border);\n  border-bottom-color: var(--_keycap-secondary-border-bottom);\n  line-height: 0.8;\n  font-size: min(1rem, var(--_keycap-small-font-size));\n  font-weight: 600;\n  padding: 8px 12px 8px 12px;\n}\n.MLK__rows > .MLK__row .shift:hover,\n.MLK__rows > .MLK__row .action:hover {\n  background: var(--_keycap-secondary-background-hover);\n}\n.MLK__rows > .MLK__row .action.primary {\n  background: var(--_keycap-primary-background);\n  color: var(--_keycap-primary-text);\n}\n.MLK__rows > .MLK__row .action.primary:hover {\n  background: var(--_keycap-primary-background-hover);\n  color: var(--_keycap-primary-text);\n}\n.MLK__rows > .MLK__row .shift.selected,\n.MLK__rows > .MLK__row .action.selected {\n  color: var(--_toolbar-text-active);\n}\n.MLK__rows > .MLK__row .shift.selected.is-pressed,\n.MLK__rows > .MLK__row .action.selected.is-pressed,\n.MLK__rows > .MLK__row .shift.selected.is-active,\n.MLK__rows > .MLK__row .action.selected.is-active {\n  color: white;\n}\n.MLK__rows > .MLK__row .warning {\n  background: #cd0030;\n  color: white;\n}\n.MLK__rows > .MLK__row .warning svg.svg-glyph {\n  width: var(--_keycap-glyph-size-lg);\n  height: var(--_keycap-glyph-size-lg);\n  min-height: var(--_keycap-glyph-size-lg);\n}\n/** A regular keycap\n * Use the :where() pseudo-class to give it a very low specifity, \n * so that it can be overriden by custom style.\n */\n:where(.MLK__rows > .MLK__row div) {\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  justify-content: space-evenly;\n  width: calc(var(--_keycap-width) - var(--_keycap-gap));\n  height: var(--_keycap-height);\n  box-sizing: border-box;\n  padding: 0;\n  vertical-align: top;\n  text-align: center;\n  float: left;\n  color: var(--_keycap-text);\n  fill: currentColor;\n  font-size: var(--_keycap-font-size);\n  background: var(--_keycap-background);\n  border: 1px solid var(--_keycap-border);\n  border-bottom-color: var(--_keycap-border-bottom);\n  border-radius: 6px;\n  cursor: pointer;\n  touch-action: none;\n  /* Keys with a variants panel */\n  position: relative;\n  overflow: hidden;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n:where(.MLK__rows > .MLK__row div):hover {\n  overflow: visible;\n  background: var(--_keycap-background-hover);\n}\n:where(.MLK__rows > .MLK__row div) .ML__latex {\n  pointer-events: none;\n  touch-action: none;\n}\n:where(.MLK__rows > .MLK__row div) svg.svg-glyph {\n  margin: 8px 0;\n  width: var(--_keycap-glyph-size);\n  height: var(--_keycap-glyph-size);\n  min-height: var(--_keycap-glyph-size);\n}\n:where(.MLK__rows > .MLK__row div) svg.svg-glyph-lg {\n  margin: 8px 0;\n  width: var(--_keycap-glyph-size-lg);\n  height: var(--_keycap-glyph-size-lg);\n  min-height: var(--_keycap-glyph-size-lg);\n}\n:where(.MLK__rows > .MLK__row div).MLK__tex-math {\n  font-size: 25px;\n}\n:where(.MLK__rows > .MLK__row div).is-pressed {\n  background: var(--_keycap-background-pressed);\n  color: var(--_keycap-text-pressed);\n  --_box-placeholder-color: var(--_box-placeholder-pressed-color);\n}\n:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,\n:where(.MLK__rows > .MLK__row div).action.is-active,\n:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,\n:where(.MLK__rows > .MLK__row div).action.is-pressed {\n  z-index: calc(var(--_keyboard-zindex) - 5);\n}\n:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active aside,\n:where(.MLK__rows > .MLK__row div).action.is-active aside,\n:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed aside,\n:where(.MLK__rows > .MLK__row div).action.is-pressed aside {\n  display: none;\n}\n:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active .MLK__shift,\n:where(.MLK__rows > .MLK__row div).action.is-active .MLK__shift,\n:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed .MLK__shift,\n:where(.MLK__rows > .MLK__row div).action.is-pressed .MLK__shift {\n  display: none;\n}\n:where(.MLK__rows > .MLK__row div).shift.is-pressed,\n:where(.MLK__rows > .MLK__row div).MLK__keycap.is-pressed,\n:where(.MLK__rows > .MLK__row div).action.is-pressed {\n  background: var(--_keycap-background-pressed);\n  color: var(--_keycap-text-pressed);\n}\n:where(.MLK__rows > .MLK__row div).shift.is-active,\n:where(.MLK__rows > .MLK__row div).MLK__keycap.is-active,\n:where(.MLK__rows > .MLK__row div).action.is-active {\n  background: var(--_keycap-background-active);\n  color: var(--_keycap-text-active);\n  --_box-placeholder-color: var(--_box-placeholder-pressed-color);\n}\n:where(.MLK__rows > .MLK__row div) small {\n  color: var(--_keycap-secondary-text);\n}\n:where(.MLK__rows > .MLK__row div) aside {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-size: 10px;\n  line-height: 10px;\n  color: var(--_keycap-secondary-text);\n}\n/* Add an attribute 'data-tooltip' to display a tooltip on hover.\nNote there are a different set of tooltip rules for the keyboard toggle\n(it's in a different CSS tree) */\n.ML__keyboard [data-tooltip] {\n  position: relative;\n}\n.ML__keyboard [data-tooltip]::after {\n  position: absolute;\n  display: inline-table;\n  content: attr(data-tooltip);\n  top: inherit;\n  bottom: 100%;\n  width: max-content;\n  max-width: 200px;\n  padding: 8px 8px;\n  background: #616161;\n  color: #fff;\n  text-align: center;\n  z-index: 2;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);\n  border-radius: 2px;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 400;\n  font-size: 12px;\n  transition: all 0.15s cubic-bezier(0.4, 0, 1, 1) 1s;\n  opacity: 0;\n  transform: scale(0.5);\n}\n.ML__keyboard [data-tooltip]:hover {\n  position: relative;\n}\n.ML__keyboard [data-tooltip]:hover::after {\n  opacity: 1;\n  transform: scale(1);\n}\n.MLK__toolbar {\n  align-self: center;\n  display: flex;\n  flex-flow: row;\n  justify-content: space-between;\n  width: 100%;\n  max-width: 996px;\n  min-height: 32px;\n  /* Icons for undo/redo, etc. */\n}\n.MLK__toolbar svg {\n  height: 20px;\n  width: 20px;\n}\n.MLK__toolbar > .left {\n  position: relative;\n  display: flex;\n  justify-content: flex-start;\n  flex-flow: row;\n}\n.MLK__toolbar > .right {\n  display: flex;\n  justify-content: flex-end;\n  flex-flow: row;\n}\n.MLK__toolbar > div > div {\n  /* \"button\" in the toolbar */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--_toolbar-text);\n  fill: currentColor;\n  background: var(--_toolbar-background);\n  font-size: var(--_toolbar-font-size);\n  padding: 4px 15px;\n  cursor: pointer;\n  width: max-content;\n  min-width: 42px;\n  min-height: 34px;\n  border: none;\n  padding-left: 10px;\n  padding-right: 10px;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  margin-top: 0;\n  margin-bottom: 4px;\n  margin-left: 4px;\n  margin-right: 4px;\n  border-radius: 8px;\n  box-shadow: none;\n  border-bottom: 2px solid transparent;\n}\n.MLK__toolbar > div > div:not(.disabled):not(.selected):hover {\n  background: var(--_toolbar-background-hover);\n}\n.MLK__toolbar > div > div.disabled svg,\n.MLK__toolbar > div > div.disabled:hover svg,\n.MLK__toolbar > div > div.disabled.is-pressed svg {\n  color: var(--_toolbar-text);\n  opacity: 0.2;\n}\n.MLK__toolbar > div > div:hover,\n.MLK__toolbar > div > div:active,\n.MLK__toolbar > div > div.is-pressed,\n.MLK__toolbar > div > div.is-active {\n  color: var(--_toolbar-text-active);\n}\n.MLK__toolbar > div > div.selected {\n  color: var(--_toolbar-text-active);\n  background: var(--_toolbar-background-selected);\n  border-radius: 0;\n  border-bottom-color: var(--_toolbar-text-active);\n  padding-bottom: 4px;\n  margin-bottom: 8px;\n}\n/* This is the element that displays variants on press+hold */\n.MLK__variant-panel {\n  visibility: hidden;\n  position: fixed;\n  display: flex;\n  flex-flow: row wrap-reverse;\n  justify-content: center;\n  align-content: center;\n  margin: 0;\n  padding: 0;\n  bottom: auto;\n  top: 0;\n  box-sizing: content-box;\n  transform: none;\n  z-index: calc(var(--_keyboard-zindex) + 1);\n  touch-action: none;\n  max-width: 350px;\n  background: var(--_variant-panel-background);\n  text-align: center;\n  border-radius: 6px;\n  padding: 6px;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n  transition: none;\n}\n.MLK__variant-panel.is-visible {\n  visibility: visible;\n}\n.MLK__variant-panel.compact {\n  --_variant-keycap-length: var(--variant-keycap-length, 50px);\n  --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);\n  --_variant-keycap-aside-font-size: var(--variant-keycap-aside-font-size, 10px);\n}\n.MLK__variant-panel .item {\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  justify-content: center;\n  font-size: var(--_variant-keycap-font-size);\n  height: var(--_variant-keycap-length);\n  width: var(--_variant-keycap-length);\n  margin: 0;\n  box-sizing: border-box;\n  border-radius: 5px;\n  border: 1px solid transparent;\n  background: transparent;\n  pointer-events: all;\n  cursor: pointer;\n  color: var(--_variant-keycap-text);\n  fill: currentColor;\n}\n@media (max-height: 412px) {\n  .MLK__variant-panel .item {\n    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);\n    --_variant-keycap-length: var(--variant-keycap-length, 50px);\n  }\n}\n.MLK__variant-panel .item .ML__latex {\n  pointer-events: none;\n}\n.MLK__variant-panel .item.is-active {\n  background: var(--_variant-keycap-background-active);\n  color: var(--_variant-keycap-text-active);\n  --_box-placeholder-color: var(--_box-placeholder-pressed-color);\n}\n.MLK__variant-panel .item.is-pressed {\n  background: var(--_variant-keycap-background-pressed);\n  color: var(--_variant-keycap-text-pressed);\n  --_box-placeholder-color: var(--_box-placeholder-pressed-color);\n}\n.MLK__variant-panel .item.small {\n  font-size: var(--_keycap-small-font-size);\n}\n.MLK__variant-panel .item.swatch-button {\n  box-sizing: border-box;\n  background: #fbfbfb;\n}\n.MLK__variant-panel .item.swatch-button > span {\n  display: inline-block;\n  margin: 6px;\n  width: calc(100% - 12px);\n  height: calc(100% - 12px);\n  border-radius: 50%;\n}\n.MLK__variant-panel .item.swatch-button:hover {\n  background: #f0f0f0;\n}\n.MLK__variant-panel .item.swatch-button:hover > span {\n  border-radius: 2px;\n}\n.MLK__variant-panel .item.box > div,\n.MLK__variant-panel .item.box > span {\n  border: 1px dashed rgba(0, 0, 0, 0.24);\n}\n.MLK__variant-panel .item .warning {\n  min-height: 60px;\n  min-width: 60px;\n  background: #cd0030;\n  color: white;\n  padding: 5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 5px;\n}\n.MLK__variant-panel .item .warning.is-pressed,\n.MLK__variant-panel .item .warning.is-active {\n  background: red;\n}\n.MLK__variant-panel .item .warning svg.svg-glyph {\n  width: var(--_keycap-glyph-size-xl);\n  height: var(--_keycap-glyph-size-xl);\n}\n.MLK__variant-panel .item aside {\n  font-size: var(--_variant-keycap-aside-font-size);\n  line-height: 12px;\n  opacity: 0.78;\n  padding-top: 2px;\n  width: 100%;\n  text-align: center;\n  text-wrap: wrap;\n}\n.MLK__keycap {\n  position: relative;\n}\n.MLK__shift {\n  display: block;\n  position: absolute;\n  right: 4px;\n  top: 4px;\n  font-size: var(--_keycap-shift-font-size);\n  color: var(--_keycap-shift-color);\n}\n.hide-shift .MLK__shift {\n  display: none;\n}\n@media (max-width: 414px) {\n  .MLK__variant-panel {\n    max-width: 350px;\n    --_variant-keycap-font-size: var(--variant-keycap-font-size, 24px);\n    --_variant-keycap-length: var(--variant-keycap-length, 50px);\n  }\n}\n/* @xs breakpoint: iPhone 5 */\n@container (max-width: 414px) {\n  .MLK__rows {\n    --_keycap-gap: max(var(--_keycap-gap, 2px), 2px);\n    --_keycap-height: max(var(--_keycap-height), 42px);\n    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width)), 10cqw), 62px));\n  }\n  .MLK__toolbar > div > div {\n    font-size: 100%;\n    margin-left: 2px;\n    margin-right: 2px;\n  }\n  .MLK__rows .shift,\n  .MLK__rows .action {\n    font-size: 65%;\n  }\n  .MLK__rows .warning svg.svg-glyph {\n    width: 14px;\n    height: 14px;\n    min-height: 14px;\n  }\n}\n@container (max-width: 744px) {\n  .MLK__rows {\n    --_keycap-gap: max(var(--keycap-gap, 2px), 2px);\n    --_keycap-height: max(var(--keycap-height, 52px), 52px);\n    --_keycap-width: var(--keycap-width, min(min(var(--_keycap-max-width), 10cqw), 62px));\n  }\n  .MLK__toolbar > div > div {\n    padding-left: 0;\n    padding-right: 0;\n  }\n  .MLK__tooltip::after {\n    padding: 8px 16px;\n    font-size: 16px;\n  }\n  .MLK__rows > .MLK__row > div.fnbutton {\n    font-size: 16px;\n  }\n  .MLK__rows > .MLK__row > div.bigfnbutton {\n    font-size: calc(var(--_keycap-extra-small-font-size) / 1.55);\n  }\n  .MLK__rows > .MLK__row > div.small {\n    font-size: 13px;\n  }\n  .MLK__rows > .MLK__row > div > aside {\n    display: none;\n  }\n  .MLK__shift {\n    display: none;\n  }\n}\n/* Medium breakpoint: larger phones */\n@container (max-width: 768px) {\n  .MLK__rows {\n    --_keycap-height: max(var(--keycap-height, 42px), 42px);\n  }\n  .MLK__rows > .MLK__row > div > small {\n    font-size: 14px;\n  }\n}\n@media (max-height: 768px) {\n  .MLK__rows {\n    --_keycap-height: max(var(--keycap-height, 42px), 42px);\n  }\n  .MLK__rows > .MLK__row > div > small {\n    font-size: 14px;\n  }\n}\n@container (max-width: 1444px) {\n  .MLK__rows .if-wide {\n    display: none;\n  }\n}\n@media (prefers-color-scheme: dark) {\n  .ML__keyboard {\n    --_accent-color: var(--keyboard-accent-color, #0b5c9c);\n    --_background: var(--keyboard-background, #151515);\n    --_border: var(--keyboard-border, transparent);\n    --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);\n    --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);\n    --keyboard-toolbar-background-hover: #303030;\n    --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);\n    --_keycap-background: var(--keycap-background, #1f2022);\n    --_keycap-background-hover: var(--keycap-background-hover, #2f3032);\n    --_keycap-border: var(--_keycap-border, transparent);\n    --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);\n    --_keycap-text: var(--keycap-text, #e3e4e8);\n    --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);\n    --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);\n    --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);\n    --keycap-secondary-border: transparent;\n    --keycap-secondary-border-bottom: transparent;\n    --_keycap-secondary-border: var(--keycap-secondary-border, transparent);\n    --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);\n    --_variant-panel-background: var(--variant-panel-background, #303030);\n    --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);\n  }\n}\n/* Same as the media query, but with a class */\n[theme='dark'] .ML__keyboard {\n  --_accent-color: var(--keyboard-accent-color, #0b5c9c);\n  --_background: var(--keyboard-background, #151515);\n  --_border: var(--keyboard-border, transparent);\n  --_toolbar-text: var(--keyboard-toolbar-text, #e3e4e8);\n  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #303030);\n  --keyboard-toolbar-background-hover: #303030;\n  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #303030);\n  --_keycap-background: var(--keycap-background, #1f2022);\n  --_keycap-background-hover: var(--keycap-background-hover, #2f3032);\n  --_keycap-border: var(--_keycap-border, transparent);\n  --_keycap-border-bottom: var(--_keycap-border-bottom, transparent);\n  --_keycap-text: var(--keycap-text, #e3e4e8);\n  --_keycap-secondary-background: var(--keycap-secondary-background, #3d4144);\n  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #4d5154);\n  --_keycap-secondary-text: var(--keycap-secondary-text, #e7ebee);\n  --keycap-secondary-border: transparent;\n  --keycap-secondary-border-bottom: transparent;\n  --_keycap-secondary-border: var(--keycap-secondary-border, transparent);\n  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, transparent);\n  --_variant-panel-background: var(--variant-panel-background, #303030);\n  --_variant-keycap-text-active: var(--variant-keycap-text-active, #fff);\n}\n[theme='light'] .ML__keyboard {\n  --_accent-color: var(--keyboard-accent-color, #0c75d8);\n  --_background: var(--keyboard-background, #cacfd7);\n  --_border: var(--keyboard-border, #ddd);\n  --_toolbar-text: var(--keyboard-toolbar-text, #2c2e2f);\n  --_toolbar-background: var(--keyboard-toolbar-background, transparent);\n  --_toolbar-background-hover: var(--keyboard-toolbar-background-hover, #eee);\n  --_toolbar-background-selected: var(--keyboard-toolbar-background-selected, transparent);\n  --_horizontal-rule: var(--keyboard-horizontal-rule, 1px solid #fff);\n  --_keycap-background: var(--keycap-background, white);\n  --_keycap-background-hover: var(--keycap-background-hover, #f5f5f7);\n  --_keycap-background-active: var(--keycap-background-active, var(--_accent-color));\n  --_keycap-background-pressed: var(--keycap-background-pressed, var(--_accent-color));\n  --_keycap-border: var(--_keycap-border, #e5e6e9);\n  --_keycap-border-bottom: var(--_keycap-border-bottom, #8d8f92);\n  --_keycap-text: var(--keycap-text, #000);\n  --_keycap-text-active: var(--keycap-text-active, #fff);\n  --_keycap-text-hover: var(--keycap-text-hover, var(--_keycap-text));\n  --_keycap-text-pressed: var(--keycap-text-pressed, #fff);\n  --_keycap-shift-text: var(--keycap-shift-text, var(--_accent-color));\n  --_keycap-secondary-background: var(--keycap-secondary-background, #a0a9b8);\n  --_keycap-secondary-background-hover: var(--keycap-secondary-background-hover, #7d8795);\n  --_keycap-secondary-text: var(--keycap-secondary-text, #060707);\n  --_keycap-secondary-border: var(--keycap-secondary-border, #c5c9d0);\n  --_keycap-secondary-border-bottom: var(--keycap-secondary-border-bottom, #989da6);\n  --_variant-panel-background: var(--variant-panel-background, #f0f0f0);\n  --_variant-keycap-text: var(--variant-keycap-textvar, var(--_keycap-text));\n  --_variant-keycap-text-active: var(--variant-keycap-text-active, var(--_keycap-text-active));\n  --_variant-keycap-background-active: var(--variant-keycap-background-active, var(--_accent-color));\n}\n",GL=":host {\n  --primary-color: #5898ff;\n  --primary-color-dimmed: #c0c0f0;\n  --primary-color-dark: var(--blue-500);\n  --primary-color-light: var(--blue-100);\n  --primary-color-reverse: #ffffff;\n  --secondary-color: #ff8a65;\n  --secondary-color-dimmed: #f0d5c5;\n  --secondary-color-dark: var(--orange-500);\n  --secondary-color-light: var(--orange-100);\n  --secondary-color-reverse: #ffffff;\n  --link-color: #5898ff;\n  --link-color-dimmed: #c5c5c5;\n  --link-color-dark: #121212;\n  --link-color-light: #e2e2e2;\n  --link-color-reverse: #ffffff;\n  --semantic-blue: var(--blue-700);\n  --semantic-red: var(--red-400);\n  --semantic-orange: var(--orange-400);\n  --semantic-green: var(--green-700);\n  --neutral-100: #f5f5f5;\n  --neutral-200: #eeeeee;\n  --neutral-300: #e0e0e0;\n  --neutral-400: #bdbdbd;\n  --neutral-500: #9e9e9e;\n  --neutral-600: #757575;\n  --neutral-700: #616161;\n  --neutral-800: #424242;\n  --neutral-900: #212121;\n  --red-25: #fff8f7;\n  --red-50: #fff1ef;\n  --red-100: #ffeae6;\n  --red-200: #ffcac1;\n  --red-300: #ffa495;\n  --red-400: #ff7865;\n  --red-500: #f21c0d;\n  --red-600: #e50018;\n  --red-700: #d30024;\n  --red-800: #bd002c;\n  --red-900: #a1002f;\n  --orange-25: #fffbf8;\n  --orange-50: #fff7f1;\n  --orange-100: #fff3ea;\n  --orange-200: #ffe1c9;\n  --orange-300: #ffcca2;\n  --orange-400: #ffb677;\n  --orange-500: #fe9310;\n  --orange-600: #f58700;\n  --orange-700: #ea7c00;\n  --orange-800: #dc6d00;\n  --orange-900: #ca5b00;\n  --brown-25: #fff8ef;\n  --brown-50: #fff1df;\n  --brown-100: #ffe9ce;\n  --brown-200: #ebcca6;\n  --brown-300: #cdaf8a;\n  --brown-400: #af936f;\n  --brown-500: #856a47;\n  --brown-600: #7f5e34;\n  --brown-700: #78511f;\n  --brown-800: #6e4200;\n  --brown-900: #593200;\n  --yellow-25: #fffdf9;\n  --yellow-50: #fffcf2;\n  --yellow-100: #fffaec;\n  --yellow-200: #fff2ce;\n  --yellow-300: #ffe8ab;\n  --yellow-400: #ffdf85;\n  --yellow-500: #ffcf33;\n  --yellow-600: #f1c000;\n  --yellow-700: #dfb200;\n  --yellow-800: #c9a000;\n  --yellow-900: #ad8a00;\n  --lime-25: #f4ffee;\n  --lime-50: #e9ffdd;\n  --lime-100: #ddffca;\n  --lime-200: #a8fb6f;\n  --lime-300: #94e659;\n  --lime-400: #80d142;\n  --lime-500: #63b215;\n  --lime-600: #45a000;\n  --lime-700: #268e00;\n  --lime-800: #007417;\n  --lime-900: #005321;\n  --green-25: #f5fff5;\n  --green-50: #ebffea;\n  --green-100: #e0ffdf;\n  --green-200: #a7ffa7;\n  --green-300: #5afa65;\n  --green-400: #45e953;\n  --green-500: #17cf36;\n  --green-600: #00b944;\n  --green-700: #00a34a;\n  --green-800: #008749;\n  --green-900: #00653e;\n  --teal-25: #f3ffff;\n  --teal-50: #e6fffe;\n  --teal-100: #d9fffe;\n  --teal-200: #8dfffe;\n  --teal-300: #57f4f4;\n  --teal-400: #43e5e5;\n  --teal-500: #17cfcf;\n  --teal-600: #00c2c0;\n  --teal-700: #00b5b1;\n  --teal-800: #00a49e;\n  --teal-900: #009087;\n  --cyan-25: #f7fcff;\n  --cyan-50: #eff8ff;\n  --cyan-100: #e7f5ff;\n  --cyan-200: #c2e6ff;\n  --cyan-300: #95d5ff;\n  --cyan-400: #61c4ff;\n  --cyan-500: #13a7ec;\n  --cyan-600: #069eda;\n  --cyan-700: #0095c9;\n  --cyan-800: #0088b2;\n  --cyan-900: #0a7897;\n  --blue-25: #f7faff;\n  --blue-50: #eef5ff;\n  --blue-100: #e5f1ff;\n  --blue-200: #bfdbff;\n  --blue-300: #92c2ff;\n  --blue-400: #63a8ff;\n  --blue-500: #0d80f2;\n  --blue-600: #0077db;\n  --blue-700: #006dc4;\n  --blue-800: #0060a7;\n  --blue-900: #005086;\n  --indigo-25: #f8f7ff;\n  --indigo-50: #f1efff;\n  --indigo-100: #eae7ff;\n  --indigo-200: #ccc3ff;\n  --indigo-300: #ac99ff;\n  --indigo-400: #916aff;\n  --indigo-500: #63c;\n  --indigo-600: #5a21b2;\n  --indigo-700: #4e0b99;\n  --indigo-800: #3b0071;\n  --indigo-900: #220040;\n  --purple-25: #fbf7ff;\n  --purple-50: #f8f0ff;\n  --purple-100: #f4e8ff;\n  --purple-200: #e4c4ff;\n  --purple-300: #d49aff;\n  --purple-400: #c36aff;\n  --purple-500: #a219e6;\n  --purple-600: #9000c4;\n  --purple-700: #7c009f;\n  --purple-800: #600073;\n  --purple-900: #3d0043;\n  --magenta-25: #fff8fb;\n  --magenta-50: #fff2f6;\n  --magenta-100: #ffebf2;\n  --magenta-200: #ffcddf;\n  --magenta-300: #ffa8cb;\n  --magenta-400: #ff7fb7;\n  --magenta-500: #eb4799;\n  --magenta-600: #da3689;\n  --magenta-700: #c82179;\n  --magenta-800: #b00065;\n  --magenta-900: #8a004c;\n}\n@media (prefers-color-scheme: dark) {\n  :host {\n    --semantic-blue: var(--blue-700);\n    --semantic-red: var(--red-400);\n    --semantic-orange: var(--orange-400);\n    --semantic-green: var(--green-700);\n    --semantic-bg-blue: var(--blue-25);\n    --semantic-bg-red: var(--red-25);\n    --semantic-bg-orange: var(--orange-25);\n    --semantic-bg-green: var(--green-25);\n    --neutral-100: #121212;\n    --neutral-200: #424242;\n    --neutral-300: #616161;\n    --neutral-400: #757575;\n    --neutral-500: #9e9e9e;\n    --neutral-600: #bdbdbd;\n    --neutral-700: #e0e0e0;\n    --neutral-800: #eeeeee;\n    --neutral-900: #f5f5f5;\n  }\n}\n:host([theme='dark']) {\n  --semantic-blue: var(--blue-700);\n  --semantic-red: var(--red-400);\n  --semantic-orange: var(--orange-400);\n  --semantic-green: var(--green-700);\n  --semantic-bg-blue: var(--blue-25);\n  --semantic-bg-red: var(--red-25);\n  --semantic-bg-orange: var(--orange-25);\n  --semantic-bg-green: var(--green-25);\n  --neutral-100: #121212;\n  --neutral-200: #424242;\n  --neutral-300: #616161;\n  --neutral-400: #757575;\n  --neutral-500: #9e9e9e;\n  --neutral-600: #bdbdbd;\n  --neutral-700: #e0e0e0;\n  --neutral-800: #eeeeee;\n  --neutral-900: #f5f5f5;\n}\n/* @media (prefers-color-scheme: dark) {\n  :host {\n      --label-color: #fff;\n      --active-label-color: #000;\n      --menu-bg: #525252;\n      --active-bg: #5898ff;\n      --active-bg-dimmed: #5c5c5c;\n  }\n} */\n:host {\n  --ui-font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n  --ui-font-size: 14px;\n  --ui-line-height: 1.5;\n  --ui-letter-spacing: 0.007em;\n  --mono-font-family: 'Berkeley Mono', 'JetBrains Mono', 'IBM Plex Mono', 'Source Code Pro', Menlo, Monaco, 'Courier New', monospace;\n  --ui-layer-1: var(--neutral-100);\n  --ui-layer-2: var(--neutral-200);\n  --ui-layer-3: var(--neutral-300);\n  --ui-layer-4: var(--neutral-400);\n  --ui-layer-5: var(--neutral-500);\n  --ui-layer-6: var(--neutral-600);\n  --ui-border-color: var(--primary-color);\n  --ui-border-radius: 4px;\n  --ui-text: var(--neutral-900);\n  --ui-text-secondary: var(--neutral-700);\n  --ui-text-placeholder: var(--neutral-500);\n  --ui-text-muted: var(--neutral-300);\n  /** A field is a UI element in which a user can type data, for\n  * example an input or textarea element.\n  */\n  --ui-field-bg: var(--neutral-100);\n  --ui-field-bg-hover: var(--neutral-100);\n  --ui-field-bg-disabled: var(--neutral-300);\n  --ui-field-bg-invalid: var(--red-100);\n  --ui-field-bg-focus: var(--neutral-100);\n  --ui-field-border: 0.5px solid var(--border-color);\n  --ui-field-border-hover: 0.5px solid var(--border-color);\n  --ui-field-border-disabled: 0.5px solid var(--border-color);\n  --ui-field-border-invalid: 0.5px solid var(--border-color);\n  --ui-field-border-focus: 0.5px solid var(--border-color);\n  --ui-menu-bg: var(--neutral-100);\n  --ui-menu-text: var(--neutral-900);\n  --ui-menu-bg-hover: var(--neutral-200);\n  --ui-menu-text-hover: var(--neutral-900);\n  /** The `active` state is used for the state of menu items\n  * when they are selected.\n  */\n  --ui-menu-bg-active: var(--primary-color);\n  --ui-menu-text-active: var(--primary-color-reverse);\n  /** The `active-muted` set is used for the state of\n  * submenus when they are open.\n  */\n  --ui-menu-bg-active-muted: var(--neutral-300);\n  --ui-menu-text-active-muted: var(--neutral-900);\n  /* --ui-menu-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.302),\n0 2px 6px 2px rgba(60, 64, 67, 0.149); */\n  --ui-menu-shadow: 0 0 2px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 0, 0, 0.2);\n  --ui-menu-divider: 0.5px solid #c7c7c7;\n  /* var(--neutral-300); */\n  --ui-menu-z-index: 10000;\n  --page-bg: var(--neutral-100);\n  --content-bg: var(--neutral-200);\n}\n@media (prefers-color-scheme: dark) {\n  :host {\n    --ui-menu-bg: var(--neutral-200);\n  }\n}\n:host([theme='dark']) {\n  --ui-menu-bg: var(--neutral-200);\n}\n/* PingFang SC is a macOS font. Microsoft Yahei is a Windows font. \n  Noto  is a Linux/Android font.\n*/\n:lang(zh-cn),\n:lang(zh-sg),\n:lang(zh-my),\n:lang(zh) {\n  --ui-font-family: -apple-system, system-ui, 'PingFang SC', 'Hiragino Sans GB', 'Noto Sans CJK SC', 'Noto Sans SC', 'Noto Sans', 'Microsoft Yahei UI', 'Microsoft YaHei New', 'Microsoft Yahei', '微软雅黑', SimSun, '宋体', STXihei, '华文细黑', sans-serif;\n}\n:lang(zh-tw),\n:lang(zh-hk),\n:lang(zh-mo) {\n  --ui-font-family: -apple-system, system-ui, 'Noto Sans', 'Microsoft JhengHei UI', 'Microsoft JhengHei', '微軟正黑體', '新細明體', 'PMingLiU', '細明體', 'MingLiU', sans-serif;\n}\n:lang(ja),\n:lang(ja-jp),\n:lang(ja-jp-mac) {\n  --ui-font-family: -apple-system, system-ui, 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Noto Sans CJK JP', 'Noto Sans JP', 'Noto Sans', '游ゴシック', '游ゴシック体', YuGothic, 'Yu Gothic', 'メイリオ', Meiryo, 'ＭＳ Ｐゴシック', 'MS PGothic', sans-serif;\n}\n:lang(ko),\n:lang(ko-kr),\n:lang(ko-kr-std) {\n  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR', 'Noto Sans', 'Malgun Gothic', '맑은 고딕', 'Apple SD Gothic Neo', '애플 SD 산돌고딕 Neo', 'Apple SD 산돌고딕 Neo', '돋움', Dotum, sans-serif;\n}\n:lang(ko-kr-apple) {\n  --ui-font-family: -apple-system, system-ui, 'Noto Sans CJK KR', 'Noto Sans KR', 'Noto Sans', 'Apple SD Gothic Neo', '애플 SD 산돌고딕 Neo', 'Apple SD 산돌고딕 Neo', '돋움', Dotum, sans-serif;\n}\n:lang(zh-cn),\n:lang(zh-sg),\n:lang(zh-my),\n:lang(zh),\n:lang(zh-tw),\n:lang(zh-hk),\n:lang(zh-mo),\n:lang(ja),\n:lang(ja-jp),\n:lang(ja-jp-mac),\n:lang(ko),\n:lang(ko-kr),\n:lang(ko-kr-std),\n:lang(ko-kr-apple) {\n  --ui-font-size: 1rem;\n  --ui-line-height: 1.7;\n  --ui-letter-spacing: 0;\n}\n:dir(rtl) {\n  --ui-line-height: auto;\n  --ui-letter-spacing: 0;\n}\n",ZL=".ui-menu *,\n.ui-menu ::before,\n.ui-menu ::after {\n  box-sizing: border-box;\n}\n.ui-menu {\n  display: none;\n  color-scheme: light dark;\n  -webkit-user-select: none;\n  /* Important: Safari iOS doesn't respect user-select */\n  user-select: none;\n  cursor: default;\n  -webkit-touch-callout: none;\n  -webkit-tap-highlight-color: rgba(0 0 0 0);\n  --active-label-color: #fff;\n  /* ui-menu-text-active */\n  --label-color: #121212;\n  /* ui-menu-text */\n  --menu-bg: #e2e2e2;\n  /* ui-menu-background */\n  --active-bg: #5898ff;\n  /* ui-menu-background-active */\n  --active-bg-dimmed: #c5c5c5;\n  /* ui-menu-background-active-muted */\n}\n/** Use the :where pseudo selector to make the specificity of the\n * selector 0, so that it can be overridden by the user.\n */\n:where(.ui-menu-container) {\n  position: absolute;\n  overflow: visible;\n  width: auto;\n  height: auto;\n  z-index: 10000;\n  border-radius: 8px;\n  background: var(--ui-menu-bg);\n  box-shadow: var(--ui-menu-shadow);\n  list-style: none;\n  padding: 6px 0 6px 0;\n  margin: 0;\n  user-select: none;\n  cursor: default;\n  color: var(--ui-menu-text);\n  font-weight: normal;\n  font-style: normal;\n  text-shadow: none;\n  text-transform: none;\n  letter-spacing: 0;\n  outline: none;\n  opacity: 1;\n  /* The [popover] elements have a 1px solid black border. Ugh. */\n  border: none;\n  width: fit-content;\n  height: fit-content;\n}\n:where(.ui-menu-container > li) {\n  display: flex;\n  flex-flow: row;\n  align-items: center;\n  padding: 1px 7px 1px 7px;\n  margin-top: 0;\n  margin-left: 6px;\n  margin-right: 6px;\n  border-radius: 4px;\n  white-space: nowrap;\n  position: relative;\n  outline: none;\n  fill: currentColor;\n  user-select: none;\n  cursor: default;\n  text-align: left;\n  color: inherit;\n  font-family: var(--ui-font-family);\n  font-size: var(--ui-font-size);\n  line-height: var(--ui-line-height);\n  letter-spacing: var(--ui-letter-spacing);\n}\n:where(.ui-menu-container > li > .label) {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  appearance: none;\n  background: none;\n  outline: none;\n  width: 100%;\n  margin: 0;\n  padding: 1px 2px 1px 1px;\n  overflow: visible;\n  border: 1px solid transparent;\n  white-space: nowrap;\n  text-align: start;\n  align-content: center;\n}\n:where(.ui-menu-container > li:has(.heading)) {\n  margin-top: 0.5em;\n}\n:where(.ui-menu-container > li > .label.heading) {\n  font-weight: bold;\n  opacity: 0.4;\n}\n:where(.ui-menu-container > li.indent > .label) {\n  margin-inline-start: 12px;\n}\n:where(.ui-menu-container > li > .label.indent) {\n  margin-inline-start: 12px;\n}\n:where(.ui-menu-container > li[role='divider']) {\n  border-bottom: 1px solid var(--ui-menu-divider);\n  border-radius: 0;\n  padding: 0;\n  margin-left: 15px;\n  margin-right: 15px;\n  padding-top: 5px;\n  margin-bottom: 5px;\n  width: calc(100% - 30px);\n  /** 100% - (margin-left + margin-right) */\n}\n:where(.ui-menu-container > li[aria-disabled='true']) {\n  opacity: 0.5;\n}\n:where(.ui-menu-container > li.active) {\n  background: var(--ui-menu-bg-active);\n  background: -apple-system-control-accent;\n  color: var(--ui-menu-text-active);\n}\n:where(.ui-menu-container > li.active.is-submenu-open) {\n  background: var(--ui-menu-bg-active-muted);\n  color: inherit;\n}\n:where(.ui-menu-container > li[aria-haspopup='true'] > .label) {\n  padding-inline-end: 0;\n}\n:where(.ui-menu-container > li[aria-haspopup='true'].active::after) {\n  color: var(--ui-menu-text-active);\n}\n/** Keyboard shortcut */\n:where(.ui-menu-container > li > kbd) {\n  font-family: var(--ui-font-family);\n  margin-inline-start: 12px;\n  opacity: 0.4;\n}\n:where(.ui-menu-container > li.active > kbd) {\n  opacity: 0.85;\n}\n.ui-trailing-chevron {\n  display: flex;\n  margin-inline-start: 24px;\n  width: 10px;\n  height: 10px;\n  margin-bottom: 4px;\n}\n.ui-trailing-chevron:dir(rtl) {\n  transform: scaleX(-1);\n}\n.ui-checkmark {\n  display: flex;\n  margin-inline-end: -11px;\n  margin-inline-start: -4px;\n  margin-top: 2px;\n  width: 16px;\n  height: 16px;\n}\n.ui-mixedmark {\n  display: flex;\n  margin-inline-end: -11px;\n  margin-inline-start: -4px;\n  margin-top: 2px;\n  width: 16px;\n  height: 16px;\n}\n";function JL(t){let e="";switch(t){case"mathfield-element":e="\n    :host { display: inline-block; background-color: field; color: fieldtext; border-width: 1px; border-style: solid; border-color: #acacac; border-radius: 2px;}\n    :host([hidden]) { display: none; }\n    :host([disabled]), :host([disabled]:focus), :host([disabled]:focus-within) { outline: none; opacity:  .5; }\n    :host(:focus), :host(:focus-within) {\n      outline: Highlight auto 1px;    /* For Firefox */\n      outline: -webkit-focus-ring-color auto 1px;\n    }\n    :host([readonly]:focus), :host([readonly]:focus-within),\n    :host([read-only]:focus), :host([read-only]:focus-within) {\n      outline: none;\n    }";break;case"core":e=qL;break;case"mathfield":e=KL;break;case"environment-popover":e=HL;break;case"suggestion-popover":e=jL;break;case"keystroke-caption":e=WL;break;case"virtual-keyboard":e=UL;break;case"ui":e=GL;break;case"menu":e=ZL}return e}function YL(t){return NL||(NL={}),NL[t]||(NL[t]=new CSSStyleSheet,NL[t].replaceSync(JL(t))),NL[t]}function XL(t){var e;try{if(!("adoptedStyleSheets"in document)){if(window.document.getElementById(`mathlive-style-${t}`))return;let e=window.document.createElement("style");return e.id=`mathlive-style-${t}`,e.append(window.document.createTextNode(JL(t))),void window.document.head.appendChild(e)}if($L||($L={}),0!==(null!=(e=$L[t])?e:0))$L[t]+=1;else{let e=YL(t);document.adoptedStyleSheets=[...document.adoptedStyleSheets,e],$L[t]=1}}catch(e){console.error("Error injecting stylesheet",t,e)}}function QL(t){if("adoptedStyleSheets"in document&&null!=$L&&$L[t]&&($L[t]-=1,$L[t]<=0)){let e=NL[t];document.adoptedStyleSheets=document.adoptedStyleSheets.filter((t=>t!==e))}}var tP=class t extends sL{constructor(t){var e;super(IA(PA({},t),{type:"accent",body:null!=(e=t.body)?e:void 0})),t.accentChar?this.accent=t.accentChar:this.svgAccent=null==t?void 0:t.svgAccent,this.skipBoundary=!0,this.captureSelection=!0}static fromJson(e){return new t(e)}toJson(){return IA(PA({},super.toJson()),{accentChar:this.accent,svgAccent:this.svgAccent})}render(t){var e;let o=new oL({parent:t,mathstyle:"cramp"},this.style),n=null!=(e=sL.createBox(o,this.body))?e:new RB("▢",{style:this.style}),r=0;!this.hasEmptyBranch("body")&&2===this.body.length&&this.body[1].isCharacterBox()&&(r=n.skew);let i,s=Math.min(n.height,nB);if(this.svgAccent)i=NB(this.svgAccent),s=o.metrics.bigOpSpacing1-s;else if(this.accent){let t=new RB(this.accent,{fontFamily:"Main-Regular"});t.italic=0;let e=8407===this.accent||8411===this.accent||8412===this.accent?" ML__accent-combining-char":"";i=new RB(t,{classes:"ML__accent-body"+e})}i=new HB({shift:0,children:[{box:new RB(n)},-s,{box:i,marginLeft:n.left+2*r,classes:["ML__center"]}]});let l=new RB(i,{type:"lift"});return this.caret&&(l.caret=this.caret),this.bind(o,l.wrap(o)),this.attachSupsub(o,{base:l})}},eP={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},oP=Object.fromEntries(Object.entries(eP).map((([t,e])=>[e,t])));function nP(t){var e;return null!=(e={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"∣":8739,"∥":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[t])?e:t.codePointAt(0)}function rP(t,e,o,n,r){var i,s;let l=new oL({parent:n,mathstyle:"textstyle"},null==r?void 0:r.style),a=new RB(nP(t),{fontFamily:`Size${e}-Regular`,isSelected:r.isSelected,classes:(null!=(i=r.classes)?i:"")+` ML__delim-size${e}`,type:null!=(s=r.type)?s:"ignore"}).wrap(l);return o&&a.setTop((1-l.scalingFactor)*oB),a}function iP(t,e,o,n,r){var i;let s,l,a,d;s=a=d=nP(t),l=null;let c="Size1-Regular";"\\vert"===t||"\\lvert"===t||"\\rvert"===t||"\\mvert"===t||"\\mid"===t?a=s=d=8739:"\\Vert"===t||"\\lVert"===t||"\\rVert"===t||"\\mVert"===t||"\\|"===t?a=s=d=8741:"\\uparrow"===t?a=d=9168:"\\Uparrow"===t?a=d=8214:"\\downarrow"===t?s=a=9168:"\\Downarrow"===t?s=a=8214:"\\updownarrow"===t?(s=8593,a=9168,d=8595):"\\Updownarrow"===t?(s=8657,a=8214,d=8659):"["===t||"\\lbrack"===t?(s=9121,a=9122,d=9123,c="Size4-Regular"):"]"===t||"\\rbrack"===t?(s=9124,a=9125,d=9126,c="Size4-Regular"):"\\lfloor"===t||"⌊"===t?(a=s=9122,d=9123,c="Size4-Regular"):"\\lceil"===t||"⌈"===t?(s=9121,a=d=9122,c="Size4-Regular"):"\\rfloor"===t||"⌋"===t?(a=s=9125,d=9126,c="Size4-Regular"):"\\rceil"===t||"⌉"===t?(s=9124,a=d=9125,c="Size4-Regular"):"("===t||"\\lparen"===t?(s=9115,a=9116,d=9117,c="Size4-Regular"):")"===t||"\\rparen"===t?(s=9118,a=9119,d=9120,c="Size4-Regular"):"\\{"===t||"\\lbrace"===t?(s=9127,l=9128,d=9129,a=9130,c="Size4-Regular"):"\\}"===t||"\\rbrace"===t?(s=9131,l=9132,d=9133,a=9130,c="Size4-Regular"):"\\lgroup"===t||"⟮"===t?(s=9127,d=9129,a=9130,c="Size4-Regular"):"\\rgroup"===t||"⟯"===t?(s=9131,d=9133,a=9130,c="Size4-Regular"):"\\lmoustache"===t||"⎰"===t?(s=9127,d=9133,a=9130,c="Size4-Regular"):"\\rmoustache"===t||"⎱"===t?(s=9131,d=9129,a=9130,c="Size4-Regular"):"\\surd"===t?(s=57345,d=9143,a=57344,c="Size4-Regular"):"\\ulcorner"===t?(s=9484,a=d=32):"\\urcorner"===t?(s=9488,a=d=32):"\\llcorner"===t?(d=9492,a=s=32):"\\lrcorner"===t&&(s=9496,a=s=32);let h=aB(s,c),u=h.height+h.depth,p=aB(a,c),m=p.height+p.depth,g=aB(d,c),b=g.height+g.depth,f=0,w=1;if(null!==l){let t=aB(l,c);f=t.height+t.depth,w=2}let x=u+b+f,k=Math.max(0,Math.ceil((e-x)/(w*m))),y=x+k*w*m,v=oB;o&&(v*=n.scalingFactor);let _=y/2-v,A=.008,C=[];C.push({box:new RB(d,{fontFamily:c})}),C.push(-A);let S=new RB(a,{fontFamily:c});if(null===l)for(let t=0;t<k;t++)C.push({box:S});else{for(let t=0;t<k;t++)C.push({box:S});C.push(-A),C.push({box:new RB(l,{fontFamily:c})}),C.push(-A);for(let t=0;t<k;t++)C.push({box:S})}C.push(-A),C.push({box:new RB(s,{fontFamily:c})});let E="";"Size1-Regular"===c?E=" delim-size1":"Size4-Regular"===c&&(E=" delim-size4");let M=new HB({bottom:_,children:C},{classes:E});return new RB(M,IA(PA({},null!=r?r:{}),{classes:(null!=(i=null==r?void 0:r.classes)?i:"")+" ML__delim-mult"}))}var sP=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","⌊","⌋","⌈","⌉"]),lP=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","⟮","⟯","⎰","⎱"]),aP=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),dP=[0,1.2,1.8,2.4,3];var cP=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],hP=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],uP=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function pP(t){return"small"===t.type?"Main-Regular":"large"===t.type?"Size"+t.size+"-Regular":(t.type,"Size4-Regular")}function mP(t,e,o,n,r,i){if(!e||0===e.length||"."===e)return bP(r);let s;"<"===e||"\\lt"===e?e="\\langle":(">"===e||"\\gt"===e)&&(e="\\rangle"),s=aP.has(e)?cP:sP.has(e)?uP:hP;let l=function(t,e,o,n){for(let r={"-4":0,"-3":1,0:2}[n.mathstyle.sizeDelta];r<o.length&&"stack"!==o[r].type;r++){let i=aB(t,pP(o[r]));if(i.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let s=i.height+i.depth;if("small"===o[r].type&&("scriptscriptstyle"===o[r].mathstyle?s*=Math.max(iB[Math.max(1,n.size-2)],n.minFontScale):"scriptstyle"===o[r].mathstyle&&(s*=Math.max(iB[Math.max(1,n.size-1)],n.minFontScale))),s>e)return o[r]}return o[o.length-1]}(nP(e),o,s,r),a=new oL({parent:r,mathstyle:l.mathstyle},null==i?void 0:i.style);return"small"===l.type?function(t,e,o,n){var r;let i=new RB(nP(t),{fontFamily:"Main-Regular",isSelected:n.isSelected,classes:"ML__small-delim "+(null!=(r=n.classes)?r:"")}).wrap(e);return o&&i.setTop((1-e.scalingFactor)*oB),i}(e,a,n,IA(PA({},i),{type:t})):"large"===l.type?rP(e,l.size,n,a,IA(PA({},i),{type:t})):(l.type,iP(e,o,n,a,IA(PA({},i),{type:t})))}function gP(t,e,o,n,r,i){if("."===e)return bP(r,null==i?void 0:i.classes);let s=oB*r.scalingFactor,l=5/eB,a=Math.max(o-s,n+s);return mP(t,e,Math.max(a/500*901,2*a-l),!0,r,i)}function bP(t,e){let o=new RB(null,{classes:" ML__nulldelimiter "+(null!=e?e:""),type:"ignore"});return o.width=t.getRegisterAsEm("nulldelimiterspace"),o.wrap(new oL({parent:t,mathstyle:"textstyle"}))}var fP=class t extends sL{constructor(t){var e;super({type:"placeholder",command:"\\placeholder",mode:null!=(e=null==t?void 0:t.mode)?e:"math",style:null==t?void 0:t.style}),this.captureSelection=!0}static fromJson(e){return new t(e)}toJson(){return super.toJson()}render(t){let e;return this.value=t.placeholderSymbol,e="function"==typeof t.renderPlaceholder?t.renderPlaceholder(t):this.createBox(t),this.caret&&(e.classes+=" ML__placeholder-selected"),e}_serialize(t){return t.skipPlaceholders?"":"\\placeholder{}"}},wP=["matrix","matrix*","pmatrix","pmatrix*","bmatrix","bmatrix*","Bmatrix","Bmatrix*","vmatrix","vmatrix*","Vmatrix","Vmatrix*"],xP=["cases","dcases","rcases"],kP=["align","align*","aligned","gather","gather*","gathered","split"],yP=["array","subequations","eqnarray"];function vP(t){return wP.includes(t)}function _P(t,e){return 0===t.length?[new sL({type:"first",mode:e})]:"first"!==t[0].type?[new sL({type:"first",mode:e}),...t]:(t.slice(1).some((t=>"first"===t.type)),t)}var AP=class t extends sL{get isMultiline(){let t=this.environmentName;return["lines","multline","multline*","align","split","gather","gathered"].includes(t)}constructor(t,e,o,n={}){var r,i,s,l;if(super({type:"array",isRoot:n.isRoot}),this.environmentName=t,n.columns)0===n.columns.length?this.colFormat=[{align:"l"}]:this.colFormat=[...n.columns];else if(n.minColumns){let t=[];for(let e=0;e<n.minColumns;e++)t.push({align:"l"});this.colFormat=t}else this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}];this.minColumns=null!=(r=n.minColumns)?r:1,this.minRows=null!=(i=n.minRows)?i:1,this.maxRows=null!=(s=n.maxRows)?s:1/0,this._rows=function(t,e,o){let n=0;for(let t of o.columns)"align"in t&&(n+=1);n=Math.max(n,o.minColumns);let r=0,i=[];for(let s of e){r=Math.max(r,Math.min(s.length,n));let e=0;for(;e<s.length;){let r=[],l=Math.min(s.length,e+n);for(;e<l;)r.push(_P(s[e],t.mode)),e+=1;if(r.length<o.minColumns)for(;r.length<o.minColumns;)r.push([new sL({type:"first",mode:t.mode})]);i.push(r)}}!t.isMultiline&&i.length>0&&1===i[i.length-1].length&&function(t){return 1===t.length&&"first"===t[0].type}(i[i.length-1][0])&&i.pop();let s=[];for(let e of i){if(e.length!==r)for(let o=e.length;o<r;o++)t.isMultiline?e.push([new sL({type:"first",mode:t.mode})]):e.push([new sL({type:"first",mode:t.mode}),new fP]);s.push(e)}let l=0,a=0;for(let e of s){a=0;for(let o of e){for(let e of o)e.parent=t,e.parentBranch=[l,a];a+=1}l+=1}return t.isDirty=!0,s}(this,e,{columns:this.colFormat,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows}),this.rowGaps=o,void 0!==n.arraycolsep&&(this.arraycolsep=n.arraycolsep),this.colSeparationType=n.colSeparationType,void 0!==n.arraystretch&&(this.arraystretch=n.arraystretch),n.mathstyleName&&(this.mathstyleName=n.mathstyleName),n.leftDelim&&(this.leftDelim=n.leftDelim),n.rightDelim&&(this.rightDelim=n.rightDelim),this.classes=null!=(l=n.classes)?l:[]}static fromJson(e){return new t(e.environmentName,e.array,e.rowGaps,e)}toJson(){let t=IA(PA({},super.toJson()),{environmentName:this.environmentName,array:this._rows.map((t=>t.map((t=>t.map((t=>t.toJson())))))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType,minColumns:this.minColumns,minRows:this.minRows,maxRows:this.maxRows});return void 0!==this.arraystretch&&(t.arraystretch=this.arraystretch),void 0!==this.arraycolsep&&(t.arraycolsep=this.arraycolsep),this.leftDelim&&(t.leftDelim=this.leftDelim),this.rightDelim&&(t.rightDelim=this.rightDelim),this.isRoot&&(t.isRoot=!0),t.minColumns=this.minColumns,t.minRows=this.minRows,t.maxRows=this.maxRows,this.mathstyleName&&(t.mathstyleName=this.mathstyleName),this.classes.length>0&&(t.classes=this.classes),t}branch(t){var e;if(iL(t))return null!=(e=this._rows[t[0]][t[1]])?e:void 0}createBranch(t){var e;return iL(t)?(this.isDirty=!0,null!=(e=this.branch(t))?e:[]):[]}get rowCount(){return this._rows.length}get colCount(){return this._rows[0].length}get maxColumns(){return this.colFormat.filter((t=>!!t.align)).length}removeBranch(t){if(rL(t))return super.removeBranch(t);let[e,...o]=this.branch(t);return e.type,this._rows[t[0]][t[1]]=void 0,o.forEach((t=>{t.parent=void 0,t.parentBranch=void 0})),this.isDirty=!0,o}get hasChildren(){return this.children.length>0}get children(){let t=[];for(let e of this._rows)for(let o of e)if(o)for(let e of o)t.push(...e.children),t.push(e);return[...t,...super.children]}render(t){var e,o,n,r,i,s;let l=new oL({parent:t,mathstyle:this.mathstyleName},this.style),a=l.getRegisterAsEm("arrayrulewidth"),d=l.getRegisterAsEm("arraycolsep"),c=l.getRegisterAsEm("doublerulesep"),h=null!=(o=null!=(e=this.arraystretch)?e:l.getRegisterAsNumber("arraystretch"))?o:1,u="number"==typeof this.arraycolsep?this.arraycolsep:d;"small"===this.colSeparationType&&(u=new oL({parent:t,mathstyle:"scriptstyle"}).scalingFactor/t.scalingFactor*.2778);let p=1.2*h,m=.7*p,g=.3*p,b=0,f=[],w=0,x=this._rows.length;for(let t=0;t<x;++t){let e=this._rows[t];w=Math.max(w,e.length);let o=new oL({parent:l,mathstyle:this.mathstyleName},this.style),i=m/o.scalingFactor,s=g/o.scalingFactor,a={cells:[],height:0,depth:0,pos:0};for(let t of e){let e=null!=(n=sL.createBox(o,t,{type:"ignore"}))?n:new RB(null,{type:"ignore"});s=Math.max(s,e.depth),i=Math.max(i,e.height),a.cells.push(e)}let d=null!=(r=ZB(this.rowGaps[t]))?r:0;d>0&&(d+=g,s=Math.max(s,d),d=0),t<x-1&&!vP(this.environmentName)&&"cases"!==this.environmentName&&"array"!==this.environmentName&&(s+=l.getRegisterAsEm("jot")),a.height=i,a.depth=s,b+=i,a.pos=b,b+=s+d,f.push(a)}let k=b/2+oB,y=[];for(let t=0;t<w;t++){let e=[];for(let o of f){let n=o.cells[t];n&&(n.depth=o.depth,n.height=o.height,e.push({box:n,shift:o.pos-k}))}e.length>0&&y.push(new HB({individualShift:e}))}let v=[],_=!1,A=!1,C=0,S=!this.leftDelim,{colFormat:E}=this;for(let e of E){if("align"in e&&C>=y.length)break;if("align"in e)_?v.push(EP(2*u)):(A||S)&&v.push(EP(u)),v.push(new RB(y[C],{classes:"col-align-"+e.align})),C++,_=!0,A=!1,S=!1;else if("gap"in e){if("number"==typeof e.gap)v.push(EP(e.gap));else{let o=MP(t,f,k,e.gap);o&&v.push(o)}_=!1,A=!1,S=!1}else if("separator"in e){let t=new RB(null,{classes:"ML__vertical-separator"});t.height=b,t.setStyle("height",b,"em"),t.setStyle("border-right",`${a}em ${e.separator} currentColor`),t.setStyle("vertical-align",-(b-k),"em");let o=0;A?o=c-a:_&&(o=u-a),t.left=o,v.push(t),_=!1,A=!0,S=!1}}_&&!this.rightDelim&&v.push(EP(u));let M=new RB(v,{classes:["ML__mtable",...this.classes].join(" ")});if(!(this.leftDelim&&"."!==this.leftDelim||this.rightDelim&&"."!==this.rightDelim))return this.caret&&(M.caret=this.caret),this.bind(t,M);let D=M.height,T=M.depth,B=this.bind(t,new RB([this.bind(t,gP("open",null!=(i=this.leftDelim)?i:".",D,T,l,{isSelected:this.isSelected})),M,this.bind(t,gP("close",null!=(s=this.rightDelim)?s:".",D,T,l,{isSelected:this.isSelected}))],{type:"ord"}));return B?(B.setStyle("display","inline-block"),this.caret&&(B.caret=this.caret),this.bind(t,this.attachSupsub(t,{base:B}))):null}_serialize(t){var e;let o=[];if("lines"===this.environmentName?o.push("\\displaylines{"):o.push(`\\begin{${this.environmentName}}`),"array"===this.environmentName){if(o.push("{"),void 0!==this.colFormat)for(let t of this.colFormat)"align"in t&&"string"==typeof t.align?o.push(t.align):"separator"in t&&"solid"===t.separator?o.push("|"):"separator"in t&&"dashed"===t.separator&&o.push(":");o.push("}")}for(let n=0;n<this._rows.length;n++){for(let e=0;e<this._rows[n].length;e++)e>0&&o.push(" & "),o.push(sL.serialize(this._rows[n][e],t));if(n<this._rows.length-1){let t=this.rowGaps[n];null!=t&&t.dimension?o.push(`\\\\[${t.dimension} ${null!=(e=t.unit)?e:"pt"}] `):o.push("\\\\ ")}}return"lines"===this.environmentName?o.push("}"):o.push(`\\end{${this.environmentName}}`),vB(o)}forEachCell(t){for(let e=0;e<this.rowCount;e++)for(let o=0;o<this.colCount;o++)t(this._rows[e][o],e,o)}getCell(t,e){var o;return null==(o=this._rows[t])?void 0:o[e]}setCell(t,e,o){"array"===this.type&&Array.isArray(this._rows)&&this._rows[t][e];for(let o of this._rows[t][e])o.parent=void 0,o.parentBranch=void 0;let n=[new sL({type:"first",mode:this.mode}),...o.filter((t=>"first"!==t.type))];this._rows[t][e]=n,SP(this),this.isDirty=!0}addRowBefore(t){"array"===this.type&&Array.isArray(this._rows),this._rows.splice(t,0,new Array(this.colCount).fill(CP(this,!this.isMultiline))),SP(this),this.isDirty=!0}addRowAfter(t){"array"===this.type&&Array.isArray(this._rows),this._rows.splice(t+1,0,new Array(this.colCount).fill(CP(this,!this.isMultiline))),SP(this),this.isDirty=!0}removeRow(t){"array"===this.type&&Array.isArray(this._rows)&&this.rowCount;let e=this._rows.splice(t,1);for(let t of e)for(let e of t)if(e)for(let t of e)t.parent=void 0,t.parentBranch=void 0;SP(this),this.isDirty=!0}addColumnBefore(t){"array"===this.type&&Array.isArray(this._rows);for(let e of this._rows)e.splice(t,0,CP(this));SP(this),this.isDirty=!0}addColumnAfter(t){"array"===this.type&&Array.isArray(this._rows);for(let e of this._rows)e.splice(t+1,0,CP(this));SP(this),this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(t){"array"===this.type&&Array.isArray(this._rows)&&this.colCount;for(let e of this._rows){let o=e.splice(t,1);for(let t of o)if(t)for(let e of t)e.parent=void 0,e.parentBranch=void 0}SP(this),this.isDirty=!0}get cells(){let t=[];for(let e of this._rows)for(let o of e)o&&t.push(o.filter((t=>"first"!==t.type)));return t}get rows(){return this._rows}};function CP(t,e=!1){let o=new sL({type:"first",mode:t.mode});o.parent=t;let n=[o];if(e){let e=new fP;e.parent=t,n.push(e)}return n}function SP(t){for(let e=0;e<t.rowCount;e++)for(let o=0;o<t.colCount;o++){let n=t.getCell(e,o);if(n)for(let r of n)r&&(r.parent=t,r.parentBranch=[e,o])}}function EP(t){let e=new RB(null,{classes:"ML__arraycolsep"});return e.width=t,e}function MP(t,e,o,n){if(!n)return null;let r=[];for(let i of e){let e=sL.createBox(t,n,{type:"ignore"});e&&(e.depth=i.depth,e.height=i.height,r.push({box:e,shift:i.pos-o}))}return new HB({individualShift:r}).wrap(t)}var DP=class t extends sL{constructor(t){super({mode:t.mode,command:t.command,style:t.style,body:t.body,type:"box"}),this.framecolor=t.framecolor,this.backgroundcolor=t.backgroundcolor,this.padding=t.padding,this.offset=t.offset,this.border=t.border}static fromJson(e){return new t(e)}toJson(){return IA(PA({},super.toJson()),{framecolor:this.framecolor,backgroundcolor:this.backgroundcolor,padding:this.padding,offset:this.offset,border:this.border})}render(t){var e,o,n,r;let i=sL.createBox(t,this.body,{type:"lift"});if(!i)return null;let s=t.toEm(null!=(e=this.offset)?e:{dimension:0});i.depth+=s,i.setStyle("display","inline-block"),i.setStyle("position","relative"),i.setStyle("height",Math.floor(100*i.height+i.depth)/100,"em"),i.setStyle("vertical-align",-Math.floor(100*i.height)/100,"em");let l=new oL({parent:t},this.style),a=l.toEm(null!=(o=this.padding)?o:{register:"fboxsep"}),d=new RB(null,{classes:"ML__box"});d.height=i.height+a,d.depth=i.depth+a,d.setStyle("box-sizing","border-box"),d.setStyle("position","absolute"),d.setStyle("top",.3-a,"em"),d.setStyle("left",0),d.setStyle("height",d.height+d.depth,"em"),d.setStyle("width","100%"),this.backgroundcolor&&d.setStyle("background-color",null!=(n=l.toColor(this.backgroundcolor))?n:"transparent"),this.framecolor&&d.setStyle("border",`${l.getRegisterAsEm("fboxrule",2)}em solid ${null!=(r=l.toColor(this.framecolor))?r:"black"}`),this.border&&d.setStyle("border",this.border);let c=new RB([d,i],{type:"lift"});return c.setStyle("display","inline-block"),c.setStyle("position","relative"),c.setStyle("line-height",0),c.height=i.height+a+(s>0?s:0),c.depth=i.depth+a+(s<0?-s:0),c.setStyle("padding-left",a,"em"),c.setStyle("padding-right",a,"em"),c.setStyle("height",Math.floor(100*(i.height+i.depth+2*a+Math.abs(s)))/100,"em"),c.setStyle("margin-top",-a,"em"),c.setStyle("top",Math.floor(100*(i.depth-i.height+2*a-s))/100,"em"),c.setStyle("vertical-align",Math.floor(100*(i.depth+2*a))/100,"em"),this.caret&&(c.caret=this.caret),this.attachSupsub(t,{base:c})}_serialize(t){return t.skipStyles?vB([this.bodyToLatex(t),this.supsubToLatex(t)]):super._serialize(t)}},TP=class t extends sL{constructor(t,e){var o;super({type:"composition",mode:null!=(o=null==e?void 0:e.mode)?o:"math",value:t})}static fromJson(e){return new t(e.value,e)}toJson(){return super.toJson()}render(t){let e=new RB(this.value,{classes:"ML__composition",type:"composition"});return this.bind(t,e),this.caret&&(e.caret=this.caret),e}_serialize(t){return""}},BP=class t extends sL{constructor(t){super({type:"error",value:t,command:t,mode:"math"}),this.verbatimLatex=t}static fromJson(e){return new t(e.command)}toJson(){return super.toJson()}render(t){let e=this.createBox(t,{classes:"ML__error"});return this.caret&&(e.caret=this.caret),e}},LP=class t extends sL{constructor(t,e){super({type:"group",mode:e}),this.body=t,this.boxType=t.length>1?"ord":"ignore",this.skipBoundary=!0,this.displayContainsHighlight=!1,t&&1===t.length&&","===t[0].command&&(this.captureSelection=!0)}static fromJson(e){return new t(e.body,e.mode)}render(t){let e=sL.createBox(t,this.body,{type:this.boxType});return e?(this.caret&&(e.caret=this.caret),this.bind(t,e)):null}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let e=TC(this.command,this.mode);return null!=e&&e.serialize?e.serialize(this,t):`{${this.bodyToLatex(t)}}`}},PP=class t extends sL{constructor(t,e,o){super({type:"leftright",style:o.style,displayContainsHighlight:!0}),this.variant=t,this.body=e,this.leftDelim=o.leftDelim,this.rightDelim=o.rightDelim}static fromJson(e){var o;return new t(null!=(o=e.variant)?o:"",e.body,e)}toJson(){let t=super.toJson();return this.variant&&(t.variant=this.variant),this.leftDelim&&(t.leftDelim=this.leftDelim),this.rightDelim&&(t.rightDelim=this.rightDelim),t}_serialize(t){var e,o;let n=this.matchingRightDelim();return"left...right"===this.variant?vB(["\\left",null!=(e=this.leftDelim)?e:".",this.bodyToLatex(t),"\\right",n]):"mleft...mright"===this.variant?vB(["\\mleft",null!=(o=this.leftDelim)?o:".",this.bodyToLatex(t),"\\mright",n]):vB([this.leftDelim&&"."!==this.leftDelim?this.leftDelim:"",this.bodyToLatex(t),n])}matchingRightDelim(){var t,e;if(this.rightDelim&&"?"!==this.rightDelim)return this.rightDelim;let o=null!=(t=this.leftDelim)?t:".";return null!=(e=eP[o])?e:o}render(t){var e,o;let n=new oL({parent:t},this.style);this.body;let r=new oL({parent:t,mathstyle:"textstyle"},this.style),i=null!=(e=sL.createBox(n,this.body,{type:"inner"}))?e:new RB(null,{type:"inner"}),s=i.height/r.scalingFactor,l=i.depth/r.scalingFactor,a=[];if(this.leftDelim&&a.push(this.bind(r,gP("open",this.leftDelim,s,l,r,{isSelected:this.isSelected,classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),i&&(IP(i.children,this,n,s,l),a.push(i)),this.rightDelim){let t=this.containsCaret?" ML__contains-caret":"",e=this.rightDelim;"?"===e&&(n.smartFence?(e=this.matchingRightDelim(),t+=" ML__smart-fence__close"):e="."),a.push(this.bind(r,gP("close",e,s,l,r,{isSelected:this.isSelected,classes:t+" ML__close",mode:this.mode,style:this.style})))}let d="mleft...mright"===this.variant,c=this.leftSibling;c&&(!d&&c.isFunction&&(d=!0),!d&&"subsup"===c.type&&null!=(o=c.leftSibling)&&o.isFunction&&(d=!0));let h=new RB(a,{type:d?"close":"inner",classes:"ML__left-right"});return h.setStyle("margin-top",-i.depth+"em"),h.setStyle("height",`${i.height+i.depth}em`),this.caret&&(h.caret=this.caret),this.bind(n,h.wrap(n))}};function IP(t,e,o,n,r){if(t)for(let i=0;i<t.length;i++){let s=t[i];"middle"===s.type?(t[i]=e.bind(o,gP("inner",s.value,n,r,o,{isSelected:e.isSelected})),t[i].caret=s.caret,t[i].isSelected=s.isSelected,t[i].cssId=s.cssId,t[i].htmlData=s.htmlData,t[i].htmlStyle=s.htmlStyle,t[i].attributes=s.attributes,t[i].cssProperties=s.cssProperties):s.children&&IP(s.children,e,o,n,r)}}var zP=class t extends sL{constructor(t,e){var o;super({type:"macro",command:t,style:e.style}),this.body=e.body,void 0===e.captureSelection?e.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=e.captureSelection,this.macroArgs=e.args,this.expand=null!=(o=e.expand)&&o}static fromJson(e){return new t(e.command,e)}toJson(){let t=super.toJson();return this.expand&&(t.expand=!0),void 0!==this.captureSelection&&(t.captureSelection=this.captureSelection),this.macroArgs&&(t.args=this.macroArgs),t}_serialize(t){var e;return t.expandMacro&&this.expand?this.bodyToLatex(t):this.command+(null!=(e=this.macroArgs)?e:"")}applyStyle(t,e){let o={};t.color&&(o.color=t.color),t.backgroundColor&&(o.backgroundColor=t.backgroundColor),super.applyStyle(o,e)}render(t){let e=sL.createBox(t,this.body,{type:"lift"});return e?(this.caret&&(e.caret=this.caret),this.bind(t,e)):null}},RP=class t extends sL{constructor(){super({type:"macro-argument"})}static fromJson(e){return new t}toJson(){return super.toJson()}_serialize(t){return""}render(t){return null}},FP=class t extends sL{constructor(t,e,o=!1,n,r){var i;super({type:"prompt",mode:null!=(i=null==r?void 0:r.mode)?i:"math",style:null==r?void 0:r.style,command:"\\placeholder"}),this.body=n,this.correctness=e,this.placeholderId=t,this.locked=o,this.captureSelection=this.locked}static fromJson(e){return new t(e.placeholderId,e.correctness,e.locked,e.body,e)}toJson(){let t=super.toJson();return this.placeholderId&&(t.placeholderId=this.placeholderId),this.body||delete t.body,this.body&&(t.body=this.body.filter((t=>"first"!==t.type)).map((t=>t.toJson()))),this.correctness&&(t.correctness=this.correctness),t.locked=this.locked,t}render(t){let e=new oL({parent:t}),o=e.getRegisterAsEm("fboxsep"),n=o,r=o,i=sL.createBox(t,this.body);if(!i)return null;i.height||(i.height=e.metrics.xHeight),i.setStyle("vertical-align",-i.height,"em"),"correct"===this.correctness?i.setStyle("color","var(--correct-color, var(--ML__correct-color))"):"incorrect"===this.correctness&&i.setStyle("color","var(--incorrect-color, var(--ML__incorrect-color))");let s=new RB(i,{type:"ord"});s.setStyle("display","inline-block"),s.setStyle("height",i.height+i.depth,"em"),s.setStyle("vertical-align",-r,"em");let l="ML__prompt ";this.locked?l+=" ML__lockedPromptBox ":l+=" ML__editablePromptBox ","correct"===this.correctness?l+=" ML__correctPromptBox ":"incorrect"===this.correctness&&(l+=" ML__incorrectPromptBox "),this.containsCaret&&(l+=" ML__focusedPromptBox ");let a=new RB(null,{classes:l,attributes:{part:"prompt"}});a.height=s.height+r,a.depth=s.depth+r,a.width=s.width+2*n,a.setStyle("position","absolute"),a.setStyle("height",`calc(${s.height+s.depth+2*r}em - 2px)`),0===n&&a.setStyle("width","100%"),0!==n&&(a.setStyle("width",`calc(100% + ${2*n}em)`),a.setStyle("top",o,"em"),a.setStyle("left",-n,"em")),(!this.body||1===this.body.length)&&(a.width=3*n,a.setStyle("width",`calc(100% + ${3*n}em)`),a.setStyle("left",-1.5*n,"em"));let d="";"incorrect"===this.correctness&&(d+='<line x1="3%"  y1="97%" x2="97%" y2="3%" stroke-width="0.5" stroke="var(--incorrect-color, var(--ML__incorrect-color))" stroke-linecap="round" />'),d&&(a.svgOverlay=d);let c=new RB([a,s],{classes:"ML__prompt-atom"});return s.setStyle("line-height",1),c.setStyle("position","relative"),c.setStyle("display","inline-block"),c.setStyle("line-height",0),c.height=s.height+r+.2,c.depth=s.depth+r,c.left=n,c.right=n,c.setStyle("height",s.height+r,"em"),c.setStyle("top",s.depth-s.height,"em"),c.setStyle("vertical-align",s.depth+r,"em"),c.setStyle("margin-left",.5,"em"),c.setStyle("margin-right",.5,"em"),this.caret&&(c.caret=this.caret),this.bind(e,this.attachSupsub(t,{base:c}))}_serialize(t){var e;let o=null!=(e=this.bodyToLatex(t))?e:"";if(t.skipPlaceholders)return o;let n="\\placeholder";return this.placeholderId&&(n+=`[${this.placeholderId}]`),"correct"===this.correctness?n+="[correct]":"incorrect"===this.correctness&&(n+="[incorrect]"),this.locked&&(n+="[locked]"),_B(n,o)}},OP=class t extends sL{constructor(t){super({type:"subsup",style:null==t?void 0:t.style}),this.subsupPlacement="auto"}get children(){if(!this._children){let t=[],e=this.branch("subscript");if(e)for(let o of e)t.push(...o.children),t.push(o);let o=this.branch("superscript");if(o)for(let e of o)t.push(...e.children),t.push(e);this._children=t}return this._children}static fromJson(e){let o=new t(e);for(let t of nL)e[t]&&o.setChildren(e[t],t);return o}render(t){var e;let o=new oL({parent:t,isPhantom:!0}),n=this.leftSibling,r=null!=(e=n.render(o))?e:new RB(null),i=new RB(null);return i.height=r.height,i.depth=r.depth,this.attachSupsub(t,{base:i,isCharacterBox:n.isCharacterBox(),type:"ignore"})}_serialize(t){return this.supsubToLatex(t)}};function VP(t){return!!t&&!/^(<$$>|<$>|<space>|<{>|<}>|#[0-9\?]|\\.+)$/.test(t)}var NP=class{constructor(t,e,o){var n,r,i,s;this.errors=[],this.index=0,this.endCount=0,null!=o||(o={}),this.tokens=t,this.context=!(e instanceof oL)||null!=o&&o.parseMode||o.mathstyle?new oL({from:e,mathstyle:o.mathstyle},o.style):e,this.args=null!=(n=o.args)?n:void 0,this.smartFence=this.context.smartFence,this.parsingContext={parent:void 0,mathlist:[],style:null!=(r=o.style)?r:{},parseMode:null!=(i=o.parseMode)?i:"math",mathstyle:null!=(s=o.mathstyle)?s:"displaystyle",tabular:!1}}beginContext(t){var e,o,n,r,i,s;if(null!=t&&t.root)return void(this.parsingContext={parent:this.parsingContext.parent,mathlist:[],style:{},parseMode:null!=(e=null==t?void 0:t.mode)?e:"math",mathstyle:null!=(o=null==t?void 0:t.mathstyle)?o:"displaystyle",tabular:null!=(n=null==t?void 0:t.tabular)&&n});let l=this.parsingContext,a={parent:l,mathlist:[],style:PA({},l.style),parseMode:null!=(r=null==t?void 0:t.mode)?r:l.parseMode,mathstyle:null!=(i=null==t?void 0:t.mathstyle)?i:l.mathstyle,tabular:null!=(s=null==t?void 0:t.tabular)&&s};this.parsingContext=a}endContext(){this.parsingContext=this.parsingContext.parent}onError(t){this.errors.push(PA({before:AB(this.tokens.slice(this.index,this.index+10)),after:AB(this.tokens.slice(Math.max(0,this.index-10),this.index))},t))}get mathlist(){return this.parsingContext.mathlist}set mathlist(t){this.parsingContext.mathlist=t}get parseMode(){return this.parsingContext.parseMode}set parseMode(t){this.parsingContext.parseMode=t}get tabularMode(){return this.parsingContext.tabular}get style(){let t=this.parsingContext;for(;t;){if(t.style)return PA({},t.style);t=t.parent}return{}}set style(t){this.parsingContext.style=t}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}next(){this.index+=1}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}expandUnicode(){if(!this.peek()||"math"!==this.parseMode)return;let t=sC(this.peek());t&&this.tokens.splice(this.index,1,...yB(t))}match(t){return this.tokens[this.index]===t&&(this.index++,!0)}lastSubsupAtom(){let t;return this.mathlist.length>0&&(t=this.mathlist[this.mathlist.length-1],"subsup"===t.type||void 0!==t.subsupPlacement)||(t=new OP({style:this.style}),this.mathlist.push(t)),t}hasPattern(t){return t.test(this.tokens[this.index])}hasInfixCommand(){var t;let{index:e}=this;if(e<this.tokens.length&&this.tokens[e].startsWith("\\")){let o=TC(this.tokens[e],this.parseMode);return!(!o||"symbol"===o.definitionType||o.ifMode&&!o.ifMode.includes(this.parseMode))&&(null!=(t=o.infix)&&t)}return!1}matchColumnSeparator(){return!(!this.tabularMode||"&"!==this.peek())&&(this.index++,!0)}matchRowSeparator(){if(!this.tabularMode)return!1;let t=this.peek();return("\\\\"===t||"\\cr"===t||"\\tabularnewline"===t)&&(this.index++,!0)}placeholder(){var t;let e=null==(t=this.args)?void 0:t.call(this,"?");return e?$P(e,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new fP({mode:this.parseMode,style:this.style})]}skipWhitespace(){for(;this.match("<space>"););}skipUntilToken(t){let e=this.tokens[this.index];for(;e&&e!==t;)e=this.tokens[++this.index];e===t&&this.index++}skipFiller(){for(;this.match("\\relax")||this.match("<space>"););}matchKeyword(t){let e=this.index,o=this.end(),n="";for(;!o;){let e=this.get();VP(e)?(n+=e,o=this.end()||n.length>=t.length):o=!0}let r=t.toUpperCase()===n.toUpperCase();return r||(this.index=e),r}scanString(){let t="";for(;!this.end();){let e=this.peek();if("]"===e)return t;if("<space>"===e)t+=" ";else if(e.startsWith("\\"))this.onError({code:"unexpected-command-in-string"}),t+=e.substring(1);else{if(!VP(e))return t;t+=e}this.next()}return t}scanBalancedString(){let t="",e=this.end(),o=1;for(;!e;){let n=this.get();"<space>"===n?t+=" ":"<{>"===n?(t+="{",o+=1):"<}>"===n?(o-=1,o>0?t+="}":this.index-=1):t+="<$>"===n?"$":"<$$>"===n?"$$":n,e=0===o||this.end()}return t}scanLiteralGroup(){var t;if(!this.match("<{>"))return"";let e="",o=1;for(;o>0&&!this.end();){let n=this.get();"<}>"===n?(o-=1,o>0&&(e+="}")):"<{>"===n?(o+=1,e+="{"):(/\\[a-zA-Z]+$/.test(e)&&/^[a-zA-Z]/.test(n)&&(e+=" "),e+=null!=(t={"<space>":" ","<$$>":"$$","<$>":"$"}[n])?t:n)}return e}scanNumber(t=!0){var e,o;let n=!1,r=this.peek();for(;"<space>"===r||"+"===r||"-"===r;)this.get(),"-"===r&&(n=!n),r=this.peek();t=!!t;let i=10,s=/\d/;if(this.match("'"))i=8,s=/[0-7]/,t=!0;else if(this.match('"'))i=16,s=/[\dA-F]/,t=!0;else if(this.match("x"))i=16,s=/[\dA-Fa-f]/,t=!0;else if(this.match("`"))return r=this.get(),r?2===r.length&&r.startsWith("\\")?{number:(n?-1:1)*(null!=(e=r.codePointAt(1))?e:0),base:"alpha"}:{number:(n?-1:1)*(null!=(o=r.codePointAt(0))?o:0),base:"alpha"}:null;let l="";for(;this.hasPattern(s);)l+=this.get();if(!t&&(this.match(".")||this.match(",")))for(l+=".";this.hasPattern(s);)l+=this.get();let a=t?Number.parseInt(l,i):Number.parseFloat(l);return Number.isNaN(a)?null:{number:n?-a:a,base:16===i?"hexadecimal":8===i?"octal":"decimal"}}scanRegister(){var t;let e=this.index,o=this.scanNumber(!1);if(this.skipWhitespace(),this.match("\\relax"))return o;let n=!1;if(null===o)for(;;){let t=this.peek();if("-"===t)n=!n;else if("+"!==t)break;this.next(),this.skipWhitespace()}if(this.match("\\global")){this.skipWhitespace();let t=this.get();return t.startsWith("\\")?o?{register:t,global:!0,factor:(n?-1:1)*o.number}:n?{register:t,global:!0,factor:-1}:{register:t,global:!0}:(this.index=e,null)}let r=this.get();return null!=r&&r.startsWith("\\")?(r=r.substring(1),this.context.registers[r]?n&&null===o?{register:r}:{register:r,factor:(n?-1:1)*(null!=(t=null==o?void 0:o.number)?t:1)}:(this.index=e,null)):(this.index=e,null)}scanValue(){let t=this.scanRegister();if(t)return t;let e=this.index,o=this.scanGlueOrDimen();if(o&&("unit"in o||"glue"in o&&"unit"in o.glue))return o;this.index=e;let n=this.scanNumber();if(n)return n;if(this.end()||!VP(this.peek()))return null;let r=this.scanString();return r.length>0?{string:r}:null}scanDimen(){let t=this.scanNumber(!1);if(null===t)return null;let e,o=t.number;return this.skipWhitespace(),this.matchKeyword("true"),this.skipWhitespace(),this.matchKeyword("pt")?e="pt":this.matchKeyword("mm")?e="mm":this.matchKeyword("cm")?e="cm":this.matchKeyword("ex")?e="ex":this.matchKeyword("px")?e="px":this.matchKeyword("em")?e="em":this.matchKeyword("bp")?e="bp":this.matchKeyword("dd")?e="dd":this.matchKeyword("pc")?e="pc":this.matchKeyword("in")?e="in":this.matchKeyword("mu")&&(e="mu"),e?{dimension:o,unit:e}:{dimension:o}}scanGlueOrDimen(){let t=this.scanDimen();if(null===t)return null;if(this.skipWhitespace(),this.match("\\relax"))return t;let e={glue:t};if(this.matchKeyword("plus")){let t=this.scanDimen();if(!t)return e;e.grow=t}if(this.skipWhitespace(),this.match("\\relax"))return e;if(this.skipWhitespace(),this.matchKeyword("minus")){let t=this.scanDimen();if(!t)return e;e.shrink=t}return e.grow||e.shrink?e:t}scanColspec(){this.skipWhitespace();let t=[];for(;!this.end()&&"<}>"!==this.peek()&&"]"!==this.peek();){let e=this.get();"c"===e||"r"===e||"l"===e?t.push({align:e}):"|"===e?t.push({separator:"solid"}):":"===e?t.push({separator:"dashed"}):"@"===e&&(this.match("<{>")&&(this.beginContext({mode:"math"}),t.push({gap:this.scan((t=>"<}>"===t))}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return t}scanModeSet(){let t;if(this.match("\\(")&&(t="textstyle"),!t&&this.match("\\[")&&(t="displaystyle"),!t)return null;this.beginContext({mode:"math",mathstyle:t});let e=this.scan((e=>e===("displaystyle"===t?"\\]":"\\)")));return this.match("displaystyle"===t?"\\]":"\\)")||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanModeShift(){let t="";if(this.match("<$>")&&(t="<$>"),!t&&this.match("<$$>")&&(t="<$$>"),!t)return null;this.beginContext({mode:"math",mathstyle:"<$>"===t?"textstyle":"displaystyle"});let e=this.scan((e=>e===t));return this.match(t)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),e}scanEnvironment(){if(!this.match("\\begin"))return null;let t=this.scanArgument("string");if(!t)return null;let e=function(t){var e;return null!=(e=mC[t])?e:null}(t);if(!e)return this.onError({code:"unknown-environment",arg:t}),null;let o=[];if(e.params)for(let n of e.params)if(n.isOptional)o.push(this.scanOptionalArgument(n.type));else{let e=this.scanArgument(n.type);e||this.onError({code:"missing-argument",arg:t}),o.push(e)}this.beginContext({tabular:e.tabular,root:e.rootOnly});let n=[],r=[],i=[],s=!1;do{if(this.end()&&(this.onError({code:"unbalanced-environment",arg:t}),s=!0),!s&&this.match("\\end")&&(this.scanArgument("string")!==t&&this.onError({code:"unbalanced-environment",arg:t}),s=!0),!s)if(this.matchColumnSeparator())i.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){i.push(this.mathlist),this.mathlist=[];let t=null;this.skipWhitespace(),this.match("[")&&(t=this.scanDimen(),this.skipWhitespace(),this.match("]")),r.push(null!=t?t:{dimension:0}),n.push(i),i=[]}else this.mathlist.push(...this.scan((t=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(t))))}while(!s);return i.push(this.mathlist),i.length>0&&n.push(i),this.endContext(),e.rootOnly&&(this.index=this.tokens.length),e.createAtom(t,n,r,o,this.context.maxMatrixCols)}scanExpression(){let t=this.mathlist;if(this.mathlist=[],this.parseExpression()){let e=this.mathlist;return this.mathlist=t,e}return this.mathlist=t,null}scan(t){this.beginContext(),t||(t=t=>"<}>"===t);let e,o="",n=null,r=[],i=null;for(;!this.end()&&!t(this.peek());)this.hasInfixCommand()&&!o?(o=this.get(),n=TC(o,"math"),n&&(r=this.scanArguments(n)[1]),i=this.mathlist,this.mathlist=[]):this.parseExpression();return o?(r.unshift(this.mathlist),i&&r.unshift(i),e=[n.createAtom({command:o,args:r,style:this.style,mode:this.parseMode})]):e=this.mathlist,this.endContext(),e}scanGroup(){let t=this.index;if(!this.match("<{>"))return null;let e=this.scan((t=>"<}>"===t));if(this.match("<}>")||this.onError({code:"unbalanced-braces"}),1===e.length&&"placeholder"===e[0].type)return e[0];let o=new LP(e,this.parseMode);return o.verbatimLatex=AB(this.tokens.slice(t,this.index)),o}scanSmartFence(){if(this.skipWhitespace(),!this.match("("))return null;this.beginContext();let t=1;for(;!this.end()&&0!==t;)this.match("(")&&(t+=1),this.match(")")&&(t-=1),0!==t&&this.parseExpression();let e=new PP("",this.mathlist,{leftDelim:"(",rightDelim:0===t?")":"?"});return this.endContext(),e}scanDelim(){this.skipWhitespace();let t=this.peek();if(!t)return this.onError({code:"unexpected-end-of-string"}),null;if(!VP(t)&&!t.startsWith("\\"))return null;this.next();let e=TC(t,"math");return e?"function"===e.definitionType&&e.ifMode&&!e.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:t}),null):"symbol"===e.definitionType&&("mopen"===e.type||"mclose"===e.type)||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(t)?t:(this.onError({code:"unexpected-delimiter",arg:t}),null):(this.onError({code:"unknown-command",arg:t}),null)}scanLeftRight(){var t;if(this.match("\\right"))return this.onError({code:"unbalanced-braces"}),new BP("\\right");if(this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),new BP("\\mright");let e="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;e="\\mright"}let o=this.scanDelim();if(!o)return this.onError({code:"unexpected-delimiter"}),new BP("\\right"===e?"\\left":"\\mleft");for(this.beginContext();!this.end()&&!this.match(e);)this.parseExpression();let n=this.mathlist;this.endContext();let r=null!=(t=this.scanDelim())?t:".";return new PP("\\right"===e?"left...right":"mleft...mright",n,{leftDelim:o,rightDelim:r,style:this.style})}parseSupSub(){if("math"!==this.parseMode)return!1;let t=this.peek();if("^"!==t&&"_"!==t&&"'"!==t)return!1;let e=this.lastSubsupAtom();for(;"^"===t||"_"===t||"'"===t;)this.match("'")?this.match("'")?e.addChild(new sL({type:"mord",command:"\\doubleprime",mode:"math",value:"′′"}),"superscript"):e.addChild(new sL({type:"mord",command:"\\prime",mode:"math",value:"′"}),"superscript"):(this.match("^")||this.match("_"))&&e.addChildren(lC(this.scanArgument("expression")),"_"===t?"subscript":"superscript"),t=this.peek();return!0}parseLimits(){if("math"!==this.parseMode)return!1;let t=this.match("\\limits"),e=!t&&this.match("\\nolimits"),o=!e&&!t&&this.match("\\displaylimits");if(!t&&!e&&!o)return!1;let n=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return null!==n&&(n.explicitSubsupPlacement=!0,t&&(n.subsupPlacement="over-under"),e&&(n.subsupPlacement="adjacent"),o&&(n.subsupPlacement="auto"),!0)}scanArguments(t){if(null==t||!t.params)return[void 0,[]];let e,o=[],n=t.infix?2:0;for(;n<t.params.length;){let r=t.params[n];"rest"===r.type?o.push(this.scan((t=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(t)))):r.isOptional?o.push(this.scanOptionalArgument(r.type)):r.type.endsWith("*")?e=r.type.slice(0,-1):o.push(this.scanArgument(r.type)),n+=1}return[e,o]}scanSymbolOrLiteral(){let t,e=this.peek();if(!e)return null;if(this.next(),VP(e)){let t=SB.createAtom(this.parseMode,e,PA({},this.style));return t?[t]:null}if(t=this.scanMacro(e),t)return[t];if(e.startsWith("\\")){let o=TC(e,this.parseMode);if(!o)return this.onError({code:"unknown-command",arg:e}),[new BP(e)];if("symbol"===o.definitionType){let n=PA({},this.style);o.variant&&(n.variant=o.variant),t=new sL({type:o.type,command:e,style:n,value:String.fromCodePoint(o.codepoint),mode:this.parseMode,verbatimLatex:e})}else{if(o.applyMode||o.applyStyle||o.infix)return this.onError({code:"invalid-command",arg:e}),[new BP(e)];o.createAtom&&(t=o.createAtom({command:e,args:[],style:this.style,mode:this.parseMode}))}}return t?[t]:null}scanArgument(t){var e;this.skipFiller();let o=this.parseMode;if("auto"===t&&(t=o),!this.match("<{>")){if("string"===t)return this.scanString();if("value"===t)return this.scanValue();if("delim"===t)return null!=(e=this.scanDelim())?e:".";if("expression"===t)return this.scanExpression();if("math"===t){t!==o&&this.beginContext({mode:"math"});let e=this.scanSymbolOrLiteral();return t!==o&&this.endContext(),e}if("text"===t){t!==o&&this.beginContext({mode:"text"});let e=this.scanSymbolOrLiteral();return t!==o&&this.endContext(),e}return"balanced-string"===t?null:"rest"===t?this.scan((t=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(t))):null}if("text"===t){this.beginContext({mode:"text"});do{this.mathlist.push(...this.scan())}while(!this.match("<}>")&&!this.end());let t=this.mathlist;return this.endContext(),{group:t}}if("math"===t){this.beginContext({mode:"math"});do{this.mathlist.push(...this.scan())}while(!this.match("<}>")&&!this.end());let t=this.mathlist;return this.endContext(),{group:t}}let n=null;if("expression"===t){this.beginContext({mode:"math"});do{this.mathlist.push(...this.scan())}while(!this.match("<}>")&&!this.end());let t=this.mathlist;return this.endContext(),{group:t}}return"string"===t?n=this.scanString():"balanced-string"===t?n=this.scanBalancedString():"colspec"===t?n=this.scanColspec():"value"===t&&(n=this.scanValue()),this.skipUntilToken("<}>"),n}scanOptionalArgument(t){if(t="auto"===t?this.parseMode:t,this.skipFiller(),!this.match("["))return null;let e=null;for(;!this.end()&&!this.match("]");)if("string"===t)e=this.scanString();else if("value"===t)e=this.scanValue();else if("colspec"===t)e=this.scanColspec();else if("bbox"===t){let t={},o=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let e of o){let o=e.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(o)t.padding={dimension:parseInt(o[1]),unit:o[2]};else{let o=e.match(/^\s*border\s*:\s*(.*)/);o?t.border=o[1]:t.backgroundcolor={string:e}}}e=t}else"math"===t&&(this.beginContext({mode:"math"}),e=this.mathlist.concat(this.scan((t=>"]"===t))),this.endContext());return e}scanSymbolOrCommand(t){var e,o,n;if("\\placeholder"===t){let t,e=this.scanOptionalArgument("string"),o=this.scanOptionalArgument("math"),n=sL.serialize(o,{defaultMode:"math"}),r=[];t||"correct"!==n?t||"incorrect"!==n?""!==n&&(r=o):t="incorrect":t="correct";let i,s="locked"===this.scanOptionalArgument("string"),l=this.scanArgument("auto");return i=l&&Array.isArray(l)&&l.length>0?l:l&&"object"==typeof l&&"group"in l?l.group:r,e?[new FP(e,t,s,null!=i?i:r,{mode:this.parseMode,style:this.style})]:[new fP({mode:this.parseMode,style:this.style})]}if("\\renewcommand"===t||"\\newcommand"===t||"\\providecommand"===t||"\\def"===t){let e=this.index,o=this.scanLiteralGroup()||this.next();if(!o)return null;if(this.context.registers[o.substring(1)]){let n=this.scanArgument("string");null!==n&&(this.context.registers[o.substring(1)]=n);let r=vB([t,AB(this.tokens.slice(e,this.index))]);return[new sL({type:"text",value:"",verbatimLatex:r})]}}let r=this.scanMacro(t);if(r)return[r];let i=TC(t,this.parseMode);if(!i)return"text"===this.parseMode?(/[a-zA-Z]/.test(null!=(e=this.peek())?e:"")&&(t+=" "),[...t].map((t=>new sL({type:"text",value:t,mode:"text",style:this.style})))):(this.onError({code:"unknown-command",arg:t}),[new BP(t)]);let s=this.index;if("symbol"===i.definitionType){let e=PA({},this.style);i.variant&&(e.variant=i.variant),r=new sL({type:i.type,command:t,style:e,value:String.fromCodePoint(i.codepoint),mode:this.parseMode})}else{if(i.ifMode&&!i.ifMode.includes(this.parseMode))return[];let e=this.parseMode;i.applyMode&&(this.parseMode=i.applyMode);let s,l=[];if(i.parse?l=i.parse(this):[s,l]=this.scanArguments(i),this.parseMode=e,i.applyMode&&!i.applyStyle&&!i.createAtom)return lC(l[0]);if(i.infix)return this.onError({code:"too-many-infix-commands",arg:t}),null;if("function"==typeof i.createAtom)r=i.createAtom({command:t,args:l,style:this.style,mode:this.parseMode}),s&&(r.body=lC(this.scanArgument(s)));else if("function"==typeof i.applyStyle){let e=i.applyStyle(this.style,t,l,this.context),o=this.parseMode;if(i.applyMode&&(this.parseMode=i.applyMode),s){let t=this.style;this.style=e;let n=this.scanArgument(s);return this.style=t,this.parseMode=o,lC(n)}this.style=e}else r=new sL({type:"mord",command:null!=(o=i.command)?o:t,style:PA({},this.style),value:t,mode:null!=(n=i.applyMode)?n:this.parseMode})}if(!r)return null;if(r instanceof sL&&void 0===r.verbatimLatex&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(t)){let e=vB([t,AB(this.tokens.slice(s,this.index))]);e&&(r.verbatimLatex=e)}if(null===r.verbatimLatex&&(r.verbatimLatex=void 0),r.isFunction&&this.smartFence){let t=this.scanSmartFence();if(t)return[r,t]}return[r]}scanSymbolCommandOrLiteral(){this.expandUnicode();let t=this.get();if(!t)return null;if(VP(t)){let e=SB.createAtom(this.parseMode,t,PA({},this.style));if(!e)return null;if(e.isFunction&&this.smartFence){let t=this.scanSmartFence();if(t)return[e,t]}return[e]}return t.startsWith("\\")?this.scanSymbolOrCommand(t):"<space>"===t?"text"===this.parseMode?[new dL(" "," ",this.style)]:null:("<}>"===t?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:t}),null)}scanMacro(t){var e;let o=this.context.getMacro(t);if(!o)return null;let n=this.index,r=o.args,i={"?":null==(e=this.args)?void 0:e.call(this,"?")};for(let t=1;t<=r;t++){let e=this.scanLiteralGroup();if(!e){let t=this.index;this.scanExpression(),e=AB(this.tokens.slice(t,this.index))}i[t]=e}return new zP(t,{expand:o.expand,captureSelection:o.captureSelection,args:n===this.index?null:AB(this.tokens.slice(n,this.index)),style:this.parsingContext.style,body:$P(o.def,{context:this.context,parseMode:this.parseMode,args:t=>i[t],mathstyle:this.parsingContext.mathstyle,style:this.parsingContext.style})})}parseExpression(){var t,e,o,n;let r=null!=(n=null!=(o=null!=(e=null!=(t=this.scanEnvironment())?t:this.scanModeShift())?e:this.scanModeSet())?o:this.scanGroup())?n:this.scanLeftRight();if(null===r){if(this.parseSupSub()||this.parseLimits())return!0;r=this.scanSymbolCommandOrLiteral()}return!!r&&(FA(r)?this.mathlist.push(...r):this.mathlist.push(r),!0)}};function $P(t,e){var o,n,r,i;let s=null!=(o=null==e?void 0:e.args)?o:void 0,l=new NP(yB(t,s),null==e?void 0:e.context,{args:s,mathstyle:null!=(n=null==e?void 0:e.mathstyle)?n:"displaystyle",parseMode:null!=(r=null==e?void 0:e.parseMode)?r:"math",style:null!=(i=null==e?void 0:e.style)?i:{}}),a=[];for(;!l.end();)a.push(...l.scan((()=>!1)));return a}function KP(t,e){var o;let n=new NP(yB(t,null),null==e?void 0:e.context,{mathstyle:"displaystyle",parseMode:null!=(o=null==e?void 0:e.parseMode)?o:"math"});for(;!n.end();)n.scan();return n.errors}var qP=class t extends sL{constructor(t,e){super({type:"chem"},{command:t,mode:"math"});let o=jP.go(HP.go(e,"\\pu"===t?"pu":"ce"),!1);this.body=$P(o),this._verbatimLatex=t+"{"+e+"}",this.arg=e,this.captureSelection=!0}static fromJson(e){return new t(e.command,e.arg)}set verbatimLatex(t){}get verbatimLatex(){return this._verbatimLatex}toJson(){return IA(PA({},super.toJson()),{arg:this.arg})}render(t){let e=sL.createBox(t,this.body,{type:"inner"});return this.caret&&(e.caret=this.caret),this.bind(t,e)}_serialize(t){return this.verbatimLatex,this.verbatimLatex}};SC(["ce","pu"],"{chemformula:balanced-string}",{createAtom:t=>{var e;return new qP(t.command,null!=(e=t.args[0])?e:"")}});var HP={go:function(t,e){if(!t)return[];void 0===e&&(e="ce");var o="0",n={parenthesisLevel:0};t=(t=(t=t.replace(/\n/g," ")).replace(/[\u2212\u2013\u2014\u2010]/g,"-")).replace(/[\u2026]/g,"...");for(var r,i=10,s=[];;){r!==t?(i=10,r=t):i--;var l=HP.stateMachines[e],a=l.transitions[o]||l.transitions["*"];t:for(var d=0;d<a.length;d++){var c=HP.patterns.match_(a[d].pattern,t);if(c){for(var h=a[d].task,u=0;u<h.action_.length;u++){var p;if(l.actions[h.action_[u].type_])p=l.actions[h.action_[u].type_](n,c.match_,h.action_[u].option);else{if(!HP.actions[h.action_[u].type_])throw["MhchemBugA","mhchem bug A. Please report. ("+h.action_[u].type_+")"];p=HP.actions[h.action_[u].type_](n,c.match_,h.action_[u].option)}HP.concatArray(s,p)}if(o=h.nextState||o,!(t.length>0))return s;if(h.revisit||(t=c.remainder),!h.toContinue)break t}}if(i<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(t,e){if(e)if("[object Array]"===Object.prototype.toString.call(e))for(var o=0;o<e.length;o++)t.push(e[o]);else t.push(e)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"(-)(9)^(-9)":function(t){var e=t.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return e&&e[0]?{match_:e.slice(1),remainder:t.substr(e[0].length)}:null},"state of aggregation $":function(t){var e=HP.patterns.findObserveGroups(t,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(e&&e.remainder.match(/^($|[\s,;\)\]\}])/))return e;var o=t.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return o?{match_:o[0],remainder:t.substr(o[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(t){return HP.patterns.findObserveGroups(t,"^{","","","}")},"^($...$)":function(t){return HP.patterns.findObserveGroups(t,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(t){return HP.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(t){return HP.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(t){return HP.patterns.findObserveGroups(t,"_{","","","}")},"_($...$)":function(t){return HP.patterns.findObserveGroups(t,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(t){return HP.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(t){return HP.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(t){return HP.patterns.findObserveGroups(t,"","{","}","")},"{(...)}":function(t){return HP.patterns.findObserveGroups(t,"{","","","}")},"$...$":function(t){return HP.patterns.findObserveGroups(t,"","$","$","")},"${(...)}$":function(t){return HP.patterns.findObserveGroups(t,"${","","","}$")},"$(...)$":function(t){return HP.patterns.findObserveGroups(t,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(t){return HP.patterns.findObserveGroups(t,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(t){return HP.patterns.findObserveGroups(t,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(t){return HP.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(t){return HP.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(t){return HP.patterns.findObserveGroups(t,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(t){return HP.patterns.findObserveGroups(t,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(t){return HP.patterns.findObserveGroups(t,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(t){return HP.patterns.findObserveGroups(t,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(t){return HP.patterns.findObserveGroups(t,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(t){return HP.patterns.findObserveGroups(t,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(t){return HP.patterns.findObserveGroups(t,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(t){return HP.patterns.findObserveGroups(t,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(t){var e;if(e=t.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/))return{match_:e[0],remainder:t.substr(e[0].length)};var o=HP.patterns.findObserveGroups(t,"","$","$","");return o&&(e=o.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/))?{match_:e[0],remainder:t.substr(e[0].length)}:null},amount2:function(t){return this.amount(t)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(t){if(t.match(/^\([a-z]+\)$/))return null;var e=t.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return e?{match_:e[0],remainder:t.substr(e[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(t,e,o,n,r,i,s,l,a,d){var c=function(t,e){if("string"==typeof e)return 0!==t.indexOf(e)?null:e;var o=t.match(e);return o?o[0]:null},h=c(t,e);if(null===h||(t=t.substr(h.length),null===(h=c(t,o))))return null;var u=function(t,e,o){for(var n=0;e<t.length;){var r=t.charAt(e),i=c(t.substr(e),o);if(null!==i&&0===n)return{endMatchBegin:e,endMatchEnd:e+i.length};if("{"===r)n++;else if("}"===r){if(0===n)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];n--}e++}return null}(t,h.length,n||r);if(null===u)return null;var p=t.substring(0,n?u.endMatchEnd:u.endMatchBegin);if(i||s){var m=this.findObserveGroups(t.substr(u.endMatchEnd),i,s,l,a);if(null===m)return null;var g=[p,m.match_];return{match_:d?g.join(""):g,remainder:m.remainder}}return{match_:p,remainder:t.substr(u.endMatchEnd)}},match_:function(t,e){var o=HP.patterns.patterns[t];if(void 0===o)throw["MhchemBugP","mhchem bug P. Please report. ("+t+")"];if("function"==typeof o)return HP.patterns.patterns[t](e);var n=e.match(o);return n?{match_:n[2]?[n[1],n[2]]:n[1]?n[1]:n[0],remainder:e.substr(n[0].length)}:null}},actions:{"a=":function(t,e){t.a=(t.a||"")+e},"b=":function(t,e){t.b=(t.b||"")+e},"p=":function(t,e){t.p=(t.p||"")+e},"o=":function(t,e){t.o=(t.o||"")+e},"q=":function(t,e){t.q=(t.q||"")+e},"d=":function(t,e){t.d=(t.d||"")+e},"rm=":function(t,e){t.rm=(t.rm||"")+e},"text=":function(t,e){t.text_=(t.text_||"")+e},insert:function(t,e,o){return{type_:o}},"insert+p1":function(t,e,o){return{type_:o,p1:e}},"insert+p1+p2":function(t,e,o){return{type_:o,p1:e[0],p2:e[1]}},copy:function(t,e){return e},rm:function(t,e){return{type_:"rm",p1:e||""}},text:function(t,e){return HP.go(e,"text")},"{text}":function(t,e){var o=["{"];return HP.concatArray(o,HP.go(e,"text")),o.push("}"),o},"tex-math":function(t,e){return HP.go(e,"tex-math")},"tex-math tight":function(t,e){return HP.go(e,"tex-math tight")},bond:function(t,e,o){return{type_:"bond",kind_:o||e}},"color0-output":function(t,e){return{type_:"color0",color:e[0]}},ce:function(t,e){return HP.go(e)},"1/2":function(t,e){var o=[];e.match(/^[+\-]/)&&(o.push(e.substr(0,1)),e=e.substr(1));var n=e.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return n[1]=n[1].replace(/\$/g,""),o.push({type_:"frac",p1:n[1],p2:n[2]}),n[3]&&(n[3]=n[3].replace(/\$/g,""),o.push({type_:"tex-math",p1:n[3]})),o},"9,9":function(t,e){return HP.go(e,"9,9")}},createTransitions:function(t){var e,o,n,r,i={};for(e in t)for(o in t[e])for(n=o.split("|"),t[e][o].stateArray=n,r=0;r<n.length;r++)i[n[r]]=[];for(e in t)for(o in t[e])for(n=t[e][o].stateArray||[],r=0;r<n.length;r++){var s=t[e][o];if(s.action_){s.action_=[].concat(s.action_);for(var l=0;l<s.action_.length;l++)"string"==typeof s.action_[l]&&(s.action_[l]={type_:s.action_[l]})}else s.action_=[];for(var a=e.split("|"),d=0;d<a.length;d++)if("*"===n[r])for(var c in i)i[c].push({pattern:a[d],task:s});else i[n[r]].push({pattern:a[d],task:s})}return i},stateMachines:{}};HP.stateMachines={ce:{transitions:HP.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(t,e){var o;if((t.d||"").match(/^[0-9]+$/)){var n=t.d;t.d=void 0,o=this.output(t),t.b=n}else o=this.output(t);return HP.actions["o="](t,e),o},"d= kv":function(t,e){t.d=e,t.dType="kv"},"charge or bond":function(t,e){if(t.beginsWithBond){var o=[];return HP.concatArray(o,this.output(t)),HP.concatArray(o,HP.actions.bond(t,e,"-")),o}t.d=e},"- after o/d":function(t,e,o){var n=HP.patterns.match_("orbital",t.o||""),r=HP.patterns.match_("one lowercase greek letter $",t.o||""),i=HP.patterns.match_("one lowercase latin letter $",t.o||""),s=HP.patterns.match_("$one lowercase latin letter$ $",t.o||""),l="-"===e&&(n&&""===n.remainder||r||i||s);l&&!t.a&&!t.b&&!t.p&&!t.d&&!t.q&&!n&&i&&(t.o="$"+t.o+"$");var a=[];return l?(HP.concatArray(a,this.output(t)),a.push({type_:"hyphen"})):(n=HP.patterns.match_("digits",t.d||""),o&&n&&""===n.remainder?(HP.concatArray(a,HP.actions["d="](t,e)),HP.concatArray(a,this.output(t))):(HP.concatArray(a,this.output(t)),HP.concatArray(a,HP.actions.bond(t,e,"-")))),a},"a to o":function(t){t.o=t.a,t.a=void 0},"sb=true":function(t){t.sb=!0},"sb=false":function(t){t.sb=!1},"beginsWithBond=true":function(t){t.beginsWithBond=!0},"beginsWithBond=false":function(t){t.beginsWithBond=!1},"parenthesisLevel++":function(t){t.parenthesisLevel++},"parenthesisLevel--":function(t){t.parenthesisLevel--},"state of aggregation":function(t,e){return{type_:"state of aggregation",p1:HP.go(e,"o")}},comma:function(t,e){var o=e.replace(/\s*$/,"");return o!==e&&0===t.parenthesisLevel?{type_:"comma enumeration L",p1:o}:{type_:"comma enumeration M",p1:o}},output:function(t,e,o){var n,r,i;t.r?(r="M"===t.rdt?HP.go(t.rd,"tex-math"):"T"===t.rdt?[{type_:"text",p1:t.rd||""}]:HP.go(t.rd),i="M"===t.rqt?HP.go(t.rq,"tex-math"):"T"===t.rqt?[{type_:"text",p1:t.rq||""}]:HP.go(t.rq),n={type_:"arrow",r:t.r,rd:r,rq:i}):(n=[],!t.a&&!t.b&&!t.p&&!t.o&&!t.q&&!t.d&&!o||(t.sb&&n.push({type_:"entitySkip"}),t.o||t.q||t.d||t.b||t.p||2===o?t.o||t.q||t.d||!t.b&&!t.p?t.o&&"kv"===t.dType&&HP.patterns.match_("d-oxidation$",t.d||"")?t.dType="oxidation":t.o&&"kv"===t.dType&&!t.q&&(t.dType=void 0):(t.o=t.a,t.d=t.b,t.q=t.p,t.a=t.b=t.p=void 0):(t.o=t.a,t.a=void 0),n.push({type_:"chemfive",a:HP.go(t.a,"a"),b:HP.go(t.b,"bd"),p:HP.go(t.p,"pq"),o:HP.go(t.o,"o"),q:HP.go(t.q,"pq"),d:HP.go(t.d,"oxidation"===t.dType?"oxidation":"bd"),dType:t.dType})));for(var s in t)"parenthesisLevel"!==s&&"beginsWithBond"!==s&&delete t[s];return n},"oxidation-output":function(t,e){var o=["{"];return HP.concatArray(o,HP.go(e,"oxidation")),o.push("}"),o},"frac-output":function(t,e){return{type_:"frac-ce",p1:HP.go(e[0]),p2:HP.go(e[1])}},"overset-output":function(t,e){return{type_:"overset",p1:HP.go(e[0]),p2:HP.go(e[1])}},"underset-output":function(t,e){return{type_:"underset",p1:HP.go(e[0]),p2:HP.go(e[1])}},"underbrace-output":function(t,e){return{type_:"underbrace",p1:HP.go(e[0]),p2:HP.go(e[1])}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:HP.go(e[1])}},"r=":function(t,e){t.r=e},"rdt=":function(t,e){t.rdt=e},"rd=":function(t,e){t.rd=e},"rqt=":function(t,e){t.rqt=e},"rq=":function(t,e){t.rq=e},operator:function(t,e,o){return{type_:"operator",kind_:o||e}}}},a:{transitions:HP.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:HP.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:HP.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(t){if(t.text_){var e={type_:"text",p1:t.text_};for(var o in t)delete t[o];return e}}}},pq:{transitions:HP.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(t,e){return{type_:"state of aggregation subscript",p1:HP.go(e,"o")}},"color-output":function(t,e){return{type_:"color",color1:e[0],color2:HP.go(e[1],"pq")}}}},bd:{transitions:HP.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(t,e){return{type_:"color",color1:e[0],color2:HP.go(e[1],"bd")}}}},oxidation:{transitions:HP.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(t,e){return{type_:"roman numeral",p1:e||""}}}},"tex-math":{transitions:HP.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var o in t)delete t[o];return e}}}},"tex-math tight":{transitions:HP.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(t,e){t.o=(t.o||"")+"{"+e+"}"},output:function(t){if(t.o){var e={type_:"tex-math",p1:t.o};for(var o in t)delete t[o];return e}}}},"9,9":{transitions:HP.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:HP.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(t,e){var o=[];return"+-"===e[0]||"+/-"===e[0]?o.push("\\pm "):e[0]&&o.push(e[0]),e[1]&&(HP.concatArray(o,HP.go(e[1],"pu-9,9")),e[2]&&(e[2].match(/[,.]/)?HP.concatArray(o,HP.go(e[2],"pu-9,9")):o.push(e[2])),(e[3]||e[4])&&("e"===e[3]||"*"===e[4]?o.push({type_:"cdot"}):o.push({type_:"times"}))),e[5]&&o.push("10^{"+e[5]+"}"),o},"number^":function(t,e){var o=[];return"+-"===e[0]||"+/-"===e[0]?o.push("\\pm "):e[0]&&o.push(e[0]),HP.concatArray(o,HP.go(e[1],"pu-9,9")),o.push("^{"+e[2]+"}"),o},operator:function(t,e,o){return{type_:"operator",kind_:o||e}},space:function(){return{type_:"pu-space-1"}},output:function(t){var e,o=HP.patterns.match_("{(...)}",t.d||"");o&&""===o.remainder&&(t.d=o.match_);var n=HP.patterns.match_("{(...)}",t.q||"");if(n&&""===n.remainder&&(t.q=n.match_),t.d&&(t.d=t.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.d=t.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),t.q){t.q=t.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.q=t.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var r={d:HP.go(t.d,"pu"),q:HP.go(t.q,"pu")};"//"===t.o?e={type_:"pu-frac",p1:r.d,p2:r.q}:(e=r.d,r.d.length>1||r.q.length>1?e.push({type_:" / "}):e.push({type_:"/"}),HP.concatArray(e,r.q))}else e=HP.go(t.d,"pu-2");for(var i in t)delete t[i];return e}}},"pu-2":{transitions:HP.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(t,e){t.rm+="^{"+e+"}"},space:function(){return{type_:"pu-space-2"}},output:function(t){var e=[];if(t.rm){var o=HP.patterns.match_("{(...)}",t.rm||"");e=o&&""===o.remainder?HP.go(o.match_,"pu"):{type_:"rm",p1:t.rm}}for(var n in t)delete t[n];return e}}},"pu-9,9":{transitions:HP.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){var o=t.text_.length%3;0===o&&(o=3);for(var n=t.text_.length-3;n>0;n-=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(0,o)),e.reverse()}else e.push(t.text_);for(var r in t)delete t[r];return e},"output-o":function(t){var e=[];if(t.text_=t.text_||"",t.text_.length>4){for(var o=t.text_.length-3,n=0;n<o;n+=3)e.push(t.text_.substr(n,3)),e.push({type_:"1000 separator"});e.push(t.text_.substr(n))}else e.push(t.text_);for(var r in t)delete t[r];return e}}}};var jP={go:function(t,e){if(!t)return"";for(var o="",n=!1,r=0;r<t.length;r++){var i=t[r];"string"==typeof i?o+=i:(o+=jP._go2(i),"1st-level escape"===i.type_&&(n=!0))}return!e&&!n&&o&&(o="{"+o+"}"),o},_goInner:function(t){return t&&jP.go(t,!0)},_go2:function(t){var e;switch(t.type_){case"chemfive":e="";var o={a:jP._goInner(t.a),b:jP._goInner(t.b),p:jP._goInner(t.p),o:jP._goInner(t.o),q:jP._goInner(t.q),d:jP._goInner(t.d)};o.a&&(o.a.match(/^[+\-]/)&&(o.a="{"+o.a+"}"),e+=o.a+"\\,"),(o.b||o.p)&&(e+="{\\vphantom{X}}",e+="^{\\hphantom{"+(o.b||"")+"}}_{\\hphantom{"+(o.p||"")+"}}",e+="{\\vphantom{X}}",e+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(o.b||"")+"}}",e+="_{\\vphantom{2}\\llap{\\smash[t]{"+(o.p||"")+"}}}"),o.o&&(o.o.match(/^[+\-]/)&&(o.o="{"+o.o+"}"),e+=o.o),"kv"===t.dType?((o.d||o.q)&&(e+="{\\vphantom{X}}"),o.d&&(e+="^{"+o.d+"}"),o.q&&(e+="_{\\smash[t]{"+o.q+"}}")):"oxidation"===t.dType?(o.d&&(e+="{\\vphantom{X}}",e+="^{"+o.d+"}"),o.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+o.q+"}}")):(o.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+o.q+"}}"),o.d&&(e+="{\\vphantom{X}}",e+="^{"+o.d+"}"));break;case"rm":case"roman numeral":e="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),e="\\mathrm{"+t.p1+"}"):e="\\text{"+t.p1+"}";break;case"state of aggregation":e="\\mskip2mu "+jP._goInner(t.p1);break;case"state of aggregation subscript":e="\\mskip1mu "+jP._goInner(t.p1);break;case"bond":if(!(e=jP._getBond(t.kind_)))throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":var n="\\frac{"+t.p1+"}{"+t.p2+"}";e="\\mathchoice{\\textstyle"+n+"}{"+n+"}{"+n+"}{"+n+"}";break;case"pu-frac":var r="\\frac{"+jP._goInner(t.p1)+"}{"+jP._goInner(t.p2)+"}";e="\\mathchoice{\\textstyle"+r+"}{"+r+"}{"+r+"}{"+r+"}";break;case"tex-math":case"1st-level escape":e=t.p1+" ";break;case"frac-ce":e="\\frac{"+jP._goInner(t.p1)+"}{"+jP._goInner(t.p2)+"}";break;case"overset":e="\\overset{"+jP._goInner(t.p1)+"}{"+jP._goInner(t.p2)+"}";break;case"underset":e="\\underset{"+jP._goInner(t.p1)+"}{"+jP._goInner(t.p2)+"}";break;case"underbrace":e="\\underbrace{"+jP._goInner(t.p1)+"}_{"+jP._goInner(t.p2)+"}";break;case"color":e="{\\color{"+t.color1+"}{"+jP._goInner(t.color2)+"}}";break;case"color0":e="\\color{"+t.color+"}";break;case"arrow":var i={rd:jP._goInner(t.rd),rq:jP._goInner(t.rq)},s=jP._getArrow(t.r);i.rd||i.rq?"<=>"===t.r||"<=>>"===t.r||"<<=>"===t.r||"<--\x3e"===t.r?(s="\\long"+s,i.rd&&(s="\\overset{"+i.rd+"}{"+s+"}"),i.rq&&(s="<--\x3e"===t.r?"\\underset{\\lower2mu{"+i.rq+"}}{"+s+"}":"\\underset{\\lower6mu{"+i.rq+"}}{"+s+"}"),s=" {}\\mathrel{"+s+"}{} "):(i.rq&&(s+="[{"+i.rq+"}]"),s=" {}\\mathrel{\\x"+(s+="{"+i.rd+"}")+"}{} "):s=" {}\\mathrel{\\long"+s+"}{} ",e=s;break;case"operator":e=jP._getOperator(t.kind_);break;case"space":e=" ";break;case"entitySkip":case"pu-space-1":e="~";break;case"pu-space-2":e="\\mkern3mu ";break;case"1000 separator":e="\\mkern2mu ";break;case"commaDecimal":e="{,}";break;case"comma enumeration L":e="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":e="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":e="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":e="\\text{-}";break;case"addition compound":e="\\,{\\cdot}\\,";break;case"electron dot":e="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":e="{\\times}";break;case"prime":e="\\prime ";break;case"cdot":e="\\cdot ";break;case"tight cdot":e="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":e="\\times ";break;case"circa":e="{\\sim}";break;case"^":e="uparrow";break;case"v":e="downarrow";break;case"ellipsis":e="\\ldots ";break;case"/":e="/";break;case" / ":e="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return e},_getArrow:function(t){switch(t){case"->":case"→":case"⟶":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<--\x3e":return"leftrightarrows";case"<=>":case"⇌":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(t){switch(t){case"-":case"1":return"{-}";case"=":case"2":return"{=}";case"#":case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(t){switch(t){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":case"$\\approx$":return" {}\\approx{} ";case"v":case"(v)":return" \\downarrow{} ";case"^":case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}},WP=class t extends sL{constructor(t){super(IA(PA({},t),{type:"delim"})),this.value=t.delim,this.size=t.size}static fromJson(e){return new t(e)}toJson(){return IA(PA({},super.toJson()),{delim:this.value,size:this.size})}render(t){return new RB(this.value,{type:"middle"})}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let e=TC(this.command,this.mode);return null!=e&&e.serialize?e.serialize(this,t):_B(this.command,this.value)}},UP=class t extends sL{constructor(t){super(IA(PA({},t),{type:"sizeddelim",value:t.delim})),this.delimType=t.delimType,this.size=t.size}static fromJson(e){return new t(e)}toJson(){return IA(PA({},super.toJson()),{delim:this.value,size:this.size,delimType:this.delimType})}render(t){let e=function(t,e,o,n){return void 0===t||"."===t?bP(o,n.classes):("<"===t||"\\lt"===t||"⟨"===t?t="\\langle":(">"===t||"\\gt"===t||"⟩"===t)&&(t="\\rangle"),sP.has(t)||aP.has(t)?rP(t,e,!1,o,n):lP.has(t)?iP(t,dP[e],!1,o,n):null)}(this.value,this.size,t,{classes:{open:"ML__open",close:"ML__close"}[this.delimType],type:this.delimType,isSelected:this.isSelected});return e?(e=this.bind(t,e),this.caret&&(e.caret=this.caret),e):null}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let e=TC(this.command,this.mode);return null!=e&&e.serialize?e.serialize(this,t):_B(this.command,this.value)}},GP=class t extends sL{constructor(t,e,o,n){var r,i;super({type:"enclose",command:t,style:n.style}),this.body=e,this.backgroundcolor=n.backgroundcolor,o.updiagonalarrow&&(o.updiagonalstrike=!1),o.box&&(o.left=!1,o.right=!1,o.bottom=!1,o.top=!1),this.notation=o,this.shadow=null!=(r=n.shadow)?r:"none",this.strokeWidth=null!=(i=n.strokeWidth)?i:"0.06em",this.strokeWidth||(this.strokeWidth="0.06em"),this.strokeStyle=n.strokeStyle,this.svgStrokeStyle=n.svgStrokeStyle,this.strokeColor=n.strokeColor,this.borderStyle=n.borderStyle,this.padding=n.padding,this.captureSelection=!1}static fromJson(e){return new t(e.command,e.body,e.notation,e)}toJson(){return IA(PA({},super.toJson()),{notation:this.notation,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding})}_serialize(t){var e;if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let o=TC(this.command,this.mode);if(null!=o&&o.serialize)return o.serialize(this,t);let n=null!=(e=this.command)?e:"";if("\\enclose"===this.command){n+="{"+Object.keys(this.notation).join(" ")+"}";let t="",e="";this.backgroundcolor&&"transparent"!==this.backgroundcolor&&(t+=e+'mathbackground="'+this.backgroundcolor+'"',e=","),this.shadow&&"auto"!==this.shadow&&(t+=e+'shadow="'+this.shadow+'"',e=","),this.strokeWidth||"solid"!==this.strokeStyle?(t+=e+this.borderStyle,e=","):this.strokeColor&&"currentColor"!==this.strokeColor&&(t+=e+'mathcolor="'+this.strokeColor+'"',e=","),t&&(n+=`[${t}]`)}return _B(n,this.bodyToLatex(t))}render(t){let e=new oL({parent:t},this.style),o=sL.createBox(e,this.body);if(!o)return null;let n=function(t){if(!t)return"1px";let e=t.match(/([0-9][a-zA-Z\%]+)/);return null===e?"1px":e[1]}(this.borderStyle),r=e.toEm(this.padding&&"auto"!==this.padding?{string:this.padding}:{register:"fboxsep"});o.setStyle("position","relative"),o.setStyle("display","inline-block"),o.setStyle("top",r,"em"),o.setStyle("height",o.height+o.depth,"em"),o.setStyle("width",o.width,"em");let i=new RB(null,{classes:"ML__notation"}),s=o.height+o.depth+2*r,l=o.width+2*r,a="";if(this.notation.horizontalstrike&&(a+=this.line(3,50,97,50)),this.notation.verticalstrike&&(a+=this.line(50,3,50,97)),this.notation.updiagonalstrike&&(a+=this.line(3,97,97,3)),this.notation.downdiagonalstrike&&(a+=this.line(3,3,97,97)),this.notation.updiagonalarrow){a+=this.line(r.toString(),(r+o.depth+o.height).toString(),(r+o.width).toString(),r.toString());let t=.03*Math.sqrt(l*l+s*s)*1,e=o.width*t,n=(o.depth+o.height)*t,i=r+o.width,d=r;d+n-.4*e<0&&(d=.4*e-n),a+='<polygon points="',a+=`${i},${d} ${i-e-.4*n},${d+n-.4*e} `,a+=`${i-.7*e},${d+.7*n} ${i-e+.4*n},${d+n+.4*e} `,a+=`${i},${d}`,a+=`" stroke='none' fill="${this.strokeColor}"`,a+="/>"}let d=0;if(this.notation.phasorangle){let t=JP(e),n=(o.height+o.depth+2*t+r).toString(),i=(o.height+o.depth)/2;a+=this.line(r.toString(),n,(r+i+o.width).toString(),n),a+=this.line(r.toString(),n,(r+i).toString(),(r-t).toString()),s+=t,d=i,o.left+=s/2-r}if(this.notation.longdiv){let t=JP(e);s+=t,a+=this.line(r.toString(),r.toString(),(r+o.width).toString(),r.toString());let n=.3;d=n+t,o.left+=n+t,o.setTop(r+t),a+='<path d="',a+=`M ${r} ${r}  a${n} ${(o.depth+o.height+2*t)/2}, 0, 1, 1, 0 ${o.depth+o.height+2*t} "`,a+=` stroke-width="${function(t){return(Math.floor(100*t.metrics.sqrtRuleThickness/t.scalingFactor)/100/10).toString()+"em"}(e)}" stroke="${this.strokeColor}" fill="none"`,a+="/>"}if(i.width=o.width+2*r+d,i.height=o.height+r,i.depth=o.depth+r,i.setStyle("box-sizing","border-box"),i.setStyle("left",`calc(-${n} / 2 )`),i.setStyle("height",Math.floor(100*s)/100+"em"),i.setStyle("top",`calc(${n} / 2 )`),this.backgroundcolor&&i.setStyle("background-color",this.backgroundcolor),this.notation.box&&i.setStyle("border","1px solid red"),this.notation.actuarial&&(i.setStyle("border-top",this.borderStyle),i.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(i.setStyle("border-bottom",this.borderStyle),i.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(i.setStyle("border-radius","8px"),i.setStyle("border",this.borderStyle)),this.notation.circle&&(i.setStyle("border-radius","50%"),i.setStyle("border",this.borderStyle)),this.notation.top&&i.setStyle("border-top",this.borderStyle),this.notation.left&&i.setStyle("border-left",this.borderStyle),this.notation.right&&i.setStyle("border-right",this.borderStyle),this.notation.bottom&&i.setStyle("border-bottom",this.borderStyle),a){let t="";"auto"===this.shadow&&(t+="filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)"),"none"!==this.shadow&&(t+=`filter: drop-shadow(${this.shadow})`),t+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,t+=' stroke-linecap="round"',this.svgStrokeStyle&&(t+=` stroke-dasharray="${this.svgStrokeStyle}"`),i.svgStyle=t,i.svgOverlay=a}let c=new RB([i,o]);return c.setStyle("position","relative"),c.setStyle("vertical-align",r,"em"),c.setStyle("height",Math.floor(100*(o.height+o.depth+2*r))/100+"em"),c.setStyle("display","inline-block"),c.height=i.height,c.depth=i.depth,c.width=i.width-2*r,c.left=r,c.right=r,this.caret&&(c.caret=this.caret),c.wrap(e)}line(t,e,o,n){return`<line x1="${ZP(t)}"  y1="${ZP(e)}" x2="${ZP(o)}" y2="${ZP(n)}" vector-effect="non-scaling-stroke"></line>`}};function ZP(t){return"number"==typeof t?Math.floor(100*t)/100+"%":t}function JP(t){let e=t.isDisplayStyle?nB:t.metrics.defaultRuleThickness;return t.metrics.defaultRuleThickness+t.scalingFactor*e/4}var YP={fractionNavigationOrder:"numerator-denominator"},XP=class t extends sL{constructor(t,e,o){var n,r,i;super(IA(PA({},o),{type:"genfrac",displayContainsHighlight:!0})),this.above=t,this.below=e,this.hasBarLine=null==(n=null==o?void 0:o.hasBarLine)||n,this.continuousFraction=null!=(r=null==o?void 0:o.continuousFraction)&&r,this.align=null!=(i=null==o?void 0:o.align)?i:"center",this.numerPrefix=null==o?void 0:o.numerPrefix,this.denomPrefix=null==o?void 0:o.denomPrefix,this.mathstyleName=null==o?void 0:o.mathstyleName,this.leftDelim=null==o?void 0:o.leftDelim,this.rightDelim=null==o?void 0:o.rightDelim}static fromJson(e){return new t(e.above,e.below,e)}toJson(){let t={};return this.continuousFraction&&(t.continuousFraction=!0),"center"!==this.align&&(t.align=this.align),this.numerPrefix&&(t.numerPrefix=this.numerPrefix),this.denomPrefix&&(t.denomPrefix=this.denomPrefix),this.leftDelim&&(t.leftDelim=this.leftDelim),this.rightDelim&&(t.rightDelim=this.rightDelim),this.hasBarLine||(t.hasBarLine=!1),this.mathstyleName&&(t.mathstyleName=this.mathstyleName),PA(PA({},super.toJson()),t)}get children(){if(this._children)return this._children;let t=[];if("denominator-numerator"===YP.fractionNavigationOrder){for(let e of this.below)t.push(...e.children),t.push(e);for(let e of this.above)t.push(...e.children),t.push(e)}else{for(let e of this.above)t.push(...e.children),t.push(e);for(let e of this.below)t.push(...e.children),t.push(e)}return this._children=t,t}render(t){var e,o;let n,r,i=new oL({parent:t,mathstyle:this.mathstyleName},this.style),s=i.metrics,l=new oL({parent:i,mathstyle:this.continuousFraction?"":"numerator"},this.style),a=this.numerPrefix?new RB([new RB(this.numerPrefix),sL.createBox(l,this.above)],{isTight:l.isTight,type:"ignore"}):null!=(e=sL.createBox(l,this.above,{type:"ignore"}))?e:new RB(null,{type:"ignore"}),d=new oL({parent:i,mathstyle:this.continuousFraction?"":"denominator"},this.style),c=this.denomPrefix?new RB([new RB(this.denomPrefix),sL.createBox(d,this.below,{type:"ignore"})]):null!=(o=sL.createBox(d,this.below,{type:"ignore"}))?o:new RB(null,{type:"ignore"}),h=this.hasBarLine?s.defaultRuleThickness:0,u=0;i.isDisplayStyle?(n=l.metrics.num1,u=h>0?3*h:7*h,r=d.metrics.denom1):(h>0?(n=l.metrics.num2,u=h):(n=l.metrics.num3,u=3*s.defaultRuleThickness),r=d.metrics.denom2);let p=[];this.isSelected&&p.push("ML__selected");let m,g=a.depth,b=c.height;if(h<=0){let t=n-g-(b-r);t<u&&(n+=(u-t)/2,r+=(u-t)/2),m=new HB({individualShift:[{box:a,shift:-n,classes:[...p,QP(this.align)]},{box:c,shift:r,classes:[...p,QP(this.align)]}]}).wrap(i)}else{let t=new RB(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});t.softWidth=Math.max(a.width,c.width),t.height=h/2,t.depth=h/2;let e=oB+h/2;n<u+g+e&&(n=u+g+e);let o=oB-h/2;r<u+b-o&&(r=u+b-o),m=new HB({individualShift:[{box:c,shift:r,classes:[...p,QP(this.align)]},{box:t,shift:-o,classes:p},{box:a,shift:-n,classes:[...p,QP(this.align)]}]}).wrap(i)}let f=i.isDisplayStyle?s.delim1:s.delim2,w=this.leftDelim?this.bind(t,mP("open",this.leftDelim,f,!0,t,{style:this.style,mode:this.mode,isSelected:this.isSelected})):bP(i,"ML__open"),x=null;x=this.continuousFraction?new RB(null,{type:"close"}):this.rightDelim?this.bind(t,mP("close",this.rightDelim,f,!0,t,{style:this.style,mode:this.mode,isSelected:this.isSelected})):bP(i,"ML__close");let k=new RB([w,m,x],{isTight:i.isTight,type:"inner",classes:"ML__mfrac"}),y=this.bind(t,k);return this.caret&&(y.caret=this.caret),this.attachSupsub(t,{base:y})}};function QP(t){var e;return null!=(e={left:"ML__left",right:"ML__right",center:"ML__center"}[t])?e:"ML__center"}var tI=class t extends sL{constructor(t,e){var o;super({type:"latex",value:t,mode:"latex"}),this.isSuggestion=null!=(o=null==e?void 0:e.isSuggestion)&&o,this.isError=!1}static fromJson(e){let o=new t(e.value);return e.isSuggestion&&(o.isSuggestion=!0),e.isError&&(o.isError=!0),o}toJson(){let t={};return this.isSuggestion&&(t.isSuggestion=!0),this.isError&&(t.isError=!0),PA({type:"latex",value:this.value},t)}render(t){let e=new RB(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return e?(this.caret&&(e.caret=this.caret),this.bind(t,e)):null}},eI=class t extends sL{constructor(t=""){super({type:"latexgroup",mode:"latex"}),this.body=[...t].map((t=>new tI(t))),this.skipBoundary=!0}static fromJson(e){return new t}toJson(){return super.toJson()}render(t){let e=sL.createBox(t,this.body);return e?(this.caret&&(e.caret=this.caret),this.bind(t,e)):null}_serialize(t){var e,o;return null!=(o=null==(e=this.body)?void 0:e.map((t=>t.value)).join(""))?o:""}},oI=class t extends sL{constructor(t,e){super(IA(PA({},e),{type:"extensible-symbol",isFunction:null==e?void 0:e.isFunction})),this.value=t,this.variant=null==e?void 0:e.variant,this.subsupPlacement=null==e?void 0:e.limits}static fromJson(e){return new t(e.symbol,e)}toJson(){let t=super.toJson();return this.variant&&(t.variant=this.variant),this.subsupPlacement&&(t.limits=this.subsupPlacement),this.value&&(t.symbol=this.value),t}render(t){var e;let o=t.isDisplayStyle&&"\\smallint"!==this.value,n=new RB(this.value,{fontFamily:o?"Size2-Regular":"Size1-Regular",classes:"ML__op-symbol "+(o?"ML__large-op":"ML__small-op"),type:"op",maxFontSize:t.scalingFactor,isSelected:this.isSelected});if(!n)return null;n.right=n.italic;let r=(n.height-n.depth)/2-oB*t.scalingFactor,i=n.italic;n.setTop(r);let s=n;if(this.superscript||this.subscript){let o=null!=(e=this.subsupPlacement)?e:"auto";"auto"===o&&t.isDisplayStyle&&(o="over-under"),s="over-under"===o?this.attachLimits(t,{base:n,baseShift:r,slant:i}):this.attachSupsub(t,{base:n})}return new RB(this.bind(t,s),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(t)}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let e=TC(this.command,this.mode);if(null!=e&&e.serialize)return e.serialize(this,t);let o=[];return o.push(this.command),this.explicitSubsupPlacement&&("over-under"===this.subsupPlacement&&o.push("\\limits"),"adjacent"===this.subsupPlacement&&o.push("\\nolimits"),"auto"===this.subsupPlacement&&o.push("\\displaylimits")),o.push(this.supsubToLatex(t)),vB(o)}},nI=class t extends sL{constructor(t){let e=t.body;super(IA(PA({},t),{type:"overlap",body:"string"==typeof e?[new sL({value:e})]:e,style:null==t?void 0:t.style})),this.skipBoundary=!0,this.align=null==t?void 0:t.align,this.boxType=null==t?void 0:t.boxType}static fromJson(e){return new t(e)}toJson(){let t={};return this.align&&(t.align=this.align),this.boxType&&(t.boxType=this.boxType),PA(PA({},super.toJson()),t)}render(t){let e=sL.createBox(t,this.body,{classes:"ML__inner"});return e?(this.caret&&(e.caret=this.caret),this.bind(t,new RB([e,new RB(null,{classes:"ML__fix"})],{classes:"right"===this.align?"ML__rlap":"ML__llap",type:this.boxType}))):null}},rI=class t extends sL{constructor(t){var e,o,n,r;super({type:"overunder",command:t.command,style:t.style,mode:t.mode,body:t.body,skipBoundary:null==(e=t.skipBoundary)||e}),this.subsupPlacement=t.supsubPlacement,this.svgAbove=t.svgAbove,this.svgBelow=t.svgBelow,this.svgBody=t.svgBody,this.above=t.above,this.below=t.below,this.boxType=null!=(o=t.boxType)?o:"ord",this.paddedBody=null!=(n=t.paddedBody)&&n,this.paddedLabels=null!=(r=t.paddedLabels)&&r}static fromJson(e){return new t(e)}toJson(){let t=super.toJson();return this.skipBoundary||(t.skipBoundary=!1),this.subsupPlacement&&(t.subsupPlacement=this.subsupPlacement),this.svgAbove&&(t.svgAbove=this.svgAbove),this.svgBelow&&(t.svgBelow=this.svgBelow),this.svgBody&&(t.svgBody=this.svgBody),"ord"!==this.boxType&&(t.boxType=this.boxType),this.paddedBody&&(t.paddedBody=!0),this.paddedLabels&&(t.paddedLabels=!0),t}render(t){let e=this.svgBody?NB(this.svgBody):sL.createBox(t,this.body,{type:"ignore"}),o=new oL({parent:t,mathstyle:"scriptstyle"},this.style),n=null;this.svgAbove?n=NB(this.svgAbove):this.above&&(n=sL.createBox(o,this.above,{type:"ignore"}));let r=null;this.svgBelow?r=NB(this.svgBelow):this.below&&(r=sL.createBox(o,this.below,{type:"ignore"})),this.paddedBody&&(e=new RB([bP(t,"ML__open"),e,bP(t,"ML__close")],{type:"ignore"}));let i=function(t,e){if(!e.base)return null;if(!e.above&&!e.below){let t=new RB(e.base,{type:e.type});return t.setStyle("position","relative"),t}let o=0;e.above&&(o=t.metrics.bigOpSpacing5);let n=null,r=e.base,i=0,s=["ML__center"];if(e.paddedAboveBelow&&s.push("ML__label_padding"),e.below&&e.above){let l=t.metrics.bigOpSpacing5+e.below.height+e.below.depth+r.depth+i;n=new HB({bottom:l,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:s},{box:r,classes:["ML__center"]},o,{box:e.above,classes:s},t.metrics.bigOpSpacing5]})}else e.below?n=new HB({top:r.height-i,children:[t.metrics.bigOpSpacing5,{box:e.below,classes:s},{box:r,classes:["ML__center"]}]}):e.above&&(n=new HB({bottom:r.depth+i,children:[{box:r,classes:["ML__center"]},o,{box:e.above,classes:s},t.metrics.bigOpSpacing5]}));return new RB(n,{type:e.type})}(t,{base:e,above:n,below:r,type:"bin"===this.boxType||"rel"===this.boxType?this.boxType:"ord",paddedAboveBelow:this.paddedLabels});return i?(i="over-under"===this.subsupPlacement?this.attachLimits(t,{base:i,type:i.type}):this.attachSupsub(t,{base:i}),this.caret&&(i.caret=this.caret),this.bind(t,i)):null}};var iI=class t extends sL{constructor(t){var e,o,n,r;super(IA(PA({},t),{type:"phantom"})),this.captureSelection=!0,this.isInvisible=null!=(e=t.isInvisible)&&e,this.smashDepth=null!=(o=t.smashDepth)&&o,this.smashHeight=null!=(n=t.smashHeight)&&n,this.smashWidth=null!=(r=t.smashWidth)&&r}static fromJson(e){return new t(e)}toJson(){let t={};return this.isInvisible&&(t.isInvisible=!0),this.smashDepth&&(t.smashDepth=!0),this.smashHeight&&(t.smashHeight=!0),this.smashWidth&&(t.smashWidth=!0),PA(PA({},super.toJson()),t)}render(t){let e=new oL({parent:t,isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return this.isInvisible,sL.createBox(e,this.body,{classes:"ML__inner"});let o=sL.createBox(this.isInvisible?e:t,this.body);if(!o)return null;if(this.smashWidth){let e=new RB(null,{classes:"ML__fix"});return new RB([o,e],{classes:"ML__rlap"}).wrap(t)}if(!this.smashHeight&&!this.smashDepth)return o;if(this.smashHeight&&(o.height=0),this.smashDepth&&(o.depth=0),o.children)for(let t of o.children)this.smashHeight&&(t.height=0),this.smashDepth&&(t.depth=0);return new HB({firstBaseline:[{box:o}]},{type:o.type}).wrap(t)}},sI=class t extends sL{constructor(t){var e;super(PA({type:"spacing"},t)),this.width=null==t?void 0:t.width,this._braced=null!=(e=null==t?void 0:t.braced)&&e}static fromJson(e){return new t(e)}toJson(){let t=super.toJson();return void 0!==this.width&&(t.width=this.width),this._braced&&(t.braced=!0),t}render(t){var e;if("space"===this.command)return new RB("math"===this.mode?null:" ");let o;if(void 0!==this.width)o=new RB(null,{classes:"ML__mspace"}),o.left=t.toEm(this.width);else{let t=null!=(e={"\\qquad":"ML__qquad","\\quad":"ML__quad","\\enspace":"ML__enspace","\\;":"ML__thickspace","\\:":"ML__mediumspace","\\>":"ML__mediumspace","\\,":"ML__thinspace","\\!":"ML__negativethinspace"}[this.command])?e:"ML__mediumspace";o=new RB(null,{classes:t})}return o=this.bind(t,o),this.caret&&(o.caret=this.caret),o}_serialize(t){var e;if(!t.expandMacro&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let o=TC(this.command,this.mode);if(null!=o&&o.serialize)return o.serialize(this,t);let n=null!=(e=this.command)?e:"";return void 0===this.width?n:this._braced&&!("register"in this.width)?`${n}{${YB(this.width)}}`:`${n}${YB(this.width)}`}},lI=class t extends sL{constructor(t){var e;super(IA(PA({},t),{type:"surd",mode:null!=(e=t.mode)?e:"math",style:t.style,displayContainsHighlight:!0,body:t.body})),this.above=t.index}static fromJson(e){return new t(IA(PA({},e),{index:e.above}))}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let e=TC(this.command,this.mode);if(null!=e&&e.serialize)return e.serialize(this,t);let o=this.command,n=this.bodyToLatex(t);return this.above&&!this.hasEmptyBranch("above")?_B(`${o}[${this.aboveToLatex(t)}]`,n):/^[0-9]$/.test(n)?`${o}${n}`:_B(o,n)}get children(){if(this._children)return this._children;let t=[];if(this.above)for(let e of this.above)t.push(...e.children),t.push(e);if(this.body)for(let e of this.body)t.push(...e.children),t.push(e);return this._children=t,t}render(t){var e;let o=new oL({parent:t,mathstyle:"cramp"},this.style),n=null!=(e=sL.createBox(o,this.body,{type:"inner"}))?e:new RB(null),r=o.scalingFactor,i=o.metrics.defaultRuleThickness/r,s=t.isDisplayStyle?nB:i,l=new RB(null,{classes:"ML__sqrt-line",style:this.style});l.height=i,l.softWidth=n.width;let a=r*(i+s/4),d=Math.max(2*r*s,n.height+n.depth)+a+i,c=new oL({parent:t},this.style),h=this.bind(c,new RB(mP("inner","\\surd",d,!1,c,{isSelected:this.isSelected}),{isSelected:this.isSelected,classes:"ML__sqrt-sign",style:this.style}));if(!h)return null;let u=h.height+h.depth-i;u>n.height+n.depth+a&&(a=(a+u-(n.height+n.depth))/2),h.setTop(h.height-n.height-a);let p=this.bind(t,new HB({firstBaseline:[{box:new RB(n)},a-2*i,{box:l},i]})),m=sL.createBox(new oL({parent:t,mathstyle:"scriptscriptstyle"}),this.above,{type:"ignore"});if(!m){let e=new RB([h,p],{classes:this.containsCaret?"ML__contains-caret":"",type:"inner"});return e.setStyle("display","inline-block"),e.setStyle("height",e.height+e.depth,"em"),this.caret&&(e.caret=this.caret),this.bind(t,e)}let g=new HB({shift:-.6*(Math.max(h.height,p.height)-Math.max(h.depth,p.depth)),children:[{box:m}]}),b=new RB([new RB(g,{classes:"ML__sqrt-index",type:"ignore"}),h,p],{type:"inner",classes:this.containsCaret?"ML__contains-caret":""});return b.height=h.height,b.depth=h.depth,this.caret&&(b.caret=this.caret),this.bind(t,b)}},aI=class extends RB{constructor(t){super(null,{type:"skip"}),this._width=t}toMarkup(){return`<span style="display:inline-block;width:${Math.ceil(100*this.width)/100}em"></span>`}};function dI(t,e){if(!t.parent)return;let o=t.parent.children,n=o.indexOf(t),r=n-1;for(;r>=0&&"ignore"===o[r].type;)r-=1;r<0&&t.parent.parent&&"lift"===t.parent.type?dI(t.parent,e):n>0&&"skip"===o[n-1].type?o[n-1].width+=e:o.splice(n,0,new aI(e))}var cI={ord:{op:3,bin:4,rel:5,inner:3},op:{ord:3,op:3,rel:5,inner:3},bin:{ord:4,op:4,open:4,inner:4},rel:{ord:5,op:5,open:5,inner:5},close:{op:3,bin:4,rel:5,inner:3},punct:{ord:3,op:3,rel:3,open:3,punct:3,inner:3},inner:{ord:3,op:3,bin:4,rel:5,open:3,punct:3,inner:3}},hI={ord:{op:3},op:{ord:3,op:3},close:{op:3},inner:{op:3}};function uI(t,e){if(!t.children)return t;let o=t.children;!function(t){pI(t,((t,e)=>{"bin"===e.type&&(!t||/^(middle|bin|op|rel|open|punct)$/.test(t.type))&&(e.type="ord"),"bin"===(null==t?void 0:t.type)&&/^(rel|close|punct)$/.test(e.type)&&(t.type="ord"),"ignore"!==e.type&&(t=e)}))}(o);let n=e.getRegisterAsEm("thinmuskip"),r=e.getRegisterAsEm("medmuskip"),i=e.getRegisterAsEm("thickmuskip");return pI(o,((t,e)=>{var o,s,l;if(!t)return;let a=t.type,d=e.isTight?null!=(o=hI[a])?o:null:null!=(s=cI[a])?s:null,c=null!=(l=null==d?void 0:d[e.type])?l:null;3===c&&dI(e,n),4===c&&dI(e,r),5===c&&dI(e,i)})),t}function pI(t,e,o=void 0){if(!t)return o;t=[...t];for(let n of t)"lift"===n.type?o=pI(n.children,e,o):"ignore"===n.type?pI(n.children,e):(e(o,n),pI(n.children,e),o=n);return o}var mI=class t extends sL{constructor(t){super({type:"tooltip",command:t.command,mode:t.mode,style:t.style,body:t.body,displayContainsHighlight:!0}),this.tooltip=new sL({type:"root",mode:t.content,body:t.tooltip,style:{}}),this.skipBoundary=!0,this.captureSelection=!1}static fromJson(e){return new t(IA(PA({},e),{tooltip:bI(e.tooltip)}))}toJson(){var t;let e=null==(t=this.tooltip.body)?void 0:t.filter((t=>"first"!==t.type)).map((t=>t.toJson()));return IA(PA({},super.toJson()),{tooltip:e})}render(t){let e=sL.createBox(new oL,this.body);if(!e)return null;let o=new oL({parent:t,mathstyle:"displaystyle"},{fontSize:sB}),n=OB(uI(new RB(this.tooltip.render(o),{classes:"ML__tooltip-content"}),o)),r=new RB([n,e],{classes:"ML__tooltip-container"});return this.caret&&(r.caret=this.caret),this.bind(t,r)}},gI=class t extends sL{constructor(t,e){super(IA(PA({},e),{type:"operator",isFunction:null==e?void 0:e.isFunction})),this.value=t,this.variant=null==e?void 0:e.variant,this.variantStyle=null==e?void 0:e.variantStyle,this.subsupPlacement=null==e?void 0:e.limits}static fromJson(e){return new t(e.symbol,e)}toJson(){let t=super.toJson();return this.variant&&(t.variant=this.variant),this.variantStyle&&(t.variantStyle=this.variantStyle),this.subsupPlacement&&(t.limits=this.subsupPlacement),this.value&&(t.symbol=this.value),t}render(t){var e;let o=new RB(this.value,{type:"op",mode:"math",maxFontSize:t.scalingFactor,style:{variant:this.variant,variantStyle:this.variantStyle},isSelected:this.isSelected,letterShapeStyle:t.letterShapeStyle}),n=o;if(this.superscript||this.subscript){let r=null!=(e=this.subsupPlacement)?e:"auto";n="over-under"===r||"auto"===r&&t.isDisplayStyle?this.attachLimits(t,{base:o}):this.attachSupsub(t,{base:o})}return new RB(this.bind(t,n),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(t)}_serialize(t){if(!(t.expandMacro||t.skipStyles||t.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let e=TC(this.command,this.mode);if(null!=e&&e.serialize)return e.serialize(this,t);let o=[this.command];return this.explicitSubsupPlacement&&("over-under"===this.subsupPlacement&&o.push("\\limits"),"adjacent"===this.subsupPlacement&&o.push("\\nolimits"),"auto"===this.subsupPlacement&&o.push("\\displaylimits")),o.push(this.supsubToLatex(t)),vB(o)}};function bI(t){if(FA(t))return t.map((t=>bI(t)));if("string"==typeof t)return sL.fromJson(t);t=PA({},t);for(let e of nL)t[e]&&(t[e]=bI(t[e]));t.args&&(t.args=function(t){if(t){if("string"==typeof t)return t;if(Array.isArray(t))return t.map((t=>"<null>"===t?null:"object"==typeof t&&"group"in t?{group:t.group.map((t=>bI(t)))}:"object"==typeof t&&"atoms"in t?t.atoms.map((t=>bI(t))):t))}}(t.args)),t.array&&(t.array=bI(t.array));let e,o=t.type;"accent"===o&&(e=tP.fromJson(t)),"array"===o&&(e=AP.fromJson(t)),"box"===o&&(e=DP.fromJson(t)),"chem"===o&&(e=qP.fromJson(t)),"composition"===o&&(e=TP.fromJson(t)),"delim"===o&&(e=WP.fromJson(t)),"enclose"===o&&(e=GP.fromJson(t)),"error"===o&&(e=BP.fromJson(t)),"extensible-symbol"===o&&(e=oI.fromJson(t)),"genfrac"===o&&(e=XP.fromJson(t)),"group"===o&&(e=LP.fromJson(t)),"latex"===o&&(e=tI.fromJson(t)),"latexgroup"===o&&(e=eI.fromJson(t)),"leftright"===o&&(e=PP.fromJson(t)),"macro"===o&&(e=zP.fromJson(t)),"macro-argument"===o&&(e=RP.fromJson(t)),"operator"===o&&(e=gI.fromJson(t)),"overlap"===o&&(e=nI.fromJson(t)),"overunder"===o&&(e=rI.fromJson(t)),"placeholder"===o&&(e=fP.fromJson(t)),"prompt"===o&&(e=FP.fromJson(t)),"phantom"===o&&(e=iI.fromJson(t)),"sizeddelim"===o&&(e=UP.fromJson(t)),"spacing"===o&&(e=sI.fromJson(t)),"subsup"===o&&(e=OP.fromJson(t)),"surd"===o&&(e=lI.fromJson(t)),"text"===o&&(e=dL.fromJson(t)),"tooltip"===o&&(e=mI.fromJson(t)),e||(!o||["first","mbin","mrel","mclose","minner","mop","mopen","mord","mpunct","root","space"].includes(o),e=sL.fromJson(t));for(let o of nL)t[o]&&e.setChildren(t[o],o);return void 0!==t.verbatimLatex&&(e.verbatimLatex=t.verbatimLatex),t.subsupPlacement&&(e.subsupPlacement=t.subsupPlacement),t.explicitSubsupPlacement&&(e.explicitSubsupPlacement=!0),t.isFunction&&(e.isFunction=!0),t.skipBoundary&&(e.skipBoundary=!0),t.captureSelection&&(e.captureSelection=!0),e}function fI(t,e){!t||!e||(FA(t)?t.forEach((t=>fI(t,e))):"object"==typeof t&&t.applyStyle(e,{unstyledOnly:!0}))}function wI(t,e,o,n){function r(t,e){for(let o of i)if(o.style[t]!==e)return!1;return!0}if((e=t.normalizeRange(e))[0]===e[1])return!1;let i=t.getAtoms(e,{includeChildren:!0});"toggle"===n.operation&&(o.color&&r("color",o.color)&&(o.color="none",delete o.verbatimColor),o.backgroundColor&&r("backgroundColor",o.backgroundColor)&&(o.backgroundColor="none",delete o.verbatimBackgroundColor),o.fontFamily&&r("fontFamily",o.fontFamily)&&(o.fontFamily="none"),o.fontSeries&&r("fontSeries",o.fontSeries)&&(o.fontSeries="auto"),o.fontShape&&r("fontShape",o.fontShape)&&(o.fontShape="auto"),o.fontSize&&r("fontSize",o.fontSize)&&(o.fontSize=sB),o.variant&&r("variant",o.variant)&&(o.variant="normal"),o.variantStyle&&r("variantStyle",o.variantStyle)&&(o.variantStyle=""));for(let t of i)t.applyStyle(o);return!0}function xI(t){return{up:"up",bold:"bold",italic:void 0,bolditalic:"bold","":void 0}[null!=t?t:""]}var kI={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams ML__bold"],"ams-italic":["AMS-Regular","ML__ams ML__it"],"ams-bolditalic":["AMS-Regular","ML__ams ML__bold ML__it"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans ML__it"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans ML__bold ML__it"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak ML__bold"],"fraktur-italic":["Fraktur-Regular","ML__frak ML__it"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak ML__bold ML__it"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb ML__bold"],"double-struck-italic":["AMS-Regular","ML__bb ML_italic"],"double-struck-bolditalic":["AMS-Regular","ML__bb ML_bolditalic"]},yI={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^’‘]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},vI=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,_I=[/^[a-z]$/,/^[A-Z]$/,vI,/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/],AI={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]};function CI(t,e){let{parent:o}=t[0],n=DB(o);return TB(t,"variant").map((t=>{let o=DB(t[0]),r="";o&&o!==n&&(r={calligraphic:"\\mathcal","calligraphic-uo":"\\mathcal",fraktur:"\\mathfrak","fraktur-uo":"\\mathfrak","double-struck":"\\mathbb","double-struck-uo":"\\mathbb",script:"\\mathscr","script-uo":"\\mathscr",monospace:"\\mathtt","monospace-uo":"\\mathtt","sans-serif":"\\mathsf","sans-serif-uo":"\\mathsf",normal:"","normal-up":"\\mathrm","normal-italic":"\\mathnormal","normal-bold":"","normal-bolditalic":"\\mathbfit",ams:"","ams-up":"\\mathrm","ams-italic":"\\mathit","ams-bold":"","ams-bolditalic":"\\mathbfit",main:"","main-up":"\\mathrm","main-italic":"\\mathit","main-bold":"","main-bolditalic":"\\mathbfit"}[o]);let i=vB(t.map((t=>t._serialize(e))));return r?_B(r,i):i}))}function SI(t,e){return TB(t,"fontSeries").map((t=>{let o=function(t,e){return TB(t,"fontShape").map((t=>{let o=function(t,e){return t.map((t=>t._serialize(e)))}(t,e),{fontShape:n}=t[0].style,r="";return"it"===n&&(r="\\textit"),"sl"===n&&(r="\\textsl"),"sc"===n&&(r="\\textsc"),"n"===n&&(r="\\textup"),!r&&n?`{${_B("\\fontshape",n)}${vB(o)}}`:r?_B(r,vB(o)):vB(o)}))}(t,e),{fontSeries:n}=t[0].style,r="";return"b"===n&&(r="\\textbf"),"l"===n&&(r="\\textlf"),"m"===n&&(r="\\textmd"),n&&!r?`{${_B("\\fontseries",n)}${vB(o)}}`:r?_B(r,vB(o)):vB(o)}))}function EI(t,e,o){return TB(t,"fontFamily").map((t=>{var n;o=o&&!t.every((t=>t.style.fontFamily||t.style.fontShape||t.style.fontSeries||t.style.fontSize));let r=function(t,e){return TB(t,"fontSize").map((t=>{var o,n;let r=SI(t,e),i=null!=(n=["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][null!=(o=t[0].style.fontSize)?o:""])?n:"";return i?`${i} ${vB(r)}`:vB(r)}))}(t,e),{fontFamily:i}=t[0].style,s=null!=(n={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[null!=i?i:""])?n:"";return s?`\\${s}{${vB(r)}}`:i?`{\\fontfamily{${t[0].style.fontFamily}} ${vB(r)}}`:o?`\\text{${vB(r)}}`:vB(r)}))}new class extends SB{constructor(){super("math")}createAtom(t,e,o){var n,r,i,s,l,a;if(null===e)return new sL({type:"mord",mode:"math",command:t,value:t,style:o});let d;try{d=null!=(i=null==(r=globalThis.MathfieldElement)?void 0:r.isFunction(null!=(n=e.command)?n:t))&&i}catch(t){d=!1}if("symbol"===e.definitionType){let n=new sL({type:null!=(s=e.type)?s:"mord",mode:"math",command:null!=(l=e.command)?l:t,value:String.fromCodePoint(e.codepoint),isFunction:d,style:o});return t.startsWith("\\")&&(n.verbatimLatex=t),n}let c=new sL({type:"mord",mode:"math",command:null!=(a=e.command)?a:t,value:t,isFunction:d,style:o});return t.startsWith("\\")&&(c.verbatimLatex=t),c}serialize(t,e){let o=function(t,e){return TB(t,"bold").map((t=>{if("bold"!==MB(t[0]))return vB(CI(t,e));if("bold"===MB(t[0].parent))return vB(CI(t,e));let o=vB(t.map((t=>{var e;return null!=(e=t.value)?e:""})));return/^[a-zA-Z0-9]+$/.test(o)?_B("\\mathbf",vB(CI(t,e))):_B("\\bm",vB(CI(t,e)))}))}(t,IA(PA({},e),{defaultMode:"math"}));return 0===o.length||"text"!==e.defaultMode?o:["$ ",...o," $"]}getFont(t,e){var o,n;if(e.variant,e.fontFamily){let[o,n]=kI[e.fontFamily];return n&&(t.classes+=" "+n),o}let{variant:r}=e,{variantStyle:i}=e;if("normal"===r&&!i&&/[\u00A3\u0131\u0237]/.test(t.value)&&(r="main",i="italic"),"normal"===r&&!i&&1===t.value.length){let o=!1;_I.forEach(((n,r)=>{var i;n.test(t.value)&&"it"===AI[null!=(i=e.letterShapeStyle)?i:"tex"][r]&&(o=!0)})),o&&(i={up:"italic",bold:"bolditalic",italic:"italic",bolditalic:"bolditalic","":"italic"}[null!=(s=i)?s:""])}var s;"up"===i&&(i=void 0);let l=i?r+"-"+i:r,[a,d]=kI[l];if(yI[r]&&!yI[r].test(t.value)){let e=iC(t.value,r,i);return e||(e=null!=(o=iC(t.value,r))?o:t.value,t.classes+=null!=(n={bold:" ML__bold",italic:" ML__it","bold-italic":" ML__bold ML__it"}[null!=i?i:""])?n:""),t.value=e,null}return vI.test(t.value)&&(t.classes+=" lcGreek"),d&&(t.classes+=" "+d),a}};var MI={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"};new class extends SB{constructor(){super("text")}createAtom(t,e,o){return e&&"symbol"===e.definitionType?new dL(t,String.fromCodePoint(e.codepoint),null!=o?o:{}):null}serialize(t,e){return EI(t,IA(PA({},e),{defaultMode:"text"}),"text"!==e.defaultMode)}getFont(t,e){var o,n,r,i,s;let{fontFamily:l}=e;if(MI[l]?t.classes+=" "+MI[l]:l&&t.setStyle("font-family",l),e.fontShape&&(t.classes+=" ",t.classes+=null!=(o={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[e.fontShape])?o:""),e.fontSeries){let o=e.fontSeries.match(/(.?[lbm])?(.?[cx])?/);o&&(t.classes+=" ",t.classes+=null!=(r={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[null!=(n=o[1])?n:""])?r:"",t.classes+=" ",t.classes+=null!=(s={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[null!=(i=o[2])?i:""])?s:"")}return"Main-Regular"}};new class extends SB{constructor(){super("latex")}createAtom(t){return new tI(t)}serialize(t,e){return t.filter((t=>t instanceof tI&&!t.isSuggestion)).map((t=>t.value))}getFont(){return null}};var DI={id:"apple.en-intl",displayName:"English (international)",virtualLayout:"qwerty",platform:"apple",locale:"en",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","ı"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","Î"],KeyE:["e","E","´","´"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","˝"],KeyH:["h","H","˙","Ó"],KeyI:["i","I","ˆ","ˆ"],KeyJ:["j","J","∆","Ô"],KeyK:["k","K","˚",""],KeyL:["l","L","¬","Ò"],KeyM:["m","M","µ","Â"],KeyN:["n","N","˜","˜"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®","‰"],KeyS:["s","S","ß","Í"],KeyT:["t","T","†","ˇ"],KeyU:["u","U","¨","¨"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","˛"],KeyY:["y","Y","¥","Á"],KeyZ:["z","Z","Ω","¸"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["-","_","–","—"],Equal:["=","+","≠","±"],BracketLeft:["[","{","“","”"],BracketRight:["]","}","‘","’"],Backslash:["\\","|","«","»"],Semicolon:[";",":","…","Ú"],Quote:["'",'"',"æ","Æ"],Backquote:["`","˜","`","`"],Comma:[",","<","≤","¯"],Period:[".",">","≥","˘"],Slash:["/","?","÷","¿"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}},TI={id:"windows.en-intl",displayName:"English (international)",platform:"windows",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","á","Á"],KeyB:["b","B","",""],KeyC:["c","C","©","¢"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","é","É"],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","í","Í"],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","ø","Ø"],KeyM:["m","M","µ",""],KeyN:["n","N","ñ","Ñ"],KeyO:["o","O","ó","Ó"],KeyP:["p","P","ö","Ö"],KeyQ:["q","Q","ä","Ä"],KeyR:["r","R","®",""],KeyS:["s","S","ß","§"],KeyT:["t","T","þ","Þ"],KeyU:["u","U","ú","Ú"],KeyV:["v","V","",""],KeyW:["w","W","å","Å"],KeyX:["x","X","",""],KeyY:["y","Y","ü","Ü"],KeyZ:["z","Z","æ","Æ"],Digit1:["1","!","¡","¹"],Digit2:["2","@","²",""],Digit3:["3","#","³",""],Digit4:["4","$","¤","£"],Digit5:["5","%","€",""],Digit6:["6","^","¼",""],Digit7:["7","&","½",""],Digit8:["8","*","¾",""],Digit9:["9","(","‘",""],Digit0:["0",")","’",""],Space:[" "," ","",""],Minus:["-","_","¥",""],Equal:["=","+","×","÷"],BracketLeft:["[","{","«",""],BracketRight:["]","}","»",""],Backslash:["\\","|","¬","¦"],Semicolon:[";",":","¶","°"],Quote:["'",'"',"´","¨"],Backquote:["`","~","",""],Comma:[",","<","ç","Ç"],Period:[".",">","",""],Slash:["/","?","¿",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["\\","|","",""]}},BI={id:"linux.en",displayName:"English",platform:"linux",virtualLayout:"qwerty",locale:"en",score:0,mapping:{KeyA:["a","A","a","A"],KeyB:["b","B","b","B"],KeyC:["c","C","c","C"],KeyD:["d","D","d","D"],KeyE:["e","E","e","E"],KeyF:["f","F","f","F"],KeyG:["g","G","g","G"],KeyH:["h","H","h","H"],KeyI:["i","I","i","I"],KeyJ:["j","J","j","J"],KeyK:["k","K","k","K"],KeyL:["l","L","l","L"],KeyM:["m","M","m","M"],KeyN:["n","N","n","N"],KeyO:["o","O","o","O"],KeyP:["p","P","p","P"],KeyQ:["q","Q","q","Q"],KeyR:["r","R","r","R"],KeyS:["s","S","s","S"],KeyT:["t","T","t","T"],KeyU:["u","U","u","U"],KeyV:["v","V","v","V"],KeyW:["w","W","w","W"],KeyX:["x","X","x","X"],KeyY:["y","Y","y","Y"],KeyZ:["z","Z","z","Z"],Digit1:["1","!","1","!"],Digit2:["2","@","2","@"],Digit3:["3","#","3","#"],Digit4:["4","$","4","$"],Digit5:["5","%","5","%"],Digit6:["6","^","6","^"],Digit7:["7","&","7","&"],Digit8:["8","*","8","*"],Digit9:["9","(","9","("],Digit0:["0",")","0",")"],Space:[" "," "," "," "],Minus:["-","_","-","_"],Equal:["=","+","=","+"],BracketLeft:["[","{","[","{"],BracketRight:["]","}","]","}"],Backslash:["\\","|","\\","|"],Semicolon:[";",":",";",":"],Quote:["'",'"',"'",'"'],Backquote:["`","~","`","~"],Comma:[",","<",",","<"],Period:[".",">",".",">"],Slash:["/","?","/","?"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}};function LI(t){let e=t.split("+"),o={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:e.pop()};return e.includes("shift")&&(o.shift=!0),e.includes("alt")&&(o.alt=!0),e.includes("ctrl")&&(o.ctrl=!0),e.includes("cmd")&&(o.cmd=!0),e.includes("win")&&(o.win=!0),e.includes("meta")&&(o.meta=!0),o}function PI(t){let e="";return t.shift&&(e+="shift+"),t.alt&&(e+="alt+"),t.ctrl&&(e+="ctrl+"),t.cmd&&(e+="cmd+"),t.win&&(e+="win+"),t.meta&&(e+="meta+"),e+t.key}var II,zI={enter:"[Enter]",escape:"[Escape]",backspace:"[Backspace]",tab:"[Tab]",space:"[Space]",pausebreak:"[Pause]",insert:"[Insert]",home:"[Home]",pageup:"[PageUp]",delete:"[Delete]",end:"[End]",pagedown:"[PageDown]",right:"[ArrowRight]",left:"[ArrowLeft]",down:"[ArrowDown]",up:"[ArrowUp]",numpad0:"[Numpad0]",numpad1:"[Numpad1]",numpad2:"[Numpad2]",numpad3:"[Numpad3]",numpad4:"[Numpad4]",numpad5:"[Numpad5]",numpad6:"[Numpad6]",numpad7:"[Numpad7]",numpad8:"[Numpad8]",numpad9:"[Numpad9]",numpad_divide:"[NumpadDivide]",numpad_multiply:"[NumpadMultiply]",numpad_subtract:"[NumpadSubtract]",numpad_add:"[NumpadAdd]",numpad_decimal:"[NumpadDecimal]",numpad_separator:"[NumpadComma]",capslock:"[Capslock]",f1:"[F1]",f2:"[F2]",f3:"[F3]",f4:"[F4]",f5:"[F5]",f6:"[F6]",f7:"[F7]",f8:"[F8]",f9:"[F9]",f10:"[F10]",f11:"[F11]",f12:"[F12]",f13:"[F13]",f14:"[F14]",f15:"[F15]",f16:"[F16]",f17:"[F17]",f18:"[F18]",f19:"[F19]"},RI=[];function FI(){switch($A()){case"macos":case"ios":return"apple";case"windows":return"windows"}return"linux"}function OI(t){(!t.platform||t.platform===FI())&&RI.push(t)}function VI(){return null!=II?II:RI[0]}switch(FI()){case"apple":OI(DI),OI({id:"apple.french",locale:"fr",displayName:"French",platform:"apple",virtualLayout:"azerty",score:0,mapping:{KeyA:["q","Q","‡","Ω"],KeyB:["b","B","ß","∫"],KeyC:["c","C","©","¢"],KeyD:["d","D","∂","∆"],KeyE:["e","E","ê","Ê"],KeyF:["f","F","ƒ","·"],KeyG:["g","G","ﬁ","ﬂ"],KeyH:["h","H","Ì","Î"],KeyI:["i","I","î","ï"],KeyJ:["j","J","Ï","Í"],KeyK:["k","K","È","Ë"],KeyL:["l","L","¬","|"],KeyM:[",","?","∞","¿"],KeyN:["n","N","~","ı"],KeyO:["o","O","œ","Œ"],KeyP:["p","P","π","∏"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","®","‚"],KeyS:["s","S","Ò","∑"],KeyT:["t","T","†","™"],KeyU:["u","U","º","ª"],KeyV:["v","V","◊","√"],KeyW:["z","Z","Â","Å"],KeyX:["x","X","≈","⁄"],KeyY:["y","Y","Ú","Ÿ"],KeyZ:["w","W","‹","›"],Digit1:["&","1","","´"],Digit2:["é","2","ë","„"],Digit3:['"',"3","“","”"],Digit4:["'","4","‘","’"],Digit5:["(","5","{","["],Digit6:["§","6","¶","å"],Digit7:["è","7","«","»"],Digit8:["!","8","¡","Û"],Digit9:["ç","9","Ç","Á"],Digit0:["à","0","ø","Ø"],Space:[" "," "," "," "],Minus:[")","°","}","]"],Equal:["-","_","—","–"],BracketLeft:["^","¨","ô","Ô"],BracketRight:["$","*","€","¥"],Backslash:["`","£","@","#"],Semicolon:["m","M","µ","Ó"],Quote:["ù","%","Ù","‰"],Backquote:["<",">","≤","≥"],Comma:[";",".","…","•"],Period:[":","/","÷","\\"],Slash:["=","+","≠","±"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",".",",","."],IntlBackslash:["@","#","•","Ÿ"],NumpadEqual:["=","=","=","="]}}),OI({id:"apple.spanish",locale:"es",displayName:"Spanish ISO",platform:"apple",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","ß",""],KeyC:["c","C","©"," "],KeyD:["d","D","∂","∆"],KeyE:["e","E","€","€"],KeyF:["f","F","ƒ","ﬁ"],KeyG:["g","G","","ﬂ"],KeyH:["h","H","™"," "],KeyI:["i","I"," "," "],KeyJ:["j","J","¶","¯"],KeyK:["k","K","§","ˇ"],KeyL:["l","L"," ","˘"],KeyM:["m","M","µ","˚"],KeyN:["n","N"," ","˙"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","œ","Œ"],KeyR:["r","R","®"," "],KeyS:["s","S","∫"," "],KeyT:["t","T","†","‡"],KeyU:["u","U"," "," "],KeyV:["v","V","√","◊"],KeyW:["w","W","æ","Æ"],KeyX:["x","X","∑","›"],KeyY:["y","Y","¥"," "],KeyZ:["z","Z","Ω","‹"],Digit1:["1","!","|","ı"],Digit2:["2",'"',"@","˝"],Digit3:["3","·","#","•"],Digit4:["4","$","¢","£"],Digit5:["5","%","∞","‰"],Digit6:["6","&","¬"," "],Digit7:["7","/","÷","⁄"],Digit8:["8","(","“","‘"],Digit9:["9",")","”","’"],Digit0:["0","=","≠","≈"],Space:[" "," "," "," "],Minus:["'","?","´","¸"],Equal:["¡","¿","‚","˛"],BracketLeft:["`","^","[","ˆ"],BracketRight:["+","*","]","±"],Backslash:["ç","Ç","}","»"],Semicolon:["ñ","Ñ","~","˜"],Quote:["´","¨","{","«"],Backquote:["<",">","≤","≥"],Comma:[",",";","„",""],Period:[".",":","…","…"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[",",",",",",","],IntlBackslash:["º","ª","\\","°"]}}),OI({id:"apple.german",locale:"de",displayName:"German",virtualLayout:"qwertz",platform:"apple",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["b","B","∫","‹"],KeyC:["c","C","ç","Ç"],KeyD:["d","D","∂","™"],KeyE:["e","E","€","‰"],KeyF:["f","F","ƒ","Ï"],KeyG:["g","G","©","Ì"],KeyH:["h","H","ª","Ó"],KeyI:["i","I","⁄","Û"],KeyJ:["j","J","º","ı"],KeyK:["k","K","∆","ˆ"],KeyL:["l","L","@","ﬂ"],KeyM:["m","M","µ","˘"],KeyN:["n","N","~","›"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","π","∏"],KeyQ:["q","Q","«","»"],KeyR:["r","R","®","¸"],KeyS:["s","S","‚","Í"],KeyT:["t","T","†","˝"],KeyU:["u","U","¨","Á"],KeyV:["v","V","√","◊"],KeyW:["w","W","∑","„"],KeyX:["x","X","≈","Ù"],KeyY:["z","Z","Ω","ˇ"],KeyZ:["y","Y","¥","‡"],Digit1:["1","!","¡","¬"],Digit2:["2",'"',"“","”"],Digit3:["3","§","¶","#"],Digit4:["4","$","¢","£"],Digit5:["5","%","[","ﬁ"],Digit6:["6","&","]","^"],Digit7:["7","/","|","\\"],Digit8:["8","(","{","˜"],Digit9:["9",")","}","·"],Digit0:["0","=","≠","¯"],Space:[" "," "," "," "],Minus:["ß","?","¿","˙"],Equal:["´","`","'","˚"],BracketLeft:["ü","Ü","•","°"],BracketRight:["+","*","±",""],Backslash:["#","'","‘","’"],Semicolon:["ö","Ö","œ","Œ"],Quote:["ä","Ä","æ","Æ"],Backquote:["<",">","≤","≥"],Comma:[",",";","∞","˛"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:[",",",",".","."],IntlBackslash:["^","°","„","“"],NumpadEqual:["=","=","=","="]}});break;case"windows":OI(TI),OI({id:"windows.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"windows",score:0,mapping:{KeyA:["q","Q","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:[",","?","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["a","A","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["z","Z","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["w","W","",""],Digit1:["&","1","",""],Digit2:["é","2","~",""],Digit3:['"',"3","#",""],Digit4:["'","4","{",""],Digit5:["(","5","[",""],Digit6:["-","6","|",""],Digit7:["è","7","`",""],Digit8:["_","8","\\",""],Digit9:["ç","9","^",""],Digit0:["à","0","@",""],Space:[" "," ","",""],Minus:[")","°","]",""],Equal:["=","+","}",""],BracketLeft:["^","¨","",""],BracketRight:["$","£","¤",""],Backslash:["*","µ","",""],Semicolon:["m","M","",""],Quote:["ù","%","",""],Backquote:["²","","",""],Comma:[";",".","",""],Period:[":","/","",""],Slash:["!","§","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),OI({id:"windows.spanish",locale:"es",displayName:"Spanish",platform:"windows",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["y","Y","",""],KeyZ:["z","Z","",""],Digit1:["1","!","|",""],Digit2:["2",'"',"@",""],Digit3:["3","·","#",""],Digit4:["4","$","~",""],Digit5:["5","%","€",""],Digit6:["6","&","¬",""],Digit7:["7","/","",""],Digit8:["8","(","",""],Digit9:["9",")","",""],Digit0:["0","=","",""],Space:[" "," ","",""],Minus:["'","?","",""],Equal:["¡","¿","",""],BracketLeft:["`","^","[",""],BracketRight:["+","*","]",""],Backslash:["ç","Ç","}",""],Semicolon:["ñ","Ñ","",""],Quote:["´","¨","{",""],Backquote:["º","ª","\\",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","",""]}}),OI({id:"windows.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","",""],KeyB:["b","B","",""],KeyC:["c","C","",""],KeyD:["d","D","",""],KeyE:["e","E","€",""],KeyF:["f","F","",""],KeyG:["g","G","",""],KeyH:["h","H","",""],KeyI:["i","I","",""],KeyJ:["j","J","",""],KeyK:["k","K","",""],KeyL:["l","L","",""],KeyM:["m","M","µ",""],KeyN:["n","N","",""],KeyO:["o","O","",""],KeyP:["p","P","",""],KeyQ:["q","Q","@",""],KeyR:["r","R","",""],KeyS:["s","S","",""],KeyT:["t","T","",""],KeyU:["u","U","",""],KeyV:["v","V","",""],KeyW:["w","W","",""],KeyX:["x","X","",""],KeyY:["z","Z","",""],KeyZ:["y","Y","",""],Digit1:["1","!","",""],Digit2:["2",'"',"²",""],Digit3:["3","§","³",""],Digit4:["4","$","",""],Digit5:["5","%","",""],Digit6:["6","&","",""],Digit7:["7","/","{",""],Digit8:["8","(","[",""],Digit9:["9",")","]",""],Digit0:["0","=","}",""],Space:[" "," ","",""],Minus:["ß","?","\\","ẞ"],Equal:["´","`","",""],BracketLeft:["ü","Ü","",""],BracketRight:["+","*","~",""],Backslash:["#","'","",""],Semicolon:["ö","Ö","",""],Quote:["ä","Ä","",""],Backquote:["^","°","",""],Comma:[",",";","",""],Period:[".",":","",""],Slash:["-","_","",""],NumpadDivide:["/","/","",""],NumpadMultiply:["*","*","",""],NumpadSubtract:["-","-","",""],NumpadAdd:["+","+","",""],IntlBackslash:["<",">","|",""]}});break;case"linux":OI(BI),OI({id:"linux.french",locale:"fr",displayName:"French",virtualLayout:"azerty",platform:"linux",score:0,mapping:{KeyA:["q","Q","@","Ω"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:[",","?","́","̋"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["a","A","æ","Æ"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["z","Z","«","<"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["w","W","ł","Ł"],Digit1:["&","1","¹","¡"],Digit2:["é","2","~","⅛"],Digit3:['"',"3","#","£"],Digit4:["'","4","{","$"],Digit5:["(","5","[","⅜"],Digit6:["-","6","|","⅝"],Digit7:["è","7","`","⅞"],Digit8:["_","8","\\","™"],Digit9:["ç","9","^","±"],Digit0:["à","0","@","°"],Enter:["\r","\r","\r","\r"],Escape:["","","",""],Backspace:["\b","\b","\b","\b"],Tab:["\t","","\t",""],Space:[" "," "," "," "],Minus:[")","°","]","¿"],Equal:["=","+","}","̨"],BracketLeft:["̂","̈","̈","̊"],BracketRight:["$","£","¤","̄"],Backslash:["*","µ","̀","̆"],Semicolon:["m","M","µ","º"],Quote:["ù","%","̂","̌"],Backquote:["²","~","¬","¬"],Comma:[";",".","─","×"],Period:[":","/","·","÷"],Slash:["!","§","̣","̇"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"]}}),OI({id:"linux.spanish",locale:"es",displayName:"Spanish",platform:"linux",virtualLayout:"qwerty",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","”","’"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","¢"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̉","̛"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","n","N"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ß","§"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","“","‘"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","»",">"],KeyY:["y","Y","←","¥"],KeyZ:["z","Z","«","<"],Digit1:["1","!","|","¡"],Digit2:["2",'"',"@","⅛"],Digit3:["3","·","#","£"],Digit4:["4","$","~","$"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["","","",""],Backspace:["\b","\b","\b","\b"],Tab:["\t","","\t",""],Space:[" "," "," "," "],Minus:["'","?","\\","¿"],Equal:["¡","¿","̃","~"],BracketLeft:["̀","̂","[","̊"],BracketRight:["+","*","]","̄"],Backslash:["ç","Ç","}","̆"],Semicolon:["ñ","Ñ","~","̋"],Quote:["́","̈","{","{"],Backquote:["º","ª","\\","\\"],Comma:[",",";","─","×"],Period:[".",":","·","÷"],Slash:["-","_","̣","̇"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],NumpadEnter:["\r","\r","\r","\r"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",".","","."],IntlBackslash:["<",">","|","¦"],NumpadEqual:["=","=","=","="],NumpadComma:[".",".",".","."],NumpadParenLeft:["(","(","(","("],NumpadParenRight:[")",")",")",")"]}}),OI({id:"linux.german",locale:"de",displayName:"German",platform:"windows",virtualLayout:"qwertz",score:0,mapping:{KeyA:["a","A","æ","Æ"],KeyB:["b","B","“","‘"],KeyC:["c","C","¢","©"],KeyD:["d","D","ð","Ð"],KeyE:["e","E","€","€"],KeyF:["f","F","đ","ª"],KeyG:["g","G","ŋ","Ŋ"],KeyH:["h","H","ħ","Ħ"],KeyI:["i","I","→","ı"],KeyJ:["j","J","̣","̇"],KeyK:["k","K","ĸ","&"],KeyL:["l","L","ł","Ł"],KeyM:["m","M","µ","º"],KeyN:["n","N","”","’"],KeyO:["o","O","ø","Ø"],KeyP:["p","P","þ","Þ"],KeyQ:["q","Q","@","Ω"],KeyR:["r","R","¶","®"],KeyS:["s","S","ſ","ẞ"],KeyT:["t","T","ŧ","Ŧ"],KeyU:["u","U","↓","↑"],KeyV:["v","V","„","‚"],KeyW:["w","W","ł","Ł"],KeyX:["x","X","«","‹"],KeyY:["z","Z","←","¥"],KeyZ:["y","Y","»","›"],Digit1:["1","!","¹","¡"],Digit2:["2",'"',"²","⅛"],Digit3:["3","§","³","£"],Digit4:["4","$","¼","¤"],Digit5:["5","%","½","⅜"],Digit6:["6","&","¬","⅝"],Digit7:["7","/","{","⅞"],Digit8:["8","(","[","™"],Digit9:["9",")","]","±"],Digit0:["0","=","}","°"],Enter:["\r","\r","\r","\r"],Escape:["","","",""],Backspace:["\b","\b","\b","\b"],Tab:["\t","","\t",""],Space:[" "," "," "," "],Minus:["ß","?","\\","¿"],Equal:["́","̀","̧","̨"],BracketLeft:["ü","Ü","̈","̊"],BracketRight:["+","*","~","¯"],Backslash:["#","'","’","̆"],Semicolon:["ö","Ö","̋","̣"],Quote:["ä","Ä","̂","̌"],Backquote:["̂","°","′","″"],Comma:[",",";","·","×"],Period:[".",":","…","÷"],Slash:["-","_","–","—"],PrintScreen:["","","",""],PageUp:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["","1","","1"],Numpad2:["","2","","2"],Numpad3:["","3","","3"],Numpad4:["","4","","4"],Numpad5:["","5","","5"],Numpad6:["","6","","6"],Numpad7:["","7","","7"],Numpad8:["","8","","8"],Numpad9:["","9","","9"],Numpad0:["","0","","0"],NumpadDecimal:["",",","",","],IntlBackslash:["<",">","|","̱"],AltRight:["\r","\r","\r","\r"],MetaRight:[".",".",".","."]}})}function NI(t){var e;let o=/macos|ios/.test($A()),n=t.split("+"),r="";for(let t of n)r&&(r+=o?" ":'<span class="ML__shortcut-join">+</span>'),t.startsWith("[Key")?r+=t.slice(4,5):t.startsWith("Key")?r+=t.slice(3,4):t.startsWith("[Digit")?r+=t.slice(6,7):t.startsWith("Digit")?r+=t.slice(5,6):r+=null!=(e={cmd:"⌘",meta:o?"⌘":"Ctrl",shift:o?"⇧":"Shift",alt:o?"⌥":"Alt",ctrl:o?"⌃":"Ctrl","\n":o?"⏎":"Return","[return]":o?"⏎":"Return","[enter]":o?"⌤":"Enter","[tab]":o?"⇥":"Tab","[escape]":"Esc","[backspace]":o?"⌫":"Backspace","[delete]":o?"⌦":"Del","[pageup]":o?"⇞":"Page Up","[pagedown]":o?"⇟":"Page Down","[home]":o?"⤒":"Home","[end]":o?"⤓":"End","[space]":"Space","[equal]":"=","[minus]":"-","[comma]":",","[slash]":"/","[backslash]":"\\","[bracketleft]":"[","[bracketright]":"]",semicolon:";",period:".",comma:",",minus:"-",equal:"=",quote:"'",backslash:"\\",intlbackslash:"\\",backquote:"`",slash:"/",numpadmultiply:"* &#128290;",numpaddivide:"/ &#128290;",numpadsubtract:"- &#128290;",numpadadd:"+ &#128290;",numpaddecimal:". &#128290;",numpadcomma:", &#128290;",help:"help",left:"⇠",up:"⇡",right:"⇢",down:"⇣","[arrowleft]":"⇠","[arrowup]":"⇡","[arrowright]":"⇢","[arrowdown]":"⇣"}[t.toLowerCase()])?e:t.toUpperCase();return r}function $I(t){if(t instanceof MouseEvent||t instanceof PointerEvent)return{x:t.clientX,y:t.clientY};if("undefined"!=typeof TouchEvent&&t instanceof TouchEvent){let e=[...t.touches].reduce(((t,e)=>({x:t.x+e.clientX,y:t.y+e.clientY})),{x:0,y:0}),o=t.touches.length;return{x:e.x/o,y:e.y/o}}}function KI(t){let e={alt:!1,control:!1,shift:!1,meta:!1};return(t instanceof MouseEvent||t instanceof PointerEvent||"undefined"!=typeof TouchEvent&&t instanceof TouchEvent||t instanceof KeyboardEvent)&&(t.altKey&&(e.alt=!0),t.ctrlKey&&(e.control=!0),t.metaKey&&(e.meta=!0),t.shiftKey&&(e.shift=!0)),e}OI({id:"dvorak",locale:"en",displayName:"Dvorak",virtualLayout:"dvorak",platform:"",score:0,mapping:{KeyA:["a","A","å","Å"],KeyB:["x","X","≈","˛"],KeyC:["j","J","∆","Ô"],KeyD:["e","E","´","´"],KeyE:[".",">","≥","˘"],KeyF:["u","U","¨","¨"],KeyG:["i","I","ˆ","ˆ"],KeyH:["d","D","∂","Î"],KeyI:["c","C","ç","Ç"],KeyJ:["h","H","˙","Ó"],KeyK:["t","T","†","ˇ"],KeyL:["n","N","˜","˜"],KeyM:["m","M","µ","Â"],KeyN:["b","B","∫","ı"],KeyO:["r","R","®","‰"],KeyP:["l","L","¬","Ò"],KeyQ:["'",'"',"æ","Æ"],KeyR:["p","P","π","∏"],KeyS:["o","O","ø","Ø"],KeyT:["y","Y","¥","Á"],KeyU:["g","G","©","˝"],KeyV:["k","K","˚",""],KeyW:[",","<","≤","¯"],KeyX:["q","Q","œ","Œ"],KeyY:["f","F","ƒ","Ï"],KeyZ:[";",":","…","Ú"],Digit1:["1","!","¡","⁄"],Digit2:["2","@","™","€"],Digit3:["3","#","£","‹"],Digit4:["4","$","¢","›"],Digit5:["5","%","∞","ﬁ"],Digit6:["6","^","§","ﬂ"],Digit7:["7","&","¶","‡"],Digit8:["8","*","•","°"],Digit9:["9","(","ª","·"],Digit0:["0",")","º","‚"],Space:[" "," "," "," "],Minus:["[","{","“","”"],Equal:["]","}","‘","’"],BracketLeft:["/","?","÷","¿"],BracketRight:["=","+","≠","±"],Backslash:["\\","|","«","»"],Semicolon:["s","S","ß","Í"],Quote:["-","_","–","—"],Backquote:["`","~","`","`"],Comma:["w","W","∑","„"],Period:["v","V","√","◊"],Slash:["z","Z","Ω","¸"],NumpadDivide:["/","/","/","/"],NumpadMultiply:["*","*","*","*"],NumpadSubtract:["-","-","-","-"],NumpadAdd:["+","+","+","+"],Numpad1:["1","1","1","1"],Numpad2:["2","2","2","2"],Numpad3:["3","3","3","3"],Numpad4:["4","4","4","4"],Numpad5:["5","5","5","5"],Numpad6:["6","6","6","6"],Numpad7:["7","7","7","7"],Numpad8:["8","8","8","8"],Numpad9:["9","9","9","9"],Numpad0:["0","0","0","0"],NumpadDecimal:[".",".",".","."],IntlBackslash:["§","±","§","±"],NumpadEqual:["=","=","=","="],AudioVolumeUp:["","=","","="]}});var qI=new Set(["Backquote","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Minus","Equal","IntlYen","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","IntlRo","Space","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadAdd","NumpadComma","NumpadDecimal","NumpadDivide","NumpadEqual","NumpadHash","NumpadMultiply","NumpadParenLeft","NumpadParenRight","NumpadStar","NumpadSubstract"]);function HI(t){return!(t.ctrlKey||t.metaKey||["Dead","Process"].includes(t.key))&&(""===t.code||qI.has(t.code))}function jI(){var t;let e=document.activeElement;for(;null!=(t=null==e?void 0:e.shadowRoot)&&t.activeElement;)e=e.shadowRoot.activeElement;return e}var WI=class t{static get scrim(){return t._scrim||(t._scrim=new t),t._scrim}static open(e){t.scrim.open(e)}static close(){t.scrim.close()}static get state(){return t.scrim.state}static get element(){return t.scrim.element}constructor(t){var e,o;this.lightDismiss=null==(e=null==t?void 0:t.lightDismiss)||e,this.translucent=null!=(o=null==t?void 0:t.translucent)&&o,this.state="closed"}get element(){if(this._element)return this._element;let t=document.createElement("div");return t.setAttribute("role","presentation"),t.style.position="fixed",t.style.contain="content",t.style.top="0",t.style.left="0",t.style.right="0",t.style.bottom="0",t.style.zIndex="var(--scrim-zindex, 10099)",t.style.outline="none",this.translucent?(t.style.background="rgba(255, 255, 255, .2)",t.style.backdropFilter="contrast(40%)"):t.style.background="transparent",this._element=t,t}open(t){var e;if("closed"!==this.state)return;this.state="opening",this.onDismiss=null==t?void 0:t.onDismiss,this.savedActiveElement=jI();let{element:o}=this;(null!=(e=null==t?void 0:t.root)?e:document.body).appendChild(o),o.addEventListener("click",this),document.addEventListener("touchmove",this,!1),document.addEventListener("scroll",this,!1);let n=window.innerWidth-document.documentElement.clientWidth;this.savedMarginRight=document.body.style.marginRight,this.savedOverflow=document.body.style.overflow,document.body.style.overflow="hidden";let r=Number.parseFloat(getComputedStyle(document.body).marginRight);document.body.style.marginRight=`${r+n}px`;let i=document.querySelector(".MLK__plate");if(i instanceof HTMLElement){this.savedMlkPaddingRight=i.style.paddingRight;let t=Number.parseFloat(getComputedStyle(i).paddingRight);i.style.paddingRight=`${t+n}px`}null!=t&&t.child&&o.append(t.child),this.state="open"}close(){var t,e,o,n,r;if("open"!==this.state)return void this.element.parentElement;this.state="closing","function"==typeof this.onDismiss&&this.onDismiss(),this.onDismiss=void 0;let{element:i}=this;i.removeEventListener("click",this),document.removeEventListener("touchmove",this,!1),document.removeEventListener("scroll",this,!1),i.remove(),document.body.style.overflow=null!=(t=this.savedOverflow)?t:"",document.body.style.marginRight=null!=(e=this.savedMarginRight)?e:"";let s=document.querySelector(".MLK__plate");s instanceof HTMLElement&&(s.style.paddingRight=null!=(o=this.savedMlkPaddingRight)?o:""),jI()!==this.savedActiveElement&&(null==(r=null==(n=this.savedActiveElement)?void 0:n.focus)||r.call(n)),i.innerHTML="",this.state="closed"}handleEvent(t){this.lightDismiss&&(t.target===this._element&&"click"===t.type||t.target===document&&("touchmove"===t.type||"scroll"===t.type))&&(this.close(),t.preventDefault(),t.stopPropagation())}};function UI(t){var e;if(!t||!HI(t))return"";let o;return"Unidentified"===t.key&&t.target&&(o=t.target.value),o=null!=(e=null!=o?o:t.key)?e:t.code,/^(Dead|Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(o)&&(o=""),o}function GI(t){t=function(t){if(t.code)return t;let e=Object.entries(VI().mapping),o=!1,n=!1,r="";for(let i=0;i<4;i++){for(let[s,l]of e)if(l[i]===t.key){r=s,3===i?(o=!0,n=!0):2===i?o=!0:1===i&&(n=!0);break}if(r)break}return new KeyboardEvent(t.type,IA(PA({},t),{altKey:o,shiftKey:n,code:r}))}(t);let e=[];return t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),0===e.length?`[${t.code}]`:(e.push(`[${t.code}]`),e.join("+"))}function ZI(t){let e=t;return FA(e)&&(e=e.length>0?e[0]+"("+e.slice(1).join("")+")":""),e}function JI(t,e){let o=[];if("string"==typeof e){let t=ML[e];FA(t)?o=t.slice():t&&o.push(t)}let n=ZI(e),r=new RegExp("^"+n.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");for(let e of t)r.test(ZI(e.command))&&o.push(e.key);return o.map(NI)}function YI(t,e){if(t.ifPlatform&&!/^!?(macos|windows|android|ios|chromeos|other)$/.test(t.ifPlatform))throw new Error(`Unexpected platform "${t.ifPlatform}" for keybinding ${t.key}`);if(void 0!==t.ifLayout&&(0===e.score||!t.ifLayout.includes(e.id)))return;let o=LI(t.key),n=t.ifPlatform;if(o.cmd){if(n&&"macos"!==n&&"ios"!==n)throw new Error('Unexpected "cmd" modifier with platform "'+n+'"\n"cmd" modifier can only be used with macOS or iOS platform.');n||(n="ios"===$A()?"ios":"macos"),o.win=!1,o.cmd=!1,o.meta=!0}if(o.win){if(n&&"windows"!==n)throw new Error('Unexpected "win" modifier with platform "'+n+'"\n"win" modifier can only be used with Windows platform.');n="windows",o.win=!1,o.cmd=!1,o.meta=!0}if(n&&!function(t){if(OA()){let e=$A(),o=t.startsWith("!"),n=t.endsWith(e);if(o&&!n||!o&&n)return!0}return"!other"!==t&&"other"===t}(n))return;if(/^\[.+\]$/.test(o.key))return IA(PA({},t),{key:PI(o)});let r=function(t,e){var o;let n={shift:!1,alt:!1,cmd:!1,win:!1,meta:!1,ctrl:!1,key:""};if(!t)return n;for(let[o,r]of Object.entries(e.mapping)){if(r[0]===t)return n.key=`[${o}]`,n;if(r[1]===t)return n.shift=!0,n.key=`[${o}]`,n;if(r[2]===t)return n.alt=!0,n.key=`[${o}]`,n;if(r[3]===t)return n.shift=!0,n.alt=!0,n.key=`[${o}]`,n}return n.key=null!=(o=zI[t])?o:"",n}(o.key,e);if(!r)return IA(PA({},t),{key:PI(o)});if(r.shift&&o.shift||r.alt&&o.alt)throw new Error(`The keybinding ${t.key} (${XI(t.command)}) is conflicting with the key combination ${PI(r)} using the ${e.displayName} keyboard layout`);return r.shift=r.shift||o.shift,r.alt=r.alt||o.alt,r.meta=o.meta,r.ctrl=o.ctrl,IA(PA({},t),{key:PI(r)})}function XI(t){if(Array.isArray(t)){let e=[...t];return e.shift()+"("+e.map((t=>"string"==typeof t?`"${t}"`:t.toString())).join(", ")+")"}return t}function QI(t){return t.atoms.find((t=>"latexgroup"===t.type))}function tz(t){var e,o;let n=QI(t);return null!=(o=null==(e=null==n?void 0:n.body)?void 0:e.filter((t=>"latex"===t.type)))?o:[]}function ez(t,e){var o;let n=0,r=!1,i=Number.isFinite(null==e?void 0:e.before)?null!=(o=null==e?void 0:e.before)?o:0:t.lastOffset;for(;n<=i&&!r;){let e=t.at(n);r=e instanceof tI&&e.isSuggestion,r||n++}if(!r)return[void 0,void 0];let s=n,l=!1;for(;s<=i&&!l;){let e=t.at(s);l=!(e instanceof tI&&e.isSuggestion),l||s++}return[n-1,s-1]}function oz(t,e){var o,n,r,i,s,l,a,d,c,h;let u={};if("string"==typeof e.color){let i=null!=(n=t.colorMap(null!=(o=e.color)?o:e.verbatimColor))?n:"none";i!==e.color&&(u.verbatimColor=null!=(r=e.verbatimColor)?r:e.color),u.color=i}if("string"==typeof e.backgroundColor){let o=null!=(s=t.backgroundColorMap(null!=(i=e.backgroundColor)?i:e.verbatimBackgroundColor))?s:"none";o!==e.backgroundColor&&(u.verbatimBackgroundColor=null!=(l=e.verbatimBackgroundColor)?l:e.backgroundColor),u.backgroundColor=o}"string"==typeof e.fontFamily&&(u.fontFamily=e.fontFamily),"string"==typeof e.series&&(u.fontSeries=e.series),"string"==typeof e.fontSeries&&(u.fontSeries=e.fontSeries.toLowerCase()),u.fontSeries&&(u.fontSeries=null!=(a={bold:"b",medium:"m",normal:"m"}[u.fontSeries])?a:u.fontSeries),"string"==typeof e.shape&&(u.fontShape=e.shape),"string"==typeof e.fontShape&&(u.fontShape=e.fontShape.toLowerCase()),u.fontShape&&(u.fontShape=null!=(d={italic:"it",up:"n",upright:"n",normal:"n"}[u.fontShape])?d:u.fontShape),e.variant&&(u.variant=e.variant.toLowerCase()),e.variantStyle&&(u.variantStyle=e.variantStyle.toLowerCase());let p=null!=(c=e.size)?c:e.fontSize;return"number"==typeof p?u.fontSize=Math.max(1,Math.min(10,p)):"string"==typeof p&&(u.fontSize=null!=(h={size1:1,size2:2,size3:3,size4:4,size5:5,size6:6,size7:7,size8:8,size9:9,size10:10}[p.toLowerCase()])?h:{tiny:1,scriptsize:2,footnotesize:3,small:4,normal:5,normalsize:5,large:6,Large:7,LARGE:8,huge:9,Huge:10}[p]),u}function nz(t,e,o){var n,r;let i=t.model;if("latex"===i.mode)return{};let s=t.styleBias;if("none"===s)return t.defaultStyle;if("text"===i.mode)return null!=(r=null==(n=i.at("right"===s?o.after:o.before))?void 0:n.style)?r:t.defaultStyle;if("math"===i.mode){let e=i.at("right"===s?o.after:o.before);return e?IA(PA({},e.style),{variant:"normal"}):t.defaultStyle}return{}}function rz(t){let e=t.options.onInsertStyle;if(null===e)return{};void 0===e&&(e=nz);let o=t.model,n=t.styleBias,r=o.at(o.position),i=iz(o,r,n),s=iz(o,r.rightSibling,n);return e(t,o.position,{before:i,after:s})}function iz(t,e,o){var n;return!e||"first"===e.type&&"right"!==o?-1:"group"!==e.type?t.offsetOf(e):!e.body||e.body.length<2?-1:1===(null==(n=e.body)?void 0:n.length)||"right"!==o?t.offsetOf(e.body[0]):t.offsetOf(e.body[e.body.length-1])}function sz(t){let e=tz(t.model).filter((t=>t.isSuggestion));if(0!==e.length){t.model.position=t.model.offsetOf(e[0].leftSibling);for(let t of e)t.parent.removeChild(t)}}function lz(t,e){var o;let{model:n}=t;sz(t);for(let t of tz(n))t.isError=!1;if(!n.selectionIsCollapsed||"off"===t.options.popoverPolicy)return void gz(t);let r=[],i=n.at(n.position);for(;i&&i instanceof tI&&/^[a-zA-Z\*]$/.test(i.value);)i=i.leftSibling;if(i&&i instanceof tI&&"\\"===i.value)for(r.push(i),i=i.rightSibling;i&&i instanceof tI&&/^[a-zA-Z\*]$/.test(i.value);)r.push(i),i=i.rightSibling;let s=r.map((t=>t.value)).join(""),l=function(t,e){var o,n;if(0===e.length||"\\"===e||!e.startsWith("\\"))return[];let r=[];for(let t in pC)t.startsWith(e)&&!pC[t].infix&&r.push({match:t,frequency:null!=(o=pC[t].frequency)?o:0});for(let t in hC)t.startsWith(e)&&r.push({match:t,frequency:null!=(n=hC[t].frequency)?n:0});let i=e.substring(1);for(let e of Object.keys(t.options.macros))e.startsWith(i)&&r.push({match:"\\"+e,frequency:0});return r.sort(((t,e)=>{var o,n;return t.frequency===e.frequency?t.match.length===e.match.length?t.match<e.match?-1:1:t.match.length-e.match.length:(null!=(o=e.frequency)?o:0)-(null!=(n=t.frequency)?n:0)})),r.map((t=>t.match))}(t,s);if(0===l.length){if(/^\\[a-zA-Z\*]+$/.test(s))for(let t of r)t.isError=!0;return void gz(t)}let a=null!=(o=null==e?void 0:e.atIndex)?o:0;t.suggestionIndex=a<0?l.length-1:a%l.length;let d=l[t.suggestionIndex];if(d!==s){let e=r[r.length-1];e.parent.addChildrenAfter([...d.slice(s.length-d.length)].map((t=>new tI(t,{isSuggestion:!0}))),e),Sz(t,{interactive:!0})}!function(t,e){var o;if(0===e.length)return void gz(t);let n="";for(let[o,r]of e.entries()){let e=r,i=uz(t,r),s=JI(t.keybindings,e).join("<br>");n+=`<li role="button" data-command="${e}" ${o===t.suggestionIndex?"class=ML__popover__current":""}><span class="ML__popover__latex">${e}</span><span class="ML__popover__command">${i}</span>`,s&&(n+=`<span class="ML__popover__keybinding">${s}</span>`),n+="</li>"}let r=function(t,e){let o=document.getElementById("mathlive-suggestion-popover");return o||(o=cz("mathlive-suggestion-popover"),XL("suggestion-popover"),XL("core"),o.addEventListener("pointerdown",(t=>t.preventDefault())),o.addEventListener("click",(e=>{let o=e.target;for(;o&&!o.dataset.command;)o=o.parentElement;o&&(dz(t,"reject"),SL.insert(t.model,o.dataset.command,{selectionMode:"placeholder",format:"latex",mode:"math"}),t.dirty=!0,t.focus())}))),o.innerHTML=globalThis.MathfieldElement.createHTML(e),o}(t,`<ul>${n}</ul>`);pz()&&(null==(o=r.querySelector(".ML__popover__current"))||o.scrollIntoView({block:"nearest",inline:"nearest"})),setTimeout((()=>{var e;r&&!pz()&&(r.classList.add("is-visible"),mz(t),null==(e=r.querySelector(".ML__popover__current"))||e.scrollIntoView({block:"nearest",inline:"nearest"}))}),32)}(t,l)}function az(t){let[e,o]=ez(t,{before:t.position});if(void 0===e||void 0===o)return!1;let n=!1;return t.getAtoms([e,o]).forEach((t=>{t.isSuggestion&&(t.isSuggestion=!1,n=!0)})),n}function dz(t,e="accept",o){var n,r;gz(t);let i=QI(t.model);if(!i)return!1;if("accept-suggestion"===e||"accept-all"===e){let o=tz(t.model).filter((t=>t.isSuggestion));if(0!==o.length){for(let t of o)t.isSuggestion=!1;t.model.position=t.model.offsetOf(o[o.length-1])}if("accept-suggestion"===e)return 0!==o.length}let s=tz(t.model).filter((t=>!t.isSuggestion)).map((t=>t.value)).join(""),l=i.leftSibling;if(i.parent.removeChild(i),t.model.position=t.model.offsetOf(l),t.switchMode(null!=(n=null==o?void 0:o.mode)?n:"math"),"reject"===e)return!0;let a=PA({},rz(t));return!/^[a-zA-Z0-9]$/.test(s)&&"none"!==t.styleBias&&(a.variant="normal",a.variantStyle=void 0),SL.insert(t.model,s,{selectionMode:null!=(r=null==o?void 0:o.selectItem)&&r?"item":"placeholder",format:"latex",mode:"math",style:a}),t.snapshot(),t.model.announce("replacement"),t.switchMode("math"),!0}function cz(t){var e;let o=document.getElementById(t);return o?o.dataset.refcount=Number(Number.parseInt(null!=(e=o.dataset.refcount)?e:"0")+1).toString():(o=document.createElement("div"),o.setAttribute("aria-hidden","true"),o.dataset.refcount="1",o.id=t,document.body.append(o)),o}function hz(t){var e;let o=document.getElementById(t);if(!o)return;let n=Number.parseInt(null!=(e=o.getAttribute("data-refcount"))?e:"0");n<=1?o.remove():o.dataset.refcount=Number(n-1).toString()}function uz(t,e){let o=new oL({from:t.context}),n=new sL({mode:"math",type:"root",body:$P(e,{context:o})});return VB(OB(uI(new RB(n.render(o),{classes:"ML__base"}),o)),{classes:"ML__latex"}).toMarkup()}function pz(){let t=document.getElementById("mathlive-suggestion-popover");return!!t&&t.classList.contains("is-visible")}function mz(t,e){var o,n,r;if(!t.element||t.element.mathfield!==t||!pz())return;if("latex"!==(null==(o=t.model.at(t.model.position))?void 0:o.type))return void gz(t);if(null!=e&&e.deferred)return void setTimeout((()=>mz(t)),32);let i=TL(t.field);if(!i)return;let s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,l=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerWidth-document.documentElement.clientWidth,d=window.innerHeight-document.documentElement.clientHeight,c=null!=(r=null==(n=window.mathVirtualKeyboard)?void 0:n.boundingRect.height)?r:0,h=document.getElementById("mathlive-suggestion-popover");i.x+h.offsetWidth/2>l-a?h.style.left=l-h.offsetWidth-a+"px":i.x-h.offsetWidth/2<0?h.style.left="0":h.style.left=i.x-h.offsetWidth/2+"px";let u=i.y-i.height;s-d-c-i.y<u?(h.classList.add("ML__popover--reverse-direction"),h.classList.remove("top-tip"),h.classList.add("bottom-tip"),h.style.top=i.y-i.height-h.offsetHeight-15+"px"):(h.classList.remove("ML__popover--reverse-direction"),h.classList.add("top-tip"),h.classList.remove("bottom-tip"),h.style.top=`${i.y+15}px`)}function gz(t){t.suggestionIndex=0;let e=document.getElementById("mathlive-suggestion-popover");e&&(e.classList.remove("is-visible"),e.innerHTML="")}new class extends SL{constructor(){super("latex")}createAtom(t){return new tI(t)}onPaste(t,e){if(!e)return!1;let o="string"==typeof e?e:e.getData("application/x-latex")||e.getData("text/plain");return!(!o||!t.model.contentWillChange({inputType:"insertFromPaste",data:o}))&&(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,o)&&(t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),Az(t)),t.startRecording(),!0)}insert(t,e,o){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;o||(o={}),o.insertionMode||(o.insertionMode="replaceSelection"),o.selectionMode||(o.selectionMode="placeholder");let{silenceNotifications:n}=t;o.silenceNotifications&&(t.silenceNotifications=!0);let r=t.silenceNotifications;t.silenceNotifications=!0,"replaceSelection"!==o.insertionMode||t.selectionIsCollapsed?"replaceAll"===o.insertionMode?(t.root.setChildren([],"body"),t.position=0):"insertBefore"===o.insertionMode?t.collapseSelection("backward"):"insertAfter"===o.insertionMode&&t.collapseSelection("forward"):t.deleteAtoms(hL(t.selection));let i=[];for(let t of e)fC.test(t)&&i.push(new tI(t));let s=t.at(t.position);if(s instanceof eI&&(s=s.lastChild),!(s.parent instanceof eI)){let t=new eI;s.parent.addChildAfter(t,s),s=t.firstChild}let l=s.parent.addChildrenAfter(i,s);return t.silenceNotifications=r,"before"===o.selectionMode||("item"===o.selectionMode?t.setSelection(t.anchor,t.offsetOf(l)):l&&(t.position=t.offsetOf(l))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=n,!0}},Bz({applyStyle:function(t,e){t.flushInlineShortcutBuffer(),t.stopCoalescingUndo();let o=oz(t,e),{model:n}=t;return n.selectionIsCollapsed?(t.defaultStyle.fontSeries&&o.fontSeries===t.defaultStyle.fontSeries&&(o.fontSeries="auto"),o.fontShape&&o.fontShape===t.defaultStyle.fontShape&&(o.fontShape="auto"),o.color&&o.color===t.defaultStyle.color&&(o.color="none"),o.backgroundColor&&o.backgroundColor===t.defaultStyle.backgroundColor&&(o.backgroundColor="none"),o.fontSize&&o.fontSize===t.defaultStyle.fontSize&&(o.fontSize="auto"),t.defaultStyle=PA(PA({},t.defaultStyle),o)):t.model.deferNotifications({content:!0,type:"insertText"},(()=>{n.selection.ranges.forEach((t=>wI(n,t,o,{operation:"toggle"}))),t.snapshot("style-change")})),!0}},{target:"mathfield",canUndo:!0,changeContent:!0});var bz,fz,wz=null,xz=(null==(fz=null==(bz=null==globalThis?void 0:globalThis.document)?void 0:bz.currentScript)?void 0:fz.src)||function(){let t=String((new Error).stack).replace(/^Error.*\n/,"").split("\n");if(0===t.length)return console.error(`Can't use relative paths to specify assets location because the sourcefile location could not be determined (unexpected stack trace format "${(new Error).stack}").`),"";let e=t[1],o=e.match(/http.*\.ts[\?:]/);return o&&(e=t[2]),o=e.match(/(https?:.*):[0-9]+:[0-9]+/),o||(o=e.match(/at (.*(\.ts))[\?:]/),o||(o=e.match(/at (.*(\.mjs|\.js))[\?:]/))),o?o[1]:(console.error(t),console.error(`Can't use relative paths to specify assets location because the source file location could not be determined (unexpected location "${e}").`),"")}();async function kz(t){if(/^(?:[a-z+]+:)?\/\//i.test(t)){try{return new URL(t).href}catch(t){}if(t.startsWith("//"))try{return new URL(`${window.location.protocol}${t}`).href}catch(t){}return t}if(null===wz)try{let t=await fetch(xz,{method:"HEAD"});200===t.status&&((wz=(wz=t.url).replace(/\/\+esm$/,"/")).includes("/jsdelivr.net/")&&(wz+="/"))}catch(e){console.error(`Invalid URL "${t}" (relative to "${xz}")`)}return new URL(t,null!=wz?wz:xz).href}var yz="not-loaded";async function vz(){var t;if("not-loaded"===yz)if(yz="loading",null!=(t=getComputedStyle(document.documentElement).getPropertyValue("--ML__static-fonts"))&&t)yz="ready";else if(document.body.classList.remove("ML__fonts-did-not-load"),"fonts"in document){let t=["KaTeX_Main","KaTeX_Math","KaTeX_AMS","KaTeX_Caligraphic","KaTeX_Fraktur","KaTeX_SansSerif","KaTeX_Script","KaTeX_Typewriter","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4"],e=Array.from(document.fonts).map((t=>t.family));if(t.every((t=>e.includes(t))))return void(yz="ready");if(!globalThis.MathfieldElement.fontsDirectory)return void(yz="not-loaded");let o=await kz(globalThis.MathfieldElement.fontsDirectory);if(!o)return document.body.classList.add("ML__fonts-did-not-load"),void(yz="error");let n=[["KaTeX_Main-Regular"],["KaTeX_Main-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_Main-Bold",{weight:"bold"}],["KaTeX_Main-Italic",{style:"italic"}],["KaTeX_Math-Italic",{style:"italic"}],["KaTeX_Math-BoldItalic",{style:"italic",weight:"bold"}],["KaTeX_AMS-Regular"],["KaTeX_Caligraphic-Regular"],["KaTeX_Caligraphic-Bold",{weight:"bold"}],["KaTeX_Fraktur-Regular"],["KaTeX_Fraktur-Bold",{weight:"bold"}],["KaTeX_SansSerif-Regular"],["KaTeX_SansSerif-Bold",{weight:"bold"}],["KaTeX_SansSerif-Italic",{style:"italic"}],["KaTeX_Script-Regular"],["KaTeX_Typewriter-Regular"],["KaTeX_Size1-Regular"],["KaTeX_Size2-Regular"],["KaTeX_Size3-Regular"],["KaTeX_Size4-Regular"]].map((t=>function(t,e,o={}){return new FontFace(t,`url(${e}.woff2) format('woff2')`,o)}(t[0].replace(/-[a-zA-Z]+$/,""),`${o}/${t[0]}`,t[1])));try{return(await Promise.all(n.map((t=>{try{return t.load()}catch(t){}})))).forEach((t=>document.fonts.add(t))),void(yz="ready")}catch(t){console.error(`MathLive 0.105.0: The math fonts could not be loaded from "${o}"`,{cause:t}),document.body.classList.add("ML__fonts-did-not-load")}yz="error"}}function _z(t,e=0){let o=3735928559^e,n=1103547991^e;for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);o=Math.imul(o^r,2654435761),n=Math.imul(n^r,1597334677)}return o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(o^o>>>13,3266489909),4294967296*(2097151&n)+(o>>>0)}function Az(t,e){!t||t.dirty||(t.resizeObserver.unobserve(t.field),t.dirty=!0,requestAnimationFrame((()=>{DL(t)&&t.dirty&&(t.atomBoundsCache=new Map,Sz(t,e),t.atomBoundsCache=void 0,t.resizeObserver.observe(t.field),t.resizeObserverStarted=!0)})))}function Cz(t,e){try{let{model:o}=t;o.root.caret=void 0,o.root.isSelected=!1,o.root.containsCaret=!0;for(let t of o.atoms)t.caret=void 0,t.isSelected=!1,t.containsCaret=!1;if(o.selectionIsCollapsed){let e=o.at(o.position);e.caret=t.model.mode;let n=e.parent;for(;n;)n.containsCaret=!0,n=n.parent}else{let t=o.getAtoms(o.selection,{includeChildren:!0});for(let e of t)e.isSelected=!0}return function(t,e){var o;e=null!=e?e:{};let n=new oL({from:IA(PA({},t.context),{atomIdsSettings:{seed:e.forHighlighting?_z(sL.serialize([t.model.root],{expandMacro:!1,defaultMode:t.options.defaultMode})):"random",groupNumbers:null!=(o=e.forHighlighting)&&o},letterShapeStyle:t.options.letterShapeStyle}),mathstyle:"inline-math"===t.options.defaultMode?"textstyle":"displaystyle"});return VB(uI(t.model.root.render(n),n),{classes:t.hasEditablePrompts?"ML__latex ML__prompting":"ML__latex",attributes:{translate:"no","aria-hidden":"true"}})}(t,e).toMarkup()}catch(t){return console.error(t),'<span class="ML__latex" translate="no" aria-hidden="true">🚫</span>'}}function Sz(t,e){if(!DL(t))return;null!=e||(e={});let o=t.element.querySelector("[part=virtual-keyboard-toggle]");o&&(o.style.display=t.hasEditableContent?"":"none");let n=t.field;if(!n)return;let r=t.isSelectionEditable&&t.hasFocus(),i=n.classList.contains("ML__focused");i&&!r?n.classList.remove("ML__focused"):!i&&r&&n.classList.add("ML__focused");let s=Cz(t,e),l=t.element.querySelector("[part=menu-toggle]");if(l){let e=!1;(t.disabled||t.readOnly&&!t.hasEditableContent||"none"===t.userSelect)&&(e=!0),!e&&n.offsetWidth<50&&(e=!0),l.style.display=e?"none":""}if(t.model.atoms.length<=1){let e=t.options.contentPlaceholder;e&&(s+=`<span part=placeholder class="ML__content-placeholder">${SO(e)}</span>`)}n.innerHTML=globalThis.MathfieldElement.createHTML(s),Ez(t,e.interactive),t.dirty=!1}function Ez(t,e){let o=t.field;if(!o)return;for(let t of o.querySelectorAll(".ML__selection, .ML__contains-highlight"))t.remove();if((null==e||!e)&&"error"!==yz&&"ready"!==yz)return void setTimeout((()=>{"ready"===yz?Ez(t):setTimeout((()=>Ez(t)),128)}),32);let n,r=t.model,i=()=>{if(void 0!==n)return n;let t=o.offsetWidth,e=o.getBoundingClientRect().width;return n=Math.floor(e)/t,isNaN(n)&&(n=1),n};if(r.selectionIsCollapsed){mz(t,{deferred:!0});let e=r.at(r.position);for(;e&&"prompt"!==e.type&&(!e.containsCaret||!e.displayContainsHighlight);)e=e.parent;if(null!=e&&e.containsCaret&&e.displayContainsHighlight){let n=i(),r=LL(t,IL(t,e),n);if(r){r.left/=n,r.right/=n,r.top/=n,r.bottom/=n;let t=document.createElement("div");t.classList.add("ML__contains-highlight"),t.style.position="absolute",t.style.left=`${r.left+1}px`,t.style.top=`${Math.ceil(r.top)}px`,t.style.width=`${Math.ceil(r.right-r.left)}px`,t.style.height=`${Math.ceil(r.bottom-r.top)}px`,o.insertBefore(t,o.childNodes[0])}}}else for(let e of function(t){let e=[];for(let o of t){let t=!1;for(let n of e)if(o.left===n.left&&o.right===n.right&&o.top===n.top&&o.bottom===n.bottom){t=!0;break}t||e.push(o)}t=e,e=[];for(let o of t){let n=0;for(let e of t)if(o.left>=e.left&&o.right<=e.right&&o.top>=e.top&&o.bottom<=e.bottom&&(n+=1,n>1))break;1===n&&e.push(o)}return e}(RL(t,{excludeAtomsWithBackground:!0}))){let t=i();e.left/=t,e.right/=t,e.top/=t,e.bottom/=t;let n=document.createElement("div");n.classList.add("ML__selection"),n.style.position="absolute",n.style.left=`${e.left}px`,n.style.top=`${e.top}px`,n.style.width=`${Math.ceil(e.right-e.left)}px`,n.style.height=`${Math.ceil(e.bottom-e.top-1)}px`,o.insertBefore(n,o.childNodes[0])}}function Mz(t){if(!t)return;let e=t.model,o=e.selection,n=sL.serialize([e.root],{expandMacro:!1,defaultMode:t.options.defaultMode});SL.insert(e,n,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",silenceNotifications:!0,mode:"math"});let r=e.silenceNotifications;e.silenceNotifications=!0,e.selection=o,e.silenceNotifications=r,Az(t)}function Dz(){for(let t of document.querySelectorAll(".ML__mathfield"))"_mathfield"in t&&Mz(t._mathfield)}var Tz;function Bz(t,e){e=PA({target:"mathfield",canUndo:!1,audioFeedback:void 0,changeContent:!1,changeSelection:!1},null!=e?e:{}),Tz||(Tz={});for(let o of Object.keys(t))Tz[o],Tz[o]=IA(PA({},e),{fn:t[o]})}function Lz(t){let e;if(Array.isArray(t)){if("performWithFeedback"===t[0])return Lz(t[1]);e=t[0]}else e=t;return Tz[e]}function Pz(t){var e;return null==(e=Lz(t))?void 0:e.target}function Iz(t){if(!t)return;if(FA(t)&&t.length>0){let e=t[0];return e.replace(/-\w/g,(t=>t[1].toUpperCase())),"performWithFeedback"===e&&2===t.length?[e,Iz(t[1])]:[e,...t.slice(1)]}if("string"!=typeof t)return;let e=t.trim().match(/^([a-zA-Z0-9-]+)\((.*)\)$/);if(e){let t=e[1];return t.replace(/-\w/g,(t=>t[1].toUpperCase())),[t,...e[2].split(",").map((t=>t.trim())).map((t=>{if(/"[^"]*"/.test(t)||/'[^']*'/.test(t))return t.slice(1,-1);if(/^true$/.test(t))return!0;if(/^false$/.test(t))return!1;if(/^[-]?\d+$/.test(t))return parseInt(t,10);if(/^\{.*\}$/.test(t))try{return JSON.parse(t)}catch(e){return console.error("Invalid argument:",t),t}return Iz(t)}))]}let o=t;return o.replace(/-\w/g,(t=>t[1].toUpperCase())),o}Bz({performWithFeedback:(t,e)=>function(t,e){var o;if(!t)return!1;t.focus(),CV.keypressVibration&&NA()&&navigator.vibrate(3);let n=Lz(e);globalThis.MathfieldElement.playSound(null!=(o=null==n?void 0:n.audioFeedback)?o:"keypress");let r=t.executeCommand(e);return t.scrollIntoView(),r}(t,e)}),Bz({complete:dz},{target:"mathfield",audioFeedback:"return",canUndo:!0,changeContent:!0,changeSelection:!0}),Bz({dispatchEvent:(t,e,o)=>{var n,r;return null!=(r=null==(n=t.host)?void 0:n.dispatchEvent(new CustomEvent(e,{detail:o})))&&r}},{target:"mathfield"}),Bz({nextSuggestion:function(t){return lz(t,{atIndex:t.suggestionIndex+1}),!1},previousSuggestion:function(t){return lz(t,{atIndex:t.suggestionIndex-1}),!1}},{target:"mathfield",audioFeedback:"keypress",changeSelection:!0});var zz="mathlive#virtual-keyboard-message";function Rz(t){var e;return"message"===t.type&&(null==(e=t.data)?void 0:e.type)===zz}var Fz,Oz=class t{constructor(){this.targetOrigin=window.origin,this.originValidator="none",this._boundingRect=new DOMRect(0,0,0,0),this._isShifted=!1,window.addEventListener("message",this),this.sendMessage("proxy-created"),this.listeners={}}static get singleton(){return this._singleton||(this._singleton=new t),this._singleton}getKeycap(t){}setKeycap(t,e){this.sendMessage("update-setting",{setKeycap:{keycap:t,value:e}})}set alphabeticLayout(t){this.sendMessage("update-setting",{alphabeticLayout:t})}set layouts(t){this.sendMessage("update-setting",{layouts:t})}get normalizedLayouts(){return[]}set editToolbar(t){this.sendMessage("update-setting",{editToolbar:t})}set container(t){throw new Error("Container inside an iframe cannot be changed")}show(t){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!0},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("show",t),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}hide(t){this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:!1},bubbles:!0,cancelable:!0,composed:!0}))&&(this.sendMessage("hide",t),this.dispatchEvent(new Event("virtual-keyboard-toggle")))}get isShifted(){return this._isShifted}get visible(){return this._boundingRect.height>0}set visible(t){t?this.show():this.hide()}get boundingRect(){return this._boundingRect}executeCommand(t){return this.sendMessage("execute-command",{command:t}),!0}updateToolbar(t){this.sendMessage("update-toolbar",t)}update(t){this.sendMessage("update-setting",t)}connect(){this.sendMessage("connect")}disconnect(){this.sendMessage("disconnect")}addEventListener(t,e,o){this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].has(e)||this.listeners[t].add(e)}dispatchEvent(t){return!this.listeners[t.type]||0===this.listeners[t.type].size||(this.listeners[t.type].forEach((e=>{"function"==typeof e?e(t):null==e||e.handleEvent(t)})),!t.defaultPrevented)}removeEventListener(t,e,o){this.listeners[t]&&this.listeners[t].delete(e)}handleEvent(t){if(Rz(t)){if(!FL(t.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${t.origin}) cannot be handled`,"SecurityError");this.handleMessage(t.data)}}handleMessage(t){let{action:e}=t;if("execute-command"!==e)return"synchronize-proxy"===e?(this._boundingRect=t.boundingRect,void(this._isShifted=t.isShifted)):"geometry-changed"===e?(this._boundingRect=t.boundingRect,void this.dispatchEvent(new Event("geometrychange"))):void 0;{let{command:e}=t;"virtual-keyboard"===Pz(e)&&this.executeCommand(e)}}sendMessage(t,e={}){if(!window.top)throw new DOMException("A frame does not have access to the top window and can‘t communicate with the keyboard. Review virtualKeyboardTargetOrigin and originValidator on mathfields embedded in an iframe","SecurityError");window.top.postMessage(PA({type:zz,action:t},e),this.targetOrigin)}},Vz={numeric:{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",rows:[[{latex:"x",shift:"y",variants:["y","z","t","r","x^2","x^n","x^{#?}","x_n","x_i","x_{#?}",{latex:"f(#?)",class:"small"},{latex:"g(#?)",class:"small"}]},{latex:"n",shift:"a",variants:["i","j","p","k","a","u"]},"[separator-5]","[7]","[8]","[9]","[/]","[separator-5]",{latex:"\\exponentialE",shift:"\\ln",variants:["\\exp","\\times 10^{#?}","\\ln","\\log_{10}","\\log","\\lg","\\operatorname{lb}"]},{latex:"\\imaginaryI",variants:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"]},{latex:"\\pi",shift:"\\sin",variants:["\\prod",{latex:"\\theta",aside:"theta"},{latex:"\\rho",aside:"rho"},{latex:"\\tau",aside:"tau"},"\\sin","\\cos","\\tan"]}],[{label:"<",latex:"<",class:"hide-shift",shift:{latex:"\\le",label:"≤"}},{label:">",latex:">",class:"hide-shift",shift:{latex:"\\ge",label:"≥"}},"[separator-5]","[4]","[5]","[6]","[*]","[separator-5]",{class:"hide-shift",latex:"#@^2}",shift:"#@^{\\prime}}"},{latex:"#@^{#0}}",class:"hide-shift",shift:"#@_{#?}"},{class:"hide-shift",latex:"\\sqrt{#0}",shift:{latex:"\\sqrt[#0]{#?}}"}}],["[(]","[)]","[separator-5]","[1]","[2]","[3]","[-]","[separator-5]",{latex:"\\int^{\\infty}_{0}\\!#?\\,\\mathrm{d}x",class:"small hide-shift",shift:"\\int",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{class:"hide-shift",latex:"\\forall",shift:"\\exists"},{label:"[backspace]",width:1}],[{label:"[shift]",width:2},"[separator-5]","[0]","[.]","[=]","[+]","[separator-5]","[left]","[right]",{label:"[action]",width:1}]]},greek:{label:"&alpha;&beta;&gamma;",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.greek",rows:[[{label:"<i>&#x03c6;</i>",class:"MLK__tex hide-shift",insert:"\\varphi",aside:"phi var.",shift:"\\Phi"},{label:"<i>&#x03c2;</i>",class:"MLK__tex hide-shift",insert:"\\varsigma",aside:"sigma var.",shift:"\\Sigma"},{label:"<i>&#x03f5;</i>",class:"MLK__tex hide-shift",insert:"\\epsilon",aside:"epsilon",shift:'\\char"0190'},{label:"<i>&rho;</i>",class:"MLK__tex hide-shift",insert:"\\rho",aside:"rho",shift:'\\char"3A1'},{label:"<i>&tau;</i>",class:"MLK__tex hide-shift",insert:"\\tau",aside:"tau",shift:'\\char"3A4'},{label:"<i>&upsilon;</i>",class:"MLK__tex hide-shift",insert:"\\upsilon",aside:"upsilon",shift:"\\Upsilon"},{label:"<i>&theta;</i>",class:"MLK__tex hide-shift",insert:"\\theta",aside:"theta",shift:"\\Theta"},{label:"<i>&iota;</i>",class:"MLK__tex hide-shift",insert:"\\iota",aside:"iota",shift:'\\char"399'},{label:"<i>&omicron;</i>",class:"MLK__tex hide-shift",insert:"\\omicron",aside:"omicron",shift:'\\char"39F'},{label:"<i>&pi;</i>",class:"MLK__tex hide-shift",insert:"\\pi",aside:"pi",shift:"\\Pi"}],["[separator-5]",{label:"<i>&alpha;</i>",class:"MLK__tex hide-shift",insert:"\\alpha",aside:"alpha",shift:'\\char"391'},{label:"<i>&sigma;</i>",class:"MLK__tex hide-shift",insert:"\\sigma",aside:"sigma",shift:"\\Sigma"},{label:"<i>&delta;</i>",class:"MLK__tex hide-shift",insert:"\\delta",aside:"delta",shift:"\\Delta"},{latex:"\\phi",class:"MLK__tex hide-shift",insert:"\\phi",aside:"phi",shift:"\\Phi"},{label:"<i>&gamma;</i>",class:"MLK__tex hide-shift",insert:"\\gamma",aside:"gamma",shift:"\\Gamma"},{label:"<i>&eta;</i>",class:"MLK__tex hide-shift",insert:"\\eta",aside:"eta",shift:'\\char"397'},{label:"<i>&xi;</i>",class:"MLK__tex hide-shift",insert:"\\xi",aside:"xi",shift:"\\Xi"},{label:"<i>&kappa;</i>",class:"MLK__tex hide-shift",insert:"\\kappa",aside:"kappa",shift:"\\Kappa"},{label:"<i>&lambda;</i>",class:"MLK__tex hide-shift",insert:"\\lambda",aside:"lambda",shift:"\\Lambda"},"[separator-5]"],["[shift]",{label:"<i>&zeta;</i>",class:"MLK__tex hide-shift",insert:"\\zeta",aside:"zeta",shift:'\\char"396'},{label:"<i>&chi;</i>",class:"MLK__tex hide-shift",insert:"\\chi",aside:"chi",shift:'\\char"3A7'},{label:"<i>&psi;</i>",class:"MLK__tex hide-shift",insert:"\\psi",aside:"psi",shift:"\\Psi"},{label:"<i>&omega;</i>",class:"MLK__tex hide-shift",insert:"\\omega",aside:"omega",shift:"\\Omega"},{label:"<i>&beta;</i>",class:"MLK__tex hide-shift",insert:"\\beta",aside:"beta",shift:'\\char"392'},{label:"<i>&nu;</i>",class:"MLK__tex hide-shift",insert:"\\nu",aside:"nu",shift:'\\char"39D'},{label:"<i>&mu;</i>",class:"MLK__tex hide-shift",insert:"\\mu",aside:"mu",shift:'\\char"39C'},"[backspace]"],["[separator]",{label:"<i>&#x03b5;</i>",class:"MLK__tex",insert:"\\varepsilon",aside:"epsilon var."},{label:"<i>&#x03d1;</i>",class:"MLK__tex",insert:"\\vartheta",aside:"theta var."},{label:"<i>&#x3f0;</i>",class:"MLK__tex",insert:"\\varkappa",aside:"kappa var."},{label:"<i>&#x03d6;</i>",class:"MLK__tex",insert:"\\varpi",aside:"pi var."},{label:"<i>&#x03f1;</i>",class:"MLK__tex",insert:"\\varrho",aside:"rho var."},"[left]","[right]","[action]"]]},symbols:{label:"&infin;≠∈",labelClass:"MLK__tex",tooltip:"keyboard.tooltip.symbols",rows:[[{latex:"\\sin",shift:"\\sin^{-1}",variants:[{class:"small",latex:"\\sinh"},{class:"small",latex:"\\sin^{-1}"},{class:"small",latex:"\\operatorname{arsinh}"}]},"\\ln",{latex:"\\mathrm{abs}",insert:"\\mathrm{abs}\\left(#0\\right)"},{latex:"\\rightarrow",shift:"\\Rightarrow",variants:[{latex:"\\implies",aside:"implies"},{latex:"\\to",aside:"to"},"\\dashv",{latex:"\\roundimplies",aside:"round implies"}]},{latex:"\\exists",variants:["\\nexists"],shift:"\\nexists"},{latex:"\\in",shift:"\\notin",variants:["\\notin","\\owns"]},"\\cup",{latex:"\\overrightarrow{#@}",shift:"\\overleftarrow{#@}",variants:["\\overleftarrow{#@}","\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"]},{class:"small hide-shift",latex:"\\lim_{#?}",shift:"\\lim_{x\\to\\infty}",variants:[{class:"small",latex:"\\liminf_{#?}"},{class:"small",latex:"\\limsup_{#?}"}]},"\\exponentialE"],[{latex:"\\cos",shift:"\\cos^{-1}",variants:[{class:"small",latex:"\\cosh"},{class:"small",latex:"\\cos^{-1}"},{class:"small",latex:"\\operatorname{arcosh}"}]},{latex:"\\log",shift:"\\log_{10}",variants:["\\log_{#0}","\\log_{10}"]},"\\left\\vert#0\\right\\vert",{latex:"\\larr",shift:"\\lArr",variants:[{latex:"\\impliedby",aside:"implied by"},{latex:"\\gets",aside:"gets"},"\\lArr","\\vdash",{latex:"\\models",aside:"models"}]},{latex:"\\forall",shift:"\\lnot",variants:[{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"}]},{latex:"\\ni",shift:"\\not\\owns"},"\\cap",{latex:"\\overline{#@}",shift:"\\underline{#@}",variants:["\\overbrace{#@}","\\overlinesegment{#@}","\\overleftrightarrow{#@}","\\overrightarrow{#@}","\\overleftarrow{#@}","\\overgroup{#@}","\\underbrace{#@}","\\underlinesegment{#@}","\\underleftrightarrow{#@}","\\underrightarrow{#@}","\\underleftarrow{#@}","\\undergroup{#@}"]},{class:"hide-shift small",latex:"\\int",shift:"\\iint",variants:[{latex:"\\int_{#?}^{#?}",class:"small"},{latex:"\\int",class:"small"},{latex:"\\smallint",class:"small"},{latex:"\\iint",class:"small"},{latex:"\\iiint",class:"small"},{latex:"\\oint",class:"small"},"\\intop","\\iiint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"]},{latex:"\\pi",shift:"\\tau",variants:["\\tau"]}],[{latex:"\\tan",shift:"\\tan^{-1}",variants:[{class:"small",latex:"\\tanh"},{class:"small",latex:"\\tan^{-1}"},{class:"small",latex:"\\operatorname{artanh}"},{class:"small",latex:"\\arctan"},{class:"small",latex:"\\operatorname{arctg}"},{class:"small",latex:"\\operatorname{tg}"}]},{latex:"\\exp",insert:"\\exp\\left(#0\\right)",variants:["\\exponentialE^{#0}"]},"\\left\\Vert#0\\right\\Vert",{latex:"\\lrArr",shift:"\\leftrightarrow",variants:[{latex:"\\iff",aside:"if and only if"},"\\leftrightarrow","\\leftrightarrows","\\Leftrightarrow",{latex:"^\\biconditional",aside:"biconditional"}]},{latex:"\\vert",shift:"!"},{latex:"#@^{\\complement}",aside:"complement",variants:[{latex:"\\setminus",aside:"set minus"},{latex:"\\smallsetminus",aside:"small set minus"}]},{latex:"\\subset",shift:"\\subseteq",variants:["\\subset","\\subseteq","\\subsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsubseteq","\\supset","\\supseteq","\\supsetneq","\\supsetneqq","\\nsupset","\\nsupseteq"]},{latex:"#@^{\\prime}",shift:"#@^{\\doubleprime}",variants:["#@^{\\doubleprime}","#@\\degree"]},{latex:"\\mathrm{d}",shift:"\\partial",variants:["\\mathrm{d}x",{latex:"\\dfrac{\\mathrm{d}}{\\mathrm{d} x}",class:"small"},{latex:"\\frac{\\partial}{\\partial x}",class:"small"},"\\partial"]},{latex:"\\infty",variants:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"]}],[{label:"[shift]",width:2},{class:"box",latex:",",shift:";",variants:[";","?"]},{class:"box",latex:"\\colon",shift:"\\Colon",variants:[{latex:"\\Colon",aside:"such that",class:"box"},{latex:":",aside:"ratio",class:"box"},{latex:"\\vdots",aside:"",class:"box"},{latex:"\\ddots",aside:"",class:"box"},{latex:"\\ldotp",aside:"low dot",class:"box"},{latex:"\\cdotp",aside:"center dot",class:"box"},{latex:"\\ldots",aside:"low ellipsis",class:"box"},{latex:"\\cdots",aside:"center ellipsis",class:"box"},{latex:"\\therefore",aside:"therefore",class:"box"},{latex:"\\because",aside:"because",class:"box"}]},{class:"box",latex:"\\cdot",aside:"centered dot",shift:"\\ast",variants:["\\circ","\\bigcirc","\\bullet","\\odot","\\oslash","\\circledcirc","\\ast","\\star","\\times","\\doteq","\\doteqdot"]},"[separator]","[left]","[right]",{label:"[backspace]",width:1,class:"action hide-shift"},{label:"[action]",width:1}]]},compact:{label:"compact",rows:[["[+]","[-]","[*]","[/]","[=]","[.]","[(]","[)]","\\sqrt{#0}","#@^{#?}"],["[1]","[2]","[3]","[4]","[5]","[6]","[7]","[8]","[9]","[0]"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]},minimalist:{label:"minimalist",layers:[{style:"\n          div.minimalist-backdrop {\n            display: flex;\n            justify-content: center;\n          }          \n          div.minimalist-container {\n            --keycap-height: 40px;\n            --keycap-max-width: 53px;\n            --keycap-small-font-size: 12px;\n            background: var(--keyboard-background);\n            padding: 20px 20px 0px 20px;\n            border-top-left-radius: 8px;\n            border-top-right-radius: 8px;\n            border: 1px solid var(--keyboard-border);\n            box-shadow: 0 0 32px rgb(0 0 0 / 30%);\n          }        \n        ",backdrop:"minimalist-backdrop",container:"minimalist-container",rows:[["+","-","\\times",{latex:"\\frac{#@}{#0}",class:"small"},"=","[.]","(",")",{latex:"\\sqrt{#0}",class:"small"},{latex:"#@^{#?}",class:"small"}],["1","2","3","4","5","6","7","8","9","0"],["[hr]"],["[undo]","[redo]","[separator]","[separator]","[separator]","[left]","[right]",{label:"[backspace]",class:"action hide-shift"},"[hide-keyboard]"]]}]},"numeric-only":{label:"123",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.numeric",id:"numeric-only",rows:[["7","8","9","[separator]",{label:"[backspace]",width:2}],["4","5","6","[separator]","[separator]","[separator]"],["1","2","3","[separator]","[separator]","[separator]"],["0",{label:"[.]",variants:[]},"-","[separator]","[left]","[right]"]]}},Nz={0:["\\varnothing","\\infty"],1:["\\frac{1}{#@}","#@^{-1}","\\times 10^{#?}","\\phi","\\imaginaryI"],2:["\\frac{1}{2}","#@^2","\\sqrt2","\\exponentialE"],3:["\\frac{1}{3}","#@^3","\\sqrt3","\\pi"],4:["\\frac{1}{4}","#@^4"],5:["\\frac{1}{5}","#@^5","\\sqrt5"],6:["\\frac{1}{6}","#@^6"],7:["\\frac{1}{7}","#@^7"],8:["\\frac{1}{8}","#@^8"],9:["\\frac{1}{9}","#@^9"],".":[".",",",";","\\colon"],",":["{,}",".",";","\\colon"],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"å","à","á","â","ä","æ"],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"},"Å","À","Á","Â","Ä","Æ"],b:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"},"ç"],d:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},"è","é","ê","ë"],E:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isn’t"},"È","É","Ê","Ë"],g:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"},"ì","í","î","ï"],I:[{latex:"\\imaginaryI",aside:"imaginary i"},"Ì","Í","Î","Ï"],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\mathbb{N}",aside:"set of natural numbers"},"ñ"],o:["ø","œ","ò","ó","ô","ö"],O:["ø","Œ","Ò","Ó","Ô","Ö"],p:[{latex:"\\mathbb{P}",aside:"set of primes"}],q:[{latex:"\\mathbb{Q}",aside:"set of rational numbers"}],r:[{latex:"\\mathbb{R}",aside:"set of real numbers"}],u:["ù","ú","û","ü"],U:["Ù","Ú","Û","Ü"],z:[{latex:"\\mathbb{Z}",aside:"set of integers"}],y:["ý","ÿ"],Y:["Ÿ"],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br>⁻³⧸₁₈ em"},{latex:'\\char"203A\\,\\char"2039',insert:"\\,",aside:"thin space<br>³⧸₁₈ em"},{latex:'\\char"203A\\:\\char"2039',insert:"\\:",aside:"medium space<br>⁴⧸₁₈ em"},{latex:'\\char"203A\\;\\char"2039',insert:"\\;",aside:"thick space<br>⁵⧸₁₈ em"},{latex:'\\char"203A\\ \\char"2039',insert:"\\ ",aside:"⅓ em"},{latex:'\\char"203A\\enspace\\char"2039',insert:"\\enspace",aside:"½ em"},{latex:'\\char"203A\\quad\\char"2039',insert:"\\quad",aside:"1 em"},{latex:'\\char"203A\\qquad\\char"2039',insert:"\\qquad",aside:"2 em"}]};function $z(t,e){var o,n,r,i,s;let l=dR.singleton;if(!l)return;let a=lR(t),d="";if(window.mathVirtualKeyboard.isShifted){let t=null==(o=l.getKeycap(null==a?void 0:a.id))?void 0:o.shift;"object"==typeof t&&"variants"in t&&(d=null!=(n=t.variants)?n:"")}else d=null!=(i=null==(r=l.getKeycap(null==a?void 0:a.id))?void 0:r.variants)?i:"";if("string"==typeof d&&!qz(d)||Array.isArray(d)&&0===d.length)return void(null==e||e());let c={},h="";for(let t of function(t){var e;return"string"!=typeof t?t:(Nz[t]||(Nz[t]=null!=(e=function(t){if("foreground-color"===t){let t=[];for(let e of Object.keys(GA))t.push({class:"swatch-button",label:'<span style="border: 3px solid '+GA[e]+'"></span>',command:["applyStyle",{color:e}]});return t}if("background-color"===t){let t=[];for(let e of Object.keys(UA))t.push({class:"swatch-button",label:'<span style="background:'+UA[e]+'"></span>',command:["applyStyle",{backgroundColor:e}]});return t}}(t))?e:[]),Nz[t])}(d)){let e=oR(t),o=Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);c[o]=e;let[n,r]=Qz(e);h+=`<div id=${o} class="item ${r}">${n}</div>`}let u=document.createElement("div");u.setAttribute("aria-hidden","true"),u.className="MLK__variant-panel",u.style.height="auto";let p=Object.keys(c).length,m=5;1===p?m=1:2===p||4===p?m=2:3===p||5===p||6===p?m=3:p>=7&&p<14&&(m=4),u.style.width=`calc(var(--variant-keycap-length) * ${m} + 12px)`,u.innerHTML=CV.createHTML(h),WI.open({root:null==(s=null==l?void 0:l.container)?void 0:s.querySelector(".ML__keyboard"),child:u}),Fz=new AbortController;let{signal:g}=Fz,b=null==t?void 0:t.getBoundingClientRect();if(b){b.top-u.clientHeight<0&&(u.style.width="auto",p<=6?u.style.height="56px":p<=12?u.style.height="108px":p<=18?u.style.height="205px":u.classList.add("compact"));let t=Math.max(0,Math.min(window.innerWidth-u.offsetWidth,(b.left+b.right-u.offsetWidth)/2)),o=b.top-u.clientHeight+5;u.style.left=`${t}px`,u.style.top=`${o}px`,u.classList.add("is-visible"),requestAnimationFrame((()=>{var t;u.addEventListener("pointerup",(t=>{let o=lR(t.target);null==o||!o.id||!c[o.id]||(iR(c[o.id]),Kz(),null==e||e(),t.preventDefault())}),{capture:!0,passive:!1,signal:g}),u.addEventListener("pointerenter",(t=>{let e=lR(t.target);null==e||!e.id||!c[e.id]||e.classList.add("is-active")}),{capture:!0,signal:g}),u.addEventListener("pointerleave",(t=>{let e=lR(t.target);t.target&&"tagName"in t.target&&"string"==typeof t.target.tagName&&"ASIDE"===t.target.tagName.toUpperCase()||null==e||!e.id||!c[e.id]||e.classList.remove("is-active")}),{capture:!0,signal:g}),null!=(t=l.getKeycap(null==a?void 0:a.id))&&t.stickyVariantPanel?window.addEventListener("pointerdown",(t=>{if(!(t.target instanceof Node))return;let o=u.contains(t.target);t.target===u||o||(Kz(),null==e||e())}),{signal:g}):(window.addEventListener("pointercancel",(()=>{Kz(),null==e||e()}),{signal:g}),window.addEventListener("pointerup",(()=>{Kz(),null==e||e()}),{signal:g}))}))}}function Kz(){null==Fz||Fz.abort(),Fz=null,"open"===WI.state&&WI.close()}function qz(t){return void 0!==Nz[t]}function Hz(t){return Object.keys(t).map((e=>`${e} {${function(t){return"string"==typeof t?t:Object.entries(t).map((([t,e])=>`${t}:${e} !important`)).join(";")}(t[e])}}`)).join("")}function jz(t){if(!t)return"";let e=new oL,o=new sL({mode:"math",type:"root",body:$P(t,{context:e,args:t=>"@"===t?"{\\class{ML__box-placeholder}{\\blacksquare}}":"\\placeholder{}"})});return VB(OB(uI(new RB(o.render(e),{classes:"ML__base"}),e)),{classes:"ML__latex"}).toMarkup()}function Wz(t){if(Array.isArray(t))return t.map((t=>Wz(t))).flat();let e="string"==typeof t?{markup:t}:t;return"rows"in e&&Array.isArray(e.rows)&&(e.rows=e.rows.map((t=>t.map((t=>oR(t)))))),null!=e.id||(e.id="ML__layer_"+Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36)),[e]}function Uz(t){if("alphabetic"===t)return function(){var t,e;let o=window.mathVirtualKeyboard.alphabeticLayout;if("auto"===o){let e=VI();e&&(o=e.virtualLayout),(!o||"auto"===o)&&(o=null!=(t={fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[qA.locale.slice(0,2)])?t:"qwerty")}let n={qwerty:["qwertyuiop"," asdfghjkl ","^zxcvbnm~"],azerty:["azertyuiop","qsdfghjklm","^ wxcvbn ~"],qwertz:["qwertzuiop"," asdfghjkl ","^yxcvbnm~"],dvorak:["^  pyfgcrl ","aoeuidhtns","qjkxbmwvz~"],colemak:[" qwfpgjluy ","arstdhneio","^zxcvbkm~"]},r=null!=(e=n[o])?e:n.qwerty,i="azerty"===o?[[{label:"1",variants:"1"},{label:"2",shift:{latex:"é"},variants:"2"},{label:"3",shift:{latex:"ù"},variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{label:"(",latex:"("},variants:"5"},{label:"6",shift:{label:")",latex:")"},variants:"6"},{label:"7",shift:{latex:"è"},variants:"7"},{label:"8",shift:{latex:"ê"},variants:"8"},{label:"9",shift:{latex:"ç"},variants:"9"},{label:"0",shift:{latex:"à"},variants:"0"}]]:[[{label:"1",variants:"1"},{label:"2",variants:"2"},{label:"3",variants:"3"},{label:"4",variants:"4"},{label:"5",shift:{latex:"\\frac{#@}{#?}"},variants:"5"},{label:"6",shift:{latex:"#@^#?"},variants:"6"},{label:"7",variants:"7"},{label:"8",shift:{latex:"\\times"},variants:"8"},{label:"9",shift:{label:"(",latex:"("},variants:"9"},{label:"0",shift:{label:")",latex:")"},variants:"0"}]];for(let t of r){let e=[];for(let n of t)/[a-z]/.test(n)?e.push({label:n,class:"hide-shift",shift:{label:n.toUpperCase(),variants:qz(n.toUpperCase())?n.toUpperCase():void 0},variants:qz(n)?n:void 0}):"~"===n?"dvorak"!==o?e.push("[backspace]"):e.push({label:"[backspace]",width:1}):"^"===n?e.push("[shift]"):" "===n&&e.push("[separator-5]");i.push(e)}return i.push(["[-]","[+]","[=]",{label:" ",width:1.5},{label:",",shift:";",variants:".",class:"hide-shift"},"[.]","[left]","[right]",{label:"[action]",width:1.5}]),{label:"abc",labelClass:"MLK__tex-math",tooltip:"keyboard.tooltip.alphabetic",layers:Wz({rows:i})}}();if("string"==typeof t)return Uz(Vz[t]);let e;if("rows"in t&&Array.isArray(t.rows)){let o=t,{rows:n}=o,r=RA(o,["rows"]);e=IA(PA({},r),{layers:Wz({rows:t.rows})})}else if("markup"in t&&"string"==typeof t.markup){let o=t,{markup:n}=o,r=RA(o,["markup"]);e=IA(PA({},r),{layers:Wz(t.markup)})}else e=PA({},t),"layers"in t?e.layers=Wz(t.layers):console.error('MathLive 0.105.0: provide either a "rows", "markup" or "layers" property');let o=!1,n=!1;for(let t of e.layers)if(t.rows)for(let e of t.rows.flat()){aR(e)&&(o=!0);let t=e.command;"string"==typeof t&&["undo","redo","cut","copy","paste"].includes(t)&&(n=!0)}return(!("displayShiftedKeycaps"in t)||void 0===t.displayShiftedKeycaps)&&(e.displayShiftedKeycaps=o),(!("displayEditToolbar"in t)||void 0===t.displayEditToolbar)&&(e.displayEditToolbar=!n),e}function Gz(t,e){var o,n;let r='<div class="left">';if(t.normalizedLayouts.length>1)for(let[i,s]of t.normalizedLayouts.entries()){let t=s,l=[i===e?"selected":"layer-switch"];t.tooltip&&l.push("MLK__tooltip"),t.labelClass&&l.push(...t.labelClass.split(" ")),r+=`<div class="${l.join(" ")}"`,t.tooltip&&(r+=" data-tooltip='"+(null!=(o=HA(t.tooltip))?o:t.tooltip)+"' "),i!==e&&(r+=`data-layer="${t.layers[0].id}"`),r+=`>${null!=(n=t.label)?n:"untitled"}</div>`}return r+="</div>",r}function Zz(t,e){let o="";if("none"===t.editToolbar)return"";let n=[];e.selectionIsCollapsed?n.push("undo","redo","pasteFromClipboard"):n.push("cutToClipboard","copyToClipboard","pasteFromClipboard");let r={undo:`<div class='action ${!1===e.canUndo?"disabled":""}'\n          data-command='"undo"'\n          data-tooltip='${HA("tooltip.undo")}'>\n          <svg><use xlink:href='#svg-undo' /></svg>\n      </div>`,redo:`<div class='action ${!1===e.canRedo?"disabled":""}'\n          data-command='"redo"'\n          data-tooltip='${HA("tooltip.redo")}'>\n          <svg><use xlink:href='#svg-redo' /></svg>\n      </div>`,cutToClipboard:`\n        <div class='action'\n            data-command='"cutToClipboard"'\n            data-tooltip='${HA("tooltip.cut to clipboard")}'>\n            <svg><use xlink:href='#svg-cut' /></svg>\n        </div>\n    `,copyToClipboard:`\n        <div class='action'\n            data-command='"copyToClipboard"'\n            data-tooltip='${HA("tooltip.copy to clipboard")}'>\n            <svg><use xlink:href='#svg-copy' /></svg>\n        </div>\n    `,pasteFromClipboard:`\n        <div class='action'\n            data-command='"pasteFromClipboard"'\n            data-tooltip='${HA("tooltip.paste from clipboard")}'>\n            <svg><use xlink:href='#svg-paste' /></svg>\n        </div>\n    `};return o+=n.map((t=>r[t])).join(""),o}function Jz(t){let e=dR.singleton;if(!e)return;let o={};if(!t.id){if(t.hasAttribute("data-label")&&(o.label=t.dataset.label),t.hasAttribute("data-latex")&&(o.latex=t.dataset.latex),t.hasAttribute("data-key")&&(o.key=t.dataset.key),t.hasAttribute("data-insert")&&(o.insert=t.dataset.insert),t.hasAttribute("data-variants")&&(o.variants=t.dataset.variants),t.hasAttribute("data-aside")&&(o.aside=t.dataset.aside),t.className&&(o.class=t.className),!o.label&&!o.latex&&!o.key&&!o.insert&&(o.latex=t.innerText,o.label=t.innerHTML),t.hasAttribute("data-command"))try{o.command=JSON.parse(t.dataset.command)}catch(t){}t.id=e.registerKeycap(o)}if(!t.innerHTML){let[e,n]=Qz(o);t.innerHTML=globalThis.MathfieldElement.createHTML(e)}}function Yz(t){t.resetKeycapRegistry(),XL("virtual-keyboard"),XL("core"),vz();let e=document.createElement("div");e.className="ML__keyboard";let o=document.createElement("div");o.className="MLK__plate",o.innerHTML=globalThis.MathfieldElement.createHTML('<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">\n\n<symbol id="svg-delete-backward" viewBox="0 0 576 512">\n  <path d="M432.1 208.1L385.9 256L432.1 303C442.3 312.4 442.3 327.6 432.1 336.1C423.6 346.3 408.4 346.3 399 336.1L352 289.9L304.1 336.1C295.6 346.3 280.4 346.3 271 336.1C261.7 327.6 261.7 312.4 271 303L318.1 256L271 208.1C261.7 199.6 261.7 184.4 271 175C280.4 165.7 295.6 165.7 304.1 175L352 222.1L399 175C408.4 165.7 423.6 165.7 432.1 175C442.3 184.4 442.3 199.6 432.1 208.1V208.1zM512 64C547.3 64 576 92.65 576 128V384C576 419.3 547.3 448 512 448H205.3C188.3 448 172 441.3 160 429.3L9.372 278.6C3.371 272.6 0 264.5 0 256C0 247.5 3.372 239.4 9.372 233.4L160 82.75C172 70.74 188.3 64 205.3 64L512 64zM528 128C528 119.2 520.8 112 512 112H205.3C201 112 196.9 113.7 193.9 116.7L54.63 256L193.9 395.3C196.9 398.3 201 400 205.3 400H512C520.8 400 528 392.8 528 384V128z"/>\n</symbol>\n\n<symbol id="svg-shift" viewBox="0 0 384 512">\n  <path d="M2.438 252.3C7.391 264.2 19.06 272 32 272h80v160c0 26.51 21.49 48 48 48h64C250.5 480 272 458.5 272 432v-160H352c12.94 0 24.61-7.797 29.56-19.75c4.953-11.97 2.219-25.72-6.938-34.88l-160-176C208.4 35.13 200.2 32 192 32S175.6 35.13 169.4 41.38l-160 176C.2188 226.5-2.516 240.3 2.438 252.3zM192 86.63L313.4 224H224v208H160V224H70.63L192 86.63z"/>\n</symbol>\n\n<symbol id="svg-commit" viewBox="0 0 512 512">\n  <path d="M135 432.1l-128-128C2.344 300.3 0 294.2 0 288s2.344-12.28 7.031-16.97l128-128c9.375-9.375 24.56-9.375 33.94 0s9.375 24.56 0 33.94L81.94 264H464v-208C464 42.75 474.8 32 488 32S512 42.75 512 56V288c0 13.25-10.75 24-24 24H81.94l87.03 87.03c9.375 9.375 9.375 24.56 0 33.94S144.4 442.3 135 432.1z"/>\n</symbol>\n\n\n<symbol id="circle-plus" viewBox="0 0 512 512"><path d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344c0 13.3 10.7 24 24 24s24-10.7 24-24V280h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V168c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"/></symbol>\n\n<symbol id="svg-command" viewBox="0 0 640 512">\n  <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>\n</symbol>\n\n<symbol id="svg-undo" viewBox="0 0 512 512">\n  <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>\n</symbol>\n<symbol id="svg-redo" viewBox="0 0 512 512">\n  <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>\n</symbol>\n<symbol id="svg-arrow-left" viewBox="0 0 320 512">\n  <path d="M206.7 464.6l-183.1-191.1C18.22 267.1 16 261.1 16 256s2.219-11.97 6.688-16.59l183.1-191.1c9.152-9.594 24.34-9.906 33.9-.7187c9.625 9.125 9.938 24.37 .7187 33.91L73.24 256l168 175.4c9.219 9.5 8.906 24.78-.7187 33.91C231 474.5 215.8 474.2 206.7 464.6z"/>\n</symbol>\n<symbol id="svg-arrow-right" viewBox="0 0 320 512">\n  <path d="M113.3 47.41l183.1 191.1c4.469 4.625 6.688 10.62 6.688 16.59s-2.219 11.97-6.688 16.59l-183.1 191.1c-9.152 9.594-24.34 9.906-33.9 .7187c-9.625-9.125-9.938-24.38-.7187-33.91l168-175.4L78.71 80.6c-9.219-9.5-8.906-24.78 .7187-33.91C88.99 37.5 104.2 37.82 113.3 47.41z"/>\n</symbol>\n<symbol id="svg-tab" viewBox="0 0 448 512">\n  <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>\n</symbol>\n<symbol id="svg-paste" viewBox="0 0 512 512"><path d="M160 32c11.6 0 21.3 8.2 23.5 19.2C185 58.6 191.6 64 199.2 64H208c8.8 0 16 7.2 16 16V96H96V80c0-8.8 7.2-16 16-16h8.8c7.6 0 14.2-5.4 15.7-12.8C138.7 40.2 148.4 32 160 32zM64 64h2.7C65 69 64 74.4 64 80V96c0 17.7 14.3 32 32 32H224c17.7 0 32-14.3 32-32V80c0-5.6-1-11-2.7-16H256c17.7 0 32 14.3 32 32h32c0-35.3-28.7-64-64-64H210.6c-9-18.9-28.3-32-50.6-32s-41.6 13.1-50.6 32H64C28.7 32 0 60.7 0 96V384c0 35.3 28.7 64 64 64H192V416H64c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM288 480c-17.7 0-32-14.3-32-32V192c0-17.7 14.3-32 32-32h96v56c0 22.1 17.9 40 40 40h56V448c0 17.7-14.3 32-32 32H288zM416 165.3L474.7 224H424c-4.4 0-8-3.6-8-8V165.3zM448 512c35.3 0 64-28.7 64-64V235.9c0-12.7-5.1-24.9-14.1-33.9l-59.9-59.9c-9-9-21.2-14.1-33.9-14.1H288c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H448z"/></symbol>\n<symbol id="svg-cut" viewBox="0 0 512 512"><path d="M485.6 444.2L333.6 314.9C326.9 309.2 326.1 299.1 331.8 292.4C337.5 285.6 347.6 284.8 354.4 290.5L506.4 419.8C513.1 425.5 513.9 435.6 508.2 442.4C502.5 449.1 492.4 449.9 485.6 444.2zM485.7 67.76C492.5 62.07 502.5 62.94 508.2 69.69C513.9 76.45 513.1 86.55 506.3 92.24L208.5 343.1C218.3 359.7 224 379.2 224 400C224 461.9 173.9 512 112 512C50.14 512 0 461.9 0 400C0 338.1 50.14 288 112 288C141.5 288 168.4 299.4 188.4 318.1L262.2 256L188.4 193.9C168.4 212.6 141.5 224 112 224C50.14 224 0 173.9 0 112C0 50.14 50.14 0 112 0C173.9 0 224 50.14 224 112C224 132.8 218.3 152.3 208.5 168.9L287 235.1L485.7 67.76zM32 112C32 156.2 67.82 192 112 192C156.2 192 192 156.2 192 112C192 67.82 156.2 32 112 32C67.82 32 32 67.82 32 112zM112 480C156.2 480 192 444.2 192 400C192 355.8 156.2 320 112 320C67.82 320 32 355.8 32 400C32 444.2 67.82 480 112 480z"/></symbol>\n<symbol id="svg-copy" viewBox="0 0 512 512"><path d="M272 416C263.2 416 256 423.2 256 432V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V192c0-17.67 14.33-32 32-32h112C184.8 160 192 152.8 192 144C192 135.2 184.8 128 176 128H63.99c-35.35 0-64 28.65-64 64l.0098 256C0 483.3 28.65 512 64 512h160c35.35 0 64-28.65 64-64v-16C288 423.2 280.8 416 272 416zM502.6 86.63l-77.25-77.25C419.4 3.371 411.2 0 402.7 0H288C252.7 0 224 28.65 224 64v256c0 35.35 28.65 64 64 64h160c35.35 0 64-28.65 64-64V109.3C512 100.8 508.6 92.63 502.6 86.63zM416 45.25L466.7 96H416V45.25zM480 320c0 17.67-14.33 32-32 32h-160c-17.67 0-32-14.33-32-32V64c0-17.67 14.33-32 32-32h96l.0026 64c0 17.67 14.33 32 32 32H480V320z"/>\n</symbol>\n<symbol id="svg-angle-double-right" viewBox="0 0 512 512"><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/>\n</symbol>\n<symbol id="svg-angle-double-left" viewBox="0 0 512 512"><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/>\n</symbol>\n<symbol id="svg-trash" viewBox="0 0 448 512">\n  <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>\n</symbol>\n<symbol id="svg-keyboard-down" viewBox="0 0 576 512"><path d="M64 48c-8.8 0-16 7.2-16 16V240c0 8.8 7.2 16 16 16H512c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64zM0 64C0 28.7 28.7 0 64 0H512c35.3 0 64 28.7 64 64V240c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM159 359c9.4-9.4 24.6-9.4 33.9 0l95 95 95-95c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9L305 505c-4.5 4.5-10.6 7-17 7s-12.5-2.5-17-7L159 393c-9.4-9.4-9.4-24.6 0-33.9zm1-167c0-8.8 7.2-16 16-16H400c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V192zM120 88h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H120c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H200c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H280c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16zm64 16c0-8.8 7.2-16 16-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H360c-8.8 0-16-7.2-16-16V104zm96-16h16c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16H440c-8.8 0-16-7.2-16-16V104c0-8.8 7.2-16 16-16z"/></symbol>\n</svg>'+t.normalizedLayouts.map(((e,o)=>function(t,e,o){let n=[];if(!("layers"in e))return"";for(let r of e.layers)n.push(`<div tabindex="-1" class="MLK__layer" id="${r.id}">`),(t.normalizedLayouts.length>1||e.displayEditToolbar)&&(n.push("<div class='MLK__toolbar' role='toolbar'>"),n.push(Gz(t,o)),e.displayEditToolbar&&n.push('<div class="ML__edit-toolbar right"></div>'),n.push("</div>")),n.push(Xz(t,r)),n.push("</div>");return n.join("")}(t,e,o))).join(""));let n=document.createElement("div");n.className="MLK__backdrop",n.appendChild(o),e.appendChild(n),e.addEventListener("pointerdown",nR,{passive:!1});let r=e.querySelectorAll(".ML__edit-toolbar");if(r)for(let e of r)e.addEventListener("click",(e=>{var o,n;let r=e.target,i="";for(;r&&!i;)i=null!=(o=null==r?void 0:r.getAttribute("data-command"))?o:"",r=null!=(n=null==r?void 0:r.parentElement)?n:null;i&&t.executeCommand(JSON.parse(i))}));!function(t){for(let e of t)Jz(e)}(e.querySelectorAll(".MLK__keycap, .action, .fnbutton, .bigfnbutton"));let i=e.querySelectorAll(".MLK__layer");i.length;for(let t of i)t.addEventListener("pointerdown",(t=>t.preventDefault()));return t.currentLayer=t.latentLayer,e}function Xz(t,e){if("string"==typeof e)return e;let o="";if("string"==typeof e.style?o+=`<style>${e.style}</style>`:"object"==typeof e.style&&(o+=`<style>${Hz(e.style)}</style>`),e.backdrop&&(o+=`<div class='${e.backdrop}'>`),e.container&&(o+=`<div class='${e.container}'>`),e.rows){o+="<div class=MLK__rows>";for(let n of e.rows){o+='<div dir="ltr" class=MLK__row>';for(let e of n)if(e){let n=t.registerKeycap(e),[r,i]=Qz(e);/(^|\s)separator/.test(i)?o+=`<div class="${i}"`:o+=`<div tabindex="-1" id="${n}" class="${i}"`,e.tooltip&&(o+=` data-tooltip="${e.tooltip}"`),o+=`>${r}</div>`}o+="</div>"}o+="</div>"}else e.markup&&(o+=e.markup);return e.container&&(o+="</div>"),e.backdrop&&(o+="</div>"),o}function Qz(t,e={shifted:!1}){var o,n,r,i,s,l,a;let d="",c=null!=(o=t.class)?o:"";if(e.shifted&&aR(t)&&(c+=" is-active"),e.shifted&&"shift"in t)"string"==typeof t.shift?d=jz(t.shift):"object"==typeof t.shift&&(d=t.shift.label?t.shift.label:null!=(n=jz(t.shift.latex||t.shift.insert||"")||t.shift.key)?n:""),"object"==typeof t.shift&&(c=null!=(i=null!=(r=t.shift.class)?r:t.class)?i:"");else{if(d=t.label?t.label:null!=(s=jz(t.latex||t.insert||"")||t.key)?s:"",t.shift){let e;e="string"==typeof t.shift?jz(t.shift):t.shift.label?t.shift.label:null!=(l=jz(t.shift.latex||t.shift.insert||"")||t.shift.key)?l:"",d+=`<span class="MLK__shift">${e}</span>`}t.aside&&(d+=`<aside>${t.aside}</aside>`)}return t.layer&&!/layer-switch/.test(c)&&(c+=" layer-switch"),/(^|\s)(separator|action|shift|fnbutton|bigfnbutton)($|\s)/.test(c)||(c+=" MLK__keycap"),!/\bw[0-9]+\b/.test(c)&&t.width&&(c+=null!=(a={0:" w0",.5:" w5",1.5:" w15",2:" w20",5:" w50"}[t.width])?a:""),[d,c||"MLK__keycap"]}var tR,eR={"[left]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-left /></svg>",command:"performWithFeedback(moveToPreviousChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-left /></svg>",command:"performWithFeedback(extendSelectionBackward)"}},"[right]":{class:"action hide-shift",label:"<svg class=svg-glyph><use xlink:href=#svg-arrow-right /></svg>",command:"performWithFeedback(moveToNextChar)",shift:{label:"<svg class=svg-glyph><use xlink:href=#svg-angle-double-right /></svg>",command:"performWithFeedback(extendSelectionForward)"}},"[up]":{class:"action hide-shift",label:"↑",command:"performWithFeedback(moveUp)",shift:{label:"↟",command:"performWithFeedback(extendSelectionUpward)"}},"[down]":{class:"action hide-shift",label:"↓",command:"performWithFeedback(moveDown)",shift:{label:"↡",command:"performWithFeedback(extendSelectionDownward)"}},"[return]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[action]":{class:"action hide-shift",command:"performWithFeedback(commit)",shift:{label:"<svg class=svg-glyph><use xlink:href=#circle-plus /></svg>",command:"performWithFeedback(addRowAfter)"},width:1.5,label:"<svg class=svg-glyph><use xlink:href=#svg-commit /></svg>"},"[hr]":{class:"separator horizontal-rule"},"[hide-keyboard]":{class:"action",command:["hideVirtualKeyboard"],width:1.5,label:"<svg class=svg-glyph-lg><use xlink:href=#svg-keyboard-down /></svg>"},"[.]":{variants:".",command:"performWithFeedback(insertDecimalSeparator)",shift:",",class:"big-op hide-shift",label:"."},"[,]":{variants:",",command:"performWithFeedback(insertDecimalSeparator)",shift:".",class:"big-op hide-shift",label:","},"[+]":{variants:[{latex:"\\sum_{#0}^{#0}",class:"small"},"\\oplus"],latex:"+",label:"+",class:"big-op hide-shift",shift:{latex:"\\sum",insert:"\\sum",class:"small"}},"[-]":{variants:["\\pm","\\ominus"],latex:"-",label:"&#x2212;",shift:"\\pm",class:"big-op hide-shift"},"[/]":{class:"big-op hide-shift",shift:{class:"",latex:"\\frac{1}{#@}"},variants:["/","\\div","\\%","\\oslash"],latex:"\\frac{#@}{#?}",label:"&divide;"},"[*]":{variants:[{latex:"\\prod_{#0}^{#0}",class:"small"},"\\otimes","\\cdot"],latex:"\\cdot",label:"&times;",shift:{latex:"\\times"},class:"big-op hide-shift"},"[=]":{variants:["\\neq","\\equiv","\\varpropto","\\thickapprox","\\lt","\\gt","\\le","\\ge"],latex:"=",label:"=",shift:{label:"≠",latex:"\\ne"},class:"big-op hide-shift"},"[backspace]":{class:"action bottom right hide-shift",width:1.5,command:"performWithFeedback(deleteBackward)",label:"<svg class=svg-glyph><use xlink:href=#svg-delete-backward /></svg>",shift:{class:"action warning",label:"<svg class=svg-glyph><use xlink:href=#svg-trash /></svg>",command:"deleteAll"}},"[undo]":{class:"ghost if-can-undo",command:"undo",label:"<svg class=svg-glyph><use xlink:href=#svg-undo /></svg>",tooltip:"tooltip.undo"},"[redo]":{class:"ghost  if-can-redo",command:"redo",label:"<svg class=svg-glyph><use xlink:href=#svg-redo /></svg>",tooltip:"tooltip.redo"},"[(]":{variants:[{latex:"\\lbrack",key:"["},"\\langle","\\lfloor","\\lceil",{latex:"\\lbrace",key:"{"}],key:"(",label:"(",shift:{label:"[",key:"["},class:"hide-shift"},"[)]":{variants:[{latex:"\\rbrack",key:"]"},"\\rangle","\\rfloor","\\rceil",{latex:"\\rbrace",key:"}"}],key:")",label:")",shift:{label:"]",latex:"\\rbrack"},class:"hide-shift"},"[0]":{variants:"0",latex:"0",label:"0",shift:"\\infty",class:"hide-shift"},"[1]":{variants:"1",latex:"1",label:"1",shift:"#@^{-1}",class:"hide-shift"},"[2]":{variants:"2",latex:"2",label:"2",shift:"#@^2",class:"hide-shift"},"[3]":{variants:"3",latex:"3",label:"3",shift:"#@^3",class:"hide-shift"},"[4]":{variants:"4",latex:"4",label:"4",shift:"#@^4",class:"hide-shift"},"[5]":{variants:"5",latex:"5",label:"5",shift:"#@^5",class:"hide-shift"},"[6]":{variants:"6",latex:"6",label:"6",shift:"#@^6",class:"hide-shift"},"[7]":{variants:"7",latex:"7",label:"7",shift:"#@^7",class:"hide-shift"},"[8]":{variants:"8",latex:"8",label:"8",shift:"#@^8",class:"hide-shift"},"[9]":{variants:"9",latex:"9",label:"9",shift:"#@^9",class:"hide-shift"},"[separator-5]":{class:"separator",width:.5},"[separator]":{class:"separator"},"[separator-10]":{class:"separator"},"[separator-15]":{class:"separator",width:1.5},"[separator-20]":{class:"separator",width:2},"[separator-50]":{class:"separator",width:5},"[shift]":{class:"shift bottom left",width:1.5,label:"<span class=caps-lock-indicator></span><svg class=svg-glyph><use xlink:href=#svg-shift /></svg>"},"[foreground-color]":{variants:"foreground-color",command:["applyStyle",{color:"red"}],label:"<span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'>"},"[background-color]":{variants:"background-color",command:["applyStyle",{backgroundColor:"yellow"}],label:"<span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span>"}};function oR(t){var e;if("string"==typeof t){if("[.]"===t&&","===globalThis.MathfieldElement.decimalSeparator&&(t="[,]"),!eR[t])return{latex:t};t={label:t}}let o;return"label"in t&&t.label&&eR[t.label]&&(o=IA(PA(PA({},eR[t.label]),t),{label:eR[t.label].label})),"key"in t&&t.key&&eR[t.key]&&(o=IA(PA(PA({},eR[t.key]),t),{key:eR[t.key].key})),o?("insertDecimalSeparator"===o.command&&(o.label=null!=(e=globalThis.MathfieldElement.decimalSeparator)?e:"."),(void 0===o.tooltip||null===o.tooltip||!1===o.tooltip)&&delete o.tooltip,(void 0===o.tooltip||null===o.tooltip||!1===o.tooltip)&&delete o.tooltip,(void 0===o.aside||null===o.aside||!1===o.aside)&&delete o.aside,(void 0===o.variants||null===o.variants||!1===o.variants)&&delete o.variants,(void 0===o.shift||null===o.shift||!1===o.shift)&&delete o.shift,o):t}function nR(t){var e;if(0!==t.button)return;let o=dR.singleton;if(!o)return;let n=t.target;for(;n&&!n.getAttribute("data-layer");)n=n.parentElement;if(n)return o.currentLayer=null!=(e=n.getAttribute("data-layer"))?e:"",void t.preventDefault();let r=lR(t.target);if(null==r||!r.id)return;let i=o.getKeycap(r.id);if(!i)return;t.type;let s=new AbortController,l=s.signal;r.classList.add("is-pressed"),r.addEventListener("pointerenter",rR(s),{capture:!0,signal:l}),r.addEventListener("pointerleave",rR(s),{capture:!0,signal:l}),r.addEventListener("pointercancel",rR(s),{signal:l}),r.addEventListener("pointerup",rR(s),{signal:l}),aR(i)&&(r.classList.add("is-active"),o.shiftPressCount++),i.variants&&(tR&&clearTimeout(tR),tR=setTimeout((()=>{r.classList.contains("is-pressed")&&(r.classList.remove("is-pressed"),r.classList.add("is-active"),t.target&&"releasePointerCapture"in t.target&&t.target.releasePointerCapture(t.pointerId),$z(r,(()=>{s.abort(),null==r||r.classList.remove("is-active")})))}),i.stickyVariantPanel?0:300)),t.preventDefault()}function rR(t){return e=>{let o=lR(e.target);if(null==o||!o.id)return;let n=dR.singleton;if(!n)return;let r=n.getKeycap(o.id);if(r){if("pointerenter"===e.type&&e.target===o&&e.isPrimary&&o.classList.add("is-pressed"),"pointercancel"===e.type)return o.classList.remove("is-pressed"),aR(r)&&(n.shiftPressCount--,o.classList.toggle("is-active",n.isShifted)),void t.abort();if("pointerleave"===e.type&&e.target===o)return o.classList.remove("is-pressed"),void(aR(r)&&(n.shiftPressCount--,o.classList.toggle("is-active",n.isShifted)));if("pointerup"===e.type)return tR&&clearTimeout(tR),aR(r)?o.classList.toggle("is-active",n.isShifted):o.classList.contains("is-pressed")&&(o.classList.remove("is-pressed"),n.isShifted&&r.shift?"string"==typeof r.shift?n.executeCommand(["insert",r.shift,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]):iR(r.shift):iR(r),1===n.shiftPressCount&&!e.shiftKey&&(n.shiftPressCount=0)),t.abort(),void e.preventDefault()}}}function iR(t){var e;let o=t.command;!o&&t.insert&&(o=["insert",t.insert,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),!o&&t.key&&(o=["typedText",t.key,{focus:!0,feedback:!0,simulateKeystroke:!0}]),!o&&t.latex&&(o=["insert",t.latex,{focus:!0,feedback:!0,scrollIntoView:!0,mode:"math",format:"latex"}]),o||(o=["typedText",t.label,{focus:!0,feedback:!0,simulateKeystroke:!0}]),null==(e=dR.singleton)||e.executeCommand(o)}function sR(t){if(1!==t.nodeType)return!1;let e=t.classList;return e.contains("MLK__keycap")||e.contains("shift")||e.contains("action")||e.contains("fnbutton")||e.contains("bigfnbutton")}function lR(t){if(!t)return;let e=t;for(;e&&!sR(e);)e=e.parentElement;return null!=e?e:void 0}function aR(t){return!!t.class&&/(^|\s)shift($|\s)/.test(t.class)}var dR=class t{constructor(){var t;this.originalContainerBottomPadding=null,this.keycapRegistry={},this._shiftPressCount=0,this.targetOrigin=window.origin,this.originValidator="none",this._alphabeticLayout="auto",this._layouts=Object.freeze(["default"]),this._editToolbar="default",this._container=void 0,this._visible=!1,this._rebuilding=!1,this.observer=new ResizeObserver((t=>{this.adjustBoundingRect(),this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect})})),this.listeners={};try{null==(t=window.top)||t.addEventListener("message",this)}catch(t){window.addEventListener("message",this)}document.addEventListener("focusin",(t=>{let e=t.target;null!=e&&e.isConnected&&setTimeout((()=>{let t=cR();t&&!t.readOnly&&"auto"===t.mathVirtualKeyboardPolicy&&VA()&&this.show({animate:!0})}),300)})),document.addEventListener("focusout",(t=>{t.target instanceof wV&&"manual"!==t.target.mathVirtualKeyboardPolicy&&setTimeout((()=>{cR()||this.hide()}),300)}))}get currentLayer(){var t,e,o;return null!=(o=null==(e=null==(t=this._element)?void 0:t.querySelector(".MLK__layer.is-visible"))?void 0:e.id)?o:""}set currentLayer(t){var e;if(!this._element)return void(this.latentLayer=t);let o=t?this._element.querySelector(`#${t}.MLK__layer`):null;o||(o=this._element.querySelector(".MLK__layer")),o&&(null==(e=this._element.querySelector(".MLK__layer.is-visible"))||e.classList.remove("is-visible"),o.classList.add("is-visible")),this.render()}get shiftPressCount(){return this._shiftPressCount}set shiftPressCount(t){var e;this._shiftPressCount=t>2||t<0?0:t,null==(e=this._element)||e.classList.toggle("is-caps-lock",2===this.shiftPressCount),this.render()}get isShifted(){return this._shiftPressCount>0}resetKeycapRegistry(){this.keycapRegistry={}}registerKeycap(t){let e="ML__k"+Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36);return this.keycapRegistry[e]=t,e}setKeycap(t,e){eR[t]=oR(e),this.rebuild()}getKeycap(t){var e;return t?null!=(e=eR[t])?e:this.keycapRegistry[t]:void 0}getLayer(t){let e=this.normalizedLayouts;for(let o of e)for(let e of o.layers)if(e.id===t)return e}get alphabeticLayout(){return this._alphabeticLayout}set alphabeticLayout(t){this._alphabeticLayout=t,this._normalizedLayouts=void 0,this.rebuild()}get layouts(){return this._layouts}set layouts(t){this.updateNormalizedLayouts(t),this.rebuild()}updateNormalizedLayouts(t){let e=Array.isArray(t)?[...t]:[t],o=e.findIndex((t=>"default"===t));o>=0&&e.splice(o,1,"numeric","symbols","alphabetic","greek"),this._layouts=Object.freeze(e),this._normalizedLayouts=e.map((t=>Uz(t)))}get normalizedLayouts(){return this._normalizedLayouts||this.updateNormalizedLayouts(this._layouts),this._normalizedLayouts}get editToolbar(){return this._editToolbar}set editToolbar(t){this._editToolbar=t,this.rebuild()}get container(){return void 0===this._container?window.document.body:this._container}set container(t){this._container=t,this.rebuild()}static get singleton(){if(void 0===this._singleton)try{this._singleton=new t}catch(t){this._singleton=null}return this._singleton}get style(){return this._style}addEventListener(t,e,o){this.listeners[t]||(this.listeners[t]=new Set),this.listeners[t].has(e)||this.listeners[t].add(e)}dispatchEvent(t){return!this.listeners[t.type]||0===this.listeners[t.type].size||(this.listeners[t.type].forEach((e=>{"function"==typeof e?e(t):null==e||e.handleEvent(t)})),!t.defaultPrevented)}removeEventListener(t,e,o){this.listeners[t]&&this.listeners[t].delete(e)}get element(){return this._element}set element(t){var e;this._element!==t&&(null==(e=this._element)||e.remove(),this._element=t)}get visible(){return this._visible}set visible(t){t?this.show():this.hide()}get boundingRect(){var t;if(!this._visible)return new DOMRect;let e=null==(t=this._element)?void 0:t.getElementsByClassName("MLK__plate")[0];return e?e.getBoundingClientRect():new DOMRect}adjustBoundingRect(){var t,e;let o=this.boundingRect.height;if(this.container===document.body){null==(t=this._element)||t.style.setProperty("--_keyboard-height",`calc(${o}px + var(--_padding-top) + var(--_padding-bottom) + env(safe-area-inset-bottom, 0))`);let e=o-1;this.container.style.paddingBottom=this.originalContainerBottomPadding?`calc(${this.originalContainerBottomPadding} + ${e}px)`:`${e}px`}else null==(e=this._element)||e.style.setProperty("--_keyboard-height",`${o}px`)}rebuild(){if(this._rebuilding||!this._element)return;this._rebuilding=!0;let t=this.currentLayer;requestAnimationFrame((()=>{this._rebuilding=!1,this._element&&(this._element.remove(),this._element=void 0),this.visible&&(this.buildAndAttachElement(),this.currentLayer=t,this.render(),this.adjustBoundingRect(),this._element.classList.add("is-visible"))}))}render(){var t;if(!this._element)return;let e=this.getLayer(this.currentLayer);this._element.classList.toggle("backdrop-is-transparent",!(!e||!e.backdrop&&!e.container));let o=this._element.querySelectorAll(".MLK__layer.is-visible .MLK__keycap, .MLK__layer.is-visible .action, .fnbutton, .MLK__layer.is-visible .bigfnbutton, .MLK__layer.is-visible .shift");if(!o)return;let n=this.isShifted;for(let e of o){let o=this.getKeycap(e.id);if(o){let[r,i]=Qz(o,{shifted:n});e.innerHTML=globalThis.MathfieldElement.createHTML(r),e.className=i,n&&"object"==typeof o.shift&&null!=(t=o.shift)&&t.tooltip?e.dataset.tooltip=o.shift.tooltip:!n&&o.tooltip&&(e.dataset.tooltip=o.tooltip)}}}show(t){var e;if(this._visible)return;let o=this.container;if(o&&window.mathVirtualKeyboard&&this.stateWillChange(!0)){if(this._element||(this.buildAndAttachElement(),this.adjustBoundingRect()),!this._visible){let t=this._element.getElementsByClassName("MLK__plate")[0];if(t&&this.observer.observe(t),o===window.document.body){let e=o.style.paddingBottom;this.originalContainerBottomPadding=e;let n=t.offsetHeight-1;o.style.paddingBottom=e?`calc(${e} + ${n}px)`:`${n}px`}window.addEventListener("mouseup",this),window.addEventListener("blur",this),window.addEventListener("keydown",this,{capture:!0}),window.addEventListener("keyup",this,{capture:!0}),null==(e=this._element)||e.classList.toggle("is-caps-lock",2===this.shiftPressCount),this.currentLayer=this.latentLayer}this._visible=!0,null!=t&&t.animate?requestAnimationFrame((()=>{this._element&&(this._element.classList.add("animate"),this._element.addEventListener("transitionend",(()=>{var t;return null==(t=this._element)?void 0:t.classList.remove("animate")}),{once:!0}),this._element.classList.add("is-visible"),this.stateChanged())})):(this._element.classList.add("is-visible"),this.stateChanged())}}hide(t){var e;let o=this.container;if(o&&this._visible&&this.stateWillChange(!1)){if(this._visible=!1,this._element){this.latentLayer=this.currentLayer;let t=this._element.getElementsByClassName("MLK__plate")[0];t&&this.observer.unobserve(t),window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("keydown",this,{capture:!0}),window.removeEventListener("keyup",this,{capture:!0}),window.removeEventListener("contextmenu",this,{capture:!0}),Kz(),QL("core"),QL("virtual-keyboard"),null==(e=this._element)||e.remove(),this._element=void 0,null!==this.originalContainerBottomPadding&&(o.style.paddingBottom=this.originalContainerBottomPadding)}this.stateChanged()}}get height(){var t,e;return null!=(e=null==(t=this.element)?void 0:t.offsetHeight)?e:0}buildAndAttachElement(){var t;this.element,this.element=Yz(this),window.addEventListener("contextmenu",this,{capture:!0}),this.element.addEventListener("contextmenu",(t=>{t.shiftKey||((t.ctrlKey||2===t.button)&&$z(t.target),t.preventDefault(),t.stopPropagation())}),{capture:!0}),null==(t=this.container)||t.appendChild(this.element)}handleEvent(t){if(Rz(t)){if(!FL(t.origin,this.originValidator))throw new DOMException(`Message from unknown origin (${t.origin}) cannot be handled`,"SecurityError");"disconnect"===t.data.action?this.connectedMathfieldWindow=void 0:"update-setting"!==t.data.action&&"proxy-created"!==t.data.action&&"execute-command"!==t.data.action&&(t.source,this.connectedMathfieldWindow=t.source),this.handleMessage(t.data,t.source)}if(this._element)switch(t.type){case"mouseup":case"blur":document.body.style.userSelect="",this.shiftPressCount=0;break;case"contextmenu":2!==t.button&&t.preventDefault();break;case"keydown":"Shift"===t.key&&!t.repeat&&(this.shiftPressCount=1);break;case"keyup":("Shift"===t.key||!t.getModifierState("Shift")&&2!==this.shiftPressCount)&&(this.shiftPressCount=0)}}handleMessage(t,e){let{action:o}=t;if("execute-command"!==o){if(("connect"===o||"show"===o)&&this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},e),"disconnect"!==o&&window===window.top){if("show"===o)return void(void 0!==t.animate?this.show({animate:t.animate}):this.show());if("hide"===o)return void(void 0!==t.animate?this.hide({animate:t.animate}):this.hide());if("update-setting"===o){if(t.alphabeticLayout&&(this.alphabeticLayout=t.alphabeticLayout),t.layouts&&(this.layouts=t.layouts),t.editToolbar&&(this.editToolbar=t.editToolbar),t.setKeycap){let{keycap:e,value:o}=t.setKeycap;this.setKeycap(e,o),this.render()}return}if("proxy-created"===o)return void this.sendMessage("synchronize-proxy",{boundingRect:this.boundingRect,alphabeticLayout:this._alphabeticLayout,layouts:this._layouts,editToolbar:this._editToolbar},e)}}else{let{command:e}=t,o=Pz(e);if(void 0!==window.top&&"virtual-keyboard"!==o)return;this.executeCommand(e)}}sendMessage(t,e,o){if(e.command&&this.dispatchEvent(new CustomEvent("math-virtual-keyboard-command",{detail:e.command})),o||(o=this.connectedMathfieldWindow),null!==this.targetOrigin&&"null"!==this.targetOrigin&&o!==window){if(o)o.postMessage(PA({type:zz,action:t},e),{targetOrigin:this.targetOrigin});else if("execute-command"===t&&Array.isArray(e.command)&&"insert"===e.command[0]){let t=e.command[1].split("");for(let e of t)this.dispatchEvent(new KeyboardEvent("keydown",{key:e,bubbles:!0})),this.dispatchEvent(new KeyboardEvent("keyup",{key:e,bubbles:!0}))}}else window.dispatchEvent(new MessageEvent("message",{source:window,data:PA({type:zz,action:t},e)}))}stateWillChange(t){return this.dispatchEvent(new CustomEvent("before-virtual-keyboard-toggle",{detail:{visible:t},bubbles:!0,cancelable:!0,composed:!0}))}stateChanged(){this.dispatchEvent(new Event("virtual-keyboard-toggle")),this._visible||(this.dispatchEvent(new Event("geometrychange")),this.sendMessage("geometry-changed",{boundingRect:this.boundingRect}))}focus(){this.sendMessage("focus",{})}blur(){this.sendMessage("blur",{})}updateToolbar(t){let e=this._element;if(!e)return;e.classList.toggle("is-math-mode","math"===t.mode),e.classList.toggle("is-text-mode","text"===t.mode),e.classList.toggle("can-undo",t.canUndo),e.classList.toggle("can-redo",t.canRedo),e.classList.toggle("can-copy",!t.selectionIsCollapsed),e.classList.toggle("can-copy",!t.selectionIsCollapsed),e.classList.toggle("can-paste",!0);let o=e.querySelectorAll(".ML__edit-toolbar");if(o)for(let e of o)e.innerHTML=Zz(this,t)}update(t){this._style=t.style,this.updateToolbar(t)}connect(){this.connectedMathfieldWindow=window}disconnect(){this.connectedMathfieldWindow=void 0}executeCommand(t){if(!(t=Iz(t)))return!1;let e,o=[],n=Pz(t);return FA(t)?(e=t[0],"performWithFeedback"===e&&(n=Pz(t.slice(1))),o=t.slice(1)):e=t,"virtual-keyboard"===n?Tz[e].fn(void 0,...o):(this.sendMessage("execute-command",{command:t}),!1)}dispose(){window.removeEventListener("mouseup",this),window.removeEventListener("blur",this),window.removeEventListener("message",this)}};function cR(){let t=jI(),e=null;for(;t;){if("host"in t&&t.host instanceof wV){e=t.host;break}t=t.parentNode}return e}if(OA()&&!("mathVirtualKeyboard"in window))if(window===window.top){let t=dR.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>t})}else Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>Oz.singleton,configurable:!0});function hR(t){let e={};for(let o of Object.keys(t))switch(o){case"scriptDepth":let n=t.scriptDepth;if(FA(n))e.scriptDepth=[n[0],n[1]];else if("number"==typeof n)e.scriptDepth=[n,n];else{if("string"!=typeof n)throw new TypeError("Unexpected value for scriptDepth");{let[t,o]=n.split(",").map((t=>parseInt(t.trim())));e.scriptDepth=[t,o]}}break;case"mathVirtualKeyboardPolicy":let r=t.mathVirtualKeyboardPolicy.toLowerCase();if("sandboxed"===r){if(window!==window.top){let t=dR.singleton;Object.defineProperty(window,"mathVirtualKeyboard",{get:()=>t})}r="manual"}e.mathVirtualKeyboardPolicy=r;break;case"letterShapeStyle":"auto"===t.letterShapeStyle?qA.locale.startsWith("fr")?e.letterShapeStyle="french":e.letterShapeStyle="tex":e.letterShapeStyle=t.letterShapeStyle;break;case"defaultMode":["text","math","inline-math"].includes(t.defaultMode)?e.defaultMode=t.defaultMode:(console.error('MathLive 0.105.0:  valid values for defaultMode are "text", "math" or "inline-math"'),e.defaultMode="math");break;case"macros":e.macros=DC(t.macros);break;default:FA(t[o])?e[o]=[...t[o]]:"object"!=typeof t[o]||t[o]instanceof Element||"computeEngine"===o?e[o]=t[o]:e[o]=PA({},t[o])}return e}function uR(t,e){let o;o="string"==typeof e?[e]:void 0===e?Object.keys(t):e;let n={};for(let e of o)null===t[e]?n[e]=null:FA(t[e])?n[e]=[...t[e]]:"object"!=typeof t[e]||t[e]instanceof Element||"computeEngine"===e?n[e]=t[e]:n[e]=PA({},t[e]);return"string"==typeof e?n[e]:n}function pR(){return{readOnly:!1,defaultMode:"math",macros:{},registers:{},colorMap:YA,backgroundColorMap:XA,letterShapeStyle:qA.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,smartMode:!1,smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,isImplicitFunction:t=>["\\sin","\\cos","\\tan","\\arcsin","\\arccos","\\arctan","\\arcsec","\\arccsc","\\arsinh","\\arcosh","\\artanh","\\arcsech","\\arccsch","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th","\\lg","\\lb","\\log","\\ln"].includes(t),mathModeSpace:"",placeholderSymbol:"▢",contentPlaceholder:"",popoverPolicy:"auto",environmentPopoverPolicy:"off",keybindings:EL,inlineShortcuts:bL,inlineShortcutTimeout:0,mathVirtualKeyboardPolicy:"auto",virtualKeyboardTargetOrigin:null==window?void 0:window.origin,originValidator:"none",onInsertStyle:nz,onInlineShortcut:()=>"",onScrollIntoView:null,onExport:AL,value:""}}function mR(t){return"inline-math"===t.defaultMode?"math":t.defaultMode}function gR(t,e=[[[]]],o=[],n=[],r){switch(t){case"math":case"displaymath":return new AP(t,e,o,{mathstyleName:"textstyle",isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"center":return new AP(t,e,o,{columns:[{align:"c"}],classes:["ML__center_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1,maxRows:1});case"multline":case"multline*":return new AP(t,e,o,{columns:[{align:"m"}],leftDelim:".",rightDelim:".",isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"split":return new AP(t,e,o,{columns:[{align:"r"},{align:"l"}],minColumns:2,minRows:1,isRoot:!1});case"gather":case"gather*":return new AP(t,e,o,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1,isRoot:!0,classes:["ML__gather_environment"]});case"gathered":return new AP(t,e,o,{columns:[{gap:.25},{align:"c"},{gap:0}],minColumns:1,maxColumns:1,minRows:1});case"equation":case"equation*":case"subequations":return new AP(t,e,o,{columns:[{align:"c"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1});case"aligned":{let n=0;for(let t of e)n=Math.max(n,t.length);let r=[{gap:0},{align:"r"},{gap:.25},{align:"l"}],i=2;for(;i<n;)r.push({gap:1},{align:"r"},{gap:.25},{align:"l"}),i+=2;return r.push({gap:0}),new AP(t,e,o,{arraycolsep:0,columns:r,minColumns:2,minRows:1,isRoot:"aligned"!==t})}case"eqnarray":return new AP(t,e,o,{arraycolsep:0,columns:[{gap:0},{align:"r"},{align:"c"},{align:"l"}],minColumns:3,maxColumns:3,minRows:1,isRoot:!0,classes:["ML__eqnarray_environment"]});case"align":case"align*":return new AP(t,e,o,{arraycolsep:0,columns:[{gap:0},{align:"r"},{gap:.25},{align:"l"}],minColumns:2,maxColumns:2,minRows:1,isRoot:!0,classes:["ML__align_environment"]});case"pmatrix":case"pmatrix*":return new AP(t,e,o,{mathstyleName:"textstyle",leftDelim:"(",rightDelim:")",columns:bR(n[0],r)});case"bmatrix":case"bmatrix*":return new AP(t,e,o,{mathstyleName:"textstyle",leftDelim:"[",rightDelim:"]",columns:bR(n[0],r)});case"Bmatrix":case"Bmatrix*":return new AP(t,e,o,{mathstyleName:"textstyle",leftDelim:"\\lbrace",rightDelim:"\\rbrace",columns:bR(n[0],r)});case"vmatrix":case"vmatrix*":return new AP(t,e,o,{mathstyleName:"textstyle",leftDelim:"\\vert",rightDelim:"\\vert",columns:bR(n[0],r)});case"Vmatrix":case"Vmatrix*":return new AP(t,e,o,{mathstyleName:"textstyle",leftDelim:"\\Vert",rightDelim:"\\Vert",columns:bR(n[0],r)});case"matrix":case"matrix*":return new AP(t,e,o,{mathstyleName:"textstyle",leftDelim:".",rightDelim:".",columns:bR(null==n?void 0:n[0],r)});case"smallmatrix":case"smallmatrix*":return new AP(t,e,o,{mathstyleName:"scriptstyle",columns:bR(null==n?void 0:n[0],r),colSeparationType:"small",arraystretch:.5});case"cases":case"dcases":return new AP(t,e,o,{mathstyleName:"dcases"===t?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]});case"rcases":return new AP(t,e,o,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]});case"lines":return new AP(t,e,o,{leftDelim:".",rightDelim:".",columns:[{align:"l"}],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})}return new AP(t,e,o,{mathstyleName:"textstyle"})}function bR(t,e=10){return null!=t?t:Array(e).fill({align:"c"})}function fR(t,e,o){let n=t.getCell(e,o);return!(!n||2!==n.length)&&"placeholder"===n[1].type}function wR(t,e,o,n){let r=function(t,e,o,n){let r=e.getCell(o,n);return r?[t.offsetOf(r[0]),t.offsetOf(r[r.length-1])]:-1}(t,e,o,n);"number"!=typeof r&&t.setSelection(r)}function xR(t,e,o,n,r){let i=e.getCell(o,n);i&&t.setPositionHandlingPlaceholder(t.offsetOf(i["start"===r?0:i.length-1]))}function kR(t,e){let[o,[n,r]]=function(t,e){let o=t.at(t.position);for(;o&&!(o.parent instanceof AP);)o=o.parent;if(o&&"array"===o.type&&o.environmentName,!(o&&o.parent instanceof AP)){let n=t.at(t.position);if(o=n,!o.parent.parent){let o,r=t.extractAtoms([t.position,t.lastOffset]),i=t.extractAtoms([0,t.position]);return e.endsWith("column")?(0===i.length&&(i=CR()),0===r.length&&(r=CR()),o=gR("split",[[i,r]]),t.root=o,fR(o,0,0)?wR(t,o,0,0):fR(o,0,1)?wR(t,o,0,1):t.position=t.offsetOf(n)):(o=gR("lines",[[i],[r]]),t.root=o,wR(t,o,1,0)),[void 0,[0,0]]}if(o.parent instanceof PP){let n=o.parent,r=t.extractAtoms([t.position,t.offsetOf(n.lastChild)]),i=t.extractAtoms([t.offsetOf(n.firstChild),t.position]);0===i.length&&(i=CR()),0===r.length&&(r=CR());let s="pmatrix",l=n.leftDelim,a=n.rightDelim;"("!==l||")"!==a&&"?"!==a?"["!==l&&"\\lbrack"!==l||"]"!==a&&"\\rbrack"!==a&&"?"!==a?"\\vert"===l&&"\\vert"===a?s="vmatrix":"\\Vert"===l&&"\\Vert"===a?s="Vmatrix":("{"===l||"\\lbrace"===l)&&("."===a||"?"===a)&&(s="cases"):s="bmatrix":s="pmatrix";let d=gR(s,e.endsWith("column")?[[i,r]]:[[i],[r]]);return n.parent.addChildBefore(d,n),n.parent.removeChild(n),fR(d,0,0)?wR(t,d,0,0):e.endsWith("column")?fR(d,0,1)?wR(t,d,0,1):t.position=t.offsetOf(o):fR(d,1,0)?wR(t,d,1,0):t.position=t.offsetOf(o),[void 0,[0,0]]}}return o&&o.parent instanceof AP?[o.parent,o.parentBranch]:[void 0,[0,0]]}(t,e);if(o)switch(e){case"after row":o.addRowAfter(n),xR(t,o,n+1,0,"end");break;case"after column":if(o.maxColumns<=o.colCount)return void t.announce("plonk");o.addColumnAfter(r),xR(t,o,n,r+1,"end");break;case"before row":o.addRowBefore(n),xR(t,o,n,0,"start");break;case"before column":if(o.maxColumns<=o.colCount)return void t.announce("plonk");o.addColumnBefore(r),xR(t,o,n,r,"start")}}function yR(t){var e;let o=t.at(t.position);if(!iL(o.parentBranch)&&o.parent!==t.root&&"root"!==t.root.type)return t.announce("plonk"),!1;if(!t.contentWillChange({inputType:"insertText"}))return!1;if(null!=(e=t.parentEnvironment)&&e.isMultiline){t.selectionIsCollapsed||t.deleteAtoms(hL(t.selection));let[e,o]=function(t){let e=t.at(t.position);for(;e&&!iL(e.parentBranch);)e=e.parent;return[e.firstSibling,e.lastSibling]}(t),n=t.extractAtoms([t.position,t.offsetOf(o)]),r=t.extractAtoms([t.offsetOf(e),t.position]),i=e.parent,[s,l]=e.parentBranch;return i.setCell(s,l,r),kR(t,"after row"),i.setCell(s+1,l,n),t.position=t.offsetOf(i.getCell(s+1,l)[0]),t.contentDidChange({inputType:"insertText"}),!0}return kR(t,"after row"),t.contentDidChange({inputType:"insertText"}),!0}function vR(t){return!!t.contentWillChange({inputType:"insertText"})&&(kR(t,"after column"),t.contentDidChange({inputType:"insertText"}),!0)}function _R(t,e){if(!t.contentWillChange({}))return!1;t.mathfield.snapshot();let o=".",n=".";switch(e){case"pmatrix":case"pmatrix*":o="(",n=")";break;case"bmatrix":case"bmatrix*":o="[",n="]";break;case"Bmatrix":case"Bmatrix*":o="\\lbrace",n="\\rbrace";break;case"vmatrix":case"vmatrix*":o="\\vert",n="\\vert";break;case"Vmatrix":case"Vmatrix*":o="\\Vert",n="\\Vert";break;case"matrix":case"matrix*":o=".",n=".";break;case"cases":case"dcases":o="\\lbrace";break;case"rcases":n="\\rbrace"}let r=t.at(t.position),i="array"===r.type?r:t.parentEnvironment;return i.environmentName=e,i.leftDelim=o,i.rightDelim=n,t.contentDidChange({}),!0}function AR(t,e){let o=t.at(t.position);for(;o&&!(Array.isArray(o.parentBranch)&&o.parent instanceof AP);)o=o.parent;if(Array.isArray(null==o?void 0:o.parentBranch)&&(null==o?void 0:o.parent)instanceof AP){let n,r=o.parent,i=o.parentBranch;switch(e){case"row":if(r.rowCount>1){r.removeRow(i[0]);let e=r.getCell(Math.max(0,i[0]-1),i[1]);n=t.offsetOf(e[e.length-1])}break;case"column":if(r.colCount>r.minColumns){r.removeColumn(i[1]);let e=r.getCell(i[0],Math.max(0,i[1]-1));n=t.offsetOf(e[e.length-1])}}void 0!==n&&t.setPositionHandlingPlaceholder(n)}}function CR(){return[new fP]}CC(["math","displaymath"],gR),CC("center",gR),AC(["multline","multline*"],"",gR),SC("displaylines","",{parse:t=>{if(t.skipWhitespace(),!t.match("<{>"))return[];let e=[],o=[];for(t.mathlist.length>0&&e.push([t.mathlist]),t.beginContext({tabular:!0,root:!0});;){if(t.end()||t.match("<}>"))break;t.matchColumnSeparator()||t.matchRowSeparator()?(e.push([o]),o=[]):o.push(...t.scan((t=>["<}>","&","\\cr","\\\\","\\tabularnewline"].includes(t))))}t.endContext(),e.push([o]);let n=t.scan();return n.length>0&&e.push([n]),e},createAtom:t=>new AP("lines",t.args,[],{leftDelim:".",rightDelim:".",columns:[{align:"l"}],classes:["ML__multiline_environment"],isRoot:!0,minColumns:1,maxColumns:1,minRows:1})}),AC("split","",gR),AC(["gather","gather*","gathered"],"",gR),AC(["equation","equation*","subequations"],"",gR),CC(["align","align*","eqnarray"],gR,{tabular:!0}),AC(["aligned"],"",gR),AC("array","{columns:colspec}",((t,e,o,n)=>new AP(t,e,o,{columns:n[0],mathstyleName:"textstyle"}))),AC(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",gR),AC(["smallmatrix","smallmatrix*"],"[columns:colspec]",gR),AC(["cases","dcases","rcases"],"",gR),Bz({addRowAfter:yR,addColumnAfter:vR,addRowBefore:function(t){return!!t.contentWillChange({inputType:"insertText"})&&(kR(t,"before row"),t.contentDidChange({inputType:"insertText"}),!0)},addColumnBefore:function(t){return!!t.contentWillChange({inputType:"insertText"})&&(kR(t,"before column"),t.contentDidChange({inputType:"insertText"}),!0)},removeRow:function(t){return!!t.contentWillChange({inputType:"deleteContent"})&&(AR(t,"row"),t.contentDidChange({inputType:"deleteContent"}),!0)},removeColumn:function(t){return!!t.contentWillChange({inputType:"deleteContent"})&&(AR(t,"column"),t.contentDidChange({inputType:"deleteContent"}),!0)},setEnvironment:_R},{target:"model",canUndo:!0,changeContent:!0,changeSelection:!0});var SR=class t{constructor(t){this.recording=!1,this.model=t,this.reset()}reset(){this.stack=[],this.index=-1,this.lastOp=""}startRecording(){this.recording=!0}stopRecording(){this.recording=!1}canUndo(){return this.index-1>=0}canRedo(){return this.stack.length-1>this.index}stopCoalescing(t){t&&this.index>=0&&(this.stack[this.index].selection=t),this.lastOp=""}undo(){return!!this.canUndo()&&(this.model.setState(this.stack[this.index-1],{silenceNotifications:!1,type:"undo"}),this.index-=1,this.lastOp="",!0)}redo(){return!!this.canRedo()&&(this.index+=1,this.model.setState(this.stack[this.index],{silenceNotifications:!1,type:"redo"}),this.lastOp="",!0)}pop(){this.canUndo()&&(this.stack.splice(this.index,this.stack.length-this.index),this.index-=1)}snapshot(e){return!!this.recording&&(e&&e===this.lastOp&&this.pop(),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push(this.model.getState()),this.index+=1,this.stack.length>t.maximumDepth&&(this.stack.shift(),this.index-=1),this.lastOp=null!=e?e:"",!0)}};SR.maximumDepth=1e3;var ER=SR;function MR(t,e,o){if("text"!==t.at(e).mode)return e;let n,r="backward"===o?-1:1;if(dC.test(t.at(e).value)){let o,i=e;do{o="text"===t.at(i).mode&&dC.test(t.at(i).value),i+=r}while(t.at(i)&&o);n=t.at(i)?i-2*r:i-r}else if(/\s/.test(t.at(e).value)){let o=e;for(;t.at(o)&&"text"===t.at(o).mode&&/\s/.test(t.at(o).value);)o+=r;if(t.at(o)){let e=!0;do{e="text"===t.at(o).mode&&!/\s/.test(t.at(o).value),o+=r}while(t.at(o)&&e);n=t.at(o)?o-2*r:o-r}else n=o-r}else{let o=e;for(;t.at(o)&&"text"===t.at(o).mode&&!/\s/.test(t.at(o).value);)o+=r;n=t.at(o)?o:o-r;let i=!0;for(;t.at(o)&&i;)i="text"===t.at(o).mode&&/\s/.test(t.at(o).value),i&&(n=o),o+=r;n=t.at(o)?o-2*r:o-r}return n-(r>0?0:1)}function DR(t,e,o){var n,r,i,s,l,a,d;let c=t.position;null!=(n=null==o?void 0:o.extend)&&n||t.collapseSelection(e);let h=t.at(t.position);if("forward"===e&&("subsup"===h.type?(h=h.rightSibling,h||(h=t.at(t.position+1))):h=t.at(t.position+1)),!h)return t.announce("plonk"),!1;let u=t.offsetOf(h);if(h instanceof dL)u=MR(t,u,e);else if(h instanceof tI)if(h.isSuggestion)for(;h&&h instanceof tI;)h.isSuggestion=!1,u=t.offsetOf(h),h=h.rightSibling;else if("forward"===e){if(h=h.rightSibling,!(h&&h instanceof tI))return t.announce("plonk"),!1;for(;h&&h instanceof tI&&/[a-zA-Z\*]/.test(h.value);)u=t.offsetOf(h),h=h.rightSibling}else{if(h=h.leftSibling,!(h&&h instanceof tI))return t.announce("plonk"),!1;for(;h&&h instanceof tI&&/[a-zA-Z\*]/.test(h.value);)u=t.offsetOf(h),h=h.leftSibling}else if("forward"===e&&"mopen"===h.type){let e=0;do{"mopen"===h.type?e+=1:"mclose"===h.type&&(e-=1),h=h.rightSibling}while(!h.isLastSibling&&0!==e);u=t.offsetOf(h.leftSibling)}else if("backward"===e&&"mclose"===h.type){let e=0;do{"mopen"===h.type?e+=1:"mclose"===h.type&&(e-=1),h=h.leftSibling}while(!h.isFirstSibling&&0!==e);u=t.offsetOf(h)}else if("backward"===e)if("first"===h.type)for(;u>0&&"first"===h.type;)u-=1,h=t.at(u);else{let e=h.type;"subsup"===h.type&&(u=t.offsetOf(t.at(u).leftSibling)),u-=1;let o=null==(r=t.at(u))?void 0:r.type;for(;u>=0&&o===e;)"subsup"===(null==(i=t.at(u))?void 0:i.type)?u=t.offsetOf(t.at(u).leftSibling):u-=1,o=t.at(u).type}else{let{type:e}=h,o=null==(s=t.at(u))?void 0:s.type,{lastOffset:n}=t;for(;u<=n&&(o===e||"subsup"===o);){for(;"subsup"===(null==(l=t.at(u).rightSibling)?void 0:l.type);)u=t.offsetOf(t.at(u).rightSibling);u+=1,o=null==(a=t.at(u))?void 0:a.type}u-=1}if(null!=(d=null==o?void 0:o.extend)&&d){if(!t.setSelection(t.anchor,u))return t.announce("plonk"),!1}else{if(u===t.position)return t.announce("plonk"),!1;t.position=u}return t.announce("move",c),t.mathfield.stopCoalescingUndo(),!0}function TR(t,e,o){var n,r;if(o=null!=o?o:{extend:!1},t.mathfield.styleBias="backward"===e?"right":"left","forward"!==e){let[e,o]=ez(t);void 0!==e&&void 0!==o&&t.deleteAtoms([e,o])}if("upward"===e)return function(t,e){var o,n;let r=null!=(o=null==e?void 0:e.extend)&&o;r||t.collapseSelection("backward");let i=()=>{var e,o;let n=!0;return t.silenceNotifications||(n=null==(o=null==(e=t.mathfield.host)?void 0:e.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"upward"},cancelable:!0,bubbles:!0,composed:!0})))||o),t.announce(n?"line":"plonk"),n},s=t.at(t.position),l=s;for(;l&&"below"!==l.parentBranch&&!(Array.isArray(l.parentBranch)&&l.parent instanceof AP);)l=l.parent;if(Array.isArray(null==l?void 0:l.parentBranch)&&l.parent instanceof AP){let e=l.parent;if(l.parentBranch[0]<1)return i();let o=l.parentBranch[0]-1,n=e.getCell(o,l.parentBranch[1]);if(!n.some((t=>"prompt"===t.type&&!t.captureSelection))&&t.mathfield.hasEditablePrompts)return i();PR(t,s,n,r,"up")}else{if(!l)return i();{let e=null!=(n=l.parent.branch("above"))?n:l.parent.createBranch("above");if(!e.some((t=>"prompt"===t.type&&t.placeholderId))&&t.mathfield.hasEditablePrompts)return i();PR(t,s,e,r,"up")}}return t.mathfield.stopCoalescingUndo(),!0}(t,o);if("downward"===e)return function(t,e){var o,n;let r=null!=(o=null==e?void 0:e.extend)&&o;r||t.collapseSelection("forward");let i=()=>{var e,o;let n=!0;return t.silenceNotifications||(n=null==(o=null==(e=t.mathfield.host)?void 0:e.dispatchEvent(new CustomEvent("move-out",{detail:{direction:"downward"},cancelable:!0,bubbles:!0,composed:!0})))||o),t.announce(n?"line":"plonk"),n},s=t.at(t.position),l=s;for(;l&&"above"!==l.parentBranch&&!(iL(l.parentBranch)&&l.parent instanceof AP);)l=l.parent;if(iL(null==l?void 0:l.parentBranch)&&l.parent instanceof AP){let e=l.parent;if(l.parentBranch[0]+1>e.rows.length-1)return i();let o=l.parentBranch[0]+1,n=e.getCell(o,l.parentBranch[1]);if(!n.some((t=>"prompt"===t.type&&!t.captureSelection))&&t.mathfield.hasEditablePrompts)return i();PR(t,s,n,r,"down")}else{if(!l)return i();{let e=null!=(n=l.parent.branch("below"))?n:l.parent.createBranch("below");if(!e.some((t=>"prompt"===t.type))&&t.mathfield.hasEditablePrompts)return i();PR(t,s,e,r,"down")}}return!0}(t,o);if(o.extend){let o=BR(t,t.position,e);o<0&&(o=0),o>t.lastOffset&&(o=t.lastOffset);let n=t.setSelection(t.anchor,o);return t.mathfield.stopCoalescingUndo(),n}if(t.selectionIsPlaceholder){t.collapseSelection(e);let o=TR(t,e);return t.mathfield.stopCoalescingUndo(),o}let i=t.position,s=i;if(t.collapseSelection(e)?(i=t.position,LR(t,i)||(i=BR(t,i,e))):i=BR(t,i,e),i<0||i>t.lastOffset){let o=!0;return t.silenceNotifications||(o=null==(r=null==(n=t.mathfield.host)?void 0:n.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))||r),o&&t.announce("plonk"),o}return t.setPositionHandlingPlaceholder(i),t.mathfield.stopCoalescingUndo(),t.announce("move",s),!0}function BR(t,e,o){return(e+="forward"===o?1:-1)<0||e>t.lastOffset||LR(t,e)?e:BR(t,e,o)}function LR(t,e){var o;let n=t.at(e),r=n.parent;for(;r&&!r.inCaptureSelection;)r=r.parent;return!(null!=r&&r.inCaptureSelection||null!=(o=n.parent)&&o.skipBoundary&&(!n.isFirstSibling&&n.isLastSibling||"first"===n.type)||t.mathfield.hasEditablePrompts&&!n.parentPrompt)}function PR(t,e,o,n,r){let i=t.mathfield.hasEditablePrompts,s=i?o.filter((t=>"prompt"===t.type&&!t.captureSelection)):o,l=OL(t.mathfield.getHTMLElement(e)).right,a=t.offsetOf(function(t,e,o){let n=1/0,r=0;for(;r<e.length;r++){let i=e[r],s=t.getHTMLElement(i);if(!s)continue;let l=OL(s).right,a=Math.abs(o-l);if(!(a<=n))break;n=a}return e[r-1]}(t.mathfield,s,l))-(i?1:0);if(n){let e,[o,n]=t.selection.ranges[0];e=a<("up"===r?o:n)?{ranges:[[a,n]],direction:"backward"}:{ranges:[[o,a]],direction:"forward"},t.setSelection(e)}else t.setPositionHandlingPlaceholder(a);t.announce(`move ${r}`)}function IR(t){let e=t.position,o=t.at(e).parent;return null!=o&&o.parent?(t.position=t.offsetOf(o),t.mathfield.stopCoalescingUndo(),t.announce("move",e),!0):(t.announce("plonk"),!1)}function zR(t){var e;if(t.collapseSelection(),function(t){let e=0,o=t.at(t.position),n=!1;for(;o;)(!o.hasEmptyBranch("superscript")||!o.hasEmptyBranch("subscript"))&&(e+=1),o.hasEmptyBranch("superscript")?o.hasEmptyBranch("subscript")||(n=!1):n=!0,o=o.parent;return n?e:0}(t)>=t.mathfield.options.scriptDepth[1])return t.announce("plonk"),!1;let o=t.at(t.position);return void 0===o.subsupPlacement&&("subsup"!==(null==(e=o.rightSibling)?void 0:e.type)&&o.parent.addChildAfter(new OP({style:o.style}),o),o=o.rightSibling),o.createBranch("superscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(o.superscript[0]))),!0}function RR(t){var e;if(t.collapseSelection(),function(t){let e=0,o=t.at(t.position),n=!1;for(;o;)(!o.hasEmptyBranch("superscript")||!o.hasEmptyBranch("subscript"))&&(e+=1),o.hasEmptyBranch("superscript")?o.hasEmptyBranch("subscript")||(n=!0):n=!1,o=o.parent;return n?e:0}(t)>=t.mathfield.options.scriptDepth[0])return t.announce("plonk"),!1;let o=t.at(t.position);return void 0===o.subsupPlacement&&("subsup"!==(null==(e=t.at(t.position+1))?void 0:e.type)&&o.parent.addChildAfter(new OP({style:t.at(t.position).style}),o),o=t.at(t.position+1)),o.createBranch("subscript"),t.setSelection(t.getSiblingsRange(t.offsetOf(o.subscript[0]))),!0}function FR(){function t(t){return!(!function(t){return!(t.disabled||"hidden"===t.type&&"INPUT"===t.tagName.toUpperCase()||function(t){if(!OA()||t===document.activeElement||t.contains(document.activeElement))return!1;if("hidden"===getComputedStyle(t).visibility)return!0;let e=t.getBoundingClientRect();if(0===e.width||0===e.height)return!0;for(;t;){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}(t))}(t)||function(t){return"INPUT"===t.tagName.toUpperCase()&&"radio"===t.type&&!function(t){var e;if(!t.name)return!0;let o=(null!=(e=t.form)?e:t.ownerDocument).querySelectorAll('input[type="radio"][name="'+t.name+'"]'),n=function(t,e){for(let o of t)if(o.checked&&o.form===e)return o;return null}(o,t.form);return!n||n===t}(t)}(t)||e(t)<0)}function e(t){var e;let o=Number.parseInt(null!=(e=t.getAttribute("tabindex"))?e:"NaN",10);return Number.isNaN(o)?"true"===t.contentEditable||("AUDIO"===t.nodeName||"VIDEO"===t.nodeName)&&null===t.getAttribute("tabindex")?0:t.tabIndex:o}return OA()?function(o){let n=[],r=[];return[...o.querySelectorAll('input, select, textarea, a[href], button,\n        [tabindex], audio[controls], video[controls],\n        [contenteditable]:not([contenteditable="false"]), details>summary')].filter(t).forEach(((t,o)=>{let i=e(t);0===i?n.push(t):r.push({documentOrder:o,tabIndex:i,node:t})})),r.sort(((t,e)=>t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex)).map((t=>t.node)).concat(n)}(document.body):[]}function OR(t,e,o="forward"){let n=t.position;if(FA(e)){let r=t.offsetOf(e[0]),i=t.offsetOf(e[e.length-1]);return"forward"===o?t.setSelection(r,i):t.setSelection(i,r),t.announce("move",n),t.mathfield.stopCoalescingUndo(),!0}return OR(t,"forward"===o?[e.leftSibling,e]:[e,e.leftSibling])}function VR(t,e){let o=t.position;if("number"==typeof e&&(e=t.at(e)),"prompt"===e.type)t.setSelection(t.offsetOf(e.firstChild),t.offsetOf(e.lastChild));else{let o=t.offsetOf(e);"placeholder"===e.type?t.setSelection(o-1,o):t.position=o}return t.announce("move",o),t.mathfield.stopCoalescingUndo(),!0}function NR(t,e){var o,n;let r="forward"===e?1:-1;"placeholder"===t.at(t.anchor).type&&TR(t,e);let i,s=t.at(t.anchor).parentPrompt;i=s?"forward"===e?t.offsetOf(s)+1:t.offsetOf(s.leftSibling):Math.max(t.position+r,0);let l=$R(t,i,e);if(!l||"forward"===e&&t.offsetOf(l)<i||"backward"===e&&t.offsetOf(l)>i){if(null!=(n=null==(o=t.mathfield.host)?void 0:o.dispatchEvent(new CustomEvent("move-out",{detail:{direction:e},cancelable:!0,bubbles:!0,composed:!0})))&&!n)return t.announce("plonk"),!1;let i=FR();if(!document.activeElement||i.length<=1)return t.announce("plonk"),!1;let s=i.indexOf(document.activeElement)+r;return s<0&&(s=i.length-1),s>=i.length&&(s=0),i[s].focus(),t.mathfield.stopCoalescingUndo(),!0}return VR(t,l),!0}function $R(t,e=0,o="forward"){return t.findAtom((e=>"placeholder"===e.type||"prompt"===e.type||!t.mathfield.readOnly&&e.treeDepth>2&&e.isFirstSibling&&e.isLastSibling),e,o)}function KR(t,e,o,n){if("forward"===n){let t=e.rightSibling;for(;t&&!o(t);)t=t.rightSibling;return t}let r=e.leftSibling;for(;r&&!o(r);)r=r.leftSibling;return r}function qR(t,e,o){"function"==typeof e&&(o=e,e=1/0),void 0===e&&(e=1/0);let n=t.position,r=!1,i="";for(;!r;){let s=t.at(n);r=0===e||void 0===s||"first"===s.type||"math"!==s.mode||!(s.type&&/mord|mpunct|operator/.test(s.type)||"mop"===s.type&&/[a-zA-Z ]+/.test(s.value))||!s.hasEmptyBranch("superscript")||!s.hasEmptyBranch("subscript")||"function"==typeof o&&!o(s),r||(s.mode="text",s.command=s.value,s.verbatimLatex=void 0,i+=s.value),n-=1,e-=1}t.contentDidChange({data:i,inputType:"insertText"})}function HR(t,e,o){"function"==typeof e&&(o=e,e=1/0),void 0===e&&(e=1/0);let n=t.position,r=!1,i=[];for(;!r;){let s=t.at(n);r=0===e||!s||"first"===s.type||s.isFirstSibling||"text"!==s.mode||" "===s.value||"function"==typeof o&&!o(s),r||(i.push(sL.serialize([s],{defaultMode:"math"})),s.mode="math"),n-=1,e-=1}jR(t),t.contentDidChange({data:vB(i),inputType:"insertText"})}function jR(t){var e;let o=t.position-1;for(;o>=0&&"math"===(null==(e=t.at(o))?void 0:e.mode);)o-=1;if(!(o<0)&&"text"===t.at(o).mode&&" "===t.at(o).value&&"math"===t.at(o-1).mode){t.at(o-1).parent.removeChild(t.at(o-1));let e=t.silenceNotifications;t.silenceNotifications=!0,t.position-=1,t.silenceNotifications=e,t.contentDidChange({inputType:"deleteContent"})}}function WR(){return document.getElementById("mathlive-keystroke-caption-panel")||(XL("keystroke-caption"),XL("core"),cz("mathlive-keystroke-caption-panel"))}function UR(t,e){var o,n,r,i;let{model:s}=t,l=GI(e);if(e.isTrusted){!function(t){var e,o;if(!t||"Unidentified"===t.key||"Dead"===t.key)return;let n=t.shiftKey&&t.altKey?3:t.altKey?2:t.shiftKey?1:0;for(let r of RI)(null==(e=r.mapping[t.code])?void 0:e[n])===t.key?r.score+=1:null!=(o=r.mapping[t.code])&&o[n]&&(r.score=0);RI.sort(((t,e)=>e.score-t.score))}(e);let o=VI();t.keyboardLayout!==o.id&&(t.keyboardLayout=o.id,t._keybindings=void 0)}if(clearTimeout(t.inlineShortcutBufferFlushTimer),t.inlineShortcutBufferFlushTimer=0,function(t,e){if(!t.isSelectionEditable||!t.keystrokeCaptionVisible)return;let o=WR(),n=t.element.getBoundingClientRect();o.style.left=`${n.left}px`,o.style.top=n.top-64+"px",o.innerHTML=globalThis.MathfieldElement.createHTML("<span>"+(NI(e)||e)+"</span>"+o.innerHTML),o.style.visibility="visible",setTimeout((()=>{o.childNodes.length>0&&o.childNodes[o.childNodes.length-1].remove(),0===o.childNodes.length&&(o.style.visibility="hidden")}),3e3)}(t,l),e.isTrusted&&e.defaultPrevented)return t.flushInlineShortcutBuffer(),!1;let a,d=0,c="",h=0,u=t.inlineShortcutBuffer;if(t.isSelectionEditable){if("math"===s.mode)if("[Backspace]"===l)"insert-shortcut"===t.undoManager.lastOp?c="undo":u.pop();else if(HI(e)){let r=UI(e),i=[...null!=(n=null==(o=u[u.length-1])?void 0:o.keystrokes)?n:[],r];u.push({state:s.getState(),keystrokes:i,leftSiblings:ZR(t)}),d=0;let l="";for(;!a&&d<i.length;)h=u.length-(i.length-d),l=i.slice(d).join(""),a=gL(u[h].leftSiblings,l,t.options.inlineShortcuts),!a&&/^[a-zA-Z][a-zA-Z0-9]+?([_\^][a-zA-Z0-9\*\+\-]+?)?$/.test(l)&&(a=t.options.onInlineShortcut(t,l)),d+=1;t.flushInlineShortcutBuffer({defer:!0})}else t.flushInlineShortcutBuffer();t.options.smartMode&&(a?t.switchMode("math"):function(t,e,o){let{model:n}=t;if("latex"===n.mode||!n.at(n.position).isLastSibling||!o||!HI(o))return!1;let r=UI(o);if(!n.selectionIsCollapsed)return!("text"!==t.model.mode||!/[/_^]/.test(r));let i=function(t){let e="",o=t.position,n=!1;for(;!n;){let r=t.at(o);n=!(r&&("text"===r.mode||"math"===r.mode&&r.type&&/mord|mpunct/.test(r.type))),n||(e=r.value+e),o-=1}return e}(n)+r;if("text"===t.model.mode){if("Esc"===e||/[/\\]/.test(r))return!0;if(/[\^_]/.test(r))return/(^|\s)[a-zA-Z][^_]$/.test(i)&&HR(n,1),!0;let t={")":"(","}":"{","]":"["}[r],{parent:o}=n.at(n.position);if(t&&o instanceof PP&&o.leftDelim===t)return!0;if(/(^|[^a-zA-Z])(a|I) $/.test(i))return!1;if(/[$€£₤₺¥¤฿¢₡₧₨₹₩₱]/u.test(r))return!0;if(/(^|[^a-zA-Z'’])[a-zA-Z] $/.test(i))return HR(n,1),!1;if(/\D\.[^\d\s]$/.test(i)){HR(n,1);let t=n.at(n.position);return t.value="⋅",t.style.variant="normal",t.command="\\cdot",t.verbatimLatex=void 0,n.contentDidChange({data:"\\cdot",inputType:"insertText"}),!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(i)||/\.\d$/.test(i)||/\([\d+\-.]$/.test(i))return HR(n,1),!0;if(/\([a-z][,;]$/.test(i))return HR(n,2),!0;if(/[\d+\-=><*|]$/.test(r))return jR(n),!0}else{if("[Space]"===e)return qR(n,void 0,(t=>/[a-z][:,;.]$/.test(t.value))),!0;if(/[a-zA-Z]{3,}$/.test(i)&&!/(dxd|abc|xyz|uvw)$/.test(i))return qR(n,void 0,(t=>/[a-zA-Z]/.test(t.value))),!0;if(/(^|\W)(if)$/i.test(i))return qR(n,1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/u.test(i)&&!/(αβγ)$/.test(i))return qR(n,void 0,(t=>/(:|,|;|.|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/u.test(t.value))),!0;if("?"===r||"."===r&&!/[\d-+]\.$/.test(i))return!0}return!1}(t,l,e)&&(t.switchMode({math:"text",text:"math"}[s.mode]),c=""))}if(!a){if(c||(c=function(t,e,o){if(0===t.length)return"";let n=PI(LI(GI(o))),r=PI({key:o.key,shift:o.shiftKey,alt:o.altKey,ctrl:o.ctrlKey,meta:o.metaKey||o.ctrlKey&&/macos|ios/.test($A()),cmd:!1,win:!1});for(let o=t.length-1;o>=0;o--)if(!(t[o].key!==n&&t[o].key!==r||t[o].ifMode&&t[o].ifMode!==e))return t[o].command;return""}(t.keybindings,s.mode,e)),!c&&("[Enter]"===l||"[Return]"===l)){let o=!0;return s.contentWillChange({inputType:"insertLineBreak"})&&(t.host&&(o=t.host.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),!o&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):(null!=(r=s.parentEnvironment)&&r.isMultiline&&t.executeCommand("addRowAfter"),s.contentDidChange({inputType:"insertLineBreak"}))),o}if((!c||"[Space]"===l)&&"math"===s.mode){if("[Space]"===l){if(t.styleBias="none",t.flushInlineShortcutBuffer(),t.options.mathModeSpace)return SL.insert(s,t.options.mathModeSpace,{format:"latex",mode:"math"}),t.snapshot("insert-space"),c="",t.dirty=!0,t.scrollIntoView(),e.preventDefault&&(e.preventDefault(),e.stopPropagation()),!1;let o=s.at(s.position+1),n=s.at(s.position-1);if("text"===(null==o?void 0:o.mode)||"text"===(null==n?void 0:n.mode))return SL.insert(s," ",{mode:"text"}),t.snapshot("insert-space"),t.dirty=!0,t.scrollIntoView(),!1}null!=(i=s.at(s.position))&&i.isDigit()&&","===globalThis.MathfieldElement.decimalSeparator&&","===UI(e)&&(c="insertDecimalSeparator")}}if(!a&&!c){if(s.mathfield.smartFence){if(YR(s,UI(e),rz(t)))return t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}else{let{parent:o}=s.at(s.position);if(o instanceof PP&&"?"===o.rightDelim&&s.at(s.position).isLastSibling&&/^[)}\]|]$/.test(l))return t.snapshot(),o.isDirty=!0,o.rightDelim=l,s.position+=1,s.selectionDidChange(),s.contentDidChange({data:UI(e),inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1;if(!s.selectionIsCollapsed){let o=UI(e);if("("===o||"{"===o||"["===o){let n={"(":"(","{":"\\lbrace","[":"\\lbrack"}[o],r={"(":")","{":"\\rbrace","[":"\\rbrack"}[o],[i,l]=hL(s.selection);return t.snapshot(),s.position=l,SL.insert(s,r,{format:"latex"}),s.position=i,SL.insert(s,n,{format:"latex"}),s.setSelection(i+1,l+1),s.contentDidChange({data:o,inputType:"insertText"}),t.snapshot("insert-fence"),t.dirty=!0,t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}}}return!0}let p=s.at(Math.max(s.position,s.anchor)),{parent:m}=p;if("moveAfterParent"===c&&"leftright"===(null==m?void 0:m.type)&&p.isLastSibling&&t.options.smartFence&&YR(s,".",t.defaultStyle)&&(c="",Az(t)),t.keyboardDelegate.cancelComposition(),c)t.executeCommand(c);else if(a){let e=rz(t);s.setState(u[h].state);let o=u[u.length-1].keystrokes;o=o.slice(d-1);for(let t of o)SL.insert(s,t,{silenceNotifications:!0,style:e});t.snapshot("insert-shortcut"),s.setState(u[h].state),s.deferNotifications({content:!0,selection:!0,data:a,type:"insertText"},(()=>(SL.insert(s,a,{format:"latex",style:e}),jR(t.model),a.endsWith(" ")&&(t.switchMode("text"),SL.insert(s," ",{style:e,mode:"text"})),t.snapshot(),s.selectionIsCollapsed||t.flushInlineShortcutBuffer(),!0))),t.dirty=!0,s.announce("replacement")}return t.scrollIntoView(),e.preventDefault&&e.preventDefault(),!1}function GR(t,e,o){let{model:n}=t;if(!t.isSelectionEditable)return void n.announce("plonk");null!=o||(o={}),o.focus&&t.focus(),o.feedback&&globalThis.MathfieldElement.playSound("keypress"),"string"==typeof o.mode&&(t.switchMode(o.mode),t.snapshot());let r=wB(e),i=window.mathVirtualKeyboard;if(null!=i&&i.isShifted&&(r="string"==typeof r?r.toUpperCase():r.map((t=>t.toUpperCase()))),o.simulateKeystroke){let e=!0;for(let o of r)UR(t,new KeyboardEvent("keypress",{key:o}))&&(e=!1);if(e)return}if("latex"===n.mode)n.deferNotifications({content:!0,selection:!0,data:e,type:"insertText"},(()=>{sz(t);for(let t of r)SL.insert(n,t,{insertionMode:"replaceSelection"});t.snapshot("insert-latex"),lz(t)}));else if("text"===n.mode){let e=PA(PA({},function(t){var e,o,n,r;if(t.selectionIsCollapsed)return null!=(o=null==(e=t.at(t.position))?void 0:e.style)?o:{};let i=hL(t.selection)[0];return null!=(r=null==(n=t.at(i+1))?void 0:n.style)?r:{}}(n)),t.defaultStyle);for(let t of r)SL.insert(n,t,{style:e,insertionMode:"replaceSelection"});t.snapshot("insert-text")}else if("math"===n.mode)for(let e of r)JR(t,e);t.dirty=!0,t.scrollIntoView()}function ZR(t){let e=t.model,o=[],n=e.at(Math.min(e.position,e.anchor));for(;"first"!==n.type;)o.push(n),n=n.leftSibling;return o}function JR(t,e){let o=t.model,n={"^":"moveToSuperscript",_:"moveToSubscript"," ":t.options.mathModeSpace?["insert",t.options.mathModeSpace]:"moveAfterParent"}[e];if(n)return void t.executeCommand(n);let r=PA({},rz(t));!/[a-zA-Z0-9]/.test(e)&&"none"!==t.styleBias&&(r.variant="normal",r.variantStyle=void 0);let i=o.at(o.position);if(/\d/.test(e)&&t.options.smartSuperscript&&"superscript"===i.parentBranch&&"mop"!==i.parent.type&&"operator"!==i.parent.type&&"extensible-symbol"!==i.parent.type&&i.hasNoSiblings)return SL.insert(o,e,{style:r,insertionMode:"replaceSelection"})?(t.snapshot("insert-mord"),void IR(o)):void t.undoManager.pop();let s=e;"{"===s?s="\\lbrace":"}"===s?s="\\rbrace":"&"===s?s="\\&":"#"===s?s="\\#":"$"===s?s="\\$":"%"===s?s="\\%":"~"===s?s="\\~":"\\"===s&&(s="\\backslash"),SL.insert(o,s,{style:r,insertionMode:"replaceSelection"})&&t.snapshot(`insert-${o.at(o.position).type}`)}function YR(t,e,o){var n;if(!e||"math"!==t.mode)return!1;let r=t.at(t.position),{parent:i}=r,s={"(":"(",")":")","{":"\\lbrace","}":"\\rbrace","[":"\\lbrack","]":"\\rbrack","|":"|"}[e];if(!s)return!1;let l=oP[s],a=eP[s];if(!t.selectionIsCollapsed){t.mathfield.snapshot();let[e,o]=hL(t.selection),n=t.extractAtoms([e,o]),r=i.addChildrenAfter([new PP("left...right",n,{leftDelim:s,rightDelim:a})],t.at(e));return t.setSelection(t.offsetOf(r.firstChild),t.offsetOf(r.lastChild)),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:s,inputType:"insertText"}),!0}if("|"===s){let e=i instanceof PP?i.leftDelim+i.rightDelim:"";if("\\lbrace\\rbrace"===e||"\\{\\}"===e||"\\lbrace?"===e)return t.mathfield.snapshot(),SL.insert(t,"\\,\\middle\\vert\\,",{format:"latex",style:o}),t.mathfield.snapshot("insert-fence"),t.contentDidChange({data:s,inputType:"insertText"}),!0}if(a){if(i instanceof PP&&i.firstChild===r&&("?"===i.leftDelim||"."===i.leftDelim))return i.leftDelim=s,i.isDirty=!0,t.mathfield.snapshot(),t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(!(i instanceof PP)){let e=r;for(;e&&("mclose"!==e.type||e.value!==a);)e=e.rightSibling;if(e){t.mathfield.snapshot();let o=t.extractAtoms([t.offsetOf(r),t.offsetOf(e)]);return o.pop(),i.addChildrenAfter([new PP("left...right",o,{leftDelim:s,rightDelim:a})],r),t.position=t.offsetOf(i.firstChild)+1,t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}}let e,l=t.offsetOf(r.lastSibling);for(e=t.position;e<=l;e++){let o=t.at(e);if(o instanceof PP&&("?"===o.leftDelim||"."===o.leftDelim)&&QR(s,o.rightDelim))break}let d=t.at(e);if(e<=l&&d instanceof PP){d.leftDelim=s,t.mathfield.snapshot();let o=t.extractAtoms([t.position,e-1]);return o=o.filter((t=>"first"!==t.type)),d.addChildren(o,d.parentBranch),t.position+=1,t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(i instanceof PP&&("?"===i.leftDelim||"."===i.leftDelim)&&QR(s,i.rightDelim)){i.isDirty=!0,i.leftDelim=s,t.mathfield.snapshot();let e=t.extractAtoms([t.offsetOf(r.firstSibling),t.position]);for(let t of e)i.parent.addChildBefore(t,i);return t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}if(!(i instanceof PP&&"|"===i.leftDelim)){if("("===s){let e=t.position-1,o=!1;for(;e>=0;){let r=t.at(e);if("first"===r.type)break;if("mord"!==r.type||!r.value||!/^[\d]$/.test(r.value)){if("group"===r.type&&2===(null==(n=r.body)?void 0:n.length)&&"first"===r.body[0].type&&","===r.body[1].value){o=!0;break}if("mord"===r.type&&(","===r.value||"."===r.value)){o=!0;break}break}e-=1}if(o)return!1}if(t.mathfield.snapshot(),SL.insert(t,`\\left${s}\\right?`,{format:"latex",style:o}),"first"!==r.lastSibling.type){let e=t.offsetOf(r.lastSibling),o=t.extractAtoms([t.position,e]);t.at(t.position).body=o,t.position-=1}return t.mathfield.snapshot("insert-fence"),!0}}if(l){if(")"===s){let e=t.position-1,o=!1;for(;e>=0;){let n=t.at(e);if("first"===n.type)break;if("mord"!==n.type||!n.value||!/^[\d]$/.test(n.value))break;o=!0,e-=1}if(o&&"mopen"===t.at(e).type&&"("===t.at(e).value)return!1}let e=r;for(;e;){if("mopen"===e.type&&e.value===l){t.mathfield.snapshot();let o=e.leftSibling,n=t.extractAtoms([t.offsetOf(e.leftSibling),t.offsetOf(r)]);[,...n]=n;let a=new PP("left...right",n,{leftDelim:l,rightDelim:s});return i.addChildrenAfter([a],o),t.position=t.offsetOf(a),t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0}e=e.leftSibling}if(i instanceof PP&&r.isLastSibling&&XR(i.leftDelim,s))return t.mathfield.snapshot(),i.isDirty=!0,i.rightDelim=s,t.position+=1,t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let n,a=t.offsetOf(r.firstSibling);for(n=t.position;n>=a;n--){let e=t.at(n);if(e instanceof PP&&("?"===e.rightDelim||"."===e.rightDelim)&&XR(e.leftDelim,s))break}let d=t.at(n);if(n>=a&&d instanceof PP)return t.mathfield.snapshot(),d.rightDelim=s,d.addChildren(t.extractAtoms([n,t.position]),d.parentBranch),t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;if(i instanceof PP&&("?"===i.rightDelim||"."===i.rightDelim)&&XR(i.leftDelim,s))return t.mathfield.snapshot(),i.isDirty=!0,i.rightDelim=s,i.parent.addChildren(t.extractAtoms([t.position,t.offsetOf(r.lastSibling)]),i.parentBranch),t.position=t.offsetOf(i),t.contentDidChange({data:s,inputType:"insertText"}),t.mathfield.snapshot("insert-fence"),!0;let c=i.parent;return!(!(c instanceof PP)||"?"!==c.rightDelim&&"."!==c.rightDelim||!t.at(t.position).isLastSibling)&&(t.position=t.offsetOf(c),YR(t,s,o))}return!1}function XR(t,e){return!t||(["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t)?[")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e):eP[t]===e)}function QR(t,e){return!e||([")","\\rparen","}","\\}","\\rbrace","]","\\rbrack"].includes(e)?["(","\\lparen","{","\\{","\\lbrace","[","\\lbrack"].includes(t):oP[e]===t)}function tF(t){let[e,o]=hL(t.selection);if(e=eF(t,e,"backward"),o=eF(t,o,"forward"),e===o){let n=t.at(e);if("leftright"===n.type)return t.setSelection(t.offsetOf(n.firstChild)-1,o);if("first"===n.type&&("leftright"===n.parent.type||"surd"===n.parent.type))return t.setSelection(e-1,t.offsetOf(n.parent.lastChild)+1);t.setSelection(e-1,o)}else t.setSelection(e,o);return!0}function eF(t,e,o){var n,r,i;let s=t.at(e);if(!s)return e;let l="forward"===o?1:-1;if("text"===s.mode){for(;s&&"text"===s.mode&&dC.test(s.value);)e+=l,s=t.at(e);return"backward"===o?e-1:e}if("latex"===s.mode){if(/[a-zA-Z\*]/.test(s.value))if("backward"===o)for(;s&&"latex"===s.mode&&"\\"!==s.value&&/[a-zA-Z]/.test(s.value);)e+=l,s=t.at(e);else for(;s&&"latex"===s.mode&&/[a-zA-Z\*]/.test(s.value);)e+=l,s=t.at(e);else{if("{"===s.value){if("forward"===o){for(;s&&"latex"===s.mode&&"}"!==s.value;)e+=l,s=t.at(e);return e}return e-1}if("}"===s.value){if("backward"===o){for(;s&&"latex"===s.mode&&"{"!==s.value;)e+=l,s=t.at(e);return e-1}return e}}return e-1}if("math"===s.mode){if(s.isDigit()){for(;null!=(n=t.at(e+l))&&n.isDigit();)e+=l;return"backward"===o?e-1:e}if(s.style.variant||s.style.variantStyle){let n=null==(r=t.at(e))?void 0:r.style;for(;n&&n.variant===s.style.variant&&n.variantStyle===s.style.variantStyle;)n=null==(i=t.at(e+l))?void 0:i.style,e+=l;return"backward"===o?e-1:e}return e}return e}Bz({moveToOpposite:t=>{let e=t.at(t.position),{parent:o}=e;if(!o)return t.announce("plonk"),!1;let n,r=e.parentBranch;if("string"==typeof r&&(n={superscript:"subscript",subscript:"superscript",above:"below",below:"above"}[r]),!n){let o=e.subsupPlacement?RR(t):zR(t);return t.mathfield.stopCoalescingUndo(),o}o.branch(n)||o.createBranch(n);let i=t.setSelection(t.getBranchRange(t.offsetOf(o),n));return t.mathfield.stopCoalescingUndo(),i},moveBeforeParent:t=>{let{parent:e}=t.at(t.position);return e?(t.position=t.offsetOf(e),t.mathfield.stopCoalescingUndo(),!0):(t.announce("plonk"),!1)},moveAfterParent:t=>IR(t),moveToNextChar:t=>TR(t,"forward"),moveToPreviousChar:t=>TR(t,"backward"),moveUp:t=>TR(t,"upward"),moveDown:t=>TR(t,"downward"),moveToNextWord:t=>DR(t,"forward"),moveToPreviousWord:t=>DR(t,"backward"),moveToGroupStart:t=>{let e=t.offsetOf(t.at(t.position).firstSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToGroupEnd:t=>{let e=t.offsetOf(t.at(t.position).lastSibling);return e===t.position?(t.announce("plonk"),!1):(t.position=e,t.mathfield.stopCoalescingUndo(),!0)},moveToNextGroup:t=>{var e,o,n,r;if(t.position===t.lastOffset&&t.anchor===t.lastOffset)return NR(t,"forward");let i=t.at(t.position);if("text"===i.mode){if(t.selectionIsCollapsed){let o=i;for(;o&&"text"===o.mode;)o=o.leftSibling;let n=i;for(;"text"===(null==(e=n.rightSibling)?void 0:e.mode);)n=n.rightSibling;if(o&&n)return OR(t,[o,n])}if("text"===i.rightSibling.mode){let e=i;for(;e&&"text"===e.mode;)e=e.rightSibling;return e?(VR(t,null!=(o=e.leftSibling)?o:e),t.mathfield.switchMode("math"),!0):VR(t,t.lastOffset)}}let s=t.at(t.anchor).parentPrompt,l=s?t.offsetOf(s)+1:Math.max(t.position+1,0),a=$R(t,l,"forward");if(a&&t.offsetOf(a)<l)return NR(t,"forward");if(a)return VR(t,a);let d=KR(t,i,(t=>"leftright"===t.type||"text"===t.type),"forward");if(d){if("text"===d.mode){let e=d;for(;e&&"text"===e.mode;)e=e.rightSibling;return OR(t,[null!=(n=d.leftSibling)?n:d,null!=(r=e.leftSibling)?r:e])}return OR(t,d)}let c=i.parent;if(c){if("leftright"===c.type||"surd"===c.type)return OR(t,c);if("superscript"===i.parentBranch&&c.subscript)return OR(t,c.subscript);if("above"===i.parentBranch&&c.below)return OR(t,c.below);if("superscript"===i.parentBranch||"subscript"===i.parentBranch)return VR(t,c);if("above"===i.parentBranch||"below"===i.parentBranch)return OR(t,c)}return VR(t,t.lastOffset)},moveToPreviousGroup:t=>{var e;if(0===t.position&&0===t.anchor)return NR(t,"backward");let o=t.at(t.position),n=o.mode;if("text"===n){if(t.selectionIsCollapsed){let n=o;for(;n&&"text"===n.mode;)n=n.leftSibling;let r=o;for(;"text"===(null==(e=r.rightSibling)?void 0:e.mode);)r=r.rightSibling;if(n&&r)return OR(t,[n,r])}for(;o&&"text"===o.mode;)o=o.leftSibling;return VR(t,o||0)}let r=t.at(t.anchor).parentPrompt,i=r?t.offsetOf(r.leftSibling):Math.max(t.position-1,0),s=$R(t,i,"backward");if(s&&t.offsetOf(s)>i)return NR(t,"backward");if(s)return VR(t,s);if("math"===n){let e=KR(t,o,(t=>"leftright"===t.type||"text"===t.type),"backward");if(e){if("text"===e.mode){let o=e;for(;o&&"text"===o.mode;)o=o.leftSibling;return OR(t,[e,o])}return OR(t,e)}let n=o.parent;if(n){if("leftright"===n.type||"surd"===n.type)return OR(t,n);if("subscript"===o.parentBranch&&n.superscript)return OR(t,n.superscript);if("below"===o.parentBranch&&n.above)return OR(t,n.above);if("superscript"===o.parentBranch||"subscript"===o.parentBranch)return VR(t,n);if("above"===o.parentBranch||"below"===o.parentBranch)return OR(t,n)}return VR(t,0)}return!1},moveToMathfieldStart:t=>t.selectionIsCollapsed&&0===t.position?(t.announce("plonk"),!1):(t.position=0,t.mathfield.stopCoalescingUndo(),!0),moveToMathfieldEnd:t=>t.selectionIsCollapsed&&t.position===t.lastOffset?(t.announce("plonk"),!1):(t.position=t.lastOffset,t.mathfield.stopCoalescingUndo(),!0),moveToSuperscript:zR,moveToSubscript:RR},{target:"model",changeSelection:!0}),Bz({moveToNextPlaceholder:t=>NR(t,"forward"),moveToPreviousPlaceholder:t=>NR(t,"backward")},{target:"model",changeSelection:!0,audioFeedback:"return"}),Bz({undo:t=>(t.undo(),!0),redo:t=>(t.redo(),!0),scrollIntoView:t=>(t.scrollIntoView(),!0),scrollToStart:t=>(t.field.scroll(0,0),!0),scrollToEnd:t=>{let e=t.field.getBoundingClientRect();return t.field.scroll(e.left-window.scrollX,0),!0},toggleKeystrokeCaption:function(t){if(t.keystrokeCaptionVisible=!t.keystrokeCaptionVisible,t.keystrokeCaptionVisible){WR().innerHTML=""}else{cz("mathlive-keystroke-caption-panel").style.visibility="hidden"}return!1},toggleContextMenu:t=>{let e=t.toggleContextMenu();return e||t.model.announce("plonk"),e},plonk:t=>(t.model.announce("plonk"),!0),switchMode:(t,e,o,n)=>(t.switchMode(e,o,n),!0),insert:(t,e,o)=>t.insert(e,o),typedText:(t,e,o)=>(GR(t,e,o),!0),insertDecimalSeparator:t=>{let e=t.model;return"math"===e.mode&&","===globalThis.MathfieldElement.decimalSeparator&&e.at(Math.max(e.position,e.anchor)).isDigit()?(t.insert("{,}",{format:"latex"}),t.snapshot("insert-mord"),!0):(t.insert("."),!0)},commit:t=>{var e,o;let n=t.model;return n.contentWillChange({inputType:"insertLineBreak"})&&(null==(e=t.host)||e.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),null!=(o=n.parentEnvironment)&&o.isMultiline&&t.executeCommand("addRowAfter"),n.contentDidChange({inputType:"insertLineBreak"})),!0},insertPrompt:(t,e,o)=>{let n=t.getPrompts(),r="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36),i=0;for(;n.includes(r)&&i<100;){if(99===i)return console.error("could not find a unique ID after 100 tries"),!1;r="prompt-"+Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36),i++}return t.insert(`\\placeholder[${null!=e?e:r}]{}`,o),!0}}),Bz({copyToClipboard:t=>(t.focus(),t.model.selectionIsCollapsed&&t.select(),"queryCommandSupported"in document&&document.queryCommandSupported("copy")&&document.execCommand("copy")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("copy",{bubbles:!0,composed:!0})),!1)},{target:"mathfield"}),Bz({cutToClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("cut")&&document.execCommand("cut")||t.element.querySelector(".ML__keyboard-sink").dispatchEvent(new ClipboardEvent("cut",{bubbles:!0,composed:!0})),!0),pasteFromClipboard:t=>(t.focus(),"queryCommandSupported"in document&&document.queryCommandSupported("paste")?(document.execCommand("paste"),!0):(navigator.clipboard.readText().then((e=>{e&&t.model.contentWillChange({inputType:"insertFromPaste",data:e})?(t.stopCoalescingUndo(),t.stopRecording(),t.insert(e,{mode:t.model.mode})&&(lz(t),t.startRecording(),t.snapshot("paste"),t.model.contentDidChange({inputType:"insertFromPaste"}),Az(t))):t.model.announce("plonk"),t.startRecording()})),!0))},{target:"mathfield",canUndo:!0,changeContent:!0,changeSelection:!0}),Bz({selectGroup:t=>{let e=tF(t);return e||t.announce("plonk"),e},selectAll:t=>t.setSelection(0,t.lastOffset),extendSelectionForward:t=>TR(t,"forward",{extend:!0}),extendSelectionBackward:t=>TR(t,"backward",{extend:!0}),extendToNextWord:t=>DR(t,"forward",{extend:!0}),extendToPreviousWord:t=>DR(t,"backward",{extend:!0}),extendSelectionUpward:t=>TR(t,"upward",{extend:!0}),extendSelectionDownward:t=>TR(t,"downward",{extend:!0}),extendToNextBoundary:t=>DR(t,"forward",{extend:!0}),extendToPreviousBoundary:t=>DR(t,"backward",{extend:!0}),extendToGroupStart:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).firstSibling));return e||t.announce("plonk"),e},extendToGroupEnd:t=>{let e=t.setSelection(t.anchor,t.offsetOf(t.at(t.position).lastSibling));return e||t.announce("plonk"),e},extendToMathFieldStart:t=>{let e=t.setSelection(t.anchor,0);return e||t.announce("plonk"),e},extendToMathFieldEnd:t=>{let e=t.setSelection(t.anchor,t.lastOffset);return e||t.announce("plonk"),e}},{target:"model",changeSelection:!0});var oF=null,nF=0,rF=class t{static start(e,o,n,r){var i;t.element=e,null==(i=t.controller)||i.abort(),t.controller=new AbortController;let s={signal:t.controller.signal};"PointerEvent"in window?(e.addEventListener("pointermove",n,s),e.addEventListener("pointerup",r,s),e.addEventListener("pointercancel",r,s),iF(o)&&(t.pointerId=o.pointerId,e.setPointerCapture(o.pointerId))):(window.addEventListener("mousemove",n,s),window.addEventListener("blur",r,s),window.addEventListener("mouseup",r,s))}static stop(){var e;null==(e=t.controller)||e.abort(),t.controller=void 0,"number"==typeof t.pointerId&&(t.element.releasePointerCapture(t.pointerId),t.pointerId=void 0)}};function iF(t){return null!==t&&void 0!==globalThis.PointerEvent&&t instanceof PointerEvent}function sF(t,e){var o;if(e.buttons>1)return;t.atomBoundsCache=new Map;let n,r=t,i=!1,s=!1,l="none",a=!1,d=!1,c=e.clientX,h=e.clientY,u=Date.now(),p=r.field,m=setInterval((()=>{a?p.scroll({top:0,left:p.scrollLeft-16}):d&&p.scroll({top:0,left:p.scrollLeft+16})}),32);function g(){rF.stop(),i=!1,clearInterval(m),t.element.classList.remove("tracking"),e&&e.preventDefault()}oF&&Math.abs(oF.x-c)<5&&Math.abs(oF.y-h)<5&&Date.now()<oF.time+500?(nF+=1,oF.time=u):(oF={x:c,y:h,time:u},nF=1);let b=p.getBoundingClientRect();if(c>=b.left&&c<=b.right&&h>=b.top&&h<=b.bottom){if(t.flushInlineShortcutBuffer(),n=cF(t,c,h,{bias:0}),n!==t.model.anchor&&(t.defaultStyle={},t.styleBias="left"),n>=0){if(t.element.classList.add("tracking"),e.shiftKey){let e=t.model.selectionIsCollapsed;t.model.extendSelectionTo(t.model.anchor,n),l=az(t.model)||e?"all":"selection"}else"placeholder"===t.model.at(n).type?(t.model.setSelection(n-1,n),l="selection"):"placeholder"===(null==(o=t.model.at(n).rightSibling)?void 0:o.type)?(t.model.setSelection(n,n+1),l="selection"):(t.model.position=n,l=az(t.model)?"all":"selection");3===e.detail||nF>2?(g(),(3===e.detail||3===nF)&&(t.model.selection={ranges:[[0,t.model.lastOffset]]},l="all")):i||(i=!0,rF.start(p,e,(function(e){if(!r.hasFocus())return void g();let o=e.clientX,i=e.clientY,l=iF(e)&&"touch"===e.pointerType?20:5;if(Date.now()<u+500&&Math.abs(c-o)<l&&Math.abs(h-i)<l)return e.preventDefault(),void e.stopPropagation();let m=p.getBoundingClientRect();d=o>m.right,a=o<m.left;let b=n;iF(e)&&(e.isPrimary||(b=cF(r,e.clientX,e.clientY,{bias:0})));let f=cF(r,o,i,{bias:o<=c?o===c?0:-1:1});b>=0&&f>=0&&(r.model.extendSelectionTo(b,f),Az(t)),s&&tF(r.model)}),g),(2===e.detail||2===nF)&&(s=!0,tF(t.model),l="all"))}t.hasFocus()||(l="none",t.focus({preventScroll:!0}))}else oF=null;t.stopCoalescingUndo(),"none"!==l&&(t.model.selectionIsCollapsed&&(l="all"),Az(t)),e.preventDefault()}function lF(t,e,o){if(t>=o.left&&t<=o.right&&e>=o.top&&e<=o.bottom)return 0;let n=t-(o.left+o.right)/2,r=e-(o.top+o.bottom)/2;return n*n+r*r}function aF(t,e,o,n,r){if(!o.id)return[1/0,null];if(e.has(o.id))return e.get(o.id);let i=IL(t,o);if(!i)return[1/0,null];let s=[1/0,null],l=t.model;if(o instanceof AP)for(let i of o.rows)for(let o of i){let i=zL(t,[l.offsetOf(o[0]),l.offsetOf(o[o.length-1])]);if(r>=i.top&&r<=i.bottom)for(let i of o){let o=aF(t,e,i,n,r);o[0]<=s[0]&&(s=o)}}else if(o.hasChildren&&!o.captureSelection&&n>=i.left&&n<=i.right){let i=o.children;for(let o of i){let i=aF(t,e,o,n,r);i[0]<=s[0]&&(s=i)}}return s[1]||(s=[lF(n,r,i),o]),e.set(o.id,s),s}function dF(t,e,o){let[,n]=aF(t,new Map,t.model.root,e,o);return n}function cF(t,e,o,n){var r;let i=t.field.querySelector(".ML__latex").getBoundingClientRect();if(!i)return 0;if(e>i.right||o>i.bottom+8)return t.model.lastOffset;if(e<i.left||o<i.top-8)return 0;(n=null!=n?n:{}).bias=null!=(r=n.bias)?r:0;let s=dF(t,e,o),l=[],a=s;for(;a;)l.unshift(a),a=a.parent;for(let t of l)if(t.captureSelection){s=t;break}let d=t.model.offsetOf(s);if(d<0)return-1;if(s.leftSibling)if(0===n.bias&&"placeholder"!==s.type){let o=IL(t,s);o&&e<(o.left+o.right)/2&&(d=t.model.offsetOf(s.leftSibling))}else n.bias<0&&(d=t.model.offsetOf(s.leftSibling));return d}function hF(t,e,o,n){var r;let i,s=[];if("string"!=typeof e||"math-json"===n.format){let o=globalThis.MathfieldElement.computeEngine;if(!o)return["math-json",[]];[i,e]=["latex",o.box(e).latex],s=$P(e,{context:t.mathfield.context})}else"string"==typeof e&&"ascii-math"===n.format?([i,e]=fL(e,{format:"ascii-math",inlineShortcuts:t.mathfield.options.inlineShortcuts}),s=$P(e,{context:t.mathfield.context}),"latex"!==i&&t.mathfield.options.removeExtraneousParentheses&&(s=s.map((t=>uF(t))))):("auto"===n.format||null!=(r=n.format)&&r.startsWith("latex"))&&("auto"===n.format&&([i,e]=fL(e,{format:"auto",inlineShortcuts:t.mathfield.options.inlineShortcuts})),"latex"===n.format&&([,e]=_L(e)),s=$P(e,{context:t.mathfield.context,args:o}),"latex"!==n.format&&t.mathfield.options.removeExtraneousParentheses&&(s=s.map((t=>uF(t)))));return fI(s,n.style),[null!=i?i:"latex",s]}function uF(t){var e;if(t instanceof PP&&"("!==t.leftDelim&&")"===t.rightDelim){let o=null==(e=t.body)?void 0:e.filter((t=>"first"!==t.type));if(1===(null==o?void 0:o.length)&&"genfrac"===o[0].type)return o[0]}for(let e of t.branches)t.hasEmptyBranch(e)||t.setChildren(t.branch(e).map((t=>uF(t))),e);return t instanceof AP&&t.forEachCell(((e,o,n)=>{t.setCell(o,n,e.map((t=>uF(t))))})),t}function pF(t){return!!t.isDigit()||!(!t.type||!/^(mord|surd|subsup|leftright|mop|mclose)$/.test(t.type))&&"extensible-symbol"!==t.type}new class extends SL{constructor(){super("math")}onPaste(t,e){if(!e||!t.model.contentWillChange({data:"string"==typeof e?e:null,dataTransfer:"string"==typeof e?null:e,inputType:"insertFromPaste"}))return!1;let o="",n="auto",r="string"!=typeof e?e.getData("application/json+mathlive"):"";if(r)try{let e=JSON.parse(r);if(e&&Array.isArray(e)){t.snapshot();let o=bI(e),{model:n}=t;n.selectionIsCollapsed||n.deleteAtoms(hL(n.selection));let r=n.at(n.position);if(r.parent instanceof AP){r.parentBranch;let t=[],e=[];"first"===o[0].type&&o.shift(),"first"===o[o.length-1].type&&o.pop();for(let n of o)"first"===n.type&&e.length>0?(t.push(e),e=[n]):e.push(n);e.length>0&&t.push(e);let n=Number(r.parentBranch[0]),i=Number(r.parentBranch[1]),s=r.parent.maxColumns;for(;r.parent.colCount-i<t.length&&r.parent.colCount<s;)r.parent.addColumn();r.parent.addChildrenAfter(t[0],r);for(let e=1;e<t.length;e++)i++,i>=s&&(i=0,r.parent.addRowAfter(n),n++),r.parent.setCell(n,i,t[e])}else r.parent.addChildrenAfter(o.filter((t=>"first"!==t.type)),r);return n.position=n.offsetOf(o[o.length-1]),n.contentDidChange({inputType:"insertFromPaste"}),Az(t),!0}}catch(t){}if(r="string"!=typeof e?e.getData("application/json"):"",r&&globalThis.MathfieldElement.computeEngine)try{let t=JSON.parse(r);if("object"==typeof t&&"latex"in t&&t.latex&&(o=t.latex),!o){let e=globalThis.MathfieldElement.computeEngine.box(t);e&&!e.has("Error")&&(o=e.latex)}o||(n="latex")}catch(t){}if(!o&&"string"!=typeof e&&(o=e.getData("application/x-latex"),o&&(n="latex")),o||(o="string"==typeof e?e:e.getData("text/plain")),o){let e;return[e,o]=_L(o),"auto"===n&&e&&(n="latex"),t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,o,{format:n})&&(t.startRecording(),t.snapshot("paste"),Az(t)),t.startRecording(),!0}return!1}insert(t,e,o){var n,r;let i="string"==typeof e?e:null!=(r=null==(n=globalThis.MathfieldElement.computeEngine)?void 0:n.box(e).latex)?r:"";if(!o.silenceNotifications&&!t.contentWillChange({data:i,inputType:"insertText"}))return!1;o.insertionMode||(o.insertionMode="replaceSelection"),o.selectionMode||(o.selectionMode="placeholder"),o.format||(o.format="auto");let{silenceNotifications:s}=t;o.silenceNotifications&&(t.silenceNotifications=!0);let l=t.silenceNotifications;t.silenceNotifications=!0;let a={"?":"\\placeholder{}","@":"\\placeholder{}"};a[0]="replaceAll"===o.insertionMode?"":t.getValue(t.selection,"latex-unstyled"),"replaceSelection"===o.insertionMode?t.deleteAtoms(hL(t.selection)):"replaceAll"===o.insertionMode?t.deleteAtoms():"insertBefore"===o.insertionMode?t.collapseSelection("backward"):"insertAfter"===o.insertionMode&&t.collapseSelection("forward"),t.at(t.position).isLastSibling||"placeholder"!==t.at(t.position+1).type?"placeholder"===t.at(t.position).type&&t.deleteAtoms([t.position-1,t.position]):t.deleteAtoms([t.position,t.position+1]);let d=-1;a[0]?a["@"]=a[0]:"string"==typeof e&&/(^|[^\\])#@/.test(e)&&(d=function(t){let e=t.at(t.position);if("text"===e.mode){for(;!e.isFirstSibling&&"text"===e.mode;)e=e.leftSibling;return t.offsetOf(e)}let o=e,n=!1;if("mclose"===e.type){let t=oP[e.value];for(;!e.isFirstSibling&&("mopen"!==e.type||e.value!==t);)e=e.leftSibling;e.isFirstSibling||(e=e.leftSibling),n=!0}else"leftright"===e.type&&(e=e.leftSibling,n=!0);if(n)for(;!e.isFirstSibling&&(e.isFunction||pF(e));)e=e.leftSibling;else{let t=[];for(;!e.isFirstSibling&&(pF(e)||t.length>0);)"mclose"===e.type&&t.unshift(e.value),"mopen"===e.type&&t.length>0&&e.value===oP[t[0]]&&t.shift(),e=e.leftSibling}return o===e?-1:t.offsetOf(e)}(t),d>=0&&(a["@"]=t.getValue(d,t.position,"latex"))),a[0]||(a[0]=a["?"]);let c=!1,h=t=>(c=!0,a[t]),[u,p]=hF(t,e,h,o);if(!p)return!1;let m=1===p.length&&"genfrac"===p[0].type;if(m&&d>=0&&"function"==typeof t.mathfield.options.isImplicitFunction&&t.mathfield.options.isImplicitFunction(t.at(t.position).command)?(a["@"]=a["?"],c=!1,[u,p]=hF(t,e,h,o)):d>=0&&t.deleteAtoms([d,t.position]),1===p.length&&p[0].isRoot)t.root=p[0];else{let{parent:o}=t.at(t.position),n=o.hasEmptyBranch("body");if(m&&"latex"!==u&&t.mathfield.options.removeExtraneousParentheses&&o instanceof PP&&"("===o.leftDelim&&n){let t=o.parent,e=o.parentBranch;t.removeChild(o),t.setChildren(p,e)}let r=t.at(t.position);r.parent.addChildrenAfter(p,r),"latex"===u&&"string"==typeof e&&"root"===(null==o?void 0:o.type)&&n&&!c&&(o.verbatimLatex=e)}t.silenceNotifications=l;let g=p[p.length-1];if("placeholder"===o.selectionMode){let e=p.flatMap((t=>[t,...t.children])).find((t=>"placeholder"===t.type));if(e){let o=t.offsetOf(e);t.setSelection(o-1,o),t.announce("move")}else g&&(t.position=t.offsetOf(g))}else"before"===o.selectionMode||("after"===o.selectionMode?g&&(t.position=t.offsetOf(g)):"item"===o.selectionMode&&t.setSelection(t.anchor,t.offsetOf(g)));return t.contentDidChange({data:i,inputType:"insertText"}),t.silenceNotifications=s,!0}};function mF(t){return{value:t.model.getValue(),selectionIsCollapsed:t.model.selectionIsCollapsed,canUndo:t.canUndo(),canRedo:t.canRedo(),style:gF(t.model),mode:t.model.mode}}function gF(t){var e;if(t.selectionIsCollapsed)return null==(e=t.at(t.position))?void 0:e.style;let o=t.getAtoms(t.selection);if(0===o.length)return{};let n=PA({},o[0].style);for(let t of o)for(let[e,o]of Object.entries(t.style))n[e]!==o&&delete n[e];return n}new class extends SL{constructor(){super("text")}onPaste(t,e){if(!e)return!1;let o="string"==typeof e?e:e.getData("text/plain");return!(!o||!t.model.contentWillChange({inputType:"insertFromPaste",data:o}))&&(t.stopCoalescingUndo(),t.stopRecording(),this.insert(t.model,o)&&(t.model.contentDidChange({inputType:"insertFromPaste"}),t.startRecording(),t.snapshot("paste"),Az(t)),t.startRecording(),!0)}insert(t,e,o={}){if(!t.contentWillChange({data:e,inputType:"insertText"}))return!1;o.insertionMode||(o.insertionMode="replaceSelection"),o.selectionMode||(o.selectionMode="placeholder"),o.format||(o.format="auto");let{silenceNotifications:n}=t;o.silenceNotifications&&(t.silenceNotifications=!0);let r=t.silenceNotifications;t.silenceNotifications=!0,"replaceSelection"!==o.insertionMode||t.selectionIsCollapsed?"replaceAll"===o.insertionMode?(t.root.setChildren([],"body"),t.position=0):"insertBefore"===o.insertionMode?t.collapseSelection("backward"):"insertAfter"===o.insertionMode&&t.collapseSelection("forward"):t.deleteAtoms(hL(t.selection));let i=function(t,e){return $P(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\\/g,"\\textbackslash ")).replace(/#/g,"\\#")).replace(/\$/g,"\\$")).replace(/%/g,"\\%")).replace(/&/g,"\\&")).replace(/_/g,"\\_")).replace(/{/g,"\\textbraceleft ")).replace(/}/g,"\\textbraceright ")).replace(/lbrace/g,"\\textbraceleft ")).replace(/rbrace/g,"\\textbraceright ")).replace(/\^/g,"\\textasciicircum ")).replace(/~/g,"\\textasciitilde ")).replace(/£/g,"\\textsterling "),{context:e,parseMode:"text"})}(e,t.mathfield.context);if(fI(i,o.style),!i)return!1;let s=t.at(t.position),l=s.parent.addChildrenAfter(i,s);return t.silenceNotifications=r,"before"===o.selectionMode||("item"===o.selectionMode?t.setSelection(t.anchor,t.offsetOf(l)):l&&(t.position=t.offsetOf(l))),t.contentDidChange({data:e,inputType:"insertText"}),t.silenceNotifications=n,!0}};var bF=20,fF=(t,e)=>`\n  <line x1="${t+bF}" y1="${e+bF}" \n    x2="${t>e?t+bF:180}" \n    y2="${t<e?e+bF:180}"/>\n  <svg id="plus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">\n    <circle class="cls-2" cx="20" cy="20" r="20"/>\n    <path class="font" d="m33.33,20c0,1.84-1.49,3.34-3.33,3.34h-6.67v6.66c0,1.84-1.49,3.34-3.33,3.34s-3.34-1.5-3.34-3.34v-6.66h-6.66c-1.84,0-3.34-1.5-3.34-3.34s1.5-3.33,3.34-3.33h6.66v-6.67c0-1.84,1.5-3.33,3.34-3.33s3.33,1.49,3.33,3.33v6.67h6.67c1.84,0,3.33,1.49,3.33,3.33Z"/>\n  </svg>`,wF=(t,e)=>`\n  <line x1="${t+bF}" y1="${e+bF}" \n    x2="${t>e?t+bF:180}" \n    y2="${t<e?e+bF:180}"/>\n  <svg id="minus" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">\n    <circle class="cls-2" cx="20" cy="20" r="20"/>\n    <path class="font" d="m33.33,20c0,1.84-1.49,3.33-3.33,3.33H10c-1.84,0-3.34-1.49-3.34-3.33s1.5-3.34,3.34-3.34h20c1.84,0,3.33,1.5,3.33,3.34Z"/>\n  </svg>`,xF=(t,e,o)=>`\n  <svg id="arrow" viewBox="0 0 40 40" x="${t}" y="${e}" width="40" height="40">\n    <circle class="cls-2" cx="20" cy="20" r="20"/>\n    <g transform="rotate(${o})" transform-origin="20 20">\n      <path class="font" d="m17.7,7.23h4.6c.52,0,.94.42.94.94v13.82c0,.52.42.94.94.94h3.39c.83,0,1.25,1.01.66,1.6l-7.56,7.56c-.37.37-.96.37-1.32,0l-7.56-7.56c-.59-.59-.17-1.6.66-1.6h3.39c.52,0,.94-.42.94-.94v-13.82c0-.52.42-.94.94-.94Z"/>\n    </g>  \n  </svg>`,kF=`\n<svg class="MLEP__array-buttons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \nviewBox=\n"-2 -2 205 205">\n  <rect \n      class="MLEP__array-insert-background rows"\n      x="0" \n      y="52" \n      height="144" \n      width="48" \n      rx="24"/>\n      <rect \n      class="MLEP__array-insert-background columns"\n      x="52" \n      y="0" \n      height="48" \n      width="144" \n      rx="24"/>\n  <g data-command='"moveDown"'>\n  ${xF(104,152,0)}\n  </g>\n  <g data-command='"moveUp"'>\n  ${xF(104,56,180)}\n  </g>\n  <g data-command='"moveToNextWord"'>\n  ${xF(152,104,-90)}\n  </g>\n  <g data-command='"moveToPreviousWord"'>\n  ${xF(56,104,90)}\n  </g>\n  <g>\n\n  <g data-command='"addColumnBefore"'>\n  ${fF(56,4)}\n  </g>\n  <g data-command='"removeColumn"'>\n  ${wF(104,4)}\n  </g>\n  <g data-command='"addColumnAfter"'>\n  ${fF(152,4)}\n  </g>\n  <g data-command='"addRowBefore"'>\n  ${fF(4,56)}\n  </g>\n  <g data-command='"removeRow"'>\n  ${wF(4,104)}\n  </g>\n  <g data-command='"addRowAfter"'>\n    ${fF(4,152)}\n  </g>\n</svg>`,yF=t=>`\n<svg id="Bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" \n  data-command='["setEnvironment","Bmatrix"]'>\n  <rect class="cls-1" width="28" height="24"/>\n  <path class="cls-2" d="m6,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>\n  <path class="cls-2" d="m22,4c1.1,0,2,.9,2,2v3c0,1.66.9,3,2,3-1.1,0-2,1.34-2,3v3c0,1.1-.9,2-2,2"/>\n  <circle cx="10" cy="8" r="1"/>\n  <circle cx="14" cy="12" r="1"/>\n  <circle cx="18" cy="16" r="1"/>\n</svg>`,vF={matrix:t=>`\n<svg id="matrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" \n  data-command='["setEnvironment","matrix"]'>\n  <rect class="cls-1" width="28" height="24"/>\n  <circle cx="10" cy="8" r="1"/>\n  <circle cx="14" cy="12" r="1"/>\n  <circle cx="18" cy="16" r="1"/></svg>`,pmatrix:t=>`\n<svg id="pmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" \ndata-command='["setEnvironment","pmatrix"]'>\n  <rect class="cls-1" width="28" height="24"/>\n  <path class="cls-2" d="m6,4c-3.96,4.6-3.96,11.4,0,16"/>\n  <path class="cls-2" d="m22,4c3.96,4.6,3.96,11.4,0,16"/>\n  <circle cx="10" cy="8" r="1"/>\n  <circle cx="14" cy="12" r="1"/>\n  <circle cx="18" cy="16" r="1"/></svg>`,bmatrix:t=>`\n<svg id="bmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" \n  data-command='["setEnvironment","bmatrix"]'>\n  <rect class="cls-1" width="28" height="24"/>\n  <path class="cls-2" d="m6,4h-3v16h3"/>\n  <path class="cls-2" d="m22,4h3v16h-3"/>\n  <circle cx="10" cy="8" r="1"/>\n  <circle cx="14" cy="12" r="1"/>\n  <circle cx="18" cy="16" r="1"/>\n</svg>`,Bmatrix:yF,vmatrix:t=>`\n<svg id="vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" \n  data-command='["setEnvironment","vmatrix"]'>\n  <rect class="cls-1" width="28" height="24"/>\n  <circle cx="10" cy="8" r="1"/>\n  <circle cx="14" cy="12" r="1"/>\n  <circle cx="18" cy="16" r="1"/>\n  <line class="cls-2" x1="4" y1="4" x2="4" y2="20"/>\n  <line class="cls-2" x1="24" y1="4" x2="24" y2="20"/>\n</svg>`,Vmatrix:t=>`\n<svg id="Vmatrix" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="-3.5 -3 35 30" \n  data-command='["setEnvironment","Vmatrix"]'>\n  <rect class="cls-1" width="28" height="24"/>\n  <circle cx="10" cy="8" r="1"/>\n  <circle cx="14" cy="12" r="1"/>\n  <circle cx="18" cy="16" r="1"/>\n  <line class="cls-2" x1="6" y1="4" x2="6" y2="20"/>\n  <line class="cls-2" x1="22" y1="4" x2="22" y2="20"/>\n  <line class="cls-2" x1="2" y1="4" x2="2" y2="20"/>\n  <line class="cls-2" x1="26" y1="4" x2="26" y2="20"/>\n</svg>`},_F={cases:t=>`\n<svg id="cases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" \n  data-command='["setEnvironment","cases"]'>\n  <rect class="cls-1" width="28" height="24"/>\n  <path class="cls-2" d="m10,4c-1.1,0-2,.9-2,2v3c0,1.66-.9,3-2,3,1.1,0,2,1.34,2,3v3c0,1.1.9,2,2,2"/>\n  <circle cx="13" cy="8" r="1"/>\n  <circle cx="13" cy="16" r="1"/>\n  <circle cx="21" cy="8" r="1"/>\n  <circle cx="21" cy="16" r="1"/>\n</svg>`,rcases:t=>`\n<svg id="rcases" class="${t}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 24" \n  data-command='["setEnvironment","rcases"]'>\n  <rect class="cls-1" width="28" height="24"/>\n  <path class="cls-2" d="m18,20c1.1,0,2-.9,2-2v-3c0-1.66.9-3,2-3-1.1,0-2-1.34-2-3v-3c0-1.1-.9-2-2-2"/>\n  <circle cx="15" cy="8" r="1"/>\n  <circle cx="15" cy="16" r="1"/>\n  <circle cx="7" cy="8" r="1"/>\n  <circle cx="7" cy="16" r="1"/>\n</svg>`,Bmatrix:yF};function AF(t){var e,o;let n=null==(e=t.model.parentEnvironment)?void 0:e.rows;if(!n)return;let r=0;n.forEach((t=>{(!r||t.length>r)&&(r=t.length)}));let i=document.getElementById("mathlive-environment-popover");i||(i=cz("mathlive-environment-popover"),XL("environment-popover"),XL("core"),i.setAttribute("aria-hidden","true"));let s,l=i.querySelector(".MLEP__environment-controls");l?s=l:(s=document.createElement("div"),i.innerHTML="",i.appendChild(s)),s.className="MLEP__environment-controls",s.style.display="flex",s.style.width="100%",s.style.height="100%",s.style.boxSizing="border-box",s.innerHTML=kF;let a=[],d="",c=t.model.parentEnvironment.environmentName;if(vP(c)){let t=function(t){return t.replace("*","")}(c);d=vF[t]("active");let e=vF,{[t]:o}=e,n=RA(e,[zA(t)]);a=Object.values(n).map((t=>t("inactive")))}else if(function(t){return xP.includes(t)}(c)){let t=function(t){return"dcases"===t?"cases":t}(c);d=_F[t]("active");let e=_F,{[t]:o}=e,n=RA(e,[zA(t)]);a=Object.values(n).map((t=>t("inactive")))}else(function(t){return kP.includes(t)})(c)&&(d=vF.matrix("active"),a=Object.values(_F).map((t=>t("inactive"))));let h=document.createElement("div");h.className="MLEP__environment-delimiter-controls",h.style.display="flex",h.style.flexDirection="column",h.innerHTML=`\n  <div class='MLEP__array-delimiter-options'>\n  ${d}\n  ${a.join("")}\n  </div>`,d&&s.appendChild(h),s.querySelectorAll("[data-command]").forEach((e=>{let o=e.dataset.command,n=o;try{n=JSON.parse(o)}catch(t){}e.addEventListener("mousedown",(t=>t.preventDefault())),n&&e.addEventListener("click",(()=>t.executeCommand(n)))}));let u=null==(o=t.field)?void 0:o.getBoundingClientRect();u&&(i.style.top=`${window.scrollY+(u.top-i.clientHeight-15)}px`,i.style.left=`${u.left+20}px`,i.classList.add("is-visible"))}function CF(){let t=document.getElementById("mathlive-environment-popover");null==t||t.classList.remove("is-visible")}function SF(t){if(!t.hasFocus())return;let e=!1;if("math"===t.model.mode){let o=t.model.parentEnvironment;if(null!=o&&o.rows&&function(t){return kP.includes(t)||xP.includes(t)||xP.includes(t)||wP.includes(t)||yP.includes(t)}(o.environmentName)){let o=t.options.environmentPopoverPolicy;e="auto"===o||"on"===o}}e?AF(t):CF()}function EF(t){let e=getComputedStyle(t).direction;return"ltr"===e||"rtl"===e?e:"ltr"}function MF(t,e,o){return"left"===e||"leading"===e&&"ltr"===o||"trailing"===e&&"rtl"===o?t.left:t.right}function DF(t,e,o,n){return"middle"===o?t-e/2:"start"===o&&"rtl"===n||"end"===o&&"ltr"===n||"top"===o||"right"===o?Math.max(0,t-e):t}function TF(t){return"submenu"in t}function BF(t){return"type"in t&&"command"===t.type||"onMenuSelect"in t||"id"in t}function LF(t){return"type"in t&&"divider"===t.type}function PF(t){return"type"in t&&"heading"===t.type}var IF={};function zF(t){let e=IF[t];if(!e){let o;switch(t){case"checkmark":o='<span aria-hidden="true" class="ui-checkmark"><svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"></path></svg>\n      </span>';break;case"trailing-chevron":o='<span aria-hidden="true" class="ui-trailing-chevron"><svg focusable="false" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path></svg></span>';break;case"mixedmark":o='<span aria-hidden="true" class="ui-mixedmark"><svg xmlns="http://www.w3.org/2000/svg" width="16" viewBox="0 0 512 512"><path fill="currentColor" d="M0 256c0-13.3 10.7-24 24-24H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H24c-13.3 0-24-10.7-24-24z"/></svg></span>'}if(o){let n=document.createElement("template");n.innerHTML=o,IF[t]=n,e=n}}if(e){if("content"in e)return e.content.cloneNode(!0);let t=document.createElement("svg");return t.innerHTML=e.innerHTML,t}}var RF=class{constructor(t,e){var o;this._className="",this._element=null,this.parentMenu=e,this._declaration=t,Object.freeze(this._declaration),TF(t)?(this.type="submenu",this.submenu=new OF(t.submenu,{parentMenu:e,submenuClass:t.submenuClass,columnCount:t.columnCount})):this.type=null!=(o=t.type)?o:"command",this.hasCheck=BF(t)&&void 0!==t.checked}get rootMenu(){return this.parentMenu.rootMenu}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}dispose(){var t,e;null==(t=this._abortController)||t.abort(),this._abortController=void 0,null==(e=this._element)||e.remove(),this._element=null,this.submenu&&this.submenu.dispose(),this.submenu=void 0}get menuItem(){return this._declaration}get label(){var t;return null!=(t=this._label)?t:""}set label(t){void 0===t&&(t=""),t!==this._label&&(this._label=t,this.dirty=!0)}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.dirty=!0)}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.element&&(t?this.element.removeAttribute("aria-disabled"):this.element.setAttribute("aria-disabled","true")),this.dirty=!0}get checked(){return this._checked}set checked(t){this._checked=t,this.dirty=!0}get tooltip(){return this._tooltip}set tooltip(t){t!==this._tooltip&&(this._tooltip=t,this.dirty=!0)}get ariaLabel(){return this._ariaLabel}set ariaLabel(t){t!==this._ariaLabel&&(this._ariaLabel=t,this.dirty=!0)}get active(){var t,e;return null!=(e=null==(t=this.element)?void 0:t.classList.contains("active"))&&e}set active(t){this.element&&this.element.classList.toggle("active",t)}updateState(t){var e,o,n;let r=this._declaration;if(LF(r))return this.enabled=!1,void(this.checked=!1);PF(r)&&(this.enabled=!1,this.checked=!1,this.visible=!0),BF(r)&&(this.checked=null!=(e=FF(r.checked,t))&&e),(BF(r)||TF(r))&&(this.enabled=null==(o=FF(r.enabled,t))||o,this.visible=null==(n=FF(r.visible,t))||n,this.visible&&this.enabled&&this.submenu&&(this.submenu.updateState(t),this.submenu.visible||(this.visible=!1))),(BF(r)||PF(r)||TF(r))&&(this.label=FF(r.label,t),this._className=FF(r.class,t),this.tooltip=FF(r.tooltip,t),this.ariaLabel=FF(r.ariaLabel,t)),this._element&&this.updateElement()}set dirty(t){t&&this.parentMenu&&(this.parentMenu.dirty=!0)}updateElement(){var t;if(!this.visible||!this.element)return;let e=this.element;e.textContent="",e.className="",e.className=null!=(t=this._className)?t:"",this.enabled?e.removeAttribute("aria-disabled"):e.setAttribute("aria-disabled","true"),!0===this.checked?(e.setAttribute("aria-checked","true"),e.append(zF("checkmark"))):"mixed"===this.checked?(e.setAttribute("aria-checked","mixed"),e.append(zF("mixedmark"))):e.removeAttribute("aria-checked"),this.ariaLabel&&e.setAttribute("aria-label",this.ariaLabel);let o=document.createElement("span");if(o.className=this.parentMenu.hasCheck?"label indent":"label","heading"===this.type&&o.classList.add("heading"),o.innerHTML=this.label,e.append(o),this._tooltip&&e.setAttribute("data-tooltip",this._tooltip),BF(this._declaration)&&this._declaration.keyboardShortcut){let t=document.createElement("kbd");t.innerHTML=NI(this._declaration.keyboardShortcut),e.append(t)}"submenu"===this.type&&e.append(zF("trailing-chevron"))}get element(){if(this._element)return this._element;if(LF(this._declaration)){let t=document.createElement("li");return t.setAttribute("part","menu-divider"),t.setAttribute("role","divider"),this._element=t,t}let t=document.createElement("li");this._element=t,(BF(this._declaration)||PF(this._declaration)||TF(this._declaration))&&t.setAttribute("part","menu-item"),t.setAttribute("tabindex","-1"),this.hasCheck?t.setAttribute("role","menuitemcheckbox"):t.setAttribute("role","menuitem"),"submenu"===this.type&&(t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded","false"));let e=this.abortController.signal;return t.addEventListener("pointerenter",this,{signal:e}),t.addEventListener("pointerleave",this,{signal:e}),t.addEventListener("pointerup",this,{signal:e}),t.addEventListener("click",this,{signal:e}),this._element}dispatchSelect(){var t;if(!BF(this._declaration))return;let e=new CustomEvent("menu-select",{cancelable:!0,bubbles:!0,detail:{modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data}});this.parentMenu.dispatchEvent(e)&&"function"==typeof this._declaration.onMenuSelect&&this._declaration.onMenuSelect({target:null!=(t=this.parentMenu.host)?t:void 0,modifiers:this.rootMenu.modifiers,id:this._declaration.id,data:this._declaration.data})}handleEvent(t){var e;if(this.visible&&this.enabled){if("click"===t.type)return"modal"===this.rootMenu.state&&this.select(),t.stopPropagation(),void t.preventDefault();if("pointerenter"===t.type){let o=t;return this.rootMenu.cancelDelayedOperation(),void(this.parentMenu.isSubmenuOpen&&null!=(e=this.parentMenu.activeMenuItem)&&e.movingTowardSubmenu(o)?this.rootMenu.scheduleOperation((()=>{this.parentMenu.activeMenuItem=this,this.openSubmenu()})):(this.parentMenu.activeMenuItem=this,this.openSubmenu({withDelay:!0})))}if("pointerleave"===t.type)return void(this.rootMenu.activeSubmenu===this.parentMenu&&(this.parentMenu.activeMenuItem=null));if("pointerup"===t.type)return"modal"!==this.rootMenu.state&&this.select(),t.stopPropagation(),void t.preventDefault()}}select(){this.rootMenu.cancelDelayedOperation(),"submenu"!==this.type?(this.active=!1,setTimeout((()=>{this.active=!0,setTimeout((()=>{this.active=!1,this.rootMenu.hide(),this.dispatchSelect()}),80)}),80)):this.openSubmenu()}openSubmenu(t){var e;if("submenu"!==this.type||!this.element)return;if(null!=(e=null==t?void 0:t.withDelay)&&e)return void this.rootMenu.scheduleOperation((()=>this.openSubmenu()));let o=this.element.getBoundingClientRect(),n=EF(this.element);this.submenu.show({container:this.rootMenu.element.parentNode,location:{x:MF(o,"trailing",n),y:o.top-4},alternateLocation:{x:MF(o,"leading",n),y:o.top-4}})}movingTowardSubmenu(t){if(!this.element||"submenu"!==this.type)return!1;let e=this.rootMenu.lastMoveEvent;if(!e)return!1;let o=t.timeStamp-e.timeStamp;if(o>500)return!1;let n=t.clientX-e.clientX;if(function(t,e,o){return Math.hypot(t,e)/o}(n,e.clientY-t.clientY,o)<=.2)return!1;let r="right";if(this.submenu.element){let t=this.submenu.element.getBoundingClientRect(),e=this.element.getBoundingClientRect();t.left<e.left+e.width/2&&(r="left")}return"right"===r?n>0:n<0}};function FF(t,e){return void 0===t||"function"!=typeof t?t:(null!=e||(e={alt:!1,control:!1,shift:!1,meta:!1}),t(e))}var OF=class t{constructor(t,e){var o,n;this._element=null,this._activeMenuItem=null,this._dirty=!0,this.parentMenu=null!=(o=null==e?void 0:e.parentMenu)?o:null,this._submenuClass=null==e?void 0:e.submenuClass,this.columnCount=null!=(n=null==e?void 0:e.columnCount)?n:1,this.isSubmenuOpen=!1,this.menuItems=t}get children(){return Object.freeze([...this._menuItems])}set menuItems(t){let e=this.parentMenu;this.dispose(),this.parentMenu=e,t=[...t],this._menuItems=t.map((t=>t.onCreate?t.onCreate(t,this):new RF(t,this))),this.hasCheck=void 0,this.dirty=!0}dispose(){var t;this.hide(),this._element&&this._element.remove(),this._abortController&&this._abortController.abort(),null==(t=this._menuItems)||t.forEach((t=>t.dispose())),this._menuItems=[],this._activeMenuItem=null,this.parentMenu=null}handleEvent(t){if("wheel"===t.type&&this._element){let e=t;this._element.scrollBy(0,e.deltaY),t.stopPropagation()}}dispatchEvent(t){return this.rootMenu.dispatchEvent(t)}get host(){return this.rootMenu.host}get rootMenu(){return this.parentMenu.rootMenu}updateState(t){var e,o,n;this._menuItems.forEach((e=>e.updateState(t)));let r=this.hasCheck;this.hasCheck=this._menuItems.some((t=>t.visible&&t.hasCheck)),this.hasCheck!==r&&this._menuItems.forEach((e=>e.updateState(t)));let i,s=0;for(let t of this._menuItems)"heading"===t.type?(i&&0===s&&(i.visible=!1),i=t,s=0):"divider"===t.type&&i?(i.visible=s>0,i=void 0,s=0):i&&t.visible&&(s+=1);i&&(i.visible=s>0);let l=!0;for(let t of this._menuItems)"divider"===t.type?(t.visible=!l,l=!0):t.visible&&(l=!1);null!=(e=this.activeMenuItem)&&e.visible||(this.activeMenuItem=null),!(null!=(o=this.activeMenuItem)&&o.enabled)&&"submenu"===(null==(n=this.activeMenuItem)?void 0:n.type)&&this._activeMenuItem.submenu.hide(),this._dirty=!1}get enabled(){return this.updateIfDirty(),this._menuItems.some((t=>"divider"!==t.type&&t.visible&&t.enabled))}get visible(){return this.updateIfDirty(),this._menuItems.some((t=>"divider"!==t.type&&t.visible))}set dirty(t){this._dirty!==t&&t&&this.parentMenu&&(this._dirty=!0,this.parentMenu.dirty=!0)}updateIfDirty(){this._dirty&&this.updateState(this.rootMenu.modifiers)}updateElement(){var t;if(this._element){this._element.textContent="";for(let{element:t,visible:e}of this._menuItems)t&&e&&this._element.append(t);null==(t=this._element.querySelector("li:first-of-type"))||t.setAttribute("tabindex","0")}}get element(){if(this._element)return this._element;let t=document.createElement("menu");t.setAttribute("role","menu"),t.setAttribute("tabindex","-1"),t.setAttribute("aria-orientation","vertical"),t.setAttribute("part","ui-menu-container"),this._submenuClass&&t.classList.add(this._submenuClass),t.classList.add("ui-menu-container"),this._abortController||(this._abortController=new AbortController);let e=this._abortController.signal;return t.addEventListener("focus",this,{signal:e}),t.addEventListener("wheel",this,{passive:!0,signal:e}),this._element=t,this.updateElement(),t}get activeMenuItem(){return this._activeMenuItem}set activeMenuItem(t){var e,o,n,r;if(this.rootMenu.cancelDelayedOperation(),t!==this._activeMenuItem){if(this.activeMenuItem){let t=this.activeMenuItem;t.active=!1,null==(e=t.submenu)||e.hide()}if(null!=(o=null==t?void 0:t.visible)&&!o)return void(this._activeMenuItem=null);this._activeMenuItem=t,t&&(t.active=!0)}t?null==(n=t.element)||n.focus({preventScroll:!0}):null==(r=this._element)||r.focus({preventScroll:!0})}get firstMenuItem(){this.updateIfDirty();let t=0,e=!1,o=this._menuItems;for(;!e&&t<=o.length-1;){let n=o[t];e="divider"!==n.type&&n.visible&&n.enabled,t+=1}return e?o[t-1]:null}get lastMenuItem(){this.updateIfDirty();let t=this._menuItems,e=t.length-1,o=!1;for(;!o&&e>=0;){let n=t[e];o="divider"!==n.type&&n.visible&&n.enabled,e-=1}return o?t[e+1]:null}nextMenuItem(t){if(0===t)return this._activeMenuItem;if(!this._activeMenuItem)return t>0?this.firstMenuItem:this.lastMenuItem;if(!this.firstMenuItem||!this.lastMenuItem||!this._activeMenuItem)return null;this.updateIfDirty();let e=this._menuItems.indexOf(this.firstMenuItem),o=this._menuItems.indexOf(this.lastMenuItem),n=this._menuItems.indexOf(this._activeMenuItem),r=1;for(;n>=e&&n<=o;){n+=t>0?1:-1;let e=this._menuItems[n];if(!e)break;if(e.visible&&e.enabled){if(r===Math.abs(t))return this._menuItems[n];r+=1}}return t>0?this.lastMenuItem:this.firstMenuItem}getMenuItemColumn(t){this.updateIfDirty();let e=this._menuItems.filter((t=>t.visible&&t.enabled)).indexOf(t);return e<0?-1:e%this.columnCount}static get collator(){return t._collator||(t._collator=new Intl.Collator(void 0,{usage:"search",sensitivity:"base"})),t._collator}findMenuItem(e){var o;this.updateIfDirty();let n=this._menuItems.filter((t=>"divider"!==t.type&&t.visible&&t.enabled));if(0===n.length)return null;let r=Math.max(...n.map((t=>t.label.length)))-e.length;if(r<0)return null;let i=null,s=0;for(;s<r&&!i;)i=null!=(o=n.find((o=>0===t.collator.compare(e,o.label.substring(s,e.length)))))?o:null,s++;return i}show(t){return!(!this.visible||!t.container)&&(this.updateElement(),t.container.appendChild(this.element),KA()&&(this.element.popover="manual",this.element.showPopover()),t.location&&function(t,e){var o,n,r;let i=null!=(o=EF(t))?o:"ltr";t.style.position="fixed",t.style.left="",t.style.top="",t.style.right="",t.style.bottom="",t.style.height="",t.style.width="";let s=t.getBoundingClientRect(),l=Number.isFinite(e.maxHeight)?Math.min(e.maxHeight,window.innerHeight):window.innerHeight,a=Math.min(l,null!=(n=e.height)?n:s.height),d=DF(e.location.y,a,e.verticalPos,i);d+a>window.innerHeight-8&&(e.alternateLocation?(d=DF(e.alternateLocation.y,a,e.verticalPos,i),d+a>window.innerHeight-8&&(d=void 0)):d=void 0),Number.isFinite(d)||(d=Math.max(8,window.innerHeight-8-a),8+a>window.innerHeight-8&&(t.style.bottom="8px")),a=Math.min(d+a,window.innerHeight-8)-d;let c=Number.isFinite(e.maxWidth)?Math.min(e.maxWidth,window.innerWidth):window.innerWidth,h=Math.min(c,null!=(r=e.width)?r:s.width),u=DF(e.location.x,h,e.horizontalPos,i);u+h>window.innerWidth-8&&(e.alternateLocation?(u=function(t,e,o,n){return"middle"===o?t-e/2:"start"===o&&"ltr"===n||"end"===o&&"rtl"===n||"top"===o||"right"===o?t:t-e}(e.alternateLocation.x,h,e.verticalPos,i),u+h>window.innerWidth-8&&(u=void 0)):u=void 0),Number.isFinite(u)||(u=Math.max(8,window.innerWidth-8-h),8+h>window.innerWidth-8&&(t.style.right="8px")),h=Math.min(u+h,window.innerWidth-8)-u,"rtl"===i?t.style.right=`${Math.ceil(window.innerWidth-u-h).toString()}px`:t.style.left=`${Math.ceil(u).toString()}px`,t.style.top=`${Math.ceil(d).toString()}px`,a!==s.height&&(t.style.height=`${Math.ceil(a).toString()}px`),h!==s.width&&(t.style.width=`${Math.ceil(h).toString()}px`)}(this.element,{location:t.location,alternateLocation:t.alternateLocation,verticalPos:"bottom",horizontalPos:"start"}),VF(),this.element.focus({preventScroll:!0}),$F(),this.parentMenu&&(this.parentMenu.openSubmenu=this),!0)}hide(){var t,e,o,n,r,i;this.openSubmenu=null,this.activeMenuItem=null,this.parentMenu&&(this.parentMenu.openSubmenu=null),null!=(t=this._element)&&t.isConnected&&this._element.parentElement&&(KA()&&null!=(e=this._element)&&e.popover&&this._element.hidePopover(),VF(),null==(n=null==(o=this.parentMenu)?void 0:o.element)||n.focus(),null==(i=null==(r=this._element)?void 0:r.parentNode)||i.removeChild(this._element),$F())}set openSubmenu(t){var e,o,n,r;let i=null!==t;"submenu"===(null==(e=this.activeMenuItem)?void 0:e.type)&&(null==(o=this.activeMenuItem.element)||o.setAttribute("aria-expanded",i.toString())),null==(r=null==(n=this.activeMenuItem)?void 0:n.element)||r.classList.toggle("is-submenu-open",i),this.isSubmenuOpen=i}};function VF(){document.addEventListener("focusin",NF,!0),document.addEventListener("focusout",NF,!0),document.addEventListener("focus",NF,!0),document.addEventListener("blur",NF,!0)}function NF(t){t.stopImmediatePropagation(),t.preventDefault()}function $F(){document.removeEventListener("focusin",NF,!0),document.removeEventListener("focusout",NF,!0),document.removeEventListener("focus",NF,!0),document.removeEventListener("blur",NF,!0)}var KF=class t extends OF{constructor(t,e){var o;super(t),this.state="closed",this.typingBufferResetTimer=0,this.hysteresisTimer=0,this._updating=!1,this._host=null!=(o=null==e?void 0:e.host)?o:null,this.isDynamic=t.some(HF),this._modifiers={shift:!1,control:!1,alt:!1,meta:!1},this.typingBuffer="",this.state="closed"}get modifiers(){return this._modifiers}set modifiers(t){var e,o;e=this._modifiers,o=t,!(!e&&o||e&&!o||e&&o&&(e.alt!==o.alt||e.control!==o.control||e.shift!==o.shift||e.meta!==o.meta))||(this._modifiers=t,this.dirty=!0)}get activeSubmenu(){let t=this;for(;t.isSubmenuOpen;)t=t.activeMenuItem.submenu;return t}set dirty(t){this._updating||this._dirty!==t&&(this._dirty=!0,t&&setTimeout((()=>{this.updateState(this.modifiers),this.updateElement()})))}updateState(t){this._updating=!0,this.modifiers=null!=t?t:this.modifiers,super.updateState(this.modifiers),this._updating=!1}handleKeyupEvent(t){this.isDynamic&&(this.modifiers=KI(t)),t.stopImmediatePropagation()}handleKeydownEvent(t){var e,o,n;if("Tab"===t.key||"Escape"===t.key)return void this.hide();this.isDynamic&&(this.modifiers=KI(t));let r=!0,i=this.activeSubmenu,s=i.activeMenuItem;switch(t.key){case" ":case"Space":case"Return":case"Enter":null==s||s.select(KI(t));break;case"ArrowRight":if("submenu"===(null==s?void 0:s.type))s.select(KI(t)),this.activeSubmenu.activeMenuItem=this.activeSubmenu.firstMenuItem;else if(s){let t=null!=(e=i.getMenuItemColumn(s))?e:-1;if(t>=0&&t<(null!=(o=i.columnCount)?o:1)-1){let t=i.nextMenuItem(1);t&&(i.activeMenuItem=t)}}else i.activeMenuItem=i.firstMenuItem;break;case"ArrowLeft":if(i===this.rootMenu)s||(i.activeMenuItem=i.firstMenuItem);else if((s&&null!=(n=i.getMenuItemColumn(s))?n:-1)<=0||!s){i.hide();let t=i.parentMenu.activeMenuItem;if(t){let{element:e}=t;null==e||e.focus(),null==e||e.classList.remove("is-submenu-open")}}else{let t=i.nextMenuItem(-1);t&&(i.activeMenuItem=t)}break;case"ArrowDown":i.activeMenuItem=i.nextMenuItem(i.columnCount);break;case"ArrowUp":i.activeMenuItem=i.nextMenuItem(-i.columnCount);break;case"Home":case"PageUp":i.activeMenuItem=i.firstMenuItem;break;case"End":case"PageDown":i.activeMenuItem=i.lastMenuItem;break;case"Backspace":if(this.typingBuffer&&(this.typingBuffer=this.typingBuffer.slice(0,-1),this.typingBuffer)){clearTimeout(this.typingBufferResetTimer);let t=i.findMenuItem(this.typingBuffer);t&&(i.activeMenuItem=t),this.typingBufferResetTimer=setTimeout((()=>{this.typingBuffer=""}),500)}break;default:if(HI(t)){isFinite(this.typingBufferResetTimer)&&clearTimeout(this.typingBufferResetTimer),this.typingBuffer+=t.key;let e=i.findMenuItem(this.typingBuffer);e&&(i.activeMenuItem=e),this.typingBufferResetTimer=setTimeout((()=>{this.typingBuffer=""}),500)}else r=!1}r&&(t.preventDefault(),t.stopPropagation())}handleEvent(t){if("keydown"===t.type)this.handleKeydownEvent(t);else if("keyup"===t.type)this.handleKeyupEvent(t);else if("pointermove"===t.type)this.lastMoveEvent=t;else if("pointerup"===t.type&&t.target===this.scrim)Number.isFinite(this.rootMenu._openTimestamp)&&Date.now()-this.rootMenu._openTimestamp<120?this.state="modal":"modal"===this.state&&this.hide();else if("contextmenu"===t.type)return t.preventDefault(),void t.stopPropagation();super.handleEvent(t)}dispatchEvent(t){return!this._host||this._host.dispatchEvent(t)}get host(){return this._host}get scrim(){return WI.element}connectScrim(t){let e=this.scrim;e.addEventListener("pointerup",this),e.addEventListener("contextmenu",this),e.addEventListener("keydown",this),e.addEventListener("keyup",this),e.addEventListener("pointermove",this),WI.open({root:t,onDismiss:()=>this.hide()})}disconnectScrim(){let t=this.scrim;t.removeEventListener("pointerup",this),t.removeEventListener("contextmenu",this),t.removeEventListener("keydown",this),t.removeEventListener("keyup",this),t.removeEventListener("pointermove",this),"open"===WI.state&&WI.scrim.close()}get rootMenu(){return this}show(t){return this._onDismiss=null==t?void 0:t.onDismiss,null!=t&&t.modifiers&&(this.modifiers=t.modifiers),this.updateState(),this.connectScrim(null==t?void 0:t.target),super.show(IA(PA({},t),{container:this.scrim}))?(this._openTimestamp=Date.now(),this.state="open",!0):(this.disconnectScrim(),!1)}hide(){this.cancelDelayedOperation(),void 0!==this.state&&("closed"!==this.state&&(this.activeMenuItem=null,WI.element.parentElement.focus(),super.hide(),this.state="closed",this.disconnectScrim()),this._onDismiss&&(this._onDismiss(),this._onDismiss=void 0))}scheduleOperation(e){this.cancelDelayedOperation();let o=t.SUBMENU_DELAY;o<=0?e():this.hysteresisTimer=setTimeout((()=>{this.hysteresisTimer=0,e()}),o)}cancelDelayedOperation(){this.hysteresisTimer&&(clearTimeout(this.hysteresisTimer),this.hysteresisTimer=0)}};KF.SUBMENU_DELAY=120;var qF=KF;function HF(t){return!LF(t)&&(!!("function"==typeof t.label||"function"==typeof t.ariaLabel||"function"==typeof t.tooltip||(BF(t)||TF(t))&&("function"==typeof t.enabled||"function"==typeof t.visible)||BF(t)&&"function"==typeof t.checked)||!!TF(t)&&t.submenu.some(HF))}var jF=class{};function WF(t){return new Promise(((e,o)=>{let n=$I(t);n||e(!1);let r=n,i=setTimeout((()=>{s.abort(),e(function(t,e){return Math.hypot(e.x-t.x,e.y-t.y)}(r,n)<jF.MAX_DISTANCE)}),jF.DELAY),s=new AbortController,l=s.signal;for(let t of["pointermove","pointerup","pointercancel"])window.addEventListener(t,(t=>{if("pointerup"===t.type||"pointercancel"===t.type)clearTimeout(i),s.abort(),e(!1);else if("pointermove"===t.type){let e=$I(t);e&&(r=e)}}),{passive:!0,signal:l})}))}async function UF(t,e,o){if(t.defaultPrevented)return!1;if("contextmenu"===t.type){let n=t;if(o.show({target:e,location:$I(n),modifiers:KI(n)}))return t.preventDefault(),t.stopPropagation(),!0}if("keydown"===t.type){let n=t;if("ContextMenu"===n.code||"F10"===n.code&&n.shiftKey){let r=null==e?void 0:e.getBoundingClientRect();if(GF(e)&&r&&o.show({target:e,location:{x:Math.ceil(r.left+r.width/2),y:Math.ceil(r.top+r.height/2)},modifiers:KI(n)}))return t.preventDefault(),t.stopPropagation(),!0}}if("pointerdown"===t.type&&"mouse"!==t.pointerType&&0===t.button){let n=t.target;for(;n&&e!==n;)n=n.parentNode;if(!n||!o.visible)return!1;let r=$I(t);if(await WF(t))return!("closed"!==o.state||!GF(e))&&(o.show({target:e,location:r}),!0)}return!1}function GF(t){return t.dispatchEvent(new Event("contextmenu",{cancelable:!0}))}jF.DELAY=300,jF.MAX_DISTANCE=10;var ZF={acute:714,grave:715,dot:729,ddot:168,dddot:8411,ddddot:8412,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};SC(Object.keys(ZF),"{body:auto}",{createAtom:t=>new tP(IA(PA({},t),{body:lC(t.args[0]),accentChar:ZF[t.command.slice(1)]}))}),SC(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:t=>{let e=_C(lC(t.args[0]));return new tP(IA(PA({},t),{body:lC(t.args[0]),svgAccent:t.command.slice(1)+(e.length>5?"4":["1","1","2","2","3","3"][e.length])}))}}),SC(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:t=>new tP(IA(PA({},t),{body:lC(t.args[0]),svgAccent:"overarc"}))}),SC(["underarc","underparen"],"{body:auto}",{createAtom:t=>new rI(IA(PA({},t),{body:lC(t.args[0]),svgBelow:"underarc"}))}),SC("utilde","{body:auto}",{createAtom:t=>{let e=lC(t.args[0]),o=_C(e),n="widetilde"+(o.length>5?"4":["1","1","2","2","3","3"][o.length]);return new rI(IA(PA({},t),{body:e,svgBelow:n,boxType:IB(e)}))}}),SC("^","{:string}",{createAtom:t=>{var e;return new sL(IA(PA({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&null!=(e={a:"â",e:"ê",i:"î",o:"ô",u:"û",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û"}[t.args[0]])?e:"^"}))}}),SC("`","{:string}",{createAtom:t=>{var e;return new sL(IA(PA({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&null!=(e={a:"à",e:"è",i:"ì",o:"ò",u:"ù",A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù"}[t.args[0]])?e:"`"}))}}),SC("'","{:string}",{createAtom:t=>{var e;return new sL(IA(PA({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&null!=(e={a:"á",e:"é",i:"í",o:"ó",u:"ú",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú"}[t.args[0]])?e:"'"}))}}),SC('"',"{:string}",{createAtom:t=>{var e,o;return new sL(IA(PA({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:null!=(e=t.args)&&e[0]?null!=(o={a:"ä",e:"ë",i:"ï",o:"ö",u:"ü",A:"Ä",E:"Ë",I:"Ë",O:"Ö",U:"Ü"}[t.args[0]])?o:'"'+t.args[0]:'"'}))}}),SC(".","{:string}",{createAtom:t=>{var e,o;return new sL(IA(PA({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:null!=(e=t.args)&&e[0]?null!=(o={a:"ȧ",e:"ė",i:"̇i",o:"ȯ",u:"̇u",A:"Ȧ",E:"Ė",I:"İ",O:"Ȯ",U:"̇U"}[t.args[0]])?o:"."+t.args[0]:"."}))}}),SC("=","{:string}",{createAtom:t=>{var e,o;return new sL(IA(PA({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:null!=(e=t.args)&&e[0]?null!=(o={a:"ā",e:"ē",i:"ī",o:"ō",u:"ū",A:"Ā",E:"Ē",I:"Ī",O:"Ō",U:"Ū"}[t.args[0]])?o:"="+t.args[0]:"="}))}}),SC("~","{:string}",{createAtom:t=>{var e;return new sL(IA(PA({type:"mord"},t),{isFunction:!1,limits:"adjacent",value:t.args[0]&&null!=(e={n:"ñ",N:"Ñ",a:"ã",o:"õ",A:"Ã",O:"Õ"}[t.args[0]])?e:"´"}))}}),SC("c","{:string}",{createAtom:t=>{var e;return new sL(IA(PA({},t),{type:"mord",isFunction:!1,limits:"adjacent",value:t.args[0]&&null!=(e={c:"ç",C:"Ç"}[t.args[0]])?e:""}))}}),SC("enclose","{notation:string}[style:string]{body:auto}",{createAtom:t=>{var e,o;let n=t.args,r={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"none",svgStrokeStyle:void 0,borderStyle:void 0,style:null!=(e=t.style)?e:{}};if(n[1]){let t=n[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let e of t){let t=e.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(t)r.strokeWidth=t[1],r.strokeStyle=t[2],r.strokeColor=t[3];else{let t=e.match(/\s*([a-z]*)\s*=\s*"(.*)"/);t&&("mathbackground"===t[1]?r.backgroundcolor=t[2]:"mathcolor"===t[1]?r.strokeColor=t[2]:"padding"===t[1]?r.padding=t[2]:"shadow"===t[1]&&(r.shadow=t[2]))}}"dashed"===r.strokeStyle?r.svgStrokeStyle="5,5":"dotted"===r.strokeStyle&&(r.svgStrokeStyle="1,5")}r.borderStyle=`${r.strokeWidth} ${r.strokeStyle} ${r.strokeColor}`;let i={};return(null!=(o=n[0])?o:"").split(/[, ]/).filter((t=>t.length>0)).forEach((t=>{i[t.toLowerCase()]=!0})),new GP(t.command,lC(n[2]),i,r)}}),SC("cancel","{body:auto}",{createAtom:t=>{var e;return new GP(t.command,lC(t.args[0]),{updiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:null!=(e=t.style)?e:{}})}}),SC("bcancel","{body:auto}",{createAtom:t=>{var e;return new GP(t.command,lC(t.args[0]),{downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:null!=(e=t.style)?e:{}})}}),SC("xcancel","{body:auto}",{createAtom:t=>{var e;return new GP(t.command,lC(t.args[0]),{updiagonalstrike:!0,downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:null!=(e=t.style)?e:{}})}}),SC(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:t=>{var e;return new rI(IA(PA({},t),{body:lC(null==(e=t.args)?void 0:e[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgAbove:t.command.slice(1)}))}}),SC("overbrace","{:auto}",{createAtom:t=>new rI(IA(PA({},t),{body:lC(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgAbove:t.command.slice(1)}))}),SC(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:t=>new rI(IA(PA({},t),{body:lC(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgBelow:t.command.slice(1)}))}),SC(["underbrace"],"{:auto}",{createAtom:t=>new rI(IA(PA({},t),{body:lC(t.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgBelow:t.command.slice(1)}))}),SC(["xrightarrow","longrightarrow","xleftarrow","longleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","longleftrightarrow","xLeftrightarrow","xrightleftharpoons","longrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xleftrightarrows","longleftrightarrows","xRightleftharpoons","longRightleftharpoons","xLeftrightharpoons","longLeftrightharpoons"],"[:auto]{:auto}",{createAtom:t=>{var e,o,n,r,i;return new rI(IA(PA({},t),{svgBody:t.command.slice(1),above:0===(null==(o=lC(null==(e=t.args)?void 0:e[1]))?void 0:o.length)?void 0:lC(null==(n=t.args)?void 0:n[1]),below:null!=(i=lC(null==(r=t.args)?void 0:r[0]))?i:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"rel"}))},serialize:(t,e)=>t.command+(t.hasEmptyBranch("below")?"":`[${t.belowToLatex(e)}]`)+`{${t.aboveToLatex(e)}}${t.supsubToLatex(e)}`}),SC(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","cotg","coth","ctg","cth","csc","cosec","deg","dim","exp","gcd","hom","inf","ker","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th","arcsec","arccsc","arsinh","arcosh","artanh","arcsech","arccsch"],"",{isFunction:!0,ifMode:"math",createAtom:t=>new gI(t.command.slice(1),IA(PA({},t),{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up"}))}),SC(["liminf","limsup"],"",{ifMode:"math",createAtom:t=>new gI({"\\liminf":"lim inf","\\limsup":"lim sup"}[t.command],IA(PA({},t),{limits:"over-under",variant:"main"}))}),SC(["lim","mod"],"",{ifMode:"math",createAtom:t=>new gI(t.command.slice(1),IA(PA({},t),{limits:"over-under",variant:"main"}))}),SC(["det","max","min"],"",{ifMode:"math",isFunction:!0,createAtom:t=>new gI(t.command.slice(1),IA(PA({},t),{limits:"over-under",isFunction:!0,variant:"main"}))}),SC("ang","{:math}",{ifMode:"math",createAtom:t=>new sL(IA(PA({},t),{body:lC(t.args[0])})),serialize:(t,e)=>`\\ang{${t.bodyToLatex(e)}}`,render:(t,e)=>{let o=t.createBox(e),n=o.caret;o.caret=void 0;let r=new RB("°",{style:IA(PA({},t.style),{variant:"normal",variantStyle:"up"})});return new RB([o,r],{type:"inner",isSelected:t.isSelected,caret:n})}}),SC("sqrt","[index:auto]{radicand:expression}",{ifMode:"math",createAtom:t=>new lI(IA(PA({},t),{body:lC(t.args[1]),index:t.args[0]?lC(t.args[0]):void 0}))}),SC(["frac","dfrac","tfrac","binom","dbinom","tbinom"],"{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=PA({},t),o=t.command,n=t.args;switch(o){case"\\dfrac":case"\\frac":case"\\tfrac":e.hasBarLine=!0;break;case"\\atopfrac":e.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":e.hasBarLine=!1,e.leftDelim="(",e.rightDelim=")";break;case"\\cfrac":e.hasBarLine=!0,e.continuousFraction=!0}switch(o){case"\\dfrac":case"\\dbinom":e.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":e.mathstyleName="textstyle"}return new XP(n[0]?lC(n[0]):[new fP],n[1]?lC(n[1]):[new fP],e)},serialize:(t,e)=>{let o=t.aboveToLatex(e),n=t.belowToLatex(e);return/^[0-9]$/.test(o)&&/^[0-9]$/.test(n)?`${t.command}${o}${n}`:_B(t.command,o,n)}}),SC(["cfrac"],"[:string]{:expression}{:expression}",{ifMode:"math",createAtom:t=>{let e=PA({},t),o=t.args;return e.hasBarLine=!0,e.continuousFraction=!0,"r"===o[0]&&(e.align="right"),"l"===o[0]&&(e.align="left"),new XP(o[1]?lC(o[1]):[new fP],o[2]?lC(o[2]):[new fP],e)},serialize:(t,e)=>{let o=t.aboveToLatex(e),n=t.belowToLatex(e);return _B(t.command,o,n)}}),SC(["brace","brack"],"",{infix:!0,createAtom:t=>new XP(lC(t.args[0]),lC(t.args[1]),IA(PA({},t),{hasBarLine:!1,leftDelim:"\\brace"===t.command?"\\lbrace":"\\lbrack",rightDelim:"\\brace"===t.command?"\\rbrace":"\\rbrack"})),serialize:(t,e)=>vB([t.aboveToLatex(e),t.command,t.belowToLatex(e)])}),SC(["over","atop","choose"],"",{infix:!0,createAtom:t=>{let e,o,n=t.args;return"\\choose"===t.command&&(e="(",o=")"),new XP(lC(n[0]),lC(n[1]),IA(PA({},t),{hasBarLine:"\\over"===t.command,leftDelim:e,rightDelim:o}))},serialize:(t,e)=>vB([t.aboveToLatex(e),t.command,t.belowToLatex(e)])}),SC(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:t=>{var e,o;let n=t.args;return new XP(lC(n[0]),lC(n[1]),IA(PA({},t),{leftDelim:null!=(e=n[2])?e:".",rightDelim:null!=(o=n[3])?o:".",hasBarLine:!1}))},serialize:(t,e)=>`${t.aboveToLatex(e)} ${t.command}${t.leftDelim}${t.rightDelim}${t.belowToLatex(e)}`}),SC("pdiff","{numerator}{denominator}",{ifMode:"math",createAtom:t=>new XP(lC(t.args[0]),lC(t.args[1]),IA(PA({},t),{hasBarLine:!0,numerPrefix:"∂",denomPrefix:"∂"})),serialize:(t,e)=>vB([t.aboveToLatex(e),t.command,t.belowToLatex(e)])}),SC(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","intop"],"",{ifMode:"math",createAtom:t=>new oI({coprod:"∐",bigvee:"⋁",bigwedge:"⋀",biguplus:"⨄",bigcap:"⋂",bigcup:"⋃",intop:"∫",prod:"∏",sum:"∑",bigotimes:"⨂",bigoplus:"⨁",bigodot:"⨀",bigsqcup:"⨆",smallint:"∫"}[t.command.slice(1)],IA(PA({},t),{limits:"auto",variant:"main"}))}),SC("smallint","",{ifMode:"math",createAtom:t=>new gI("∫",IA(PA({},t),{limits:"adjacent",variant:"main"}))});var JF={int:"∫",iint:"∬",iiint:"∭",oint:"∮",oiint:"∯",oiiint:"∰",intclockwise:"∱",varointclockwise:"∲",ointctrclockwise:"∳",intctrclockwise:"⨑",sqcup:"⊔",sqcap:"⊓",uplus:"⊎",wr:"≀",amalg:"⨿",Cap:"⋒",Cup:"⋓",doublecap:"⋒",doublecup:"⋓"};SC(Object.keys(JF),"",{ifMode:"math",createAtom:t=>{let e=t.command,o=JF[e.slice(1)];return new oI(o,IA(PA({},t),{limits:"adjacent",variant:{"⋒":"ams","⋓":"ams"}[o]}))}}),SC(["Re","Im"],"",{ifMode:"math",createAtom:t=>new gI({"\\Re":"ℜ","\\Im":"ℑ"}[t.command],IA(PA({},t),{limits:"adjacent",isFunction:!0,variant:"fraktur"}))}),SC("middle","{:delim}",{ifMode:"math",createAtom:t=>{var e;return new WP(IA(PA({},t),{delim:null!=(e=t.args[0])?e:"|",size:1}))}}),SC("the","{:value}",{createAtom:t=>new sL(IA(PA({},t),{captureSelection:!0,verbatimLatex:null})),render:(t,e)=>{var o;let n=new oL({parent:e},t.style),r="";t.isSelected&&(r+=" ML__selected");let i=n.evaluate(t.args[0]);return new RB((null!=(o=YB(i))?o:"").split("").map((e=>new RB(e,{type:"ord",classes:r,mode:t.mode,isSelected:t.isSelected,style:PA({variant:"main"},t.style)}))),{type:"lift",style:t.style,caret:t.caret,isSelected:t.isSelected,classes:r}).wrap(n)},serialize:t=>{var e;return`\\the${null!=(e=YB(t.args[0]))?e:"\\relax"}`}}),SC("mathtip","{:auto}{:math}",{createAtom:t=>new mI(IA(PA({},t),{body:lC(t.args[0]),tooltip:lC(t.args[1]),content:"math"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\mathtip{${t.bodyToLatex(e)}}{${sL.serialize([t.tooltip],IA(PA({},e),{defaultMode:"math"}))}}`}),SC("texttip","{:auto}{:text}",{createAtom:t=>new mI(IA(PA({},t),{body:lC(t.args[0]),tooltip:lC(t.args[1]),content:"text"})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\texttip{${t.bodyToLatex(e)}}{${sL.serialize([t.tooltip],IA(PA({},e),{defaultMode:"text"}))}}`}),SC("error","{:math}",{createAtom:t=>new sL(IA(PA({},t),{body:lC(t.args[0])})),serialize:(t,e)=>`\\error{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__error"})}),SC("ensuremath","{:math}",{createAtom:t=>new sL(IA(PA({},t),{body:lC(t.args[0])})),serialize:(t,e)=>`${t.command}{${t.bodyToLatex(IA(PA({},e),{defaultMode:"math"}))}}`}),SC("color","{:value}",{applyStyle:(t,e,o,n)=>{var r,i;return IA(PA({},t),{verbatimColor:null!=(r=YB(o[0]))?r:void 0,color:n.toColor(null!=(i=o[0])?i:{string:"red"})})}}),SC("textcolor","{:value}{content:auto*}",{applyStyle:(t,e,o,n)=>{var r,i;return IA(PA({},t),{verbatimColor:null!=(r=YB(o[0]))?r:void 0,color:n.toColor(null!=(i=o[0])?i:{string:"red"})})}}),SC("boxed","{content:math}",{createAtom:t=>new DP(IA(PA({},t),{body:lC(t.args[0]),framecolor:{string:"black"}}))}),SC("colorbox","{:value}{:text*}",{applyStyle:(t,e,o,n)=>{var r,i;return IA(PA({},t),{verbatimBackgroundColor:null!=(r=YB(o[0]))?r:void 0,backgroundColor:n.toBackgroundColor(null!=(i=o[0])?i:{string:"yellow"})})}}),SC("fcolorbox","{frame-color:value}{background-color:value}{content:text}",{applyMode:"text",createAtom:t=>{var e,o;return new DP(IA(PA({},t),{body:lC(t.args[2]),framecolor:null!=(e=t.args[0])?e:{string:"blue"},backgroundcolor:null!=(o=t.args[1])?o:{string:"yellow"}}))},serialize:(t,e)=>{var o,n;return e.skipStyles?t.bodyToLatex(IA(PA({},e),{defaultMode:"text"})):_B(t.command,null!=(o=YB(t.framecolor))?o:"",null!=(n=YB(t.backgroundcolor))?n:"",t.bodyToLatex(IA(PA({},e),{defaultMode:"text"})))}}),SC("bbox","[:bbox]{body:auto}",{createAtom:t=>{var e;let o=t.args[0],n=lC(t.args[1]);return new DP(IA(PA({},t),o?{body:n,padding:o.padding,border:o.border,backgroundcolor:null!=(e=o.backgroundcolor)?e:void 0}:{body:n}))},serialize:(t,e)=>{var o,n;if(e.skipStyles)return t.bodyToLatex(e);let r=t.command;if(Number.isFinite(t.padding)||void 0!==t.border||void 0!==t.backgroundcolor){let e=[];t.padding&&e.push(null!=(o=YB(t.padding))?o:""),t.border&&e.push(`border: ${t.border}`),t.backgroundcolor&&e.push(null!=(n=YB(t.backgroundcolor))?n:""),r+=`[${e.join(",")}]`}return _B(r,t.bodyToLatex(e))}}),SC(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:t=>new sL(IA(PA({},t),{body:lC(t.args[0])})),render:(t,e)=>{let o=new oL({parent:e,mathstyle:t.command.slice(1)},t.style),n=sL.createBox(o,t.body,{type:"lift"});return t.caret&&(n.caret=t.caret),t.bind(e,n)},serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{${vB([t.command,t.bodyToLatex(e)])}}`}),SC(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:(t,e)=>IA(PA({},t),{fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[e]})}),SC("fontseries","{:string}",{ifMode:"text",applyStyle:(t,e,o)=>{var n;return IA(PA({},t),{fontSeries:null!=(n=o[0])?n:"auto"})}}),SC("fontshape","{:string}",{ifMode:"text",applyStyle:(t,e,o)=>{var n;return IA(PA({},t),{fontShape:null!=(n=o[0])?n:"auto"})}}),SC("fontfamily","{:string}",{ifMode:"text",applyStyle:(t,e,o)=>{var n;return IA(PA({},t),{fontFamily:null!=(n=o[0])?n:"roman"})}}),SC("selectfont","",{ifMode:"text",applyStyle:t=>t}),SC("bf","{:rest*}",{applyStyle:t=>IA(PA({},t),{fontSeries:"b",fontShape:"n",fontFamily:"roman"})}),SC(["boldsymbol","bm","bold"],"{:math*}",{applyMode:"math",applyStyle:t=>IA(PA({},t),{variantStyle:"bold"})}),SC("bfseries","{:rest*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontSeries:"b"})}),SC("mdseries","{:rest*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontSeries:"m"})}),SC("upshape","{:rest*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontShape:"n"})}),SC("slshape","{:rest*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontShape:"sl"})}),SC("scshape","{:rest*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontShape:"sc"})}),SC("textbf","{:text*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontSeries:"b"})}),SC("textmd","{:text*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontSeries:"m"})}),SC("textup","{:text*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontShape:"n"})}),SC("textnormal","{:text*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontShape:"n",fontSeries:"m"})}),SC("textsl","{:text*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontShape:"sl"})}),SC("textit","{:text*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontShape:"it"})}),SC("textsc","{:text*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontShape:"sc"})}),SC("textrm","{:text*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontFamily:"roman"})}),SC("textsf","{:text*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontFamily:"sans-serif"})}),SC("texttt","{:text*}",{applyMode:"text",applyStyle:t=>IA(PA({},t),{fontFamily:"monospace"})}),SC("mathbf","{:math*}",{applyMode:"math",applyStyle:t=>IA(PA({},t),{variant:"normal",variantStyle:"bold"})}),SC("mathit","{:math*}",{applyMode:"math",applyStyle:t=>IA(PA({},t),{variant:"main",variantStyle:"italic"})}),SC("mathnormal","{:math*}",{applyMode:"math",applyStyle:t=>IA(PA({},t),{variant:"normal",variantStyle:"italic"})}),SC("mathbfit","{:math*}",{applyMode:"math",applyStyle:t=>IA(PA({},t),{variant:"main",variantStyle:"bolditalic"})}),SC("mathrm","{:math*}",{applyMode:"math",applyStyle:t=>IA(PA({},t),{variant:"normal",variantStyle:"up"})}),SC("mathsf","{:math*}",{applyMode:"math",applyStyle:t=>IA(PA({},t),{variant:"sans-serif",variantStyle:"up"})}),SC("mathtt","{:math*}",{applyMode:"math",applyStyle:t=>IA(PA({},t),{variant:"monospace",variantStyle:"up"})}),SC("it","{:rest*}",{applyStyle:t=>IA(PA({},t),{fontSeries:"m",fontShape:"it",fontFamily:"roman",variantStyle:"italic"})}),SC("rmfamily","{:rest*}",{applyStyle:t=>IA(PA({},t),{fontFamily:"roman"})}),SC("sffamily","{:rest*}",{applyStyle:t=>IA(PA({},t),{fontFamily:"sans-serif"})}),SC("ttfamily","{:rest*}",{applyStyle:t=>IA(PA({},t),{fontFamily:"monospace"})}),SC(["Bbb","mathbb"],"{:math*}",{applyStyle:t=>IA(PA({},t),{variant:"double-struck",variantStyle:xI(t.variantStyle)})}),SC(["frak","mathfrak"],"{:math*}",{applyStyle:t=>IA(PA({},t),{variant:"fraktur",variantStyle:xI(t.variantStyle)})}),SC("mathcal","{:math*}",{applyStyle:t=>IA(PA({},t),{variant:"calligraphic",variantStyle:xI(t.variantStyle)})}),SC("mathscr","{:math*}",{applyStyle:t=>IA(PA({},t),{variant:"script",variantStyle:xI(t.variantStyle)})}),SC("mbox","{:text}",{ifMode:"math",createAtom:t=>new sL(IA(PA({},t),{type:"mord",body:lC(t.args[0]),mode:"math"})),serialize:(t,e)=>_B("\\mbox",t.bodyToLatex(IA(PA({},e),{defaultMode:"text"})))}),SC("text","{:text}",{ifMode:"math",applyMode:"text"}),SC(["class","htmlClass"],"{name:string}{content:auto}",{createAtom:t=>new sL(IA(PA({},t),{body:lC(t.args[1])})),serialize:(t,e)=>!t.args[0]||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`,render:(t,e)=>{var o;return t.createBox(e,{classes:null!=(o=t.args[0])?o:""})}}),SC(["cssId","htmlId"],"{id:string}{content:auto}",{createAtom:t=>new sL(IA(PA({},t),{body:lC(t.args[1])})),serialize:(t,e)=>{var o;return null==(o=t.args)||!o[0]||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var o;let n=t.createBox(e);return n.cssId=null!=(o=t.args[0])?o:"",n}}),SC("htmlData","{data:string}{content:auto}",{createAtom:t=>new sL(IA(PA({},t),{body:lC(t.args[1])})),serialize:(t,e)=>{var o;return null==(o=t.args)||!o[0]||e.skipStyles?t.bodyToLatex(e):`\\htmlData{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var o;let n=t.createBox(e);return n.htmlData=null!=(o=t.args[0])?o:"",n}}),SC(["style","htmlStyle"],"{data:string}{content:auto}",{createAtom:t=>new sL(IA(PA({},t),{body:lC(t.args[1])})),serialize:(t,e)=>{var o;return null==(o=t.args)||!o[0]||e.skipStyles?t.bodyToLatex(e):`${t.command}{${t.args[0]}}{${t.bodyToLatex(e)}}`},render:(t,e)=>{var o;let n=t.createBox(e);return n.htmlStyle=null!=(o=t.args[0])?o:"",n}}),SC("href","{url:string}{content:auto}",{createAtom:t=>new sL(IA(PA({},t),{body:lC(t.args[1])})),render:(t,e)=>{var o;let n=t.createBox(e),r=null!=(o=t.args[0])?o:"";return r&&(n.htmlData=`href=${r}`),n}}),SC("em","{:rest}",{createAtom:t=>new sL(IA(PA({},t),{body:lC(t.args[0])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`{\\em ${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})}),SC("emph","{:auto}",{createAtom:t=>new sL(IA(PA({},t),{body:lC(t.args[1])})),serialize:(t,e)=>e.skipStyles?t.bodyToLatex(e):`\\emph{${t.bodyToLatex(e)}}`,render:(t,e)=>t.createBox(e,{classes:"ML__emph",boxType:"lift"})});var YF={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};SC(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:t=>{var e;return new UP(IA(PA({},t),{delim:null!=(e=t.args[0])?e:".",size:YF[t.command].size,delimType:YF[t.command].mclass}))}}),SC(["hspace","hspace*"],"{width:value}",{createAtom:t=>{var e;return new sI(IA(PA({},t),{width:null!=(e=t.args[0])?e:{dimension:0}}))}}),SC(["mkern","kern","mskip","hskip","mspace"],"{width:value}",{createAtom:t=>{var e;return new sI(IA(PA({},t),{width:null!=(e=t.args[0])?e:{dimension:0}}))}}),SC("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:t=>new sL(t),render:(t,e)=>{let o=0,n=e.mathstyle.id;(5===n||4===n)&&(o=1),(3===n||2===n)&&(o=2),(1===n||0===n)&&(o=3);let r=lC(t.args[o]);return sL.createBox(e,r)},serialize:(t,e)=>`\\mathchoice{${sL.serialize(t.args[0],e)}}{${sL.serialize(t.args[1],e)}}{${sL.serialize(t.args[2],e)}}{${sL.serialize(t.args[3],e)}}`}),SC("mathop","{:auto}",{createAtom:t=>new sL(IA(PA({},t),{type:"mop",body:lC(t.args[0]),limits:"over-under",isFunction:!0,captureSelection:!0})),render:(t,e)=>{var o;let n=sL.createBox(e,t.body);if(t.superscript||t.subscript){let r=null!=(o=t.subsupPlacement)?o:"auto";n="over-under"===r||"auto"===r&&e.isDisplayStyle?t.attachLimits(e,{base:n}):t.attachSupsub(e,{base:n})}return t.caret&&(n.caret=t.caret),new RB(t.bind(e,n),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let o=[_B(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&("over-under"===t.subsupPlacement&&o.push("\\limits"),"adjacent"===t.subsupPlacement&&o.push("\\nolimits"),"auto"===t.subsupPlacement&&o.push("\\displaylimits")),o.push(t.supsubToLatex(e)),vB(o)}}),SC(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:t=>new sL(IA(PA({},t),{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[t.command],body:lC(t.args[0])}))}),SC(["operatorname","operatorname*"],"{operator:math}",{createAtom:t=>{let e=lC(t.args[0]).map((t=>{var e;return"first"!==t.type&&(t.type="mord",t.value=null!=(e={"∗":"*","−":"-"}[t.value])?e:t.value,t.isFunction=!1,!t.style.variant&&!t.style.variantStyle&&(t.style.variant="main",t.style.variantStyle="up")),t}));return new sL(IA(PA({},t),{type:"mop",body:e,isFunction:!0,limits:"\\operatorname"===t.command?"adjacent":"over-under"}))},render:(t,e)=>{var o;let n=sL.createBox(e,t.body);if(t.superscript||t.subscript){let r=null!=(o=t.subsupPlacement)?o:"auto";n="over-under"===r||"auto"===r&&e.isDisplayStyle?t.attachLimits(e,{base:n}):t.attachSupsub(e,{base:n})}return t.caret&&(n.caret=t.caret),new RB(t.bind(e,n),{type:"op",isSelected:t.isSelected,classes:"ML__op-group"})},serialize:(t,e)=>{let o=[_B(t.command,t.bodyToLatex(e))];return t.explicitSubsupPlacement&&("over-under"===t.subsupPlacement&&o.push("\\limits"),"adjacent"===t.subsupPlacement&&o.push("\\nolimits"),"auto"===t.subsupPlacement&&o.push("\\displaylimits")),o.push(t.supsubToLatex(e)),vB(o)}}),SC(["char","unicode"],"{charcode:value}",{createAtom:t=>new sL(IA(PA({},t),{type:"text"===t.mode?"text":"mord"})),serialize:t=>{var e;return`${t.command}${YB(null!=(e=t.args[0])?e:{number:10067,base:"hexadecimal"})}`},render:(t,e)=>{let o=e.evaluate(t.args[0]);return(!o||!("number"in o))&&(o={number:10067,base:"hexadecimal"}),t.value=String.fromCodePoint(o.number),t.createBox(e)}}),SC("rule","[raise:value]{width:value}{thickness:value}",{createAtom:t=>new sL(t),render:(t,e)=>{var o,n,r;let i=new oL({parent:e,mathstyle:"textstyle"},t.style),s=i.toEm(null!=(o=t.args[0])?o:{dimension:0}),l=i.toEm(null!=(n=t.args[1])?n:{dimension:10}),a=i.toEm(null!=(r=t.args[2])?r:{dimension:10}),d=new RB(null,{classes:"ML__rule",type:"ord"});return d.width=l,d.height=a+s,d.depth=-s,d.setStyle("border-right-width",l,"em"),d.setStyle("border-top-width",a,"em"),d.setStyle("border-color",t.style.color),d.setStyle("vertical-align",s,"em"),t.isSelected&&d.setStyle("opacity","50%"),t.bind(i,d),t.caret&&(d.caret=t.caret),d.wrap(e)},serialize:t=>`\\rule${t.args[0]?`[${YB(t.args[0])}]`:""}{${YB(t.args[1])}}{${YB(t.args[2])}}`}),SC(["overline","underline"],"{:auto}",{createAtom:t=>new sL(IA(PA({},t),{body:lC(t.args[0])})),render:(t,e)=>{let o=t.command.substring(1),n=new oL({parent:e,mathstyle:"cramp"},t.style),r=sL.createBox(n,t.body);if(!r)return null;let i,s=n.metrics.defaultRuleThickness/n.scalingFactor,l=new RB(null,{classes:o+"-line"});return l.height=s,l.maxFontSize=1.125*s*n.scalingFactor,i=new HB("overline"===o?{shift:0,children:[{box:r},3*s,{box:l},s]}:{top:r.height,children:[s,{box:l},3*s,{box:r}]}),t.caret&&(i.caret=t.caret),new RB(i,{classes:o,type:"ignore"})}}),SC("overset","{:auto}{base:auto}",{createAtom:t=>{let e=lC(t.args[1]);return new rI(IA(PA({},t),{above:lC(t.args[0]),body:e,skipBoundary:!1,boxType:IB(e)}))},serialize:(t,e)=>_B(t.command,t.aboveToLatex(e),t.bodyToLatex(e))}),SC("underset","{:auto}{base:auto}",{createAtom:t=>{let e=lC(t.args[1]);return new rI(IA(PA({},t),{below:lC(t.args[0]),body:e,skipBoundary:!1,boxType:IB(e)}))},serialize:(t,e)=>_B(t.command,t.belowToLatex(e),t.bodyToLatex(e))}),SC("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:t=>{let e=lC(t.args[2]);return new rI(IA(PA({},t),{above:lC(t.args[0]),below:lC(t.args[1]),body:e,skipBoundary:!1,boxType:IB(e)}))},serialize:(t,e)=>_B(t.command,t.belowToLatex(e),t.bodyToLatex(e))}),SC(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:t=>new rI(IA(PA({},t),{body:lC(t.args[2]),above:lC(t.args[1]),below:lC(t.args[0]),skipBoundary:!1,boxType:"\\stackrel"===t.command?"rel":"bin"})),serialize:(t,e)=>_B(t.command,t.aboveToLatex(e),t.bodyToLatex(e))}),SC("smash","[:string]{:auto}",{createAtom:t=>{var e,o,n,r;return new iI(IA(PA({},t),{body:lC(t.args[1]),smashHeight:null==(o=null==(e=t.args[0])?void 0:e.includes("t"))||o,smashDepth:null==(r=null==(n=t.args[0])?void 0:n.includes("b"))||r}))}}),SC(["vphantom"],"{:auto}",{createAtom:t=>new iI(IA(PA({},t),{body:lC(t.args[0]),isInvisible:!0,smashWidth:!0}))}),SC(["hphantom"],"{:auto}",{createAtom:t=>new iI(IA(PA({},t),{body:lC(t.args[0]),isInvisible:!0,smashHeight:!0,smashDepth:!0}))}),SC(["phantom"],"{:auto}",{createAtom:t=>new iI(IA(PA({},t),{body:lC(t.args[0]),isInvisible:!0}))}),SC("not","{:math}",{createAtom:t=>{let e=lC(t.args[0]);return 0===e.length?new sL(IA(PA({},t),{type:"mrel",value:""})):new sL(IA(PA({},t),{body:[new nI(IA(PA({},t),{body:"",align:"right"})),...e],captureSelection:!0}))},serialize:(t,e)=>{let o=t.args[0],n=o&&"object"==typeof o&&"group"in o;return""!==t.value?n?`\\not{${sL.serialize(o.group,e)}}`:`\\not${sL.serialize(o,e)}`:n?"\\not{}":"\\not"},render:(t,e)=>{if(t.value)return t.createBox(e);let o=t.args[0]&&"object"==typeof t.args[0]&&"group"in t.args[0]?"ord":IB(lC(t.args[0])),n=sL.createBox(e,t.body,{type:o});return t.caret&&(n.caret=t.caret),t.bind(e,n)}}),SC(["ne","neq"],"",{createAtom:t=>new sL(IA(PA({},t),{type:"mrel",body:[new nI(IA(PA({},t),{body:"",align:"right",boxType:"rel"})),new sL(IA(PA({},t),{value:"="}))],captureSelection:!0})),serialize:t=>t.command}),SC("rlap","{:auto}",{createAtom:t=>new nI(IA(PA({},t),{body:lC(t.args[0]),align:"right"}))}),SC("llap","{:auto}",{createAtom:t=>new nI(IA(PA({},t),{body:lC(t.args[0]),align:"left"}))}),SC("mathrlap","{:math}",{createAtom:t=>new nI(IA(PA({},t),{body:lC(t.args[0]),align:"right"}))}),SC("mathllap","{:math}",{createAtom:t=>new nI(IA(PA({},t),{body:lC(t.args[0]),align:"left"}))}),SC("raisebox","{:value}{:text}",{createAtom:t=>{var e;return new DP(IA(PA({},t),{body:lC(t.args[1]),padding:{dimension:0},offset:null!=(e=t.args[0])?e:{dimension:0}}))},serialize:(t,e)=>{var o;return _B("\\raisebox",null!=(o=YB(t.offset))?o:"0pt",t.bodyToLatex(e))}}),SC("raise","{:value}{:auto}",{createAtom:t=>{var e;return new DP(IA(PA({},t),{body:lC(t.args[1]),padding:{dimension:0},offset:null!=(e=t.args[0])?e:{dimension:0}}))},serialize:(t,e)=>{var o;return _B("\\raise",null!=(o=YB(t.offset))?o:"0pt",t.bodyToLatex(e))}}),SC("lower","{:value}{:auto}",{createAtom:t=>{var e;return new DP(IA(PA({},t),{body:lC(t.args[1]),padding:{dimension:0},offset:null!=(e=XB(t.args[0],-1))?e:{dimension:0}}))},serialize:(t,e)=>{var o,n;return _B("\\lower",null!=(n=YB(XB(null!=(o=t.offset)?o:{dimension:0},-1)))?n:"0pt",t.bodyToLatex(e))}}),xC("0123456789/@.?!"),kC(65,90),kC(97,122),xC([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]),xC([["\\#",35],["\\&",38],["\\parallelogram",9649],["\\spadesuit",9824],["\\heartsuit",9825],["\\diamondsuit",9826],["\\clubsuit",9827],["\\flat",9837],["\\natural",9838],["\\sharp",9839]]),xC([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\pounds",163],["\\euro",8364]]),xC([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel"),xC([["\\mapsfrom",8612,"mrel"],["\\Mapsfrom",10502,"mrel"],["\\MapsTo",10503,"mrel"],["\\Yup",8516,"mord"],["\\lightning",8623,"mrel"],["\\leftarrowtriangle",8701,"mrel"],["\\rightarrowtriangle",8702,"mrel"],["\\leftrightarrowtriangle",8703,"mrel"],["\\boxdot",8865,"mbin"],["\\bigtriangleup",9651,"mbin"],["\\bigtriangledown",9661,"mbin"],["\\boxbar",9707,"mbin"],["\\Lbag",10181,"mopen"],["\\Rbag",10182,"mclose"],["\\llbracket",10214,"mopen"],["\\rrbracket",10215,"mclose"],["\\longmapsfrom",10235,"mrel"],["\\Longmapsfrom",10237,"mrel"],["\\Longmapsto",10238,"mrel"],["\\boxslash",10692,"mbin"],["\\boxbslash",10693,"mbin"],["\\boxast",10694,"mbin"],["\\boxcircle",10695,"mbin"],["\\boxbox",10696,"mbin"],["\\fatsemi",10783,"mop"],["\\leftslice",10918,"mrel"],["\\rightslice",10919,"mrel"],["\\interleave",10996,"mbin"],["\\biginterleave",11004,"mop"],["\\sslash",11005,"mbin"],["\\talloblong",11006,"mbin"]]),xC([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]),xC([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\twoheadrightarrowtail",10518],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nleftarrow",8602],["\\nrightarrow",8603],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\nvrightarrow",8696],["\\nvtwoheadrightarrow",10496],["\\nvrightarrowtail",10516],["\\nvtwoheadrightarrowtail",10519],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams"),xC([["+",43],["-",8722],["−",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin"),xC([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams"),xC([["\\surd",8730],["\\S",167],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\varkappa",1008,"mord","ams"],["\\coppa",985,"mord","ams"],["\\koppa",985,"mord","ams"],["\\Coppa",984,"mord","ams"],["\\Koppa",984,"mord","ams"],["\\sampi",993,"mord","ams"],["\\Sampi",992,"mord","ams"],["\\emptyset",8709]]),xC([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\coloneqq",8788],["\\colonequals",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",10178],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel"),xC([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams"),xC([["\\wp",8472],["\\aleph",8501]]),xC([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams"),xC([["\\ ",160],["~",160]],"space"),SC(["!",",",":",";",">","enskip","enspace","quad","qquad"],"",{createAtom:t=>new sI(t)}),SC("space","",{createAtom:t=>new sI(t)}),xC([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct"),xC([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner"),xC([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);var XF="<mo>&#x2061;</mo>",QF="<mo>&#8290;</mo>";function tO(t){return t.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function eO(t,e){return t&&e.generateID?` extid="${t}"`:""}function oO(t,e,o){var n,r,i,s,l,a,d,c;let h=!1;e=null!=e?e:t.atoms.length;let u="",p="",m=t.atoms[t.index],g=null==(n=m.style)?void 0:n.variant,b=null==(r=m.style)?void 0:r.variantStyle,f="";if(m.value&&(g||b)){let e=null!=(i=iC(m.value,g,b))?i:m.value;if(e!==m.value)return t.index+=1,u=`<mi${eO(m.id,o)}>${e}</mi>`,iO(u,t,o)||(t.mathML+=u,t.lastType="mi"),!0;f=null!=(s={upnormal:"normal",boldnormal:"bold",italicmain:"italic",bolditalicmain:"bold-italic","updouble-struck":"double-struck","double-struck":"double-struck",boldfraktur:"bold-fraktur",calligraphic:"script",upcalligraphic:"script",script:"script",boldscript:"bold-script",boldcalligraphic:"bold-script",fraktur:"fraktur","upsans-serif":"sans-serif","boldsans-serif":"bold-sans-serif","italicsans-serif":"sans-serif-italic","bolditalicsans-serif":"sans-serif-bold-italic",monospace:"monospace"}[(null!=b?b:"")+(null!=g?g:"")])?s:"",f&&(f=` mathvariant="${f}"`)}let w={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"ℏ","\\cdotp":"⋅","\\ldots":"…","\\cdots":"⋯","\\ddots":"⋱","\\vdots":"⋮","\\ldotp":"."};if("!"===m.command)return t.index+=1,u="<mo>!</mo>",iO(u,t,o)||(t.mathML+=u,t.lastType="mo"),!0;if(w[m.command]){t.index+=1;let e=`<mi${eO(m.id,o)}${f}>${w[m.command]}</mi>`;return("mi"===t.lastType||"mn"===t.lastType||"mtext"===t.lastType||"fence"===t.lastType)&&(e=QF+e),iO(e,t,o)||(t.mathML+=e,t.lastType="mi"),!0}if("\\operatorname"===m.command)p=uO(m.body),t.index+=1;else if(g||b)for(;t.index<e&&("mord"===m.type||"macro"===m.type)&&!m.isDigit()&&g===(null!=(a=null==(l=m.style)?void 0:l.variant)?a:"")&&b===(null!=(c=null==(d=m.style)?void 0:d.variantStyle)?c:"");)p+=uO([m]),t.index+=1,m=t.atoms[t.index];else("mord"===m.type||"macro"===m.type)&&!m.isDigit()&&(p+=uO([m]),t.index+=1);if(p.length>0){h=!0,u=`<mi${f}>${p}</mi>`;let e=t.lastType;u.endsWith(">f</mi>")||u.endsWith(">g</mi>")?(u+=XF,t.lastType="applyfunction"):t.lastType=/^<mo>(.*)<\/mo>$/.test(u)?"mo":"mi",iO(u,t,o)||(("mi"===e||"mn"===e||"mtext"===e||"fence"===e)&&(u=QF+u),t.mathML+=u)}return h}function nO(t){return t.index<t.atoms.length&&t.atoms[t.index].superscript&&"subsup"===t.atoms[t.index].type}function rO(t){let e=-1,o=t.index,n=!1,r=!1;for(;o<t.atoms.length&&!n&&!r;){let e=t.atoms[o];n=!e.isDigit(),r=!n&&void 0!==e.superscript,o++}return r&&(e=o-1),e}function iO(t,e,o){var n;let r=e.atoms[e.index-1];if(!r)return!1;if(!r.superscript&&!r.subscript){if("subsup"!==(null==(n=e.atoms[e.index])?void 0:n.type))return!1;r=e.atoms[e.index],e.index+=1}let i=e.lastType;e.lastType="";let s=cO(r.superscript,o);e.lastType="";let l=cO(r.subscript,o);if(e.lastType=i,!s&&!l)return!1;let a="";return s&&l?a=`<msubsup>${t}${l}${s}</msubsup>`:s?a=`<msup>${t}${s}</msup>`:l&&(a=`<msub>${t}${l}</msub>`),e.mathML+=a,e.lastType="",!0}function sO(t,e,o){e=null!=e?e:t.atoms.length;let n=t.index,r="",i=rO(t);for(i>=0&&i<e&&(e=i);t.index<e&&"text"===t.atoms[t.index].mode;)r+=t.atoms[t.index].value?t.atoms[t.index].value:" ",t.index+=1;return r.length>0&&(r=`<mtext ${eO(t.atoms[n].id,o)}>${r}</mtext>`,i<0&&nO(t)&&(i=t.index,t.index+=1),iO(r,t,o)||(t.mathML+=r,t.lastType="mtext"),!0)}function lO(t,e,o){e=null!=e?e:t.atoms.length;let n=t.index,r="",i=rO(t);for(i>=0&&i<e&&(e=i);t.index<e&&t.atoms[t.index].isDigit();)r+=t.atoms[t.index].asDigit(),t.index+=1;return!(r.length<=0)&&(r="<mn"+eO(t.atoms[n].id,o)+">"+r+"</mn>",i<0&&nO(t)&&(i=t.index,t.index+=1),iO(r,t,o)||(t.mathML+=r,t.lastType="mn"),!0)}function aO(t,e,o){let n=!1;e=null!=e?e:t.atoms.length;let r="",i="";if(t.index<e&&"mopen"===t.atoms[t.index].type){let s=!1,l=0,a=t.index,d=-1,c=a+1;for(;c<e&&!s;)"mopen"===t.atoms[c].type?l+=1:"mclose"===t.atoms[c].type&&(l-=1),-1===l&&(s=!0,d=c),c+=1;s&&(r="<mrow>",r+=hO(t.atoms[a],o),r+=cO(t.atoms,o,a+1,d),r+=hO(t.atoms[d],o),r+="</mrow>",t.index=d+1,("mi"===t.lastType||"mn"===t.lastType||"mfrac"===t.lastType||"fence"===t.lastType)&&(t.mathML+=QF),iO(r,t,o)&&(n=!0,t.lastType="",r=""),i="fence")}return r.length>0&&(n=!0,t.mathML+=r,t.lastType=i),n}function dO(t,e,o){let n=!1;e=null!=e?e:t.atoms.length;let r="",i="",s=t.atoms[t.index];if(!s)return!1;let l={"\\ne":"&ne;","\\neq":"&ne;","\\pm":"&#177;","\\times":"&#215;","\\colon":":","\\vert":"|","\\Vert":"∥","\\mid":"∣","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lbrack":"[","\\rbrack":"]","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"};if(l[s.command]){t.index+=1;let e=`<mo${eO(s.id,o)}>${l[s.command]}</mo>`;return iO(e,t,o)||(t.mathML+=e,t.lastType="mo"),!0}if(t.index<e&&("mbin"===s.type||"mrel"===s.type))r+=pO(t.atoms[t.index],o),t.index+=1,i="mo";else if(t.index<e&&("mop"===s.type||"operator"===s.type||"extensible-symbol"===s.type)){if("over-under"===s.subsupPlacement&&(s.superscript||s.subscript)){let e=hO(s,o);return s.superscript&&s.subscript?(r+="<munderover>"+e,r+=cO(s.subscript,o),r+=cO(s.superscript,o),r+="</munderover>"):s.superscript?(r+="<mover>"+e,r+=cO(s.superscript,o),r+="</mover>"):s.subscript&&(r+="<munder>"+e,r+=cO(s.subscript,o),r+="</munder>"),t.mathML+=r,t.lastType="mo",t.index+=1,!0}{let e=t.atoms[t.index],n="\\operatorname"===e.value,s=n?'<mi class="MathML-Unit"'+eO(e.id,o)+">"+uO(e.value)+"</mi>":hO(e,o);r+=s,n||/^<mo>(.*)<\/mo>$/.test(s)?i=n?"mi":"mo":(r+=XF,i="applyfunction")}("mi"===t.lastType||"mn"===t.lastType)&&!/^<mo>(.*)<\/mo>$/.test(r)&&(r=QF+r),t.index+=1}return r.length>0&&(n=!0,iO(r,t,o)||(t.mathML+=r,t.lastType=i)),n}function cO(t,e,o,n){null!=e||(e={});let r={atoms:[],index:null!=o?o:0,mathML:"",lastType:""};if("number"==typeof t||"boolean"==typeof t)r.mathML=t.toString();else if("string"==typeof t)r.mathML=t;else if(t instanceof sL)r.mathML=pO(t,e);else if(Array.isArray(t)){r.atoms=t;let o=0;for(n=n||(t?t.length:0);r.index<n;)if(sO(r,n,e)||lO(r,n,e)||oO(r,n,e)||dO(r,n,e)||aO(r,n,e))o+=1;else if(r.index<n){let t=pO(r.atoms[r.index],e);"mn"===r.lastType&&t.length>0&&"genfrac"===r.atoms[r.index].type&&(t="<mo>&#x2064;</mo>"+t),"genfrac"===r.atoms[r.index].type?r.lastType="mfrac":r.lastType="",r.index+=1,iO(t,r,e)?o+=1:t.length>0&&(r.mathML+=t,o+=1)}o>1&&(r.mathML="<mrow>"+r.mathML+"</mrow>")}return r.mathML}function hO(t,e){let o="",n=uO(t.value);return n&&(o="<mo"+eO(t.id,e)+">"+n+"</mo>"),o}function uO(t){if(!t)return"";if("string"==typeof t)return tO(t);if(!Array.isArray(t)&&"string"==typeof t.body)return tO(t.body);let e="";for(let o of t)"string"==typeof o.value&&(e+=o.value);return tO(e)}function pO(t,e){var o,n,r,i,s,l,a,d,c,h,u,p,m,g,b,f,w,x,k,y,v,_;if("text"===t.mode)return`<mi${eO(t.id,e)}>${t.value}</mi>`;let A,C,S,E,M,D,T={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",longleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",longrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",longrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xleftrightarrows:"⇄",xRightleftharpoons:"⇌",longRightleftharpoons:"⇌",xLeftrightharpoons:"⇋",longLeftrightharpoons:"⇋"},B={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\>":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5},L="",P="",{command:I}=t;if("\\error"===t.command)return`<merror${eO(t.id,e)}>${cO(t.body,e)}</merror>`;let z={"\\vert":"|","\\Vert":"∥","\\mid":"∣","\\lbrack":"[","\\rbrack":"]","\\{":"{","\\}":"}","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"⟨","\\rangle":"⟩","\\lfloor":"⌊","\\rfloor":"⌋","\\lceil":"⌈","\\rceil":"⌉"},R={"\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};switch(t.type){case"first":case"line":case"overlap":case"subsup":case"phantom":case"composition":case"rule":case"chem":break;case"group":case"root":L=cO(t.body,e);break;case"array":let F=t;if((F.leftDelim&&"."!==F.leftDelim||F.rightDelim&&"."!==F.rightDelim)&&(L+="<mrow>",F.leftDelim&&"."!==F.leftDelim&&(L+="<mo>"+(z[F.leftDelim]||F.leftDelim)+"</mo>")),L+="<mtable",F.colFormat){for(L+=' columnalign="',S=0;S<F.colFormat.length;S++){let t=F.colFormat[S];"align"in t&&(L+={l:"left",c:"center",r:"right"}[t.align]+" ")}L+='"'}for(L+=">",C=0;C<F.rows.length;C++){for(L+="<mtr>",A=0;A<F.rows[C].length;A++)L+="<mtd>"+cO(F.rows[C][A],e)+"</mtd>";L+="</mtr>"}L+="</mtable>",(F.leftDelim&&"."!==F.leftDelim||F.rightDelim&&"."!==F.rightDelim)&&(F.rightDelim&&"."!==F.rightDelim&&(L+="<mo>"+(z[F.leftDelim]||F.rightDelim)+"</mo>"),L+="</mrow>");break;case"genfrac":let O=t;(O.leftDelim||O.rightDelim)&&(L+="<mrow>"),O.leftDelim&&"."!==O.leftDelim&&(L+="<mo"+eO(t.id,e)+">"+(z[O.leftDelim]||O.leftDelim)+"</mo>"),O.hasBarLine?(L+="<mfrac>",L+=cO(t.above,e)||"<mi>&nbsp;</mi>",L+=cO(t.below,e)||"<mi>&nbsp;</mi>",L+="</mfrac>"):(L+="<mtable"+eO(t.id,e)+">",L+="<mtr>"+cO(t.above,e)+"</mtr>",L+="<mtr>"+cO(t.below,e)+"</mtr>",L+="</mtable>"),O.rightDelim&&"."!==O.rightDelim&&(L+="<mo"+eO(t.id,e)+">"+(z[O.rightDelim]||O.rightDelim)+"</mo>"),(O.leftDelim||O.rightDelim)&&(L+="</mrow>");break;case"surd":t.hasEmptyBranch("above")?(L+="<msqrt"+eO(t.id,e)+">",L+=cO(t.body,e),L+="</msqrt>"):(L+="<mroot"+eO(t.id,e)+">",L+=cO(t.body,e),L+=cO(t.above,e),L+="</mroot>");break;case"leftright":let V=t,N=V.leftDelim;L="<mrow>",N&&"."!==N&&(L+=`<mo${eO(t.id,e)}>${null!=(o=z[N])?o:N}</mo>`),t.body&&(L+=cO(t.body,e));let $=V.matchingRightDelim();$&&"."!==$&&(L+=`<mo${eO(t.id,e)}>${null!=(n=z[$])?n:$}</mo>`),L+="</mrow>";break;case"sizeddelim":case"delim":L+=`<mo${eO(t.id,e)}>${z[t.value]||t.value}</mo>`;break;case"accent":let K=t;L+='<mover accent="true"'+eO(t.id,e)+">",L+=cO(t.body,e),L+="<mo>"+(R[I]||K.accent)+"</mo>",L+="</mover>";break;case"overunder":let q=t;M=t.above,E=t.below,(q.svgAbove||M)&&(q.svgBelow||E)?D=t.body:M&&M.length>0?(D=t.body,null!=(i=null==(r=t.body)?void 0:r[0])&&i.below?(E=t.body[0].below,D=t.body[0].body):"first"===(null==(l=null==(s=t.body)?void 0:s[0])?void 0:l.type)&&null!=(d=null==(a=t.body)?void 0:a[1])&&d.below&&(E=t.body[1].below,D=t.body[1].body)):E&&E.length>0&&(D=t.body,null!=(h=null==(c=t.body)?void 0:c[0])&&h.above?(M=t.body[0].above,D=t.body[0].body):"first"===(null==(p=null==(u=t.body)?void 0:u[0])?void 0:p.type)&&null!=(g=null==(m=t.body)?void 0:m[1])&&g.above&&(M=t.body[1].above,D=t.body[1].body)),(q.svgAbove||M)&&(q.svgBelow||E)?(L+=`<munderover ${eO(t.id,e)}>`,L+=null!=(b=T[q.svgBody])?b:cO(D,e),L+=null!=(f=T[q.svgBelow])?f:cO(E,e),L+=null!=(w=T[q.svgAbove])?w:cO(M,e),L+="</munderover>"):q.svgAbove||M?(L+=`<mover ${eO(t.id,e)}>`+(null!=(x=T[q.svgBody])?x:cO(D,e)),L+=null!=(k=T[q.svgAbove])?k:cO(M,e),L+="</mover>"):(q.svgBelow||E)&&(L+=`<munder ${eO(t.id,e)}>`+(null!=(y=T[q.svgBody])?y:cO(D,e)),L+=null!=(v=T[q.svgBelow])?v:cO(E,e),L+="</munder>");break;case"placeholder":L+="?";break;case"mord":{L="string"==typeof t.value?t.value:I,L.length>0&&L.startsWith("\\")&&("string"==typeof t.value&&t.value.charCodeAt(0)>255?L="&#x"+("000000"+t.value.charCodeAt(0).toString(16)).slice(-4)+";":"string"==typeof t.value?L=t.value.charAt(0):(console.error("Did not expect this"),L=""));let o=/\d/.test(L)?"mn":"mi";L=`<${o}${eO(t.id,e)}>${tO(L)}</${o}>`;break}case"mbin":case"mrel":case"minner":L=hO(t,e);break;case"mpunct":L='<mo separator="true"'+eO(t.id,e)+">"+I+"</mo>";break;case"mop":case"operator":case"extensible-symbol":"​"!==t.value&&(L="<mo"+eO(t.id,e)+">",L+="\\operatorname"===I?t.body:I||t.body,L+="</mo>");break;case"box":let H=t;L='<menclose notation="box"',H.backgroundcolor&&(L+=' mathbackground="'+H.backgroundcolor+'"'),L+=eO(t.id,e)+">"+cO(t.body,e)+"</menclose>";break;case"spacing":L+='<mspace width="'+(null!=(_=B[I])?_:0)+'em"/>';break;case"enclose":let j=t;L='<menclose notation="';for(let t in j.notation)Object.prototype.hasOwnProperty.call(j.notation,t)&&j.notation[t]&&(L+=P+t,P=" ");L+=eO(t.id,e)+'">'+cO(t.body,e)+"</menclose>";break;case"prompt":L='<menclose notation="roundexbox""">'+cO(t.body,e)+"</menclose>";break;case"space":L+="&nbsp;";break;case"mopen":case"mclose":L+=hO(t,e);break;case"macro":{let o=t.command+uO(t.macroArgs);o&&(L+=`<mo ${eO(t.id,e)}>${o}</mo>`)}break;case"latexgroup":case"tooltip":L+=cO(t.body,e);break;case"latex":L+="<mtext"+eO(t.id,e)+">"+t.value+"</mtext>";break;case"text":L+=`<mtext ${eO(t.id,e)}x>${t.value}</mtext>`;break;default:if("\\displaystyle"===t.command)return`<mrow ${eO(t.id,e)} displaystyle="true">${cO(t.body,e)}</mrow>`;if("\\textstyle"===t.command)return`<mrow ${eO(t.id,e)} displaystyle="false">${cO(t.body,e)}</mrow>`;console.info("Unexpected element in conversion to MathML:",t)}return L}var mO={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"imaginary eye ","\\imaginaryJ":"imaginary jay ","\\sum":"Summation ","\\prod":"Product ","+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\pm":"plus or minus","\\mp":"minus or plus","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","\\ne":"is not equal to ","\\neq":"is not equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","​":"","−":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdot":"times ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lparen":'<break time="150ms"/>open paren<break time="150ms"/>',"\\rparen":'<break time="150ms"/>close paren<break time="150ms"/>',"\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"},gO={array:"array",matrix:"matrix",pmatrix:"parenthesis matrix",bmatrix:"square brackets matrix",Bmatrix:"braces matrix",vmatrix:"bars matrix",Vmatrix:"double bars matrix","matrix*":"matrix",smallmatrix:"small matrix"};function bO(t){let e=0;if(FA(t))for(let o of t)"first"!==o.type&&(e+=1);return 1===e}function fO(t){let e="";if(FA(t))for(let o of t)"first"!==o.type&&"string"==typeof o.value&&(e+=o.value);return e}function wO(t){if(t&&!t.some((t=>"first"!==t.type&&void 0===t.value)))return t.map((t=>t.value)).join("")}function xO(t){return`<emphasis>${t}</emphasis>`}function kO(t,e){var o,n,r,i,s,l,a,d;if(!e)return"";if(FA(e))return function(t,e){var o;let n="",r=!1,i=!1;for(let s=0;s<e.length;s++)"first"!==e[s].type&&("text"!==e[s].mode&&(i=!1),s<e.length-2&&"mopen"===e[s].type&&"mclose"===e[s+2].type&&"mord"===e[s+1].type?(n+=" of ",n+=xO(kO(t,e[s+1])),s+=2):"text"===e[s].mode?i?n+=null!=(o=e[s].value)?o:" ":(i=!0,n+=kO("text",e[s])):e[s].isDigit()?r?n+=e[s].asDigit():(r=!0,n+=kO(t,e[s])):(r=!1,n+=kO(t,e[s])));return n}(t,e);let c="";if(e.id&&"math"===t&&(c+='<mark name="'+e.id.toString()+'"/>'),"text"===e.mode)return c+e.value;let h="",u="",p="",m=!1,{command:g}=e;switch(g){case"\\vec":return"vector "+kO(t,e.body);case"\\acute":return kO(t,e.body)+" acute";case"\\grave":return kO(t,e.body)+" grave";case"\\dot":return"dot over"+kO(t,e.body);case"\\ddot":return"double dot over"+kO(t,e.body);case"\\mathring":return"ring over"+kO(t,e.body);case"\\tilde":case"\\widetilde":return"tilde over"+kO(t,e.body);case"\\bar":return kO(t,e.body)+" bar";case"\\breve":return kO(t,e.body)+" breve";case"\\check":case"\\widecheck":return"check over "+kO(t,e.body);case"\\hat":case"\\widehat":return"hat over"+kO(t,e.body);case"\\overarc":case"\\overparen":case"\\wideparen":return"arc over "+kO(t,e.body);case"\\underarc":case"\\underparen":return"arc under "+kO(t,e.body);case"\\mathop":return null!=(o=wO(e.body))?o:kO(t,e.body);case"\\mathit":return null!=(n=wO(e.body))?n:kO(t,e.body);case"\\mathrm":return null!=(r=wO(e.body))?r:kO(t,e.body);case"\\mathbb":return"blackboard"+(null!=(i=wO(e.body))?i:kO(t,e.body))}switch(e.type){case"prompt":c+=' <break time="300ms"/> '+(e.body.length>1?'start input . <break time="500ms"/> '+kO(t,e.body)+'. <break time="500ms"/> end input':"blank")+'. <break time="700ms"/>'+(null!=(s=e.correctness)?s:"")+' . <break time="700ms"/> ';break;case"array":let o=e.rows,n=e.environmentName;if(Object.keys(gO).includes(n)){c+=` begin ${gO[n]} `;for(let t=0;t<o.length;t++){t>0&&(c+=","),c+=` row ${t+1} `;for(let e=0;e<o[t].length;e++)e>0&&(c+=","),c+=` column ${e+1}: `,c+=kO("math",o[t][e])}c+=` end ${gO[n]} `}break;case"group":"\\ne"===g?c+=" not equal ":("\\not"===g&&(c+=" not "),c+=kO("math",e.body));break;case"root":c+=kO("math",e.body);break;case"genfrac":if(h=kO("math",e.above),u=kO("math",e.below),bO(e.above)&&bO(e.below)){let t={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[fO(e.above)+"/"+fO(e.below)];t?c=t:c+=h+" over "+u}else c+=' the fraction <break time="150ms"/>'+h+' over <break time="150ms"/>'+u+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(p=kO("math",e.body),e.hasEmptyBranch("above"))c+=bO(e.body)?" the square root of "+p+" , ":' the square root of <break time="200ms"/>'+p+'. <break time="200ms"/> End square root';else{let t=kO("math",e.above);t=t.trim();let o=t.replace(/<mark([^/]*)\/>/g,"");c+="3"===o?' the cube root of <break time="200ms"/>'+p+'. <break time="200ms"/> End cube root':"n"===o?' the nth root of <break time="200ms"/>'+p+'. <break time="200ms"/> End root':' the root with index: <break time="200ms"/>'+t+', of <break time="200ms"/>'+p+'. <break time="200ms"/> End root'}break;case"leftright":{let t=e;c+=null!=(l=t.leftDelim?mO[t.leftDelim]:void 0)?l:t.leftDelim,c+=kO("math",e.body),c+=null!=(a=t.rightDelim?mO[t.rightDelim]:void 0)?a:t.rightDelim}break;case"rule":case"overunder":case"overlap":case"space":case"spacing":break;case"macro":let r=g.replace(/^\\/g,""),i=EC()[r];i&&(null!=i&&i.expand?c+=kO("math",e.body):c+=`${r} `);break;case"placeholder":c+="placeholder ";break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":{if("\\mathbin"===g||"\\mathrel"===g||"\\mathopen"===g||"\\mathclose"===g||"\\mathpunct"===g||"\\mathord"===g||"\\mathinner"===g){c=kO(t,e.body);break}let o=e.isDigit()?e.asDigit():e.value,n=e.command;if(("delim"===e.type||"sizeddelim"===e.type)&&(n=e.value,o=n),"text"===t)c+=o;else{if("mbin"===e.type&&(c+='<break time="150ms"/>'),o){let t=mO[o]||(n?mO[n.trim()]:"");if(t)c+=" "+t;else{let t=n?function(t){let e="";return t.startsWith("\\")&&(e=" "+t.replace("\\","")+" "),e}(n.trim()):"";c+=t||function(t){return globalThis.MathfieldElement.textToSpeechMarkup?/[a-z]/.test(t)?` <say-as interpret-as="character">${t}</say-as>`:/[A-Z]/.test(t)?`capital <say-as interpret-as="character">${t.toLowerCase()}</say-as>`:t:/[a-z]/.test(t)?" '"+t.toUpperCase()+"'":/[A-Z]/.test(t)?" 'capital "+t.toUpperCase()+"'":t}(o)}}else c+=kO("math",e.body);"mbin"===e.type&&(c+='<break time="150ms"/>')}break}case"mop":case"operator":case"extensible-symbol":if("​"!==e.value){let t=e.command;if("\\sum"===t)if(e.hasEmptyBranch("superscript")||e.hasEmptyBranch("subscript"))if(e.hasEmptyBranch("subscript"))c+=" the summation of";else{let t=kO("math",e.subscript);t=t.trim(),c+=' the summation from <break time="200ms"/>'+t+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else{let t=kO("math",e.superscript);t=t.trim();let o=kO("math",e.subscript);o=o.trim(),c+=' the summation from <break time="200ms"/>'+o+'<break time="200ms"/> to  <break time="200ms"/>'+t+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if("\\prod"===t)if(e.hasEmptyBranch("superscript")||e.hasEmptyBranch("subscript"))if(e.hasEmptyBranch("subscript"))c+=" the product  of ";else{let t=kO("math",e.subscript);t=t.trim(),c+=' the product from <break time="200ms"/>'+t+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else{let t=kO("math",e.superscript);t=t.trim();let o=kO("math",e.subscript);o=o.trim(),c+=' the product from <break time="200ms"/>'+o+'<break time="200ms"/> to <break time="200ms"/>'+t+'<break time="200ms"/> of <break time="150ms"/>',m=!0}else if("\\int"===t)if(e.hasEmptyBranch("superscript")||e.hasEmptyBranch("subscript"))c+=' the integral of <break time="200ms"/> ';else{let t=kO("math",e.superscript);t=t.trim();let o=kO("math",e.subscript);o=o.trim(),c+=' the integral from <break time="200ms"/>'+xO(o)+'<break time="200ms"/> to <break time="200ms"/>'+xO(t)+' <break time="200ms"/> of ',m=!0}else if("\\operatorname"===t||"\\operatorname*"===t)c+=function(t){return t?t.map((t=>t.value)).join(""):""}(e.body)+" ";else if("string"==typeof e.value){c+=(null!=(d=mO[e.value])?d:e.command?mO[e.command]:void 0)||" "+e.value}else e.command&&("\\mathop"===e.command?c+=kO("math",e.body):c+=e.command.startsWith("\\")?" "+e.command.slice(1):" "+e.command)}break;case"enclose":p=kO("math",e.body),c+=" crossed out "+p+". End crossed out."}if(!m&&!e.hasEmptyBranch("superscript")){let o=kO(t,e.superscript);o=o.trim();let n=o.replace(/<[^>]*>/g,"");if(bO(e.superscript)){if("math"===t){let t=function(t){if(FA(t))for(let e of t)if("first"!==e.type&&e.id)return e.id.toString();return""}(e.superscript);t&&(c+='<mark name="'+t+'"/>')}"′"===n?c+=" prime ":"2"===n?c+=" squared ":"3"===n?c+=" cubed ":Number.isNaN(Number.parseInt(n))?c+=" to the "+o+"; ":c+=' to the <say-as interpret-as="ordinal">'+n+"</say-as> power; "}else Number.isNaN(Number.parseInt(n))?c+=" raised to the "+o+"; ":c+=' raised to the <say-as interpret-as="ordinal">'+n+"</say-as> power; "}if(!m&&!e.hasEmptyBranch("subscript")){let t=kO("math",e.subscript);t=t.trim(),c+=bO(e.subscript)?" sub "+t:" subscript "+t+". End subscript. "}return c}function yO(t){var e,o;let n=globalThis.MathfieldElement;if("sre"===n.textToSpeechRules&&("sre"in window||"SRE"in window)){let r=cO(t);if(r){n.textToSpeechMarkup&&(n.textToSpeechRulesOptions=null!=(e=n.textToSpeechRulesOptions)?e:{},n.textToSpeechRulesOptions=IA(PA({},n.textToSpeechRulesOptions),{markup:n.textToSpeechMarkup}),"ssml"===n.textToSpeechRulesOptions.markup&&(n.textToSpeechRulesOptions=IA(PA({},n.textToSpeechRulesOptions),{markup:"ssml_step"})),n.textToSpeechRulesOptions=IA(PA({},n.textToSpeechRulesOptions),{rate:n.speechEngineRate}));let t=null!=(o=window.SRE)?o:globalThis.sre.System.getInstance();n.textToSpeechRulesOptions&&t.setupEngine(n.textToSpeechRulesOptions);let i="";try{i=t.toSpeech(r)}catch(t){console.error("MathLive 0.105.0: `SRE.toSpeech()` runtime error",t)}return i}return""}let r=kO("math",t);if("ssml"===n.textToSpeechMarkup){let t="";n.speechEngineRate&&(t='<prosody rate="'+n.speechEngineRate+'">'),r='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+t+"<p><s>"+r+"</s></p>"+(t?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else r="mac"===n.textToSpeechMarkup&&"macos"===$A()?r.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="(\d*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):r.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return r}var vO={"\\ne":"≠","\\neq":"≠","−":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega","\\exponentialE":"e","\\imaginaryI":"i","\\imaginaryJ":"j","\\!":" ","\\,":" ","\\:":" ","\\>":" ","\\;":" ","\\enskip":" ","\\enspace":" ","\\qquad":" ","\\quad":" ","\\infty":"oo","\\R":"RR","\\mathbb{R}":"RR","\\N":"NN","\\mathbb{N}":"NN","\\Z":"ZZ","\\mathbb{Z}":"ZZ","\\Q":"QQ","\\mathbb{Q}":"QQ","\\C":"CC","\\mathbb{C}":"CC","\\emptyset":"O/","\\varnothing":"O/","\\varDelta":"Delta","\\varTheta":"Theta","\\varLambda":"Lambda","\\varXi":"Xi","\\varPi":"Pi","\\varSigma":"Sigma","\\varUpsilon":"Upsilon","\\varPhi":"Phi","\\varPsi":"Psi","\\varOmega":"Omega"},_O={"\\pm":"+-","\\colon":" : ","\\sum":" sum ","\\prod":" prod ","\\bigcap":" nnn ","\\bigcup":" uuu ","\\int":" int ","\\oint":" oint ","\\ge":">=","\\le":"<=","\\ne":"!=","\\neq":"!=","\\lt":"<","\\gt":">","\\gets":"<-","\\to":"->","\\land":" and ","\\lor":" or ","\\lnot":" not ","\\forall":" AA ","\\exists":" EE ","\\in":" in ","\\notin":" !in ","\\mapsto":"|->","\\implies":"=>","\\iff":"<=>","\\cdot":" * ","\\ast":" ** ","\\star":" *** ","\\times":" * ","\\div":" -: ","\\ltimes":" |>< ","\\rtimes":" ><| ","\\bowtie":" |><| ","\\circ":"@"},AO={"\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrack":"[","\\rbrack":"]","\\lbrace":"{","\\rbrace":"}","\\lparen":"(","\\rparen":")","\\langle":"(:","\\rangle":":)"};function CO(t,e){var o,n,r,i,s,l,a,d,c,h,u,p,m,g,b,f,w;if(!t)return"";if(FA(t)){if(0===t.length)return"";if("latex"===t[0].mode)return t.map((t=>CO(t))).join("");if("text"===t[0].mode){let n=0,r="";for(;"text"===(null==(o=t[n])?void 0:o.mode);)r+=t[n].body?CO(t[n].body,e):t[n].value,n++;return null!=e&&e.plain?r+CO(t.slice(n),e):`"${r}" ${CO(t.slice(n))}`}let n=0,r=[];for(;t[n]&&"math"===t[n].mode;){let o="";for(;t[n]&&"mord"===t[n].type&&/\d/.test(t[n].value);)o+=t[n++].value;o?r.push(o):r.push(CO(t[n++],e))}return r.push(CO(t.slice(n),e)),function(t){let e="";for(let o of t){let t=e[e.length-1];void 0!==t&&(/\d$/.test(t)&&/^\d/.test(o)||/[a-zA-Z]$/.test(t)&&/^[a-zA-Z]/.test(o))&&(e+=" "),e+=o}return e}(r)}if("text"===t.mode)return null!=e&&e.plain?t.value:`"${t.value}"`;let x,k="",{command:y}=t;if("\\placeholder"===y)return`(${CO(t.body,e)})`;let v=sL.serialize([t],{expandMacro:!1,defaultMode:"math"});switch(t.type){case"accent":let o={"\\vec":"vec","\\dot":"dot","\\ddot":"ddot","\\bar":"bar","\\hat":"hat","\\acute":"acute;","\\grave":"grave","\\tilde":"tilde","\\breve":"breave","\\check":"check"}[y];k=`${null!=o?o:""} ${CO(t.body,e)} `;break;case"first":return"";case"latexgroup":return t.body.map((t=>t.value)).join("");case"group":case"root":k=null!=(n=vO[y])?n:CO(t.body,e);break;case"genfrac":{let o=t;(o.leftDelim||o.rightDelim)&&(k="."!==o.leftDelim&&o.leftDelim?o.leftDelim:"{:"),o.hasBarLine?(k+="(",k+=CO(o.above,e),k+=")/(",k+=CO(o.below,e),k+=")"):(k+="((",k+=CO(o.above,e),k+=") choose (",k+=CO(o.below,e),k+="))"),(o.leftDelim||o.rightDelim)&&(k+="."!==o.rightDelim&&o.rightDelim?o.rightDelim:"{:")}break;case"surd":t.hasEmptyBranch("above")?k+=`sqrt(${CO(t.body,e)})`:k+=`root(${CO(t.above,e)})(${CO(t.body,e)})`;break;case"latex":case"sizeddelim":case"delim":case"mopen":case"mclose":k=t.value;break;case"leftright":{let o=t,n=o.leftDelim;n&&AO[n]&&(n=AO[n]),k+="."!==n&&n?n:"{:",k+=CO(o.body,e);let r=o.matchingRightDelim();r&&AO[r]&&(r=AO[r]),k+="."!==r&&r?r:":}"}break;case"overlap":case"overunder":case"box":break;case"mord":if(vO[v])return vO[v];k=null!=(s=null!=(i=null!=(r=vO[y])?r:y)?i:y)?s:"string"==typeof t.value?t.value:"",k.startsWith("\\")&&(k+=" "),x=y?y.match(/{?\\char"([\dabcdefABCDEF]+)}?/):null,x?k=String.fromCodePoint(Number.parseInt("0x"+x[1])):k.length>0&&k.startsWith("\\")&&(k="string"==typeof t.value?t.value.charAt(0):t.command),k=function(t,e){if(!e)return t;let o=t;return"double-struck"===e.variant&&(o=`bbb "${o}"`),"script"===e.variant&&(o=`cc "${o}"`),"fraktur"===e.variant&&(o=`fr "${o}"`),"sans-serif"===e.variant&&(o=`sf "${o}"`),"monospace"===e.variant&&(o=`tt "${o}"`),"bold"===e.variantStyle&&(o=`bb "${o}"`),e.color?`color({${e.color}})(${o})`:o}(k,t.style);break;case"mbin":case"mrel":case"minner":k=null!=(d=null!=(a=null!=(l=vO[v])?l:vO[y])?a:_O[y])?d:t.value;break;case"mpunct":k=null!=(c=_O[y])?c:y;break;case"mop":case"operator":case"extensible-symbol":"​"!==t.value&&(k=_O[y]?_O[y]:"\\operatorname"===y?CO(t.body,e):null!=(h=t.value)?h:y,k+=" ");break;case"array":let _=t.environmentName;if(t.isMultiline)k=t.rows.map((t=>t.map((t=>CO(t,e))).join(""))).join("\n");else{let o=null!=(u={bmatrix:["[","]"],"bmatrix*":["[","]"]}[_])?u:["(",")"],n=[],r=t.rows;for(let t of r){let r=[];for(let o of t)r.push(CO(o,e));n.push(o[0]+r.join(",")+o[1])}let i=null!=(p={bmatrix:["[","]"],"bmatrix*":["[","]"],cases:["{",":}"]}[_])?p:["(",")"];k=i[0]+n.join(",")+i[1]}break;case"spacing":k=null!=(g=null!=(m=vO[v])?m:vO[y])?g:" ";break;case"enclose":k="("+CO(t.body,e)+")";break;case"space":k=" ";break;case"subsup":k="";break;case"macro":k=null!=(w=null!=(f=null!=(b=vO[v])?b:vO[y])?f:_O[y])?w:CO(t.body,e)}if(!t.hasEmptyBranch("subscript")){k+="_";let o=CO(t.subscript,e);k+=1!==o.length?`(${o})`:o}if(!t.hasEmptyBranch("superscript")){k+="^";let o=CO(t.superscript,e);k+=1!==o.length?`(${o})`:o}return k}function SO(t,e){var o;let n=IA(PA({},eL()),{renderPlaceholder:()=>new RB(160,{maxFontSize:1})});if(null!=e&&e.letterShapeStyle&&"auto"!==(null==e?void 0:e.letterShapeStyle)&&(n.letterShapeStyle=e.letterShapeStyle),null!=e&&e.macros){let t=DC(null==e?void 0:e.macros);n.getMacro=e=>BC(e,t)}null!=e&&e.registers&&(n.registers=PA(PA({},n.registers),e.registers));let r=null!=(o=null==e?void 0:e.defaultMode)?o:"math",i="math",s="displaystyle";"inline-math"===r?s="textstyle":"math"===r?s="displaystyle":"text"===r&&(s="textstyle",i="text");let l=new oL({from:n}),a=new sL({type:"root",mode:i,body:$P(t,{context:l,parseMode:i,mathstyle:s})}).render(l);return a?(OB(uI(a,l)),VB(a,{classes:"ML__latex"}).toMarkup()):""}function EO(t){if("string"==typeof t){let e=function(t){if(!t||"#"!==t[0])return;let e;return t=t.slice(1),t.length<=4?(e={r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)},4===t.length&&(e.a=parseInt(t[3]+t[3],16)/255)):(e={r:parseInt(t[0]+t[1],16),g:parseInt(t[2]+t[3],16),b:parseInt(t[4]+t[5],16)},8===t.length&&(e.a=parseInt(t[6]+t[7],16)/255)),e&&void 0===e.a&&(e.a=1),e}(t);if(!e)throw new Error(`Invalid color: ${t}`);return e}return"C"in t?function(t){return PO(DO(t))}(t):"a"in t?PO(t):t}function MO(t){return t<0?0:t>255?255:Math.round(t)}function DO(t){let[e,o,n]=[t.L,t.C,t.H],r=n*Math.PI/180,i={L:e,a:o*Math.cos(r),b:o*Math.sin(r)};return void 0!==t.alpha&&(i.alpha=t.alpha),i}function TO(t){let[e,o,n]=[t.L,t.a,t.b],r=Math.pow(.9999999984505198*e+.39633779217376786*o+.2158037580607588*n,3),i=Math.pow(1.00000000888176*e-.10556134232365635*o-.0638541747717059*n,3),s=Math.pow(1.000000054672411*e-.0894841820949657*o-1.2914855378640917*n,3),l=-1.2684380040921763*r+2.6097574006633715*i-.3413193963102197*s,a=-.004196086541837188*r-.7034186144594493*i+1.7076147009309444*s,d=t=>{let e=Math.abs(t);return e<=.0031308?12.92*t:(Math.sign(t)||1)*(1.055*Math.pow(e,1/2.4)-.055)};return[d(4.076741661347994*r-3.307711590408193*i+.230969928729428*s),d(l),d(a)]}function BO(t){let[e,o,n]=t;return e>=0&&e<=1&&o>=0&&o<=1&&n>=0&&n<=1}function LO(t,e){let[o,n,r]=t;return o=MO(255*o),n=MO(255*n),r=MO(255*r),void 0!==e?{r:o,g:n,b:r,alpha:e}:{r:o,g:n,b:r}}function PO(t){let[e,o,n]=TO(t);if(BO([e,o,n]))return LO([e,o,n],t.alpha);let r=function(t){let[e,o,n]=[t.L,t.a,t.b],r={L:e,C:Math.sqrt(o*o+n*n),H:180*Math.atan2(n,o)/Math.PI};return void 0!==t.alpha&&(r.alpha=t.alpha),r}(t);if(r.C=0,[e,o,n]=TO(DO(r)),!BO([e,o,n]))return LO([e,o,n],t.alpha);let i=0,s=t.L,l=(i+s)/2;r.C=l;let a=.36/Math.pow(2,12);for(;s-i>a;)l=(i+s)/2,r.C=l,[e,o,n]=TO(DO(r)),BO([e,o,n])?i=l:s=l;return LO([e,o,n],t.alpha)}function IO(t,e){let o=EO(t),n=EO(e);function r(t){return t>=.022?t:t+(.022-t)**1.414}function i(t){return(t<0?-1:1)*Math.pow(Math.abs(t),2.4)}let s,l,a,d=r(.2126729*i(n.r/255)+.7151522*i(n.g/255)+.072175*i(n.b/255)),c=r(.2126729*i(o.r/255)+.7151522*i(o.g/255)+.072175*i(o.b/255));return Math.abs(c-d)<5e-4?l=0:c>d?(s=c**.56-d**.57,l=1.14*s):(s=c**.65-d**.62,l=1.14*s),a=Math.abs(l)<.1?0:l>0?l-.027:l+.027,100*a}function zO(t,e,o){null!=o||(o="#fff"),null!=e||(e="#000");let n=IO(t,o),r=IO(t,e);return Math.abs(n)>Math.abs(r)?o:e}function RO(t){let e=EO(t),o=((1<<24)+(MO(e.r)<<16)+(MO(e.g)<<8)+MO(e.b)).toString(16).slice(1);return void 0!==e.alpha&&e.alpha<1&&(o+=("00"+Math.round(255*e.alpha).toString(16)).slice(-2)),o[0]===o[1]&&o[2]===o[3]&&o[4]===o[5]&&o[6]===o[7]&&(o=o[0]+o[2]+o[4]+(void 0!==e.alpha&&e.alpha<1?o[6]:"")),"#"+o}function FO(t){let e=OO(t),o="";for(let t of e){if("string"!=typeof t.value)return"";o+=t.value}return o}function OO(t){let e=t.model.selection.ranges;if(1!==e.length)return[];let o=t.model.getAtoms(e[0]);return 1===o.length&&o[0].isRoot&&(o=o[0].children),o.filter((t=>"first"!==t.type))}function VO(t){return[XO(t,"double-struck","mathbb","tooltip.blackboard"),XO(t,"fraktur","mathfrak","tooltip.fraktur"),XO(t,"calligraphic","mathcal","tooltip.caligraphic"),QO(t,"up","mathrm","tooltip.roman-upright"),QO(t,"bold","bm","tooltip.bold"),QO(t,"italic","mathit","tooltip.italic")]}function NO(t){return[{id:"accent-vec",class:"ML__center-menu",label:()=>SO(`\\vec{${FO(t)}}`),visible:()=>1===FO(t).length,onMenuSelect:()=>t.insert("\\vec{#@}",{selectionMode:"item"})},{id:"accent-overrightarrow",class:"ML__center-menu",label:()=>SO(`\\overrightarrow{${FO(t)}}`),visible:()=>FO(t).length>0,onMenuSelect:()=>t.insert("\\overrightarrow{#@}",{selectionMode:"item"})},{id:"accent-overleftarrow",class:"ML__center-menu",label:()=>SO(`\\overleftarrow{${FO(t)}}`),visible:()=>FO(t).length>0,onMenuSelect:()=>t.insert("\\overleftarrow{#@}",{selectionMode:"item"})},{id:"accent-dot",class:"ML__center-menu",label:()=>SO(`\\dot{${FO(t)}}`),visible:()=>1===FO(t).length,onMenuSelect:()=>t.insert("\\dot{#@}",{selectionMode:"item"})},{id:"accent-ddot",class:"ML__center-menu",label:()=>SO(`\\ddot{${FO(t)}}`),visible:()=>1===FO(t).length,onMenuSelect:()=>t.insert("\\ddot{#@}",{selectionMode:"item"})},{id:"accent-bar",class:"ML__center-menu",label:()=>SO(`\\bar{${FO(t)}}`),visible:()=>1===FO(t).length,onMenuSelect:()=>t.insert("\\bar{#@}",{selectionMode:"item"})},{id:"accent-overline",class:"ML__center-menu",label:()=>SO(`\\overline{${FO(t)}}`),visible:()=>FO(t).length>0,onMenuSelect:()=>t.insert("\\overline{#@}",{selectionMode:"item"})},{id:"accent-overgroup",class:"ML__center-menu",label:()=>SO(`\\overgroup{${FO(t)}}`),visible:()=>FO(t).length>0,onMenuSelect:()=>t.insert("\\overgroup{#@}",{selectionMode:"item"})},{id:"accent-overbrace",class:"ML__center-menu",label:()=>SO(`\\overbrace{${FO(t)}}`),visible:()=>FO(t).length>0,onMenuSelect:()=>t.insert("\\overbrace{#@}",{selectionMode:"item"})},{id:"accent-underline",class:"ML__center-menu",label:()=>SO(`\\underline{${FO(t)}}`),visible:()=>FO(t).length>0,onMenuSelect:()=>t.insert("\\underline{#@}",{selectionMode:"item"})},{id:"accent-undergroup",class:"ML__center-menu",label:()=>SO(`\\undergroup{${FO(t)}}`),visible:()=>FO(t).length>0,onMenuSelect:()=>t.insert("\\undergroup{#@}",{selectionMode:"item"})},{id:"accent-underbrace",class:"ML__center-menu",label:()=>SO(`\\underbrace{${FO(t)}}`),visible:()=>FO(t).length>0,onMenuSelect:()=>t.insert("\\underbrace{#@}",{selectionMode:"item"})}]}function $O(t){return[{id:"decoration-boxed",label:()=>SO(`\\boxed{${t.getValue(t.model.selection)}}}`),onMenuSelect:()=>t.insert("\\boxed{#@}",{selectionMode:"item"})},{id:"decoration-red-box",label:()=>SO(`\\bbox[5px, border: 2px solid red]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px solid red]{#@}",{selectionMode:"item"})},{id:"decoration-dashed-black-box",label:()=>SO(`\\bbox[5px, border: 2px dashed black]{${t.getValue(t.model.selection)}}`),onMenuSelect:()=>t.insert("\\bbox[5px, border: 2px dashed black]{#@}",{selectionMode:"item"})}]}function KO(t){let e=[];for(let o of Object.keys(UA))e.push({id:`background-color-${o}`,class:("#000"===RO(zO(UA[o]))?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${UA[o]} "></span>`,ariaLabel:()=>{var t;return null!=(t=HA(o))?t:o},checked:()=>{var e;return null!=(e={some:"mixed",all:!0}[t.queryStyle({backgroundColor:o})])&&e},onMenuSelect:()=>t.applyStyle({backgroundColor:o},{operation:"toggle"})});return e}function qO(t){let e=[];for(let o of Object.keys(GA))e.push({id:`color-${o}`,class:("#000"===zO(GA[o])?"dark-contrast":"light-contrast")+" menu-swatch",label:`<span style="background:${GA[o]} "></span>`,ariaLabel:()=>{var t;return null!=(t=HA(o))?t:o},checked:()=>{var e;return null!=(e={some:"mixed",all:!0}[t.queryStyle({color:o})])&&e},onMenuSelect:()=>t.applyStyle({color:o},{operation:"toggle"})});return e}var HO=class extends RF{constructor(t,e,o,n){super(t,e),this.row=o,this.col=n}set active(t){let e=this.parentMenu.children;if(t)for(let t of e)t.element.classList.toggle("active",t.row<=this.row&&t.col<=this.col);else for(let t of e)t.element.classList.remove("active")}};function jO(t){let e=[];for(let o=1;o<=5;o++)for(let n=1;n<=5;n++)e.push({id:`insert-matrix-${o}x${n}`,onCreate:(t,e)=>new HO(t,e,o,n),label:"☐",tooltip:()=>HA("tooltip.row-by-col",o,n),data:{row:o,col:n},onMenuSelect:()=>{t.insert(`\\begin{pmatrix}${Array(o).fill(Array(n).fill("#?").join(" & ")).join("\\\\")}\\end{pmatrix}`,{selectionMode:"item"})}});return e}function WO(t){return[{label:()=>HA("menu.array.add row above"),id:"add-row-above",onMenuSelect:()=>t.executeCommand("addRowBefore"),keyboardShortcut:"shift+alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!UO(t))return!1;let[e,o]=ZO(t),[n,r]=JO(t);return e!==n}},{label:()=>HA("menu.array.add row below"),id:"add-row-below",onMenuSelect:()=>t.executeCommand("addRowAfter"),keyboardShortcut:"alt+[Return]",visible:()=>{if(!t.isSelectionEditable||!UO(t))return!1;let[e,o]=ZO(t),[n,r]=JO(t);return e!==n}},{label:()=>HA("menu.array.add column before"),id:"add-column-before",onMenuSelect:()=>t.executeCommand("addColumnBefore"),visible:()=>{if(!t.isSelectionEditable||!UO(t))return!1;let[e,o]=ZO(t),[n,r]=JO(t);return o!==r},keyboardShortcut:"shift+alt+[Tab]",enabled:()=>{let e=t.model.parentEnvironment;if(!e)return!1;let[o,n]=GO(t);return o<e.maxColumns}},{label:()=>HA("menu.array.add column after"),id:"add-column-after",onMenuSelect:()=>t.executeCommand("addColumnAfter"),keyboardShortcut:"alt+[Tab]",visible:()=>{if(!t.isSelectionEditable||!UO(t))return!1;let[e,o]=ZO(t),[n,r]=JO(t);return o!==r}},{type:"divider"},{label:()=>HA("menu.array.delete row"),id:"delete-row",onMenuSelect:()=>t.executeCommand("removeRow"),enabled:()=>{let[e,o]=ZO(t),[n,r]=GO(t);return n>e},visible:()=>{if(!t.isSelectionEditable||!UO(t))return!1;let[e,o]=ZO(t),[n,r]=JO(t);return e!==n}},{label:()=>HA("menu.array.delete column"),id:"delete-column",onMenuSelect:()=>t.executeCommand("removeColumn"),enabled:()=>{let[e,o]=ZO(t),[n,r]=GO(t);return r>o},visible:()=>{if(!t.isSelectionEditable||!UO(t))return!1;let[e,o]=ZO(t),[n,r]=JO(t);return o!==r}},{type:"divider"},{label:()=>HA("menu.borders"),visible:()=>(function(t){let e=t.model.at(t.model.position);if("array"!==e.type)return!1;let o=e.environmentName;return["matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(o)}(t)||UO(t))&&t.isSelectionEditable,submenu:[{label:" ⋱ ",id:"environment-no-border",onMenuSelect:()=>YO(t,"matrix")},{label:"(⋱)",id:"environment-parentheses",onMenuSelect:()=>YO(t,"pmatrix")},{label:"[⋱]",id:"environment-brackets",onMenuSelect:()=>YO(t,"bmatrix")},{label:"|⋱|",id:"environment-bar",onMenuSelect:()=>YO(t,"vmatrix")},{label:"{⋱}",id:"environment-braces",onMenuSelect:()=>YO(t,"Bmatrix")}],submenuClass:"border-submenu"},{type:"divider"},{label:()=>HA("menu.insert matrix"),id:"insert-matrix",visible:()=>t.isSelectionEditable,submenu:jO(t),submenuClass:"insert-matrix-submenu",columnCount:5},{type:"divider"},{label:()=>HA("menu.insert"),id:"insert",submenu:tV(t)},{type:"divider"},{label:()=>HA("menu.mode"),id:"mode",visible:()=>t.isSelectionEditable&&t.model.selectionIsCollapsed,submenu:[{label:()=>HA("menu.mode-math"),id:"mode-math",onMenuSelect:()=>{dz(t,"accept-all"),t.executeCommand(["switchMode","math"])},checked:()=>"math"===t.model.mode},{label:()=>HA("menu.mode-text"),id:"mode-text",onMenuSelect:()=>{dz(t,"accept-all"),t.executeCommand(["switchMode","text"])},checked:()=>"text"===t.model.mode},{label:()=>HA("menu.mode-latex"),id:"mode-latex",onMenuSelect:()=>t.executeCommand(["switchMode","latex"]),checked:()=>"latex"===t.model.mode}]},{type:"divider"},{label:()=>HA("menu.font-style"),id:"variant",visible:()=>t.isSelectionEditable,submenu:VO(t),submenuClass:"variant-submenu"},{label:()=>HA("menu.color"),id:"color",visible:()=>t.isSelectionEditable,submenu:qO(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>HA("menu.background-color"),id:"background-color",visible:()=>t.isSelectionEditable,submenu:KO(t),columnCount:4,submenuClass:"swatches-submenu"},{label:()=>HA("menu.accent"),id:"accent",visible:()=>t.isSelectionEditable,submenu:NO(t),submenuClass:"variant-submenu"},{label:()=>HA("menu.decoration"),id:"decoration",visible:()=>t.isSelectionEditable&&FO(t).length>0,submenu:$O(t),submenuClass:"variant-submenu"},{type:"divider"},{label:()=>HA("menu.evaluate"),id:"ce-evaluate",visible:()=>t.isSelectionEditable&&null!==globalThis.MathfieldElement.computeEngine,onMenuSelect:()=>{let e=function(t){var e,o;let n;if(n=t.model.selectionIsCollapsed?null==(e=globalThis.MathfieldElement.computeEngine)?void 0:e.parse(t.getValue(),{canonical:!1}):null==(o=globalThis.MathfieldElement.computeEngine)?void 0:o.parse(t.getValue(t.model.selection),{canonical:!1}),!n)return"";let r=n.evaluate();return r.isSame(n)&&(r=n.N()),r.latex}(t);e?t.model.selectionIsCollapsed?(t.model.position=t.model.lastOffset,t.insert(`=${e}`,{insertionMode:"insertAfter",selectionMode:"item"})):t.insert(e,{insertionMode:"replaceSelection",selectionMode:"item"}):t.model.announce("plonk")}},{label:()=>HA("menu.simplify"),id:"ce-simplify",visible:()=>t.isSelectionEditable&&null!==globalThis.MathfieldElement.computeEngine,onMenuSelect:()=>{var e,o;if(t.model.selectionIsCollapsed){let o=null==(e=t.expression)?void 0:e.simplify();if(t.model.position=t.model.lastOffset,!o)return void t.model.announce("plonk");t.insert(`=${o.latex}`,{insertionMode:"insertAfter",selectionMode:"item"})}else{let e=null==(o=globalThis.MathfieldElement.computeEngine)?void 0:o.parse(t.getValue(t.model.selection)).simplify();if(!e)return void t.model.announce("plonk");t.insert(e.latex,{insertionMode:"replaceSelection",selectionMode:"item"})}}},{label:()=>{var e;let o=globalThis.MathfieldElement.computeEngine;if(null===o)return"";let n=null==(e=t.expression)?void 0:e.unknowns[0];if(n){return HA("menu.solve-for",SO(o.box(n).latex))}return HA("menu.solve")},id:"ce-solve",visible:()=>{var e;return t.isSelectionEditable&&null!==globalThis.MathfieldElement.computeEngine&&1===(null==(e=t.expression)?void 0:e.unknowns.length)&&"Nothing"!==t.expression.unknowns[0]},onMenuSelect:()=>{var e;let o=t.expression,n=null==o?void 0:o.unknowns[0],r=null==(e=o.solve(n))?void 0:e.map((t=>{var e;return null!=(e=t.simplify().latex)?e:""}));r?t.insert(`${n}=${1===r.length?r[0]:"\\left\\lbrace"+(null==r?void 0:r.join(", "))+"\\right\\rbrace"}`,{insertionMode:"replaceAll",selectionMode:"item"}):t.model.announce("plonk")}},{type:"divider"},{label:()=>HA("menu.cut"),id:"cut",onMenuSelect:()=>t.executeCommand("cutToClipboard"),visible:()=>!t.options.readOnly&&t.isSelectionEditable,keyboardShortcut:"meta+X"},{label:()=>HA("menu.copy"),id:"copy",submenu:[{label:()=>HA("menu.copy-as-latex"),id:"copy-latex",onMenuSelect:()=>SL.copyToClipboard(t,"latex"),keyboardShortcut:"meta+C"},{label:()=>HA("menu.copy-as-ascii-math"),id:"copy-ascii-math",onMenuSelect:()=>SL.copyToClipboard(t,"ascii-math")},{label:()=>HA("menu.copy-as-mathml"),id:"copy-math-ml",onMenuSelect:()=>SL.copyToClipboard(t,"math-ml")}]},{label:()=>HA("menu.paste"),id:"paste",onMenuSelect:()=>t.executeCommand("pasteFromClipboard"),visible:()=>t.hasEditableContent,keyboardShortcut:"meta+V"},{label:()=>HA("menu.select-all"),id:"select-all",keyboardShortcut:"meta+A",onMenuSelect:()=>t.executeCommand("selectAll")}]}function UO(t){var e,o;let n=null!=(o=null==(e=t.model.parentEnvironment)?void 0:e.environmentName)?o:"";return["array","matrix","pmatrix","bmatrix","vmatrix","Bmatrix"].includes(n)}function GO(t){var e;let o=null==(e=t.model.parentEnvironment)?void 0:e.rows;return o?[o.length,o.reduce(((t,e)=>Math.max(t,e.length)),0)]:[0,0]}function ZO(t){let e=t.model.parentEnvironment;return e?[e.minRows,e.minColumns]:[0,0]}function JO(t){let e=t.model.parentEnvironment;return e?[e.maxRows,e.maxColumns]:[0,0]}function YO(t,e){sz(t),t.flushInlineShortcutBuffer(),_R(t.model,e),Az(t)}function XO(t,e,o,n){return{id:`variant-${e}`,label:()=>{var e;return FO(t).length<12?SO(`\\${o}{${FO(t)}}`):null!=(e=HA(n))?e:n},class:"ML__xl",tooltip:()=>{var t;return null!=(t=HA(n))?t:n},visible:()=>function(t,e){let o=OO(t);if(1!==o.length)return!1;let n=yI[e];return!!n&&!!n.test(o[0].value)}(t,e),checked:()=>{var o;return null!=(o={some:"mixed",all:!0}[t.queryStyle({variant:e})])&&o},onMenuSelect:()=>t.applyStyle({variant:e},{operation:"toggle"})}}function QO(t,e,o,n){return{id:`variant-style-${e}`,label:()=>{var e;let r=FO(t);return r.length>0&&r.length<12?SO(`\\${o}{${FO(t)}}`):null!=(e=HA(n))?e:n},class:()=>{let e=FO(t);return e.length>0&&e.length<12?"ML__xl":""},tooltip:()=>{var t;return null!=(t=HA(n))?t:n},visible:"bold"===e||(()=>function(t){return FO(t).length>0}(t)),checked:()=>{var o;return null!=(o={some:"mixed",all:!0}[t.queryStyle({variantStyle:e})])&&o},onMenuSelect:()=>t.applyStyle({variantStyle:e},{operation:"toggle"})}}function tV(t){return[{label:()=>eV("abs"),id:"insert-abs",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("|#?|")},{label:()=>eV("nth-root"),id:"insert-nth-root",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sqrt[#?]{#?}")},{label:()=>eV("log-base"),id:"insert-log-base",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\log_{#?}{#?}")},{type:"heading",label:()=>HA("menu.insert.heading-calculus")},{label:()=>eV("derivative"),id:"insert-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}}{\\mathrm{d}x}#?\\bigm|_{x=#?}")},{label:()=>eV("nth-derivative"),id:"insert-nth-derivative",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\dfrac{\\mathrm{d}^#?}{\\mathrm{d}x^#?}#?\\bigm|_{x=#?}")},{label:()=>eV("integral"),id:"insert-integral",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\int_#?^#?#?\\,\\mathrm{d}#?")},{label:()=>eV("sum"),id:"insert-sum",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\sum_#?^#?#?")},{label:()=>eV("product"),id:"insert-product",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\prod_#?^#?#?")},{type:"heading",label:()=>HA("menu.insert.heading-complex-numbers")},{label:()=>eV("modulus"),id:"insert-modulus",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\lvert#?\\rvert")},{label:()=>eV("argument"),id:"insert-argument",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\arg(#?)")},{label:()=>eV("real-part"),id:"insert-real-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Re(#?)")},{label:()=>eV("imaginary-part"),id:"insert-imaginary-part",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\Im(#?)")},{label:()=>eV("conjugate"),id:"insert-conjugate",visible:()=>t.isSelectionEditable,onMenuSelect:()=>t.insert("\\overline{#?}")}]}function eV(t){return`<span class='ML__insert-template'> ${SO(HA(`menu.insert.${t}-template`))}</span><span class="ML__insert-label">${HA(`menu.insert.${t}`)}</span>`}function oV(t,e){return"string"==typeof t?t+yO(e):yO(t)}function nV(t){var e;let o;if("prompt"===t.parent.type)"body"===t.parentBranch&&(o="prompt");else if("body"===t.parentBranch){if("first"===t.type&&("root"===t.parent.type?o="mathfield":"surd"===t.parent.type?o="radicand":"genfrac"===t.parent.type?o="fraction":"sizeddelim"===t.parent.type&&(o="delimiter"),o))return o;"subsup"===t.type?t.superscript&&t.subscript?o="superscript and subscript":t.superscript?o="superscript":t.subscript&&(o="subscript"):t.type&&(o=null!=(e={accent:"accented",array:"array",box:"box",chem:"chemical formula",delim:"delimiter",enclose:"cross out","extensible-symbol":"extensible symbol",error:"error",first:"first",genfrac:"fraction",group:"group",latex:"LaTeX",leftright:"delimiter",line:"line",subsup:"subscript-superscript",operator:"operator",overunder:"over-under",placeholder:"placeholder",rule:"rule",sizeddelim:"delimiter",space:"space",spacing:"spacing",surd:"square root",text:"text",prompt:"prompt",root:"math field",mop:"operator"}[t.type])?e:"parent")}else if("genfrac"===t.parent.type){if("above"===t.parentBranch)return"numerator";if("below"===t.parentBranch)return"denominator"}else"surd"===t.parent.type?"above"===t.parentBranch&&(o="index"):"superscript"===t.parentBranch?o="superscript":"subscript"===t.parentBranch&&(o="subscript");return null!=o?o:"parent"}function rV(t,e,o,n){let r="";if("plonk"===e)return globalThis.MathfieldElement.playSound("plonk"),void t.flushInlineShortcutBuffer();if("delete"===e)r=oV("deleted: ",n);else if("focus"===e||e.includes("move"))r=function(t,e){if(Number.isNaN(e))return"";let o=t.at(e);if(!o||o.treeDepth<=t.at(t.position).treeDepth)return"";let n="",r=o.parent,i=t.at(t.position).parent;for(;r!==t.root&&r!==i;)n+=`out of ${nV(r)};`,r=r.parent;return n}(t.model,o),r+=function(t){if(!t.selectionIsCollapsed)return`selected: ${oV(t.getAtoms(t.selection))}`;let e="",o=t.at(t.position);if(o.isFirstSibling&&(e=`start of ${nV(o)}: `),o.isLastSibling){if(!o.isFirstSibling){if(!o.parent.parent)return`${oV(o)}; end of mathfield`;e=`${oV(o)}; end of ${nV(o)}`}}else e+=oV(o);return e}(t.model);else if("replacement"===e)r=oV(t.model.at(t.model.position));else if("line"===e){let e=oV(t.model.root);t.keyboardDelegate.setAriaLabel(e)}else r=n?oV(e+" ",n):e;if(r){let e=t.ariaLiveText.textContent.includes(" ")?"   ":"   ";t.ariaLiveText.textContent=r+e}}var iV=class{constructor(t,e,o){this.mathfield=t,this.mode=e,this.silenceNotifications=!1,this._selection={ranges:[[0,0]],direction:"none"},this._anchor=0,this._position=0,this.root=o}dispose(){this.mathfield=void 0}getState(){let t={ranges:[...this._selection.ranges]};return this.selection.direction&&"none"!==this.selection.direction&&(t.direction=this.selection.direction),{content:this.root.toJson(),selection:t,mode:this.mode}}setState(t,e){var o;let n=this.silenceNotifications;this.silenceNotifications=null==(o=null==e?void 0:e.silenceNotifications)||o;let r={};if("undo"===(null==e?void 0:e.type)&&(r={inputType:"historyUndo"}),"redo"===(null==e?void 0:e.type)&&(r={inputType:"historyRedo"}),this.contentWillChange(r)){let e=this.silenceNotifications;this.silenceNotifications=!0,this.mode=t.mode,this.root=bI(t.content),this.selection=t.selection,this.silenceNotifications=e,this.contentDidChange(r),this.selectionDidChange()}this.silenceNotifications=n}get atoms(){return this.root.children}get selection(){return this._selection}set selection(t){this.setSelection(t)}setSelection(t,e){return!(!this.mathfield.contentEditable&&"none"===this.mathfield.userSelect)&&this.deferNotifications({selection:!0,content:!0},(()=>{var o,n,r;let i=this.normalizeSelection(t,e);if(void 0===i)throw new TypeError("Invalid selection");if(1===i.ranges.length&&i.ranges[0][0]===i.ranges[0][1]){let t=i.ranges[0][0];return this.mathfield.dirty||null!=(o=this.at(t))&&o.parentPrompt||!this.mathfield.hasEditablePrompts?(this._anchor=t,this._position=t,void(this._selection=i)):null!=(n=this.at(t-1))&&n.parentPrompt?(this._anchor=this.normalizeOffset(t-1),this._position=this._anchor,void(this._selection=this.normalizeSelection(this._anchor))):null!=(r=this.at(t+1))&&r.parentPrompt?(this._anchor=this.normalizeOffset(t+1),this._position=this._anchor,void(this._selection=this.normalizeSelection(this._anchor))):(this._anchor=0,this._position=0,void(this._selection={ranges:[[0,0]]}))}let s=hL(i);"backward"===i.direction?[this._position,this._anchor]=s:[this._anchor,this._position]=s;let l=this.at(s[0]+1),a=this.at(s[1]),d=sL.commonAncestor(l,a);"array"===(null==d?void 0:d.type)&&l.parent===d&&a.parent,this._selection={ranges:[s],direction:i.direction},this._position>=0&&(this._position,this.lastOffset)}))}setPositionHandlingPlaceholder(t){var e;let o=this.at(t);"placeholder"===(null==o?void 0:o.type)?this.setSelection(t-1,t):"placeholder"===(null==(e=null==o?void 0:o.rightSibling)?void 0:e.type)?this.setSelection(t,t+1):this.position=t,o instanceof tI&&o.isSuggestion&&(o.isSuggestion=!1),this.mathfield.stopCoalescingUndo()}get position(){return this._position}set position(t){this.setSelection(t,t)}get anchor(){return this._anchor}get selectionIsCollapsed(){return this._anchor===this._position}get selectionIsPlaceholder(){return 1===Math.abs(this._anchor-this._position)&&"placeholder"===this.at(Math.max(this._anchor,this._position)).type}collapseSelection(t="forward"){return this._anchor!==this._position&&(this.position="backward"===t?Math.min(this._anchor,this._position):Math.max(this._anchor,this._position),!0)}get lastOffset(){return this.atoms.length-1}at(t){return this.atoms[t]}offsetOf(t){return this.atoms.indexOf(t)}getSiblingsRange(t){let e=this.at(t),{parent:o}=e;if(!o)return[0,this.lastOffset];let n=e.parent.branch(e.parentBranch);return[this.offsetOf(n[0]),this.offsetOf(n[n.length-1])]}getBranchRange(t,e){let o=this.at(t).branch(e);return[this.offsetOf(o[0]),this.offsetOf(o[o.length-1])]}getCellRange(t){var e;this.getParentCell(t);let o=this.at(t);if(o){for(;o&&"array"!==(null==(e=o.parent)?void 0:e.type);)o=o.parent;if(null!=o&&o.parent&&"array"===o.parent.type)return[this.offsetOf(o.firstSibling),this.offsetOf(o.lastSibling)]}}getAtoms(t,e,o){let n,r,i=null!=o?o:{};if(mL(t)){if(i=null!=e?e:{},t.ranges.length>1)return t.ranges.reduce(((t,e)=>[...t,...this.getAtoms(e,i)]),[]);t=t.ranges[0]}if(uL(t)){if(n=t,!uL(e))return[];r=e}else[n,r]=t,i=null!=e?e:{};if(!Number.isFinite(n))return[];void 0===i.includeChildren&&(i.includeChildren=!1),n<0&&(n=this.lastOffset-n+1),r<0&&(r=this.lastOffset+r+1);let s=Math.min(n,r)+1,l=Math.max(n,r);if(!i.includeChildren&&1===s&&l===this.lastOffset)return[this.root];let a=[];for(let t=s;t<=l;t++){let e=this.atoms[t];sV(this,e,s,l)&&a.push(e)}return i.includeChildren||(a=a.filter((t=>{let e=!1,{parent:o}=t;for(;o&&!e;)e=sV(this,o,s,l),o=o.parent;return!e}))),a}findAtom(t,e=0,o="forward"){let n,r=this.lastOffset;if("forward"!==o){for(let o=e;o>=0;o--)if(n=this.atoms[o],t(n))return n;for(let o=r;o>e;o--)if(n=this.atoms[o],t(n))return n}else{for(let o=e;o<=r;o++)if(n=this.atoms[o],t(n))return n;for(let o=0;o<e;o++)if(n=this.atoms[o],t(n))return n}}extractAtoms(t){var e;let o=this.getAtoms(t);1===o.length&&!o[0].parent&&o[0].isRoot&&(o=o[0]instanceof AP?o[0].rows.flatMap((t=>t.flatMap((t=>t)))):[...null!=(e=o[0].body)?e:o[0].children],o=o.filter((t=>"first"!==t.type)));for(let t of o)t.parent.removeChild(t);return o}deleteAtoms(t){null!=t||(t=[0,-1]),this.extractAtoms(t),this.position=t[0]}atomToString(t,e){let o=null!=e?e:"latex";if(o.startsWith("latex"))return sL.serialize([t],{expandMacro:"latex-expanded"===o,skipStyles:"latex-unstyled"===o,skipPlaceholders:"latex-without-placeholders"===o,defaultMode:this.mathfield.options.defaultMode});if("math-ml"===o)return cO(t);if("spoken"===o)return yO(t);if("spoken-text"===o){let e=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="";let o=yO(t);return globalThis.MathfieldElement.textToSpeechMarkup=e,o}if("spoken-ssml"===o||"spoken-ssml-with-highlighting"===o){let e=globalThis.MathfieldElement.textToSpeechMarkup;globalThis.MathfieldElement.textToSpeechMarkup="ssml";let o=yO(t);return globalThis.MathfieldElement.textToSpeechMarkup=e,o}return"plain-text"===o?CO(t,{plain:!0}):"ascii-math"===o?CO(t):(console.error(`MathLive 0.105.0: Unexpected format "${o}`),"")}getValue(t,e,o){if(void 0===t)return this.atomToString(this.root,"latex");if("string"==typeof t&&"math-json"!==t)return this.atomToString(this.root,t);let n,r;if(uL(t)&&uL(e)?(n=[this.normalizeRange([t,e])],r=o):pL(t)?(n=[this.normalizeRange(t)],r=e):mL(t)?(n=t.ranges,r=e):(n=[this.normalizeRange([0,-1])],r=t),null!=r||(r="latex"),"math-json"===r){if(!globalThis.MathfieldElement.computeEngine)return window[Symbol.for("io.cortexjs.compute-engine")]||console.error('The CortexJS Compute Engine library is not available.\nLoad the library, for example with:\nimport "https://unpkg.com/@cortex-js/compute-engine?module"'),'["Error", "compute-engine-not-available"]';let t=this.getValue({ranges:n},"latex-unstyled");try{let e=globalThis.MathfieldElement.computeEngine.parse(t);return JSON.stringify(e.json)}catch(t){return JSON.stringify(["Error",`'${t.toString()}'`])}}if(r.startsWith("latex")){let t={expandMacro:"latex-expanded"===r,skipStyles:"latex-unstyled"===r,skipPlaceholders:"latex-without-placeholders"===r,defaultMode:this.mathfield.options.defaultMode};return vB(n.map((e=>sL.serialize(this.getAtoms(e),t))))}return n.map((t=>this.getAtoms(t).map((t=>this.atomToString(t,r))).join(""))).join("")}extendSelectionTo(t,e){return!(!this.mathfield.contentEditable&&"none"===this.mathfield.userSelect)&&this.deferNotifications({selection:!0},(()=>{let o=this.normalizeRange([t,e]),[n,r]=o,{parent:i}=this.at(r);if(i&&("genfrac"===i.type||"subsup"===i.type))for(;i!==this.root&&lV(this,i,[n,r]);)r=this.offsetOf(i),i=i.parent;for(i=this.at(n).parent;i!==this.root&&lV(this,i,[n,r]);)n=this.offsetOf(i.leftSibling),i=i.parent;if(i=this.at(r).parent,"genfrac"===(null==i?void 0:i.type))for(;i!==this.root&&lV(this,i,[n,r]);)r=this.offsetOf(i),i=i.parent;this._position=this.normalizeOffset(e),this._selection={ranges:[[n,r]],direction:"none"}}))}announce(t,e,o=[]){var n,r;(null==(r=null==(n=this.mathfield.host)?void 0:n.dispatchEvent(new CustomEvent("announce",{detail:{command:t,previousPosition:e,atoms:o},cancelable:!0,bubbles:!0,composed:!0})))||r)&&rV(this.mathfield,t,e,o)}deferNotifications(t,e){let o=this._selection,n=this._anchor,r=this._position,i=this.silenceNotifications;this.silenceNotifications=!0;let s=this.root.changeCounter;e(),this.silenceNotifications=i;let l=n!==this._anchor||r!==this._position||"different"===function(t,e){if(t.direction===e.direction){let o=t.ranges.length;if(e.ranges.length===o){let n=0;for(;n<o&&"equal"===cL(t.ranges[n],e.ranges[n]);)n++;return n===o?"equal":"different"}}return"different"}(this._selection,o);t.selection&&l&&this.selectionDidChange();let a=this.root.changeCounter!==s;return t.content&&a&&this.contentDidChange({inputType:t.type}),a||l}normalizeOffset(t){return t>0?t=Math.min(t,this.lastOffset):t<0&&(t=this.lastOffset+t+1),t}normalizeRange(t){let[e,o]=t;return e=this.normalizeOffset(e),o=this.normalizeOffset(o),e<o?[e,o]:[o,e]}normalizeSelection(t,e){var o;let n;if(uL(t)){let o=this.normalizeOffset(t);if(uL(e)){let t=this.normalizeOffset(e);n=o<=t?{ranges:[[o,t]],direction:"none"}:{ranges:[[t,o]],direction:"backward"}}else n={ranges:[[o,o]],direction:"none"}}else if(pL(t)){let e=this.normalizeOffset(t[0]),o=this.normalizeOffset(t[1]);n=e<=o?{ranges:[[e,o]],direction:"none"}:{ranges:[[o,e]],direction:"backward"}}else mL(t)&&(n={ranges:t.ranges.map((t=>this.normalizeRange(t))),direction:null!=(o=t.direction)?o:"none"});return n}get parentEnvironment(){let t=this.at(this.position).parent;if(t){for(;t.parent&&"array"!==t.type;)t=t.parent;if("array"===t.type)return t}}get parentCell(){return this.getParentCell(this.position)}getParentCell(t){var e;let o=this.at(t);if(o){for(;o&&"array"!==(null==(e=o.parent)?void 0:e.type);)o=o.parent;if(null!=o&&o.parent&&"array"===o.parent.type)return o.parentBranch}}contentWillChange(t={}){if(this.silenceNotifications||!this.mathfield)return!0;let e=this.silenceNotifications;this.silenceNotifications=!0;let o=this.mathfield.onContentWillChange(t);return this.silenceNotifications=e,o}contentDidChange(t){if(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(mF(this.mathfield)),this.silenceNotifications||!this.mathfield||!this.mathfield.host)return;let e=this.silenceNotifications;this.silenceNotifications=!0,setTimeout((()=>{var e;!this.mathfield||!DL(this.mathfield)||!this.mathfield.host||this.mathfield.host.dispatchEvent(new InputEvent("input",IA(PA({},t),{data:t.data?t.data:null!=(e=t.inputType)?e:"",bubbles:!0,composed:!0})))}),0),this.silenceNotifications=e}selectionDidChange(){if(!this.mathfield||(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(mF(this.mathfield)),this.silenceNotifications))return;let t=this.silenceNotifications;this.silenceNotifications=!0,this.mathfield.onSelectionDidChange(),this.silenceNotifications=t}};function sV(t,e,o,n){let r=t.offsetOf(e);if(r<o||r>n)return!1;if(!e.hasChildren)return!0;let i=t.offsetOf(e.firstChild);if(i>=o&&i<=n){let r=t.offsetOf(e.lastChild);if(r>=o&&r<=n)return!0}return!1}function lV(t,e,o){if(null==e||!e.hasChildren)return!1;let[n,r]=o,i=t.offsetOf(e.firstChild),s=t.offsetOf(e.lastChild);return i>=n&&i<=r&&s>=i&&s<=r}function aV(t,e,o,n){var r,i,s,l,a,d;let c=o.parent;if(iL(n)&&o instanceof AP&&o.isMultiline&&function(t,e,o,n){if(!(e instanceof AP)||!e.isMultiline||1===e.rows.length||e.rows[o].length>1)return!1;let r=e.getCell(o,0);if(e.removeRow(o),"backward"===n){let n=e.getCell(o-1,0);t.position=t.offsetOf(n[n.length-1]),e.setCell(o-1,0,[...n,...r])}else{let n=e.getCell(o,0);t.position=t.offsetOf(n[0]),e.setCell(o,0,[...r,...n])}return!0}(t,o,n[0],e))return!0;if(c&&o instanceof PP){let r=!n&&"forward"===e||"body"===n&&"backward"===e,i=r?t.offsetOf(o.firstChild):t.offsetOf(o.lastChild);return r?"?"!==o.rightDelim&&"."!==o.rightDelim?(o.leftDelim=".",o.isDirty=!0):(c.addChildrenAfter(o.removeBranch("body"),o),c.removeChild(o),i--):"?"!==o.leftDelim&&"."!==o.leftDelim?(o.rightDelim=".",o.isDirty=!0):(c.addChildrenAfter(o.removeBranch("body"),o),c.removeChild(o),i--),t.position=i,!0}if(c&&"surd"===o.type){if("forward"===e&&!n||"backward"===e&&"body"===n){let e=o.leftSibling;o.hasChildren&&c.addChildrenAfter(o.removeBranch("body"),o),c.removeChild(o),t.position=t.offsetOf(e)}else"forward"===e&&"body"===n?t.position=t.offsetOf(o):n||"backward"!==e?"above"===n&&(o.hasEmptyBranch("above")&&o.removeBranch("above"),t.position="backward"===e?t.offsetOf(o.leftSibling):t.offsetOf(o.body[0])):o.hasChildren?t.position=t.offsetOf(o.lastChild):(t.position=Math.max(0,t.offsetOf(o)-1),c.removeChild(o));return!0}if(c&&("box"===o.type||"enclose"===o.type)){let r=n&&"backward"===e||!n&&"forward"===e?o.leftSibling:o.lastChild;return c.addChildrenAfter(o.removeBranch("body"),o),c.removeChild(o),t.position=t.offsetOf(r),!0}if("genfrac"===o.type||"overunder"===o.type){if(!n)return!("overunder"===o.type&&o.hasEmptyBranch("body")||"genfrac"===o.type&&o.hasEmptyBranch("below")&&o.hasEmptyBranch("above"))&&(t.position=t.offsetOf("forward"===e?o.firstChild:o.lastChild),!0);let r="numerator-denominator"===wV.fractionNavigationOrder?"above":"below",i="above"===r?"below":"above";if(c&&("forward"===e&&n===r||"backward"===e&&n===i)){let e=o.removeBranch(r),n=o.removeBranch(i);return c.addChildrenAfter([...e,...n],o),c.removeChild(o),t.position=t.offsetOf(e.length>0?e[e.length-1]:n[0]),!0}return t.position="backward"===e?t.offsetOf(o.leftSibling):t.offsetOf(o),!0}if("extensible-symbol"===o.type||"subsup"===o.type){if(!n&&"forward"===e)return!1;if(!n){if(o.subscript||o.superscript){let n="forward"===e?null!=(s=null==(r=o.superscript)?void 0:r[0])?s:null==(i=o.subscript)?void 0:i[0]:null!=(d=null==(l=o.subscript)?void 0:l[0].lastSibling)?d:null==(a=o.superscript)?void 0:a[0].lastSibling;return n&&(t.position=t.offsetOf(n)),!0}return!1}if(!o.hasChildren&&"subsup"===o.type){let n="forward"===e?t.offsetOf(o):Math.max(0,t.offsetOf(o)-1);return o.parent.removeChild(o),t.position=n,!0}if("superscript"===n)if("backward"===e){let e=t.offsetOf(o.firstChild)-1;t.position=e}else o.subscript?t.position=t.offsetOf(o.subscript[0]):t.position=t.offsetOf(o);else"subscript"===n&&("backward"===e&&o.superscript?t.position=t.offsetOf(o.superscript[0].lastSibling):t.position="backward"===e?t.offsetOf(o.firstChild)-1:t.offsetOf(o));if(n&&o.hasEmptyBranch(n)&&(o.removeBranch(n),"subsup"===o.type&&!o.subscript&&!o.superscript)){let n="forward"===e?t.offsetOf(o):Math.max(0,t.offsetOf(o)-1);o.parent.removeChild(o),t.position=n}return!0}if("genfrac"===(null==c?void 0:c.type)&&!n&&"first"!==o.type){let e=t.offsetOf(o.leftSibling);return c.removeChild(o),c.hasEmptyBranch("above")&&c.hasEmptyBranch("below")?(e=t.offsetOf(c.leftSibling),c.parent.removeChild(c),t.announce("delete",void 0,[c]),t.position=e,!0):(t.announce("delete",void 0,[o]),t.position=e,!0)}if("backward"===e&&("\\ln"===(null==c?void 0:c.command)||"\\log"===(null==c?void 0:c.command))&&"body"!==o.parentBranch){let e=t.offsetOf(c.leftSibling);return c.parent.removeChild(c),t.announce("delete",void 0,[c]),t.position=e,!0}return!1}function dV(t,e,o){let n=t.getAtoms(e);if(n.length>0&&n[0].parent){let r=n[0];for(;r&&!(r instanceof AP);)r=r.parent;let i=n[n.length-1];for(;i&&!(i instanceof AP);)i=i.parent;if(r&&r instanceof AP){let e=r;if(e&&i===e&&e.isMultiline){let[o,n]=[Math.min(t.position,t.anchor),Math.max(t.position,t.anchor)],[r,i]=t.at(o).parentBranch,[s,l]=t.at(n).parentBranch;if(s-r+1>2){t.extractAtoms([o,n]);for(let t=r+1;t<s;t++)e.removeRow(t);return t.position=o,!0}}}let s=n[0].parent.firstChild;"first"===s.type&&(s=s.rightSibling);let l=n[n.length-1].parent.lastChild,a=n[0];"first"===a.type&&(a=a.rightSibling);let d=n[n.length-1];if(a===s&&d===l){let o=n[0].parent;o.parent&&"prompt"!==o.type&&(e=[t.offsetOf(o.leftSibling),t.offsetOf(o)])}if(1===n.length&&"placeholder"===n[0].type&&"genfrac"===n[0].parent.type){let e=n[0].parent,r="below"===n[0].parentBranch?"above":"below",i=t.offsetOf(e.leftSibling);return t.deferNotifications({content:!0,selection:!0,type:o},(()=>{var o,n;let s=e.removeBranch(r);if(1===s.length&&"placeholder"===s[0].type)null==(n=e.parent)||n.removeChild(e),t.position=Math.max(0,i);else{let n=e.parent.addChildrenAfter(s,e);null==(o=e.parent)||o.removeChild(e),t.position=t.offsetOf(n)}}))}}return t.deferNotifications({content:!0,selection:!0,type:o},(()=>t.deleteAtoms(e)))}Bz({deleteAll:t=>t.contentWillChange({inputType:"deleteContent"})&&dV(t,[0,-1],"deleteContent"),deleteForward:t=>function(t){return!(!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentForward"}))&&(t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentForward"},(()=>{var e,o;let n=t.at(t.position).rightSibling;if(n&&aV(t,"forward",n))return;if(n){if(t.at(t.position).isLastSibling&&aV(t,"forward",n.parent,n.parentBranch))return}else{if(n=t.at(t.position),n.isLastSibling&&aV(t,"forward",n.parent,n.parentBranch))return;n=void 0}if(t.position===t.lastOffset||!n)return void t.announce("plonk");n.parent.removeChild(n);let r=null==(e=t.at(t.position))?void 0:e.rightSibling;for(;"subsup"===(null==r?void 0:r.type);)r.parent.removeChild(r),r=null==(o=t.at(t.position))?void 0:o.rightSibling;t.announce("delete",void 0,[n])})):dV(t,hL(t.selection),"deleteContentForward"))}(t),deleteBackward:t=>function(t){return!(!t.mathfield.isSelectionEditable||!t.contentWillChange({inputType:"deleteContentBackward"}))&&(t.selectionIsCollapsed?t.deferNotifications({content:!0,selection:!0,type:"deleteContentBackward"},(()=>{let e=t.at(t.position);if(!e||!aV(t,"backward",e)){if(null!=e&&e.isFirstSibling){if(aV(t,"backward",e.parent,e.parentBranch))return;e=null}if(!e)return void t.announce("plonk");t.position=t.offsetOf(e.leftSibling),e.parent.removeChild(e),t.announce("delete",void 0,[e])}})):dV(t,hL(t.selection),"deleteContentBackward"))}(t),deleteNextWord:t=>t.contentWillChange({inputType:"deleteWordForward"})&&dV(t,[t.anchor,MR(t,t.position,"forward")],"deleteWordForward"),deletePreviousWord:t=>t.contentWillChange({inputType:"deleteWordBackward"})&&dV(t,[t.anchor,MR(t,t.position,"backward")],"deleteWordBackward"),deleteToGroupStart:t=>t.contentWillChange({inputType:"deleteSoftLineBackward"})&&dV(t,[t.anchor,t.offsetOf(t.at(t.position).firstSibling)],"deleteSoftLineBackward"),deleteToGroupEnd:t=>t.contentWillChange({inputType:"deleteSoftLineForward"})&&dV(t,[t.anchor,t.offsetOf(t.at(t.position).lastSibling)],"deleteSoftLineForward"),deleteToMathFieldStart:t=>t.contentWillChange({inputType:"deleteHardLineBackward"})&&dV(t,[t.anchor,0],"deleteHardLineBackward"),deleteToMathFieldEnd:t=>t.contentWillChange({inputType:"deleteHardLineForward"})&&dV(t,[t.anchor,-1],"deleteHardLineForward")},{target:"model",audioFeedback:"delete",canUndo:!0,changeContent:!0,changeSelection:!0});var cV=`<svg xmlns="http://www.w3.org/2000/svg" style="width: 21px;"  viewBox="0 0 576 512" role="img" aria-label="${HA("tooltip.toggle virtual keyboard")}"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg>`,hV=`<svg xmlns="http://www.w3.org/2000/svg" style="height: 18px;" viewBox="0 0 448 512" role="img" aria-label="${HA("tooltip.menu")}"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>`,uV=class{constructor(t,e){var o,n,r;this.focusBlurInProgress=!1,this.options=PA(IA(PA({},pR()),{macros:EC(),registers:tL()}),hR(e)),this.eventController=new AbortController;let i=this.eventController.signal;e.eventSink&&(this.host=e.eventSink),this.element=t,t.mathfield=this,this.blurred=!0,this.keystrokeCaptionVisible=!1,this.suggestionIndex=0,this.inlineShortcutBuffer=[],this.inlineShortcutBufferFlushTimer=0,this.defaultStyle={},this.styleBias="left","inline-math"===this.options.defaultMode?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline"),this.dirty=!1;let s=null!=(n=null!=(o=e.value)?o:this.element.textContent)?n:"";s=s.trim();let l,a=mR(this.options),d=$P(s,{context:this.context});l=1===d.length&&d[0].isRoot?d[0]:new sL({type:"root",mode:a,body:d}),this.model=new iV(this,a,l),this.undoManager=new ER(this.model);let c=[];if(c.push("<span contenteditable=true role=textbox aria-autocomplete=none aria-multiline=false part=keyboard-sink class=ML__keyboard-sink autocapitalize=off autocomplete=off autocorrect=off spellcheck=false inputmode=none tabindex=0></span>"),c.push('<span part=container class=ML__container  style="visibility:hidden">'),c.push("<span part=content class=ML__content>"),c.push(Cz(this)),c.push("</span>"),window.mathVirtualKeyboard&&(c.push(`<div part=virtual-keyboard-toggle class=ML__virtual-keyboard-toggle role=button ${this.hasEditableContent?"":'style="display:none;"'} data-l10n-tooltip="tooltip.toggle virtual keyboard">`),c.push(cV),c.push("</div>")),c.push('<div part=menu-toggle class=ML__menu-toggle role=button data-l10n-tooltip="tooltip.menu">'),c.push(hV),c.push("</div>"),c.push("</span>"),c.push("<span class=ML__sr-only>"),c.push("<span role=status aria-live=assertive aria-atomic=true></span>"),c.push("</span>"),this.element.innerHTML=globalThis.MathfieldElement.createHTML(c.join("")),!this.element.children)return void console.error("%cMathLive 0.105.0: Something went wrong and the mathfield could not be created.%c\nIf you are using Vue, this may be because you are using the runtime-only build of Vue. Make sure to include `runtimeCompiler: true` in your Vue configuration. There may a warning from Vue in the log above.","color:red;font-family:system-ui;font-size:1.2rem;font-weight:bold","color:inherit;font-family:system-ui;font-size:inherit;font-weight:inherit");this._l10Subscription=qA.subscribe((()=>qA.update(this.element))),qA.update(this.element),this.field=this.element.querySelector("[part=content]"),this.field.addEventListener("click",(t=>t.stopImmediatePropagation()),{capture:!1,signal:i}),this.field.addEventListener("wheel",this,{passive:!1,signal:i}),"PointerEvent"in window?this.field.addEventListener("pointerdown",this,{signal:i}):this.field.addEventListener("mousedown",this,{signal:i}),null==(r=this.element.querySelector("[part=virtual-keyboard-toggle]"))||r.addEventListener("click",(()=>{window.mathVirtualKeyboard.visible?window.mathVirtualKeyboard.hide():(window.mathVirtualKeyboard.show({animate:!0}),window.mathVirtualKeyboard.update(mF(this)))}),{signal:i}),this.field.addEventListener("contextmenu",this,{signal:i});let h=this.element.querySelector("[part=menu-toggle]");var u;null==h||h.addEventListener("pointerdown",(t=>{if(t.currentTarget!==h)return;let e=this.menu;if("closed"!==e.state)return;this.element.classList.add("tracking");let o=h.getBoundingClientRect();e.modifiers=KI(t),e.show({target:h,location:{x:o.left,y:o.bottom},onDismiss:()=>this.element.classList.remove("tracking")}),t.preventDefault(),t.stopPropagation()}),{signal:i}),(this.model.atoms.length<=1||this.disabled||this.readOnly&&!this.hasEditableContent||"none"===this.userSelect)&&(h.style.display="none"),this.ariaLiveText=this.element.querySelector("[role=status]"),this.keyboardDelegate=function(t,e,o){let n=null,r=null,i=!1,s=!1,l=!1,a=new AbortController,d=a.signal;return t.addEventListener("keydown",(e=>{i||"Process"===e.key||"CapsLock"===e.code||/(Control|Meta|Alt|Shift)(Left|Right)/.test(e.code)?n=null:(n=e,r=null,o.onKeystroke(e)?t.textContent="":n=null)}),{capture:!0,signal:d}),t.addEventListener("keypress",(t=>{i||(n&&r&&o.onKeystroke(n),r=t)}),{capture:!0,signal:d}),t.addEventListener("compositionstart",(e=>{t.textContent="",i=!0,o.onCompositionStart(e.data)}),{capture:!0,signal:d}),t.addEventListener("compositionupdate",(t=>{i&&o.onCompositionUpdate(t.data)}),{capture:!0,signal:d}),t.addEventListener("compositionend",(e=>{t.textContent="",i&&(i=!1,o.onCompositionEnd(e.data))}),{capture:!0,signal:d}),t.addEventListener("beforeinput",(t=>t.stopImmediatePropagation()),{signal:d}),t.addEventListener("input",(e=>{var n;if(!i&&(t.textContent="","insertCompositionText"!==e.inputType)){if("insertFromPaste"===e.inputType)return e.preventDefault(),void e.stopPropagation();o.onInput(null!=(n=e.data)?n:""),e.preventDefault(),e.stopPropagation()}}),{signal:d}),t.addEventListener("paste",(e=>{t.focus({preventScroll:!0}),t.textContent="",o.onPaste(e)||e.preventDefault(),e.stopImmediatePropagation()}),{signal:d}),t.addEventListener("cut",(t=>o.onCut(t)),{capture:!0,signal:d}),t.addEventListener("copy",(t=>o.onCopy(t)),{capture:!0,signal:d}),t.addEventListener("blur",(i=>{var a,d;if((null==(d=null==(a=i.relatedTarget)?void 0:a._mathfield)?void 0:d.element)===e)return t.focus({preventScroll:!0}),i.preventDefault(),void i.stopPropagation();let c=!1,h=i.relatedTarget;for(;h;){if(h.classList.contains("ML__keyboard")){c=!0;break}h=h.parentElement}if(c)return t.focus({preventScroll:!0}),i.preventDefault(),void i.stopPropagation();let u=WI.state;return"open"===u||"opening"===u||i.relatedTarget===i.target.getRootNode().host?(i.preventDefault(),void i.stopPropagation()):void(l||s||(l=!0,n=null,r=null,o.onBlur(),l=!1))}),{capture:!0,signal:d}),t.addEventListener("focus",(t=>{l||s||(s=!0,o.onFocus(),s=!1)}),{capture:!0,signal:d}),{dispose:()=>a.abort(),cancelComposition:()=>{i&&("function"==typeof t.blur&&t.blur(),requestAnimationFrame((()=>t.focus({preventScroll:!0}))))},blur:()=>{"function"==typeof t.blur&&(l=!0,t.blur(),l=!1)},focus:()=>{!s&&"function"==typeof t.focus&&(s=!0,t.focus({preventScroll:!0}),s=!1)},hasFocus:()=>jI()===t,setAriaLabel:e=>t.setAttribute("aria-label",e),setValue:e=>{var o;t.textContent!==e&&(t.textContent=e,t.style.left="-1000px",null==(o=window.getSelection())||o.selectAllChildren(t))},moveTo:(e,o)=>{t.style.top=`${o}px`,t.style.left=`${e}px`}}}(this.element.querySelector(".ML__keyboard-sink"),this.element,this),window.addEventListener("resize",this,{signal:i}),document.addEventListener("scroll",this,{signal:i}),this.resizeObserver=new ResizeObserver((t=>{this.resizeObserverStarted?this.resizeObserverStarted=!1:Az(this)})),this.resizeObserverStarted=!0,this.resizeObserver.observe(this.field),window.mathVirtualKeyboard.addEventListener("virtual-keyboard-toggle",this,{signal:i}),II&&!qA.locale.startsWith(II.locale)&&(u=qA.locale,II=RI.find((t=>u.startsWith(t.locale)))),"ready"!==yz&&document.fonts.ready.then((()=>Ez(this))),t.querySelector("[part=container]").style.removeProperty("visibility"),this.undoManager.startRecording(),this.undoManager.snapshot("set-value"),Az(this)}connectToVirtualKeyboard(){this.connectedToVirtualKeyboard||(this.connectedToVirtualKeyboard=!0,window.addEventListener("message",this,{signal:this.eventController.signal}),window.mathVirtualKeyboard.connect(),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(mF(this)),SF(this))}disconnectFromVirtualKeyboard(){this.connectedToVirtualKeyboard&&(window.removeEventListener("message",this),window.mathVirtualKeyboard.disconnect(),this.connectedToVirtualKeyboard=!1,CF())}showMenu(t){var e,o;let n=null!=(o=null!=(e=null==t?void 0:t.location)?e:TL(this.field))?o:void 0,r=null==t?void 0:t.modifiers,i=this.element.querySelector("[part=container]");return this._menu.show({target:i,location:n,modifiers:r})}get colorMap(){return t=>{var e,o,n;return null!=(n=null==(o=(e=this.options).colorMap)?void 0:o.call(e,t))?n:YA(t)}}get backgroundColorMap(){return t=>{var e,o,n,r,i,s;return null!=(s=null!=(i=null==(o=(e=this.options).backgroundColorMap)?void 0:o.call(e,t))?i:null==(r=(n=this.options).colorMap)?void 0:r.call(n,t))?s:XA(t)}}get smartFence(){var t;return null!=(t=this.options.smartFence)&&t}get readOnly(){var t;return null!=(t=this.options.readOnly)&&t}get disabled(){var t,e;return null!=(e=null==(t=this.host)?void 0:t.disabled)&&e}get contentEditable(){return!!this.host&&"false"!==this.host.getAttribute("contenteditable")}get userSelect(){if(!this.host)return"";let t=getComputedStyle(this.host);return t.getPropertyValue("user-select")||t.getPropertyValue("-webkit-user-select")}get hasEditableContent(){return!(this.disabled||!this.contentEditable)&&(!this.readOnly||this.hasEditablePrompts)}get hasEditablePrompts(){return this.readOnly&&!this.disabled&&this.contentEditable&&void 0!==this.model.findAtom((t=>"prompt"===t.type&&!t.locked))}get isSelectionEditable(){if(this.disabled||!this.contentEditable)return!1;if(!this.readOnly)return!0;let t=this.model.at(this.model.anchor),e=this.model.at(this.model.position),o=sL.commonAncestor(t,e);return!!("prompt"===(null==o?void 0:o.type)||null!=o&&o.parentPrompt)}get letterShapeStyle(){var t;return null!=(t=this.options.letterShapeStyle)?t:"tex"}get minFontScale(){return this.options.minFontScale}get maxMatrixCols(){return this.options.maxMatrixCols}queryStyle(t){let e=oz(this,t);"verbatimColor"in e&&delete e.verbatimColor,"verbatimBackgroundColor"in e&&delete e.verbatimBackgroundColor;let o=Object.keys(e).length;if(0===o)return"all";if(o>1){for(let t of Object.keys(e)){let o=this.queryStyle({[t]:e[t]});if("none"===o)return"none";if("some"===o)return"some"}return"all"}let n=Object.keys(e)[0],r=e[n];if(this.model.selectionIsCollapsed)return rz(this)[n]===r?"all":"none";let i=this.model.getAtoms(this.model.selection,{includeChildren:!0}),s=i.length;if(0===s)return"none";let l=0;for(let t of i)"first"!==t.type?t.style[n]===r&&(l+=1):s-=1;return 0===l?"none":l===s?"all":"some"}get keybindings(){var t,e;if(this._keybindings)return this._keybindings;let[o,n]=function(t,e){let o=[],n=[];for(let r of t)try{let t=YI(r,e);if(!t)continue;let o=n.find((e=>e.key===t.key&&e.ifMode===t.ifMode));if(o)throw new Error(`Ambiguous key binding ${r.key} (${XI(r.command)}) matches ${o.key} (${XI(o.command)}) with the ${e.displayName} keyboard layout`);n.push(t)}catch(t){t instanceof Error&&o.push(t.message)}return[n,o]}(this.options.keybindings,null!=(t=VI())?t:function(){switch(FI()){case"apple":return DI;case"windows":return TI;case"linux":return BI}return DI}());return(null==(e=VI())?void 0:e.score)>0&&(this._keybindings=o,n.length>0&&console.error("MathLive 0.105.0: Invalid keybindings for current keyboard layout",n)),o}get menu(){return null!=this._menu||(this._menu=new qF(WO(this),{host:this.host})),this._menu}set menuItems(t){this._menu?this._menu.menuItems=t:this._menu=new qF(t,{host:this.host})}setOptions(t){var e;this.options=PA(PA({},this.options),hR(t)),this._keybindings=void 0,"inline-math"===this.options.defaultMode?this.element.classList.add("ML__is-inline"):this.element.classList.remove("ML__is-inline");let o=this.options.defaultMode;"inline-math"===o&&(o="math"),(null==(e=this.model.root.firstChild)?void 0:e.mode)!==o&&(this.model.root.firstChild.mode=o),this.options.readOnly&&this.hasFocus()&&window.mathVirtualKeyboard.visible&&this.executeCommand("hideVirtualKeyboard");let n=sL.serialize([this.model.root],{expandMacro:!1,defaultMode:this.options.defaultMode});("macros"in t||this.model.getValue()!==n)&&Mz(this),("value"in t||"registers"in t||"colorMap"in t||"backgroundColorMap"in t||"letterShapeStyle"in t||"minFontScale"in t||"maxMatrixCols"in t||"readOnly"in t||"placeholderContent"in t||"placeholderSymbol"in t)&&Az(this)}getOptions(t){return uR(this.options,t)}getOption(t){return uR(this.options,t)}async handleEvent(t){var e;if(DL(this)){if(Rz(t)){if(!FL(t.origin,null!=(e=this.options.originValidator)?e:"none"))throw new DOMException(`Message from unknown origin (${t.origin}) cannot be handled`,"SecurityError");let{action:o}=t.data;if("execute-command"===o){let e=Iz(t.data.command);if(!e||"virtual-keyboard"===Pz(e))return;this.executeCommand(e)}else"update-state"===o||("focus"===o?this.focus({preventScroll:!0}):"blur"===o&&this.blur());return}switch(t.type){case"focus":this.onFocus();break;case"blur":this.onBlur();break;case"mousedown":"none"!==this.userSelect&&sF(this,t);break;case"pointerdown":!t.defaultPrevented&&"none"!==this.userSelect&&(sF(this,t),!1===t.shiftKey&&await UF(t,this.element.querySelector("[part=container]"),this.menu)&&rF.stop());break;case"contextmenu":"none"!==this.userSelect&&!1===t.shiftKey&&await UF(t,this.element.querySelector("[part=container]"),this.menu)&&rF.stop();break;case"virtual-keyboard-toggle":this.hasFocus()&&SF(this),this.hasFocus()&&(this.keyboardDelegate.blur(),this.keyboardDelegate.focus());break;case"resize":case"scroll":this.geometryChangeTimer&&cancelAnimationFrame(this.geometryChangeTimer),this.geometryChangeTimer=requestAnimationFrame((()=>DL(this)&&this.onGeometryChange()));break;case"wheel":this.onWheel(t);break;case"message":break;default:console.warn("Unexpected event type",t.type)}}}dispose(){if(!DL(this))return;qA.unsubscribe(this._l10Subscription),this.keyboardDelegate.dispose(),this.keyboardDelegate=void 0,this.eventController.abort(),this.eventController=void 0,this.resizeObserver.disconnect(),window.mathVirtualKeyboard.removeEventListener("virtual-keyboard-toggle",this),this.disconnectFromVirtualKeyboard(),this.model.dispose(),delete this.element.mathfield,this.element=void 0,this.host=void 0,this.field=void 0,this.ariaLiveText=void 0,document.getElementById("mathlive-keystroke-caption-panel")&&(hz("mathlive-keystroke-caption-panel"),QL("core"),QL("keystroke-caption")),document.getElementById("mathlive-suggestion-popover")&&(hz("mathlive-suggestion-popover"),QL("suggestion-popover"),QL("core")),document.getElementById("mathlive-environment-popover")&&(hz("mathlive-environment-popover"),QL("environment-popover"),QL("core"))}flushInlineShortcutBuffer(t){if(null!=t||(t={defer:!1}),!t.defer)return this.inlineShortcutBuffer=[],clearTimeout(this.inlineShortcutBufferFlushTimer),void(this.inlineShortcutBufferFlushTimer=0);this.options.inlineShortcutTimeout>0&&(clearTimeout(this.inlineShortcutBufferFlushTimer),this.inlineShortcutBufferFlushTimer=setTimeout((()=>this.flushInlineShortcutBuffer()),this.options.inlineShortcutTimeout))}executeCommand(t){return"virtual-keyboard"===Pz(t)?(this.focus({preventScroll:!0}),window.mathVirtualKeyboard.executeCommand(t),requestAnimationFrame((()=>window.mathVirtualKeyboard.update(mF(this)))),!1):function(t,e){var o,n;if(!(e=Iz(e)))return!1;let r,i=[],s=!1,l=!1;FA(e)?(r=e[0],i=e.slice(1)):r=e;let a=Tz[r],d=null==a?void 0:a.target;if("model"===d){if(!t.isSelectionEditable&&null!=a&&a.changeContent)return t.model.announce("plonk"),!1;/^(delete|add)/.test(r)&&("deleteBackward"!==r&&t.flushInlineShortcutBuffer(),t.snapshot(r)),/^complete/.test(r)||sz(t),Tz[r].fn(t.model,...i),lz(t),l=!0,s=!0}else if("virtual-keyboard"===d)l=null!=(n=null==(o=window.mathVirtualKeyboard)?void 0:o.executeCommand(e))&&n,s=!0;else{if(!Tz[r])throw new Error(`Unknown command "${r}"`);if(!t.isSelectionEditable&&null!=a&&a.changeContent)return t.model.announce("plonk"),!1;/^(undo|redo)/.test(r)&&t.flushInlineShortcutBuffer(),l=Tz[r].fn(t,...i),s=!0}return"virtual-keyboard"!==d&&(!t.model.selectionIsCollapsed||null!=a&&a.changeSelection&&"deleteBackward"!==r)&&(t.flushInlineShortcutBuffer(),null!=a&&a.changeContent||t.stopCoalescingUndo(),t.defaultStyle={}),l&&Az(t),s}(this,t)}get errors(){return KP(this.model.getValue(),{context:this.context})}getValue(t,e,o){return this.model.getValue(t,e,o)}setValue(t,e){var o;void 0===(e=null!=e?e:{mode:"math"}).insertionMode&&(e.insertionMode="replaceAll"),(void 0===e.format||"auto"===e.format)&&(e.format="latex"),(void 0===e.mode||"auto"===e.mode)&&(e.mode=null!=(o=function(t,e){let o,n=t.at(e);if(n){o=n.mode;let t=n.parent;for(;!o&&t;)t&&(o=t.mode),t=t.parent}return o}(this.model,this.model.position))?o:"math");let n=this.undoManager.canUndo();SL.insert(this.model,t,e)&&(Az(this),n||this.undoManager.reset(),this.undoManager.snapshot("set-value"))}get expression(){let t=globalThis.MathfieldElement.computeEngine;return t?t.box(t.parse(this.model.getValue("latex-unstyled"))):(console.error("MathLive 0.105.0:  no compute engine available. Make sure the Compute Engine library is loaded."),null)}scrollIntoView(){var t;if(!this.element)return;if(this.host)if(this.options.onScrollIntoView)this.options.onScrollIntoView(this);else if(this.host.scrollIntoView({block:"nearest",inline:"nearest"}),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.container===window.document.body){let e=window.mathVirtualKeyboard.boundingRect,o=this.host.getBoundingClientRect();o.bottom>e.top&&(null==(t=window.document.scrollingElement)||t.scrollBy(0,o.bottom-e.top+8))}this.dirty&&Sz(this,{interactive:!0});let e=this.field.getBoundingClientRect(),o=null;if(this.model.selectionIsCollapsed)o=TL(this.field);else{let t=RL(this);if(t.length>0){let n=-1/0,r=-1/0;for(let e of t)e.right>n&&(n=e.right),e.top<r&&(r=e.top);o={x:n+e.left-this.field.scrollLeft,y:r+e.top-this.field.scrollTop,height:0}}}if(this.host&&o){let t=this.host.getBoundingClientRect(),e=o.y,n=this.host.scrollTop;e<t.top?n=e-t.top+this.host.scrollTop:e>t.bottom&&(n=e-t.bottom+this.host.scrollTop+o.height),this.host.scroll({top:n,left:0})}if(o){let t=o.x-window.scrollX,n=this.field.scrollLeft;t<e.left?n=t-e.left+this.field.scrollLeft-20:t>e.right&&(n=t-e.right+this.field.scrollLeft+20),this.field.scroll({top:this.field.scrollTop,left:n})}}insert(t,e){if("string"!=typeof t||0===t.length&&("insertBefore"===(null==e?void 0:e.insertionMode)||"insertAfter"===(null==e?void 0:e.insertionMode))||0===t.length&&this.model.selectionIsCollapsed)return!1;if(this.flushInlineShortcutBuffer(),(e=null!=e?e:{mode:"math"}).focus&&this.focus(),e.feedback&&(globalThis.MathfieldElement.keypressVibration&&NA()&&navigator.vibrate(3),globalThis.MathfieldElement.playSound("keypress")),"\\\\"===t)yR(this.model);else if("&"===t)vR(this.model);else if(this.model.selectionIsCollapsed){let o=PA({},rz(this));!/^[a-zA-Z0-9]$/.test(t)&&"none"!==this.styleBias&&(o.variant="normal",o.variantStyle=void 0),SL.insert(this.model,t,PA({style:o},e))}else SL.insert(this.model,t,e);return this.snapshot(`insert-${this.model.at(this.model.position).type}`),Az(this),e.scrollIntoView&&this.scrollIntoView(),!0}switchMode(t,e="",o=""){if(this.model.mode===t||!this.hasEditableContent||!this.contentEditable||this.disabled)return;let{model:n}=this,r=n.mode;n.mode=t,!this.host||this.host.dispatchEvent(new Event("mode-change",{bubbles:!0,composed:!0,cancelable:!0}))?(n.mode=r,n.deferNotifications({content:!!o||!!e,selection:!0,type:"insertText"},(()=>{let r=n.at(n.position),i=(t,e)=>{if(!t)return;let o="math"===n.mode?$P(fL(t,{format:"ascii-math"})[1],{context:this.context}):[...t].map((t=>new dL(t,t,{})));if(e.select){let t=r.parent.addChildrenAfter(o,r);n.setSelection(n.offsetOf(o[0].leftSibling),n.offsetOf(t))}else n.position=n.offsetOf(r.parent.addChildrenAfter(o,r));a=!0},s=(t,e)=>{let o=new eI(t);r.parent.addChildAfter(o,r),e.select?n.setSelection(n.offsetOf(o.firstChild),n.offsetOf(o.lastChild)):n.position=n.offsetOf(o.lastChild),a=!0},l=()=>{let e="latex"===t?"latex":"math"===t?"plain-text":"ascii-math",i=hL(n.selection),s=this.model.getValue(i,e),l=this.model.extractAtoms(i);return 1===l.length&&"placeholder"===l[0].type&&(s=o),r=n.at(i[0]),s},a=!1;if(this.flushInlineShortcutBuffer(),this.stopCoalescingUndo(),dz(this,"accept"),n.selectionIsCollapsed)i(e,{select:!1}),n.mode=t,"latex"===t?s(o,{select:!1}):i(o,{select:!1});else{let e=l();n.mode=t,"latex"===t?s(e,{select:!0}):i(e,{select:!0})}return Az(this),this.undoManager.snapshot("latex"===t?"insert-latex":"insert"),a})),n.mode=t,window.mathVirtualKeyboard.update(mF(this))):n.mode=r}hasFocus(){return!this.blurred}focus(t){var e;this.focusBlurInProgress||(this.hasFocus()||(this.onFocus(),this.model.announce("line")),null!=(e=null==t?void 0:t.preventScroll)&&e||this.scrollIntoView())}blur(){this.disconnectFromVirtualKeyboard(),this.hasFocus()&&this.keyboardDelegate.blur()}select(){this.model.selection={ranges:[[0,this.model.lastOffset]]},this.focus()}applyStyle(t,e={}){var o;let n,r="set",i=!1;pL(e)?n=e:("toggle"===e.operation&&(r="toggle"),n=e.range,i=null!=(o=e.silenceNotifications)&&o),n&&(n=this.model.normalizeRange(n)),n&&n[0]===n[1]&&(n=void 0);let s=oz(this,t);if(void 0===n&&this.model.selectionIsCollapsed){if("set"===r){let t=PA({},this.defaultStyle);return"color"in s&&delete t.verbatimColor,"backgroundColor"in s&&delete t.verbatimBackgroundColor,this.defaultStyle=PA(PA({},t),s),void(this.styleBias="none")}let t=PA({},this.defaultStyle);for(let e of Object.keys(s))t[e]===s[e]?("color"===e&&delete t.verbatimColor,"backgroundColor"===e&&delete t.verbatimBackgroundColor,delete t[e]):t[e]=s[e];return this.defaultStyle=t,void(this.styleBias="none")}this.model.deferNotifications({content:!i,type:"insertText"},(()=>{if(void 0===n)for(let t of this.model.selection.ranges)wI(this.model,t,s,{operation:r});else wI(this.model,n,s,{operation:r})})),Az(this)}toggleContextMenu(){var t;let e=this.menu;if(!e.visible)return!1;if("open"===e.state)return e.hide(),!0;let o=null==(t=VL(this,this.model.position))?void 0:t.bounds;if(!o)return!1;let n={x:o.right,y:o.bottom};return e.show({target:this.element.querySelector("[part=container]"),location:n,onDismiss:()=>{var t;return null==(t=this.element)?void 0:t.focus()}}),!0}getPrompt(t){return this.model.findAtom((e=>"prompt"===e.type&&e.placeholderId===t))}getPromptValue(t,e){let o=this.getPrompt(t);if(!o)return"";let n=this.model.offsetOf(o.firstChild),r=this.model.offsetOf(o.lastChild);return this.model.getValue(n,r,e)}getPrompts(t){return this.model.atoms.filter((e=>"prompt"===e.type&&(!t||!(t.id&&e.placeholderId!==t.id||t.locked&&e.locked!==t.locked||"undefined"===t.correctness&&e.correctness||t.correctness&&e.correctness!==t.correctness)))).map((t=>t.placeholderId))}setPromptValue(t,e,o){if(void 0!==e){let n=this.getPrompt(t);if(!n)return void console.error(`MathLive 0.105.0: unknown prompt ${t}`);let r=this.model.getBranchRange(this.model.offsetOf(n),"body");this.model.setSelection(r),this.insert(e,IA(PA({},o),{insertionMode:"replaceSelection"}))}null!=o&&o.silenceNotifications&&(this.valueOnFocus=this.getValue()),Az(this)}setPromptState(t,e,o){let n=this.getPrompt(t);n?("undefined"===e?n.correctness=void 0:"string"==typeof e&&(n.correctness=e),"boolean"==typeof o&&(n.locked=o,n.captureSelection=o),Az(this)):console.error(`MathLive 0.105.0: unknown prompt ${t}`)}getPromptState(t){let e=this.getPrompt(t);return e?[e.correctness,e.locked]:(console.error(`MathLive 0.105.0: unknown prompt ${t}`),[void 0,!0])}getPromptRange(t){let e=this.getPrompt(t);return e?this.model.getBranchRange(this.model.offsetOf(e),"body"):(console.error(`MathLive 0.105.0: unknown prompt ${t}`),[0,0])}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}popUndoStack(){this.undoManager.pop()}snapshot(t){var e;this.undoManager.snapshot(t)&&(window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(mF(this)),null==(e=this.host)||e.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"snapshot"}})))}stopCoalescingUndo(){this.undoManager.stopCoalescing(this.model.selection)}stopRecording(){this.undoManager.stopRecording()}startRecording(){this.undoManager.startRecording()}undo(){var t;this.undoManager.undo()&&(null==(t=this.host)||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"undo"}})))}redo(){var t;this.undoManager.redo()&&(null==(t=this.host)||t.dispatchEvent(new CustomEvent("undo-state-change",{bubbles:!0,composed:!0,detail:{type:"redo"}})))}resetUndo(){var t;null==(t=this.undoManager)||t.reset()}onSelectionDidChange(){var t,e;let o=this.model;if(this.keyboardDelegate.setValue(o.getValue(o.selection,"latex-expanded")),o.selectionIsCollapsed){let e=QI(o),n=o.position,r=o.at(n),i=null!=(t=r.mode)?t:mR(this.options);if(e&&(n<o.offsetOf(e.firstChild)-1||n>o.offsetOf(e.lastChild)+1))dz(this,"accept",{mode:i}),o.position=o.offsetOf(r);else{let t=o.at(n+1);"first"===(null==t?void 0:t.type)&&"latex"===t.mode?o.position=n+1:e&&"latex"!==(null==t?void 0:t.mode)?o.position=n-1:this.switchMode(i)}}null==(e=this.host)||e.dispatchEvent(new Event("selection-change",{bubbles:!0,composed:!0})),window.mathVirtualKeyboard.visible&&window.mathVirtualKeyboard.update(mF(this)),SF(this)}onContentWillChange(t){var e,o,n;return null==(n=null==(o=this.host)?void 0:o.dispatchEvent(new InputEvent("beforeinput",IA(PA({},t),{data:t.data?t.data:null!=(e=t.inputType)?e:"",cancelable:!0,bubbles:!0,composed:!0}))))||n}onFocus(){this.focusBlurInProgress||!this.blurred||(this.focusBlurInProgress=!0,this.blurred=!1,this.stopCoalescingUndo(),this.valueOnFocus=this.model.getValue(),this.hasEditablePrompts&&!this.model.at(this.model.anchor).parentPrompt&&this.executeCommand("moveToNextPlaceholder"),Sz(this,{interactive:!0}),setTimeout((()=>{this.keyboardDelegate.blur(),this.keyboardDelegate.focus(),this.connectToVirtualKeyboard(),this.focusBlurInProgress=!1}),60))}onBlur(){var t,e,o;if(!this.focusBlurInProgress&&!this.blurred&&(this.focusBlurInProgress=!0,this.stopCoalescingUndo(),this.blurred=!0,this.ariaLiveText.textContent="",gz(this),this.model.getValue()!==this.valueOnFocus&&(null==(t=this.host)||t.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))),this.disconnectFromVirtualKeyboard(),null==(e=this.host)||e.dispatchEvent(new Event("blur",{bubbles:!1,composed:!0})),null==(o=this.host)||o.dispatchEvent(new UIEvent("focusout",{bubbles:!0,composed:!0})),Az(this),this.focusBlurInProgress=!1,CF(),CV.restoreFocusWhenDocumentFocused)){let t=new AbortController,e=t.signal;window.addEventListener("blur",(()=>{window.addEventListener("focus",(()=>{DL(this)&&this.focus({preventScroll:!0})}),{once:!0,signal:e})}),{once:!0,signal:e}),document.addEventListener("focusin",(()=>t.abort()),{once:!0}),document.addEventListener("click",(()=>t.abort()),{once:!0})}}onInput(t){GR(this,t)}onKeystroke(t){return UR(this,t)}onCompositionStart(t){dV(this.model,hL(this.model.selection),"insertText");let e=TL(this.field);e&&requestAnimationFrame((()=>{Sz(this),this.keyboardDelegate.moveTo(e.x,e.y-e.height)}))}onCompositionUpdate(t){(function(t,e){let o=t.at(t.position);if("composition"===o.type)o.value=e;else{let{caret:n}=o;o.caret=void 0;let r=new TP(e,{mode:o.mode});r.caret=n,o.parent.addChildAfter(r,o),t.position+=1}})(this.model,t),Az(this)}onCompositionEnd(t){(function(t){let e=t.at(t.position);"composition"===e.type&&(e.parent.removeChild(e),t.position-=1)})(this.model),GR(this,t,{simulateKeystroke:!0})}onCut(t){this.isSelectionEditable?this.model.contentWillChange({inputType:"deleteByCut"})&&(this.stopCoalescingUndo(),t.clipboardData?SL.onCopy(this,t):SL.copyToClipboard(this,"latex"),dV(this.model,hL(this.model.selection),"deleteByCut"),this.snapshot("cut"),Az(this)):this.model.announce("plonk")}onCopy(t){t.clipboardData?SL.onCopy(this,t):SL.copyToClipboard(this,"latex")}onPaste(t){let e=this.isSelectionEditable;return e&&(e=SL.onPaste(this.model.at(this.model.position).mode,this,t.clipboardData)),e||this.model.announce("plonk"),t.preventDefault(),t.stopPropagation(),e}onGeometryChange(){var t;null==(t=this._menu)||t.hide(),mz(this),SF(this)}onWheel(t){let e=5*t.deltaX;if(!Number.isFinite(e)||0===e)return;let o=this.field;e<0&&0===o.scrollLeft||e>0&&o.offsetWidth+o.scrollLeft>=o.scrollWidth||(o.scrollBy({top:0,left:e}),t.preventDefault(),t.stopPropagation())}getHTMLElement(t){let e=t;for(;!e.id&&e.hasChildren;)e=t.children[0];return this.field.querySelector(`[data-atom-id="${e.id}"]`)}get context(){var t,e;return{registers:null!=(t=this.options.registers)?t:{},smartFence:this.smartFence,letterShapeStyle:this.letterShapeStyle,minFontScale:this.minFontScale,maxMatrixCols:this.maxMatrixCols,placeholderSymbol:null!=(e=this.options.placeholderSymbol)?e:"▢",colorMap:t=>this.colorMap(t),backgroundColorMap:t=>this.backgroundColorMap(t),getMacro:t=>BC(t,this.options.macros),atomIdsSettings:{seed:"random",groupNumbers:!1}}}};function pV(t){if(t&&(t.classList.remove("ML__highlight"),t.children))for(let e of t.children)pV(e)}function mV(t,e){var o;t&&(e&&(null==(o=t.dataset)?void 0:o.atomId)!==e?(t.classList.remove("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach((t=>{t instanceof HTMLElement&&mV(t,e)}))):(t.classList.add("ML__highlight"),t.children&&t.children.length>0&&[...t.children].forEach((t=>{t instanceof HTMLElement&&mV(t)}))))}Bz({speak:(t,e,o)=>function(t,e,o){var n;o=null!=o?o:{withHighlighting:!1};let{model:r}=t;function i(t){let e=null;switch(t){case"all":default:e=r.root;break;case"selection":e=r.getAtoms(r.selection);break;case"left":e=r.getAtoms(r.offsetOf(r.at(r.position).leftSibling),r.position);break;case"right":e=r.getAtoms(r.position,r.offsetOf(r.at(r.position).rightSibling));break;case"group":e=r.getAtoms(r.getSiblingsRange(r.position));break;case"parent":{let{parent:t}=r.at(r.position);e=null!=t&&t.parent?t:r.root;break}}return e}function s(t){let e="";switch(t){case"all":console.error("Internal failure: speak all failed");break;case"selection":e="no selection";break;case"left":e="at start";break;case"right":e="at end";break;case"group":console.error("Internal failure: speak group failed");break;case"parent":e="no parent";break;default:console.error('unknown speak_ param value: "'+t+'"')}return e}let l=globalThis.MathfieldElement,a=i(e);if(null===a)return null==(n=l.speakHook)||n.call(l,s(e)),!1;(o.withHighlighting||"amazon"===l.speechEngine)&&(l.textToSpeechMarkup=globalThis.sre&&"sre"===l.textToSpeechRules?"ssml_step":"ssml");let d=yO(a);return OA()&&o.withHighlighting?(SV().readAloudMathfield=t,Sz(t,{forHighlighting:!0}),l.readAloudHook&&l.readAloudHook(t.field,d)):l.speakHook&&l.speakHook(d),!1}(t,e,o)},{target:"mathfield"}),OA()||console.error('MathLive 0.105.0: this version of the MathLive library is for use in the browser. A subset of the API is available on the server side in the "mathlive-ssr" library. If using server side rendering (with React for example) you may want to do a dynamic import of the MathLive library inside a `useEffect()` call.');var gV=new WeakMap,bV={letterShapeStyle:"mf.letterShapeStyle = ...",horizontalSpacingScale:'Removed. Use `"thinmuskip"`, `"medmuskip"`, and `"thickmuskip"` registers ',macros:"mf.macros = ...",registers:"mf.registers = ...",backgroundColorMap:"mf.backgroundColorMap = ...",colorMap:"mf.colorMap = ...",enablePopover:"mf.popoverPolicy = ...",mathModeSpace:"mf.mathModeSpace = ...",placeholderSymbol:"mf.placeholderSymbol = ...",readOnly:"mf.readOnly = ...",removeExtraneousParentheses:"mf.removeExtraneousParentheses = ...",scriptDepth:"mf.scriptDepth = ...",smartFence:"mf.smartFence = ...",smartMode:"mf.smartMode = ...",smartSuperscript:"mf.smartSuperscript = ...",inlineShortcutTimeout:"mf.inlineShortcutTimeout = ...",inlineShortcuts:"mf.inlineShortcuts = ...",keybindings:"mf.keybindings = ...",virtualKeyboardMode:"mf.mathVirtualKeyboardPolicy = ...",customVirtualKeyboardLayers:"mathVirtualKeyboard.layers = ...",customVirtualKeyboards:"mathVirtualKeyboard.layouts = ...",keypressSound:"mathVirtualKeyboard.keypressSound = ...",keypressVibration:"mathVirtualKeyboard.keypressVibration = ...",plonkSound:"mathVirtualKeyboard.plonkSound = ...",virtualKeyboardContainer:"mathVirtualKeyboard.container = ...",virtualKeyboardLayout:"mathVirtualKeyboard.alphabeticLayout = ...",virtualKeyboardTheme:"No longer supported",virtualKeyboardToggleGlyph:"No longer supported",virtualKeyboardToolbar:"mathVirtualKeyboard.editToolbar = ...",virtualKeyboards:"Use `mathVirtualKeyboard.layouts`",speechEngine:"`MathfieldElement.speechEngine`",speechEngineRate:"`MathfieldElement.speechEngineRate`",speechEngineVoice:"`MathfieldElement.speechEngineVoice`",textToSpeechMarkup:"`MathfieldElement.textToSpeechMarkup`",textToSpeechRules:"`MathfieldElement.textToSpeechRules`",textToSpeechRulesOptions:"`MathfieldElement.textToSpeechRulesOptions`",readAloudHook:"`MathfieldElement.readAloudHook`",speakHook:"`MathfieldElement.speakHook`",computeEngine:"`MathfieldElement.computeEngine`",fontsDirectory:"`MathfieldElement.fontsDirectory`",soundsDirectory:"`MathfieldElement.soundsDirectory`",createHTML:"`MathfieldElement.createHTML`",onExport:"`mf.onExport`",onInlineShortcut:"`mf.onInlineShortcut`",onScrollIntoView:"`mf.onScrollIntoView`",locale:"MathfieldElement.locale = ...",strings:"MathfieldElement.strings = ...",decimalSeparator:"MathfieldElement.decimalSeparator = ...",fractionNavigationOrder:"MathfieldElement.fractionNavigationOrder = ..."},fV=class t extends HTMLElement{constructor(t){if(super(),this._observer=null,t){let e=[];for(let o of Object.keys(t))if(bV[o])if(bV[o].startsWith("mf."))if(bV[o].startsWith(`mf.${o}`))e.push(`Option \`${o}\` cannot be used as a constructor option. Use ${bV[o]}`);else{let t=bV[o].match(/([a-zA-Z]+) =/);e.push(`Option \`${o}\` has been renamed \`${t[1]}\``)}else e.push(`Option \`${o}\` cannot be used as a constructor option. Use ${bV[o]}`);if(e.length>0){console.group("%cMathLive 0.105.0: %cInvalid Options","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn("Some of the options passed to `new MathfieldElement(...)` are invalid. \n          See mathfield/changelog/ for details.");for(let t of e)console.warn(t);console.groupEnd()}}if(yV()&&(this._internals=this.attachInternals(),this._internals.role="math",this._internals.ariaLabel="math input field",this._internals.ariaMultiLine="false"),this.attachShadow({mode:"open",delegatesFocus:!0}),this.shadowRoot&&"adoptedStyleSheets"in this.shadowRoot){this.shadowRoot.adoptedStyleSheets=[YL("core"),YL("mathfield"),YL("mathfield-element"),YL("ui"),YL("menu")],this.shadowRoot.appendChild(document.createElement("span"));let t=document.createElement("slot");t.style.display="none",this.shadowRoot.appendChild(t)}else this.shadowRoot.innerHTML="<style>"+JL("core")+JL("mathfield")+JL("mathfield-element")+JL("ui")+JL("menu")+'</style><span></span><slot style="display:none"></slot>';t&&this._setOptions(t)}static get formAssociated(){return yV()}static get optionsAttributes(){return{"default-mode":"string","letter-shape-style":"string","min-font-scale":"number","max-matrix-cols":"number","popover-policy":"string","math-mode-space":"string","read-only":"boolean","remove-extraneous-parentheses":"on/off","smart-fence":"on/off","smart-mode":"on/off","smart-superscript":"on/off","inline-shortcut-timeout":"string","script-depth":"string",placeholder:"string","virtual-keyboard-target-origin":"string","math-virtual-keyboard-policy":"string"}}static get observedAttributes(){return[...Object.keys(this.optionsAttributes),"contenteditable","disabled","readonly","read-only"]}static get fontsDirectory(){return this._fontsDirectory}static set fontsDirectory(t){t!==this._fontsDirectory&&(this._fontsDirectory=t,async function(){yz="not-loaded",vz()}())}get fontsDirectory(){throw new Error("Use MathfieldElement.fontsDirectory instead")}set fontsDirectory(t){throw new Error("Use MathfieldElement.fontsDirectory instead")}static get soundsDirectory(){return this._soundsDirectory}static set soundsDirectory(t){this._soundsDirectory=t,this.audioBuffers={}}get soundsDirectory(){throw new Error("Use MathfieldElement.soundsDirectory instead")}set soundsDirectory(t){throw new Error("Use MathfieldElement.soundsDirectory instead")}static get keypressSound(){return this._keypressSound}static set keypressSound(t){var e,o,n;this.audioBuffers={},null===t?this._keypressSound={spacebar:null,return:null,delete:null,default:null}:"string"==typeof t?this._keypressSound={spacebar:t,return:t,delete:t,default:t}:"object"==typeof t&&"default"in t&&(this._keypressSound={spacebar:null!=(e=t.spacebar)?e:t.default,return:null!=(o=t.return)?o:t.default,delete:null!=(n=t.delete)?n:t.default,default:t.default})}static get plonkSound(){return this._plonkSound}static set plonkSound(t){this.audioBuffers={},this._plonkSound=t}static get audioContext(){return this._audioContext||(this._audioContext=new AudioContext),this._audioContext}static get speechEngine(){return this._speechEngine}static set speechEngine(t){this._speechEngine=t}static get speechEngineRate(){return this._speechEngineRate}static set speechEngineRate(t){this._speechEngineRate=t}static get speechEngineVoice(){return this._speechEngineVoice}static set speechEngineVoice(t){this._speechEngineVoice=t}static get textToSpeechMarkup(){return this._textToSpeechMarkup}static set textToSpeechMarkup(t){this._textToSpeechMarkup=t}static get textToSpeechRules(){return this._textToSpeechRules}static set textToSpeechRules(t){this._textToSpeechRules=t}static get textToSpeechRulesOptions(){return this._textToSpeechRulesOptions}static set textToSpeechRulesOptions(t){this._textToSpeechRulesOptions=t}static get locale(){return qA.locale}static set locale(t){"auto"===t&&(t=navigator.language.slice(0,5)),qA.locale=t}get locale(){throw new Error("Use MathfieldElement.locale instead")}set locale(t){throw new Error("Use MathfieldElement.locale instead")}static get strings(){return qA.strings}static set strings(t){qA.merge(t)}get strings(){throw new Error("Use MathfieldElement.strings instead")}set strings(t){throw new Error("Use MathfieldElement.strings instead")}static get decimalSeparator(){return this._decimalSeparator}static set decimalSeparator(t){this._decimalSeparator=t,this._computeEngine&&(this._computeEngine.decimalSeparator=","===this.decimalSeparator?"{,}":".")}get decimalSeparator(){throw new Error("Use MathfieldElement.decimalSeparator instead")}set decimalSeparator(t){throw new Error("Use MathfieldElement.decimalSeparator instead")}static get fractionNavigationOrder(){return YP.fractionNavigationOrder}static set fractionNavigationOrder(t){if("numerator-denominator"!==t&&"denominator-numerator"!==t)throw new Error("Invalid value");YP.fractionNavigationOrder!==t&&(YP.fractionNavigationOrder=t,Dz())}static get computeEngine(){var t,e;if(void 0===this._computeEngine){let e=null==(t=window[Symbol.for("io.cortexjs.compute-engine")])?void 0:t.ComputeEngine;if(!e)return null;this._computeEngine=new e,this._computeEngine&&","===this.decimalSeparator&&(this._computeEngine.decimalSeparator="{,}")}return null!=(e=this._computeEngine)?e:null}static set computeEngine(t){this._computeEngine=t}get computeEngine(){throw new Error("Use MathfieldElement.computeEngine instead")}set computeEngine(t){throw new Error("Use MathfieldElement.computeEngine instead")}static get isFunction(){return"function"!=typeof this._isFunction?()=>!1:this._isFunction}static set isFunction(t){this._isFunction=t,Dz()}static async loadSound(t){delete this.audioBuffers[t];let e="";switch(t){case"keypress":e=this._keypressSound.default;break;case"return":e=this._keypressSound.return;break;case"spacebar":e=this._keypressSound.spacebar;break;case"delete":e=this._keypressSound.delete;break;case"plonk":e=this.plonkSound}if("string"!=typeof e)return;e=e.trim();let o=this.soundsDirectory;if(null!=o&&"null"!==o&&"none"!==e&&"null"!==e)try{let n=await(await fetch(await kz(`${o}/${e}`))).arrayBuffer(),r=await this.audioContext.decodeAudioData(n);this.audioBuffers[t]=r}catch(t){}}static async playSound(t){if(("suspended"===this.audioContext.state||"interrupted"===this.audioContext.state)&&await this.audioContext.resume(),this.audioBuffers[t]||await this.loadSound(t),!this.audioBuffers[t])return;let e=this.audioContext.createBufferSource();e.buffer=this.audioBuffers[t];let o=this.audioContext.createGain();o.gain.value=.5,e.connect(o).connect(this.audioContext.destination),e.start()}showMenu(t){var e,o;return null!=(o=null==(e=this._mathfield)?void 0:e.showMenu(t))&&o}get mathVirtualKeyboard(){throw new Error("The `mathVirtualKeyboard` property is not available on the MathfieldElement. Use `window.mathVirtualKeyboard` instead.")}onPointerDown(){window.addEventListener("pointerup",(e=>{let o=this._mathfield;if(o&&e.target===this&&!o.disabled){this.dispatchEvent(new MouseEvent("click",{altKey:e.altKey,button:e.button,buttons:e.buttons,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,relatedTarget:e.relatedTarget,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey}));let n=this.getOffsetFromPoint(e.clientX,e.clientY);n>=0&&t.openUrl(function(t,e){let o=t.model.at(e);for(;o;){if("\\href"===o.command){let t=o.args[0];if("string"==typeof t)return t}o=o.parent}return""}(o,n)),"touch"===e.pointerType&&this.selectionIsCollapsed&&(this.position=n)}}),{once:!0})}getPromptValue(t,e){var o,n;return null!=(n=null==(o=this._mathfield)?void 0:o.getPromptValue(t,e))?n:""}setPromptValue(t,e,o){var n;null==(n=this._mathfield)||n.setPromptValue(t,e,o)}getPromptRange(t){var e,o;return null!=(o=null==(e=this._mathfield)?void 0:e.getPromptRange(t))?o:null}getPrompts(t){var e,o;return null!=(o=null==(e=this._mathfield)?void 0:e.getPrompts(t))?o:[]}get form(){var t;return null==(t=this._internals)?void 0:t.form}get name(){var t;return null!=(t=this.getAttribute("name"))?t:""}get type(){return this.localName}get mode(){var t,e;return null!=(e=null==(t=this._mathfield)?void 0:t.model.mode)?e:"text"===this.defaultMode?"text":"math"}set mode(t){var e;null==(e=this._mathfield)||e.switchMode(t)}get expression(){if(this._mathfield)return window[Symbol.for("io.cortexjs.compute-engine")]?this._mathfield.expression:(console.error('MathLive 0.105.0: The CortexJS Compute Engine library is not available.\n        \n        Load the library, for example with:\n        \n        import "https://unpkg.com/@cortex-js/compute-engine?module"'),null)}set expression(e){var o,n;if(!this._mathfield)return;let r=null!=(n=null==(o=t.computeEngine)?void 0:o.box(e).latex)?n:null;null!==r&&this._mathfield.setValue(r),window[Symbol.for("io.cortexjs.compute-engine")]||console.error('MathLive 0.105.0: The Compute Engine library is not available.\n        \n        Load the library, for example with:\n        \n        import "https://unpkg.com/@cortex-js/compute-engine?module"')}get errors(){var t,e;return null!=(e=null==(t=this._mathfield)?void 0:t.errors)?e:[]}_getOptions(t){return this._mathfield?uR(this._mathfield.options,t):gV.has(this)?PA({},uR(PA(PA({},pR()),hR(gV.get(this).options)),t)):null}getOptions(t){return console.warn("%cMathLive 0.105.0: %cDeprecated Usage%c\n      `mf.getOptions()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._mathfield?uR(this._mathfield.options,t):gV.has(this)?uR(PA(PA({},pR()),hR(gV.get(this).options)),t):null}reflectAttributes(){let e=pR(),o=this._getOptions();Object.keys(t.optionsAttributes).forEach((n=>{let r=xV(n);"on/off"===t.optionsAttributes[n]?e[r]!==o[r]?this.setAttribute(n,o[r]?"on":"off"):this.removeAttribute(n):e[r]!==o[r]&&("boolean"===t.optionsAttributes[n]?o[r]?this.setAttribute(n,""):this.removeAttribute(n):("string"==typeof o[r]||"number"==typeof o[r])&&this.setAttribute(n,o[r].toString()))}))}getOption(t){return console.warn("%cMathLive 0.105.0: %cDeprecated Usage%c\n      `mf.getOption()` is deprecated. Read the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem","color: inherit, font-size: 1rem"),this._getOptions([t])[t]}_getOption(t){return this._getOptions([t])[t]}_setOptions(t){if(this._mathfield)this._mathfield.setOptions(t);else if(gV.has(this)){let e=PA(PA({},gV.get(this).options),t);gV.set(this,IA(PA({},gV.get(this)),{selection:{ranges:e.readOnly?[[0,0]]:[[0,-1]]},options:e}))}else gV.set(this,{value:void 0,selection:{ranges:[[0,0]]},options:t,menuItems:void 0});this.reflectAttributes()}setOptions(t){console.group("%cMathLive 0.105.0: %cDeprecated Usage","color:#12b; font-size: 1.1rem","color:#db1111; font-size: 1.1rem"),console.warn(" `mf.setOptions()` is deprecated. Set the property directly on the mathfield instead.\n      See mathfield/changelog/ for details.");for(let e of Object.keys(t))bV[e]&&console.warn(`\`mf.setOptions({${e}:...})\` -> ${bV[e]}`);console.groupEnd(),this._setOptions(t)}executeCommand(...t){var e,o;let n;if(n=1===t.length?t[0]:[t[0],...t.slice(1)],n)return null!=(o=null==(e=this._mathfield)?void 0:e.executeCommand(n))&&o;throw new Error("Invalid selector")}getValue(t,e,o){var n,r;if(this._mathfield)return this._mathfield.model.getValue(t,e,o);if(gV.has(this)){let i,s,l;if(mL(t)?([i,s]=t.ranges[0],l=e):pL(t)?([i,s]=t,l=e):uL(t)&&uL(e)?(i=t,s=e,l=o):(i=0,s=-1,l=t),(void 0===l||"latex"===l)&&0===i&&-1===s)return null!=(r=null!=(n=gV.get(this).value)?n:this.textContent)?r:""}return""}setValue(t,e){if(this._mathfield&&void 0!==t){if(this._mathfield.model.getValue()===t)return;return null!=e||(e={silenceNotifications:!0,mode:"math"}),void this._mathfield.setValue(t,e)}if(gV.has(this)){let e=gV.get(this).options;return void gV.set(this,{value:t,selection:{ranges:[[-1,-1]],direction:"forward"},options:e,menuItems:void 0})}let o=kV(this);gV.set(this,{value:t,selection:{ranges:[[-1,-1]],direction:"forward"},options:o,menuItems:void 0})}hasFocus(){var t,e;return null!=(e=null==(t=this._mathfield)?void 0:t.hasFocus())&&e}focus(){var t;null==(t=this._mathfield)||t.focus()}blur(){var t;null==(t=this._mathfield)||t.blur()}select(){var t;null==(t=this._mathfield)||t.select()}insert(t,e){var o,n;return null!=(n=null==(o=this._mathfield)?void 0:o.insert(t,e))&&n}applyStyle(t,e){var o;return null==(o=this._mathfield)?void 0:o.applyStyle(t,e)}queryStyle(t){var e,o;return null!=(o=null==(e=this._mathfield)?void 0:e.queryStyle(t))?o:"none"}getOffsetFromPoint(t,e,o){return this._mathfield?cF(this._mathfield,t,e,o):-1}getElementInfo(t){return VL(this._mathfield,t)}resetUndo(){var t;null==(t=this._mathfield)||t.resetUndo()}canUndo(){return!!this._mathfield&&this._mathfield.canUndo()}canRedo(){return!!this._mathfield&&this._mathfield.canRedo()}handleEvent(t){var e,o,n,r,i,s,l;if("closed"!==WI.state||"closed"!==(null==(o=null==(e=this._mathfield)?void 0:e.menu)?void 0:o.state))return;if("pointerdown"===t.type){this.onPointerDown();let t=null==(n=this._mathfield)?void 0:n.keyboardDelegate;null==t||t.blur(),null==t||t.focus()}if("focus"===t.type&&(null==(r=this._mathfield)||r.focus()),"blur"!==t.type)return;let a=VA();a&&null!=(i=null==window?void 0:window.mathVirtualKeyboard)&&i.visible||"closed"!==(null==(s=WI.scrim)?void 0:s.state)||a&&function(){try{return window.self!==window.top}catch(t){return!0}}()||null==(l=this._mathfield)||l.blur()}connectedCallback(){var e,o,n,r;let i=this.shadowRoot,s=i.host,l="none"!==window.getComputedStyle(this).userSelect;if(l)s.addEventListener("pointerdown",this,!0);else{i.querySelector("span").style.pointerEvents="none"}s.addEventListener("focus",this,!0),s.addEventListener("blur",this,!0),this._observer=new MutationObserver((()=>{var t;this.value=null!=(t=this.textContent)?t:""})),this._observer.observe(this,{childList:!0,characterData:!0,subtree:!0}),yV()||(this.hasAttribute("role")||this.setAttribute("role","math"),this.hasAttribute("aria-label")||this.setAttribute("aria-label","math input field"),this.setAttribute("aria-multiline","false")),l&&!this.hasAttribute("contenteditable")&&this.setAttribute("contenteditable","true"),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0");let a=i.querySelector("slot:not([name])");if(a)try{this._style=a.assignedElements().filter((t=>"style"===t.tagName.toLowerCase())).map((t=>t.textContent)).join("")}catch(t){console.error(t)}if(this._style){let t=document.createElement("style");t.textContent=this._style,i.appendChild(t)}let d="";if(d=this.hasAttribute("value")?this.getAttribute("value"):null!=(e=null==a?void 0:a.assignedNodes().map((t=>3===t.nodeType?t.textContent:"")).join("").trim())?e:"",this._mathfield=new uV(i.querySelector(":host > span"),IA(PA({},null!=(n=null==(o=gV.get(this))?void 0:o.options)?n:kV(this)),{eventSink:this,value:d})),!gV.has(this)){this.upgradeProperty("disabled"),this.upgradeProperty("readonly");for(let e of Object.keys(t.optionsAttributes))this.upgradeProperty(xV(e))}if(null!=(r=this._mathfield)&&r.model){if(gV.has(this)){let t=this._mathfield,e=gV.get(this),o=e.menuItems;t.model.deferNotifications({content:!1,selection:!1},(()=>{let o=e.value;void 0!==o&&t.setValue(o),t.model.selection=e.selection,gV.delete(this)})),o&&(this.menuItems=o)}window.queueMicrotask((()=>{this.isConnected&&this.dispatchEvent(new Event("mount",{cancelable:!1,bubbles:!0,composed:!0}))})),vz()}else this._mathfield=null}disconnectedCallback(){var e,o,n;if(this.shadowRoot.host.removeEventListener("pointerdown",this,!0),!this._mathfield)return;null==(e=this._observer)||e.disconnect(),this._observer=null,window.queueMicrotask((()=>this.dispatchEvent(new Event("unmount",{cancelable:!1,bubbles:!0,composed:!0}))));let r=uR(this._mathfield.options,Object.keys(t.optionsAttributes).map((t=>xV(t))));gV.set(this,{value:this._mathfield.getValue(),selection:this._mathfield.model.selection,menuItems:null!=(n=null==(o=this._mathfield.menu)?void 0:o.menuItems)?n:void 0,options:r}),this._mathfield.dispose(),this._mathfield=null}upgradeProperty(t){if(this.hasOwnProperty(t)){let e=this[t];delete this[t],("readonly"===t||"read-only"===t)&&(t="readOnly"),this[t]=e}}attributeChangedCallback(t,e,o){if(e===o)return;let n=null!==o;switch(t){case"contenteditable":Az(this._mathfield);break;case"placeholder":!1===o&&(o=""),this.placeholder=o;break;case"disabled":this.disabled=n;break;case"read-only":case"readonly":this.readOnly=n}}get readonly(){return this.hasAttribute("readonly")||this.hasAttribute("read-only")}set readonly(t){let e=!!t;e?(this.setAttribute("readonly",""),yV()?this._internals.ariaReadOnly="true":this.setAttribute("aria-readonly","true"),this.setAttribute("aria-readonly","true")):(yV()?this._internals.ariaReadOnly="false":this.removeAttribute("aria-readonly"),this.removeAttribute("readonly"),this.removeAttribute("read-only")),this._setOptions({readOnly:e})}get disabled(){return this.hasAttribute("disabled")}set disabled(t){var e;let o=!!t;o?this.setAttribute("disabled",""):this.removeAttribute("disabled"),yV()?this._internals.ariaDisabled=o?"true":"false":this.setAttribute("aria-disabled",o?"true":"false"),o&&null!=(e=this._mathfield)&&e.hasFocus&&window.mathVirtualKeyboard.visible&&this._mathfield.executeCommand("hideVirtualKeyboard")}get value(){return this.getValue()}set value(t){this.setValue(t)}get defaultMode(){return this._getOption("defaultMode")}set defaultMode(t){this._setOptions({defaultMode:t})}get macros(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("macros")}set macros(t){this._setOptions({macros:t})}get registers(){if(!this._mathfield)throw new Error("Mathfield not mounted");let t=this;return new Proxy({},{get:(e,o)=>{if("string"==typeof o)return t._getOption("registers")[o]},set:(e,o,n)=>"string"==typeof o&&(t._setOptions({registers:IA(PA({},t._getOption("registers")),{[o]:n})}),!0),ownKeys:()=>Reflect.ownKeys(t._getOption("registers")),getOwnPropertyDescriptor:(e,o)=>{let n=t._getOption("registers")[o];if(void 0!==n)return{configurable:!0,enumerable:!0,value:n,writable:!0}}})}set registers(t){this._setOptions({registers:t})}get colorMap(){return this._getOption("colorMap")}set colorMap(t){this._setOptions({colorMap:t})}get backgroundColorMap(){return this._getOption("backgroundColorMap")}set backgroundColorMap(t){this._setOptions({backgroundColorMap:t})}get letterShapeStyle(){return this._getOption("letterShapeStyle")}set letterShapeStyle(t){this._setOptions({letterShapeStyle:t})}get minFontScale(){return this._getOption("minFontScale")}set minFontScale(t){this._setOptions({minFontScale:t})}get maxMatrixCols(){return this._getOption("maxMatrixCols")}set maxMatrixCols(t){this._setOptions({maxMatrixCols:t})}get smartMode(){return this._getOption("smartMode")}set smartMode(t){this._setOptions({smartMode:t})}get smartFence(){return this._getOption("smartFence")}set smartFence(t){this._setOptions({smartFence:t})}get smartSuperscript(){return this._getOption("smartSuperscript")}set smartSuperscript(t){this._setOptions({smartSuperscript:t})}get scriptDepth(){return this._getOption("scriptDepth")}set scriptDepth(t){this._setOptions({scriptDepth:t})}get removeExtraneousParentheses(){return this._getOption("removeExtraneousParentheses")}set removeExtraneousParentheses(t){this._setOptions({removeExtraneousParentheses:t})}get mathModeSpace(){return this._getOption("mathModeSpace")}set mathModeSpace(t){this._setOptions({mathModeSpace:t})}get placeholderSymbol(){return this._getOption("placeholderSymbol")}set placeholderSymbol(t){this._setOptions({placeholderSymbol:t})}get placeholder(){var t;return null!=(t=this.getAttribute("placeholder"))?t:""}set placeholder(t){var e;"string"==typeof t&&(null==(e=this._mathfield)||e.setOptions({contentPlaceholder:t}))}get popoverPolicy(){return this._getOption("popoverPolicy")}set popoverPolicy(t){this._setOptions({popoverPolicy:t})}get environmentPopoverPolicy(){return this._getOption("environmentPopoverPolicy")}set environmentPopoverPolicy(t){this._setOptions({environmentPopoverPolicy:t})}get menuItems(){var t;if(!this._mathfield)throw new Error("Mathfield not mounted");return null!=(t=this._mathfield.menu._menuItems.map((t=>t.menuItem)))?t:[]}set menuItems(t){var e;if(!this._mathfield)throw new Error("Mathfield not mounted");if(this._mathfield){let o=null==(e=this._mathfield.element)?void 0:e.querySelector("[part=menu-toggle]");o&&(o.style.display=0===t.length?"none":""),this._mathfield.menu.menuItems=t}}get mathVirtualKeyboardPolicy(){return this._getOption("mathVirtualKeyboardPolicy")}set mathVirtualKeyboardPolicy(t){this._setOptions({mathVirtualKeyboardPolicy:t})}get inlineShortcuts(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("inlineShortcuts")}set inlineShortcuts(t){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({inlineShortcuts:t})}get inlineShortcutTimeout(){return this._getOption("inlineShortcutTimeout")}set inlineShortcutTimeout(t){this._setOptions({inlineShortcutTimeout:t})}get keybindings(){if(!this._mathfield)throw new Error("Mathfield not mounted");return this._getOption("keybindings")}set keybindings(t){if(!this._mathfield)throw new Error("Mathfield not mounted");this._setOptions({keybindings:t})}get onInsertStyle(){let t=this._getOption("onInsertStyle");return void 0===t?nz:t}set onInsertStyle(t){this._setOptions({onInsertStyle:t})}get onInlineShortcut(){return this._getOption("onInlineShortcut")}set onInlineShortcut(t){this._setOptions({onInlineShortcut:t})}get onScrollIntoView(){return this._getOption("onScrollIntoView")}set onScrollIntoView(t){this._setOptions({onScrollIntoView:t})}get onExport(){return this._getOption("onExport")}set onExport(t){this._setOptions({onExport:t})}get readOnly(){return this._getOption("readOnly")}set readOnly(t){this._setOptions({readOnly:t})}get isSelectionEditable(){var t,e;return null!=(e=null==(t=this._mathfield)?void 0:t.isSelectionEditable)&&e}setPromptState(t,e,o){var n;null==(n=this._mathfield)||n.setPromptState(t,e,o)}getPromptState(t){var e,o;return null!=(o=null==(e=this._mathfield)?void 0:e.getPromptState(t))?o:[void 0,!0]}get virtualKeyboardTargetOrigin(){return this._getOption("virtualKeyboardTargetOrigin")}set virtualKeyboardTargetOrigin(t){this._setOptions({virtualKeyboardTargetOrigin:t})}get selection(){return this._mathfield?this._mathfield.model.selection:gV.has(this)?gV.get(this).selection:{ranges:[[0,0]],direction:"forward"}}set selection(t){if("number"==typeof t&&(t={ranges:[[t,t]]}),this._mathfield)return this._mathfield.model.selection=t,void Az(this._mathfield);gV.has(this)?gV.set(this,IA(PA({},gV.get(this)),{selection:t})):gV.set(this,{value:void 0,selection:t,options:kV(this),menuItems:void 0})}get selectionIsCollapsed(){let t=this.selection;return 1===t.ranges.length&&t.ranges[0][0]===t.ranges[0][1]}get position(){return this._mathfield?this._mathfield.model.position:gV.has(this)?gV.get(this).selection.ranges[0][0]:0}set position(t){this._mathfield&&(this._mathfield.model.position=t,Az(this._mathfield)),gV.has(this)?gV.set(this,IA(PA({},gV.get(this)),{selection:{ranges:[[t,t]]}})):gV.set(this,{value:void 0,selection:{ranges:[[t,t]]},options:kV(this),menuItems:void 0})}get lastOffset(){var t,e;return null!=(e=null==(t=this._mathfield)?void 0:t.model.lastOffset)?e:-1}};fV.version="0.105.0",fV.openUrl=t=>{if(!t)return;let e=new URL(t);["http:","https:","file:"].includes(e.protocol.toLowerCase())?window.open(e,"_blank"):fV.playSound("plonk")},fV._fontsDirectory="./fonts",fV._soundsDirectory="./sounds",fV.keypressVibration=!0,fV._keypressSound={spacebar:"keypress-spacebar.wav",return:"keypress-return.wav",delete:"keypress-delete.wav",default:"keypress-standard.wav"},fV._plonkSound="plonk.wav",fV.audioBuffers={},fV.createHTML=t=>t,fV._speechEngineRate="100%",fV._speechEngineVoice="Joanna",fV._textToSpeechMarkup="",fV._textToSpeechRules="mathlive",fV._textToSpeechRulesOptions={},fV.speakHook=function(t){var e,o;if(!OA())return;let n=globalThis.MathfieldElement;if(n.speechEngine&&"local"!==n.speechEngine)if("amazon"===n.speechEngine)if("AWS"in window){let r=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),i={OutputFormat:"mp3",VoiceId:null!=(e=n.speechEngineVoice)?e:"Joanna",Engine:["Amy","Emma","Brian","Ivy","Joanna","Kendra","Kimberly","Salli","Joey","Justin","Matthew"].includes(null!=(o=n.speechEngineVoice)?o:"Joanna")?"neural":"standard",Text:t,TextType:"ssml"};r.synthesizeSpeech(i,((t,e)=>{if(t)console.trace(`MathLive 0.105.0: \`polly.synthesizeSpeech()\` error: ${t}`);else if(null!=e&&e.AudioStream){let t=new Uint8Array(e.AudioStream),o=new Blob([t.buffer],{type:"audio/mpeg"}),n=URL.createObjectURL(o);new Audio(n).play().catch((t=>console.error(t)))}}))}else console.error("MathLive 0.105.0: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");else"google"===n.speechEngine&&console.error("MathLive 0.105.0: The Google speech engine is not supported yet. Please come again.");else{let e=new SpeechSynthesisUtterance(t);globalThis.speechSynthesis.speak(e)}},fV.readAloudHook=function(t,e){var o;if(!OA())return;if("amazon"!==globalThis.MathfieldElement.speechEngine)return console.error("MathLive 0.105.0: Use Amazon TTS Engine for synchronized highlighting"),void("function"==typeof globalThis.MathfieldElement.speakHook&&globalThis.MathfieldElement.speakHook(e));if(!globalThis.AWS)return void console.error("MathLive 0.105.0: AWS SDK not loaded. See https://www.npmjs.com/package/aws-sdk");let n=new globalThis.AWS.Polly({apiVersion:"2016-06-10"}),r={OutputFormat:"json",VoiceId:null!=(o=globalThis.MathfieldElement.speechEngineVoice)?o:"Joanna",Engine:"standard",Text:e,TextType:"ssml",SpeechMarkTypes:["ssml"]};SV().readAloudElement=t,n.synthesizeSpeech(r,((t,o)=>{if(t)return void console.trace(`MathLive 0.105.0: \`polly.synthesizeSpeech()\` error: ${t}`);if(null==o||!o.AudioStream)return;let i=new TextDecoder("utf-8").decode(new Uint8Array(o.AudioStream));SV().readAloudMarks=i.split("\n").map((t=>t?JSON.parse(t):{})),SV().readAloudTokens=[];for(let t of SV().readAloudMarks)t.value&&SV().readAloudTokens.push(t.value);SV().readAloudCurrentMark="",r.OutputFormat="mp3",r.SpeechMarkTypes=[],n.synthesizeSpeech(r,((t,o)=>{if(t)return void console.trace(`MathLive 0.105.0: \`polly.synthesizeSpeech("${e}") error:${t}`);if(null==o||!o.AudioStream)return;let n=new Uint8Array(o.AudioStream),r=new Blob([n.buffer],{type:"audio/mpeg"}),i=URL.createObjectURL(r),s=SV();s.readAloudAudio?s.readAloudAudio.pause():(s.readAloudAudio=new Audio,s.readAloudAudio.addEventListener("ended",(()=>{let t=s.readAloudMathfield;s.readAloudStatus="ended",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),t?(Sz(t),s.readAloudElement=null,s.readAloudMathfield=null,s.readAloudTokens=[],s.readAloudMarks=[],s.readAloudCurrentMark=""):pV(s.readAloudElement)})),s.readAloudAudio.addEventListener("timeupdate",(()=>{let t="",e=1e3*s.readAloudAudio.currentTime+100;for(let o of s.readAloudMarks)o.time<e&&(t=o.value);s.readAloudCurrentMark!==t&&(s.readAloudCurrentToken=t,t&&t===s.readAloudFinalToken?s.readAloudAudio.pause():(s.readAloudCurrentMark=t,mV(s.readAloudElement,s.readAloudCurrentMark)))}))),s.readAloudAudio.src=i,s.readAloudStatus="playing",document.body.dispatchEvent(new Event("read-aloud-status-change",{bubbles:!0,composed:!0})),s.readAloudAudio.play()}))}))},fV.restoreFocusWhenDocumentFocused=!0,fV._decimalSeparator=".",fV._isFunction=t=>{var e,o;let n=globalThis.MathfieldElement.computeEngine;return null!=(o=null==(e=null==n?void 0:n.parse(t).domain)?void 0:e.isFunction)&&o};var wV=fV;function xV(t){return t.replace(/[^a-zA-Z\d]+(.)/g,((t,e)=>e.toUpperCase()))}function kV(t){let e={readOnly:!1},o=wV.optionsAttributes;return Object.keys(o).forEach((n=>{var r;if(t.hasAttribute(n)){let i=t.getAttribute(n);"placeholder"===n?e.contentPlaceholder=null!=i?i:"":"boolean"===o[n]?e[xV(n)]=!0:"on/off"===o[n]?(i=null!=(r=null==i?void 0:i.toLowerCase())?r:"",e[xV(n)]="on"===i||"true"===i||"off"!==i&&"false"!==i&&void 0):"number"===o[n]?e[xV(n)]=Number.parseFloat(null!=i?i:"0"):e[xV(n)]=i}})),e}function yV(){return!(!("ElementInternals"in window)||!HTMLElement.prototype.attachInternals||!("role"in window.ElementInternals.prototype))}var vV,_V,AV,CV=wV;if(OA()&&(null==(vV=window.customElements)||!vV.get("math-field"))){null!=window[_V=Symbol.for("io.cortexjs.mathlive")]||(window[_V]={}),window[Symbol.for("io.cortexjs.mathlive")].version="0.105.0",globalThis.MathfieldElement=wV,null==(AV=window.customElements)||AV.define("math-field",wV)}function SV(){var t;return null!=globalThis[t=Symbol.for("io.cortexjs.mathlive")]||(globalThis[t]={}),globalThis[Symbol.for("io.cortexjs.mathlive")]}Bz({switchKeyboardLayer:function(t,e){let o=dR.singleton;return!!o&&(o.show(),Kz(),o.currentLayer=e,o.render(),o.focus(),!0)},toggleVirtualKeyboard:function(){let t=window.mathVirtualKeyboard;return t.visible?t.hide({animate:!0}):t.show({animate:!0}),!1},hideVirtualKeyboard:()=>(window.mathVirtualKeyboard.hide({animate:!0}),!1),showVirtualKeyboard:()=>(window.mathVirtualKeyboard.show({animate:!0}),!1)},{target:"virtual-keyboard"});var EV=o(7374),MV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(EV.Z,MV);EV.Z.locals;class DV extends Lr{init(){const t=this.editor,e=t.model;t.model.schema.extend("math",{allowAttributes:"read-only"}),wV.fontsDirectory="../mathlive/fonts",wV.soundsDirectory="../mathlive/sounds",t.ui.componentFactory.add("equations",(()=>{const n=new sp;return n.label="Equations",n.icon='<?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 121.83 122.88" style="enable-background:new 0 0 121.83 122.88" xml:space="preserve"><g><path d="M27.61,34.37l-4.07,4.6l0.4,1.74h10.48c-2.14,12.38-3.74,23.54-6.81,40.74c-3.67,21.94-5.78,27.33-7.03,29.3 c-1.1,1.95-2.68,2.96-4.82,2.96c-2.35,0-6.6-1.86-8.88-3.97c-0.82-0.56-1.79-0.42-2.82,0.26C2,111.74,0,114.42,0,116.82 c-0.12,3.24,4.21,6.06,8.34,6.06c3.64,0,9-2.28,14.64-7.64c7.71-7.31,13.48-17.34,18.3-39.02c3.1-13.84,4.56-22.84,6.74-35.5 l13.02-1.18l2.82-5.17H49.2C52.99,10.53,55.95,7,59.59,7c2.42,0,5.24,1.86,8.48,5.52c0.96,1.32,2.4,1.18,3.5,0.28 c1.85-1.1,4.13-3.92,4.28-6.48C75.96,3.5,72.6,0,66.82,0C61.58,0,53.55,3.5,46.8,10.38c-5.92,6.27-9.02,14.1-11.16,23.99H27.61 L27.61,34.37z M69.27,50.33c4.04-5.38,6.46-7.17,7.71-7.17c1.29,0,2.32,1.27,4.53,8.41l3.78,12.19 c-7.31,11.18-12.66,17.41-15.91,17.41c-1.08,0-2.17-0.34-2.94-1.1c-0.76-0.76-1.6-1.39-2.42-1.39c-2.68,0-6,3.25-6.06,7.28 c-0.06,4.11,2.82,7.05,6.6,7.05c6.49,0,11.98-6.37,22.58-23.26l3.1,10.45c2.66,8.98,5.78,12.81,9.68,12.81 c4.82,0,11.3-4.11,18.37-15.22l-2.96-3.38c-4.25,5.12-7.07,7.52-8.74,7.52c-1.86,0-3.49-2.84-5.64-9.82l-4.53-14.73 c2.68-3.95,5.32-7.27,7.64-9.92c2.76-3.15,4.89-4.49,6.34-4.49c1.22,0,2.28,0.52,2.94,1.25c0.87,0.96,1.39,1.41,2.42,1.41 c2.33,0,5.93-2.96,6.06-6.88c0.12-3.64-2.14-6.74-6.06-6.74c-5.92,0-11.14,5.1-21.19,20.04l-2.07-6.41 c-2.9-9-4.82-13.63-8.86-13.63c-4.7,0-11.16,5.78-17.48,14.94L69.27,50.33L69.27,50.33z"/></g></svg>',n.tooltip=!0,this.listenTo(n,"execute",(async()=>{const n=e.document.selection.getSelectedElement();let r="",i="";n&&n.hasAttribute("val")&&(r=n.getAttribute("val"),e.change((t=>t.remove(n))));try{i=await o(r)}catch(t){i=r}i.length&&t.execute("math",{value:i}),window.bus&&window.bus.onRefocusComponent()})),n}));const o=(t="")=>new Promise(((e,o)=>{const n=document.querySelector("body"),r=(()=>{let t=document.createElement("div"),e=document.createElement("div");return t.className="ck math-wrapper",e.className="overlay",t.appendChild(e),t})(),i=(()=>{let t=document.createElement("div");const e=document.createElement("h3");return e.textContent="Add Equation",t.className="math-modal",t.appendChild(e),t})(),s=(()=>{let t=document.createElement("span");return t.className="cb cb-close",t})(),l=(()=>{let t=document.createElement("button");return t.className="apply",t.textContent="Apply",t})(),a=new wV,d=(()=>{const t=document.createElement("p");return t.className="toggle",t.textContent="Latex",t})(),c=document.createElement("textarea");a.className="mfe-wrapper",a.setAttribute("plonk-sound",null),a.setAttribute("keypress-sound",null),a.setAttribute("math-mode-space","~"),a.setValue(t),c.value=a.value,i.appendChild(s),i.appendChild(a),i.appendChild(d),i.appendChild(c),i.appendChild(l),a.addEventListener("input",(t=>c.value=a.value)),d.addEventListener("click",(()=>((t,e)=>{t.classList.contains(e)?t.classList.remove(e):t.classList.add(e)})(c,"active"))),c.addEventListener("input",(t=>a.setValue(t.target.value,{focus:!1,silenceNotifications:!0,scrollIntoView:!1}))),s.addEventListener("click",(()=>{n.removeChild(r),o(!1)})),l.addEventListener("click",(()=>{n.removeChild(r),e(a.value)})),n.appendChild(r),r.appendChild(i)}))}}class TV extends Ir{execute({value:t}){const e=this.editor,o=e.model.document.selection;e.model.change((n=>{const r=n.createElement("math",{...Object.fromEntries(o.getAttributes()),val:t,"read-only":!0});e.model.insertObject(r,null,null,{setSelection:"on"})}))}refresh(){const t=this.editor.model,e=t.document.selection;this.isEnabled=t.schema.checkChild(e.focus.parent,"math")}}class BV extends Lr{init(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("math",new TV(this.editor))}_defineSchema(){this.editor.model.schema.register("math",{inheritAllFrom:"$inlineObject",allowAttributes:["val","read-only"]})}_defineConverters(){const t=this.editor.conversion;function e(t,e){const o=t.getAttribute("val"),n=e.createContainerElement("span",{class:"simple-box-description",style:"display:inline-block"}),r=e.createContainerElement("math-field",{class:"math","read-only":!0,"keypress-sound":null,"plonk-sound":null}),i=e.createText("{"+o+"}");return e.insert(e.createPositionAt(r,0),i),e.insert(e.createPositionAt(n,0),r),n}t.for("upcast").elementToElement({view:{name:"math-field",classes:["math"]},model:(t,{writer:e})=>{const o=t.getChild(0).data.slice(1,-1);return e.createElement("math",{val:o})}}),t.for("editingDowncast").elementToElement({model:"math",view:(t,{writer:o})=>Rw(e(t,o),o)}),t.for("dataDowncast").elementToElement({model:"math",view:(t,{writer:o})=>e(t,o)})}}var LV=o(6047),PV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(LV.Z,PV);LV.Z.locals;class IV extends Lr{init(){const t=this.editor;t.ui.componentFactory.add("cb-media",(()=>{const e=new sp;return e.label="CB Media",e.icon='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n  <g id="Group_11151" data-name="Group 11151" transform="translate(-21 -289)">\n    <rect id="Rectangle_2119" data-name="Rectangle 2119" width="24" height="24" rx="6" transform="translate(21 289)" fill="none"/>\n    <path id="Vector" d="M1.74.146A1.175,1.175,0,0,0,0,1.186v3.17A1.184,1.184,0,0,0,1.74,5.4l2.92-1.58a1.188,1.188,0,0,0,0-2.09Z" transform="translate(28.51 300.084)" fill="none" stroke="#393939" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" stroke-dasharray="0 0"/>\n    <path id="Vector-2" data-name="Vector" d="M14.8,13.32a1.477,1.477,0,0,1-1.48,1.48H1.48A1.477,1.477,0,0,1,0,13.32V1.48A1.477,1.477,0,0,1,1.48,0H13.32A1.477,1.477,0,0,1,14.8,1.48Z" transform="translate(23.75 295.449)" fill="none" stroke="#393939" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" stroke-dasharray="0 0"/>\n    <path id="Vector-3" data-name="Vector" d="M0,1.47A1.481,1.481,0,0,1,1.48,0H13.33A1.472,1.472,0,0,1,14.8,1.47V13.32a1.481,1.481,0,0,1-1.47,1.48" transform="translate(27.449 291.75)" fill="none" stroke="#393939" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" stroke-dasharray="0 0"/>\n  </g>\n</svg>\n',e.tooltip=!0,this.listenTo(e,"execute",(()=>{window.bus&&window.bus.openMediaSelectionFromEditor().then((e=>{if(e){const{caption:o,file:n}=e.model;t.execute("cb-media",{src:n.url,caption:o,source:n.source})}}))})),e}))}}class zV extends Ir{execute({src:t,source:e,caption:o}){const n=this.editor;n.model.change((r=>{const i=r.createElement("cbMedia",{src:t,source:e,caption:o});n.model.insertObject(i,null,null,{findOptimalPosition:"auto"})}))}refresh(){this.isEnabled=!0}}class RV extends Lr{init(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("cb-media",new zV(this.editor))}_defineSchema(){this.editor.model.schema.register("cbMedia",{inheritAllFrom:"$blockObject",allowAttributes:["src","caption","source"]})}_defineConverters(){const t=this.editor.conversion;t.for("editingDowncast").elementToElement({model:"cbMedia",view:(t,{writer:o})=>Rw(e(t,o),o)}),t.for("dataDowncast").elementToElement({model:"cbMedia",view:(t,{writer:o})=>e(t,o)}),t.for("upcast").elementToElement({view:{name:"figure",classes:"image"},model:(t,{writer:e})=>{const o=t.getChild(0);if(!o||!o.is("element","img"))return null;const n=o.getAttribute("src"),r=Array.from(t.getChildren()).filter((t=>t.is("element","figcaption")&&t.hasClass("caption"))).map((t=>t?.getChild(0)?.data||""));return e.createElement("cbMedia",{src:n,source:r[0]||"",caption:r[1]||""})}});const e=(t,e)=>{const o=t.getAttribute("src"),n=t.getAttribute("source"),r=t.getAttribute("caption"),i=e.createContainerElement("figure",{class:"image",contenteditable:"false",draggable:"false"}),s=e.createEmptyElement("img",{src:o,contenteditable:"false",draggable:"false"});e.insert(e.createPositionAt(i,0),s);let l=1;if(n&&n.length){const t=e.createContainerElement("figcaption",{class:"caption",contenteditable:"false",draggable:"false"},e.createText(n));e.insert(e.createPositionAt(i,l),t),l++}if(r&&r.length){const t=e.createContainerElement("figcaption",{class:"caption",contenteditable:"false",draggable:"false"},e.createText(r));e.insert(e.createPositionAt(i,l),t)}return e.setCustomProperty("cbMedia",!0,i),i}}}function FV(t,e){const{modelAttribute:o,styleName:n,viewElement:r,defaultValue:i,reduceBoxSides:s=!1,shouldUpcast:l=(()=>!0)}=e;t.for("upcast").attributeToAttribute({view:{name:r,styles:{[n]:/[\s\S]+/}},model:{key:o,value:t=>{if(!l(t))return;const e=t.getNormalizedStyle(n),o=s?$V(e):e;return i!==o?o:void 0}}})}function OV(t,e,o,n){t.for("upcast").add((t=>t.on("element:"+e,((t,e,r)=>{if(!e.modelRange)return;const i=["border-top-width","border-top-color","border-top-style","border-bottom-width","border-bottom-color","border-bottom-style","border-right-width","border-right-color","border-right-style","border-left-width","border-left-color","border-left-style"].filter((t=>e.viewItem.hasStyle(t)));if(!i.length)return;const s={styles:i};if(!r.consumable.test(e.viewItem,s))return;const l=[...e.modelRange.getItems({shallow:!0})].pop();r.consumable.consume(e.viewItem,s);const a={style:e.viewItem.getNormalizedStyle("border-style"),color:e.viewItem.getNormalizedStyle("border-color"),width:e.viewItem.getNormalizedStyle("border-width")},d={style:$V(a.style),color:$V(a.color),width:$V(a.width)};d.style!==n.style&&r.writer.setAttribute(o.style,d.style,l),d.color!==n.color&&r.writer.setAttribute(o.color,d.color,l),d.width!==n.width&&r.writer.setAttribute(o.width,d.width,l)}))))}function VV(t,e){const{modelElement:o,modelAttribute:n,styleName:r}=e;t.for("downcast").attributeToAttribute({model:{name:o,key:n},view:t=>({key:"style",value:{[r]:t}})})}function NV(t,e){const{modelAttribute:o,styleName:n}=e;t.for("downcast").add((t=>t.on(`attribute:${o}:table`,((t,e,o)=>{const{item:r,attributeNewValue:i}=e,{mapper:s,writer:l}=o;if(!o.consumable.consume(e.item,t.name))return;const a=[...s.toViewElement(r).getChildren()].find((t=>t.is("element","table")));i?l.setStyle(n,i,a):l.removeStyle(n,a)}))))}function $V(t){if(!t)return;const e=["top","right","bottom","left"];if(!e.every((e=>t[e])))return t;const o=t.top;return e.every((e=>t[e]===o))?o:t}function KV(t,e,o,n,r=1){null!=e&&null!=r&&e>r?n.setAttribute(t,e,o):n.removeAttribute(t,o)}function qV(t,e,o={}){const n=t.createElement("tableCell",o);return t.insertElement("paragraph",n),t.insert(n,e),n}function HV(t,e){const o=e.parent.parent,n=parseInt(o.getAttribute("headingColumns")||"0"),{column:r}=t.getCellLocation(e);return!!n&&r<n}function jV(t,e,o){const{modelAttribute:n}=o;t.extend("tableCell",{allowAttributes:[n]}),FV(e,{viewElement:/^(td|th)$/,...o}),VV(e,{modelElement:"tableCell",...o})}function WV(){return t=>{t.on("element:table",((t,e,o)=>{const n=e.viewItem;if(!o.consumable.test(n,{name:!0}))return;const{rows:r,headingRows:i,headingColumns:s}=function(t){let e,o=0;const n=[],r=[];let i;for(const s of Array.from(t.getChildren())){if("tbody"!==s.name&&"thead"!==s.name&&"tfoot"!==s.name)continue;"thead"!==s.name||i||(i=s);const t=Array.from(s.getChildren()).filter((t=>t.is("element","tr")));for(const l of t)if(i&&s===i||"tbody"===s.name&&Array.from(l.getChildren()).length&&Array.from(l.getChildren()).every((t=>t.is("element","th"))))o++,n.push(l);else{r.push(l);const t=GV(l);(!e||t<e)&&(e=t)}}return{headingRows:o,headingColumns:e||0,rows:[...n,...r]}}(n),l={};s&&(l.headingColumns=s),i&&(l.headingRows=i);const a=o.writer.createElement("table",l);if(o.safeInsert(a,e.modelCursor)){if(o.consumable.consume(n,{name:!0}),r.forEach((t=>o.convertItem(t,o.writer.createPositionAt(a,"end")))),o.convertChildren(n,o.writer.createPositionAt(a,"end")),a.isEmpty){const t=o.writer.createElement("tableRow");o.writer.insert(t,o.writer.createPositionAt(a,"end")),qV(o.writer,o.writer.createPositionAt(t,"end"))}o.updateConversionResult(a,e)}}))}}function UV(t){return e=>{e.on(`element:${t}`,((t,e,{writer:o})=>{if(!e.modelRange)return;const n=e.modelRange.start.nodeAfter,r=o.createPositionAt(n,0);if(e.viewItem.isEmpty)return void o.insertElement("paragraph",r);const i=Array.from(n.getChildren());if(i.every((t=>t.is("element","$marker")))){const t=o.createElement("paragraph");o.insert(t,o.createPositionAt(n,0));for(const e of i)o.move(o.createRangeOn(e),o.createPositionAt(t,"end"))}}),{priority:"low"})}}function GV(t){let e=0,o=0;const n=Array.from(t.getChildren()).filter((t=>"th"===t.name||"td"===t.name));for(;o<n.length&&"th"===n[o].name;){const t=n[o];e+=parseInt(t.getAttribute("colspan")||"1"),o++}return e}class ZV{constructor(t,e={}){this._table=t,this._startRow=void 0!==e.row?e.row:e.startRow||0,this._endRow=void 0!==e.row?e.row:e.endRow,this._startColumn=void 0!==e.column?e.column:e.startColumn||0,this._endColumn=void 0!==e.column?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0,value:void 0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let e=null;const o=this._getSpanned();if(o)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(o.cell,o.row,o.column));else{const o=t.getChild(this._cellIndex);if(!o)return this._advanceToNextRow();const n=parseInt(o.getAttribute("colspan")||"1"),r=parseInt(o.getAttribute("rowspan")||"1");(n>1||r>1)&&this._recordSpans(o,r,n),this._shouldSkipSlot()||(e=this._formatOutValue(o)),this._nextCellAtColumn=this._column+n}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(t,e=this._row,o=this._column){return{done:!1,value:new JV(this,t,e,o)}}_shouldSkipSlot(){const t=this._skipRows.has(this._row),e=this._row<this._startRow,o=this._column<this._startColumn,n=void 0!==this._endColumn&&this._column>this._endColumn;return t||e||o||n}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,e,o){const n={cell:t,row:this._row,column:this._column};for(let t=this._row;t<this._row+e;t++)for(let e=this._column;e<this._column+o;e++)t==this._row&&e==this._column||this._markSpannedCell(t,e,n)}_markSpannedCell(t,e,o){this._spannedCells.has(t)||this._spannedCells.set(t,new Map);this._spannedCells.get(t).set(e,o)}}class JV{constructor(t,e,o,n){this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=o,this.cellAnchorColumn=n,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function YV(t,e){return(o,{writer:n})=>{const r=o.getAttribute("headingRows")||0,i=n.createContainerElement("table",null,[]),s=n.createContainerElement("figure",{class:"table"},i);r>0&&n.insert(n.createPositionAt(i,"end"),n.createContainerElement("thead",null,n.createSlot((t=>t.is("element","tableRow")&&t.index<r)))),r<t.getRows(o)&&n.insert(n.createPositionAt(i,"end"),n.createContainerElement("tbody",null,n.createSlot((t=>t.is("element","tableRow")&&t.index>=r))));for(const{positionOffset:t,filter:o}of e.additionalSlots)n.insert(n.createPositionAt(i,t),n.createSlot(o));return n.insert(n.createPositionAt(i,"after"),n.createSlot((t=>!t.is("element","tableRow")&&!e.additionalSlots.some((({filter:e})=>e(t)))))),e.asWidget?function(t,e){return e.setCustomProperty("table",!0,t),Rw(t,e,{hasSelectionHandle:!0})}(s,n):s}}function XV(t={}){return(e,{writer:o})=>{const n=e.parent,r=n.parent,i=r.getChildIndex(n),s=new ZV(r,{row:i}),l=r.getAttribute("headingRows")||0,a=r.getAttribute("headingColumns")||0;let d=null;for(const n of s)if(n.cell==e){const e=n.row<l||n.column<a?"th":"td";d=t.asWidget?Nw(o.createEditableElement(e),o):o.createContainerElement(e);break}return d}}function QV(t={}){return(e,{writer:o})=>{if(!e.parent.is("element","tableCell"))return null;if(!tN(e))return null;if(t.asWidget)return o.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const t=o.createContainerElement("p");return o.setCustomProperty("dataPipeline:transparentRendering",!0,t),t}}}function tN(t){return 1==t.parent.childCount&&!!t.getAttributeKeys().next().done}class eN extends Ir{refresh(){const t=this.editor.model,e=t.document.selection,o=t.schema;this.isEnabled=function(t,e){const o=t.getFirstPosition().parent,n=o===o.root?o:o.parent;return e.checkChild(n,"table")}(e,o)}execute(t={}){const e=this.editor,o=e.model,n=e.plugins.get("TableUtils"),r=e.config.get("table.defaultHeadings.rows"),i=e.config.get("table.defaultHeadings.columns");void 0===t.headingRows&&r&&(t.headingRows=r),void 0===t.headingColumns&&i&&(t.headingColumns=i),o.change((r=>{const i=n.createTable(r,t),s=e.sourceElement;let l="100%";s&&(l=oN(s)),r.setAttribute("tableWidth",l,i),o.insertObject(i,null,null,{findOptimalPosition:"auto"}),r.setSelection(r.createPositionAt(i.getNodeByPath([0,0,0]),0))}))}}const oN=t=>{let e="100%";const o=t?.closest(".exercise"),n=t?.closest(".component");return o?.classList.contains("question")?e="120mm":o?.classList.contains("solution")||n?.classList.contains("rich-text")?e="130mm":n?.classList.contains("example")&&(e="120mm"),e};class nN extends Ir{refresh(){const t=this.editor.model,e=t.document.selection,o=t.schema;this.isEnabled=function(t,e){const o=t.getFirstPosition().parent,n=o===o.root?o:o.parent;return e.checkChild(n,"table")}(e,o)}execute(t={}){const e=this.editor,o=e.model;o.change((n=>{const r=o.document.selection.getFirstRange(),i=e.data.processor.toView(t.toString()),s=e.data.toModel(i),l=o.document.getRoot(),a=n.createPositionAt(l,"end");o.insertContent(s,a),r&&n.setSelection(r)}))}}class rN extends Ir{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,o=t.plugins.get("TableUtils"),n="above"===this.order,r=o.getSelectionAffectedTableCells(e),i=o.getRowIndexes(r),s=n?i.first:i.last,l=r[0].findAncestor("table");o.insertRows(l,{at:n?s:s+1,copyStructureFromAbove:!n})}}class iN extends Ir{constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,o=t.plugins.get("TableUtils"),n="left"===this.order,r=o.getSelectionAffectedTableCells(e),i=o.getColumnIndexes(r),s=n?i.first:i.last,l=r[0].findAncestor("table");o.insertColumns(l,{columns:1,at:n?s:s+1},n)}}class sN extends Ir{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===t.length}execute(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?t.splitCellHorizontally(e,2):t.splitCellVertically(e,2)}}function lN(t,e,o){const{startRow:n,startColumn:r,endRow:i,endColumn:s}=e,l=o.createElement("table"),a=i-n+1;for(let t=0;t<a;t++)o.insertElement("tableRow",l,"end");const d=[...new ZV(t,{startRow:n,endRow:i,startColumn:r,endColumn:s,includeAllSlots:!0})];for(const{row:t,column:e,cell:a,isAnchor:c,cellAnchorRow:h,cellAnchorColumn:u}of d){const d=t-n,p=l.getChild(d);if(c){const n=o.cloneElement(a);o.append(n,p),uN(n,t,e,i,s,o)}else(h<n||u<r)&&qV(o,o.createPositionAt(p,"end"))}return function(t,e,o,n,r){const i=parseInt(e.getAttribute("headingRows")||"0");if(i>0){KV("headingRows",i-o,t,r,0)}const s=parseInt(e.getAttribute("headingColumns")||"0");if(s>0){KV("headingColumns",s-n,t,r,0)}}(l,t,n,r,o),l}function aN(t,e,o=0){const n=[],r=new ZV(t,{startRow:o,endRow:e-1});for(const t of r){const{row:o,cellHeight:r}=t;o<e&&e<=o+r-1&&n.push(t)}return n}function dN(t,e,o){const n=t.parent,r=n.parent,i=n.index,s=e-i,l={},a=parseInt(t.getAttribute("rowspan"))-s;a>1&&(l.rowspan=a);const d=parseInt(t.getAttribute("colspan")||"1");d>1&&(l.colspan=d);const c=i+s,h=[...new ZV(r,{startRow:i,endRow:c,includeAllSlots:!0})];let u,p=null;for(const e of h){const{row:n,column:r,cell:i}=e;i===t&&void 0===u&&(u=r),void 0!==u&&u===r&&n===c&&(p=qV(o,e.getPositionBefore(),l))}return KV("rowspan",s,t,o),p}function cN(t,e){const o=[],n=new ZV(t);for(const t of n){const{column:n,cellWidth:r}=t;n<e&&e<=n+r-1&&o.push(t)}return o}function hN(t,e,o,n){const r=o-e,i={},s=parseInt(t.getAttribute("colspan"))-r;s>1&&(i.colspan=s);const l=parseInt(t.getAttribute("rowspan")||"1");l>1&&(i.rowspan=l);const a=qV(n,n.createPositionAfter(t),i);return KV("colspan",r,t,n),a}function uN(t,e,o,n,r,i){const s=parseInt(t.getAttribute("colspan")||"1"),l=parseInt(t.getAttribute("rowspan")||"1");if(o+s-1>r){KV("colspan",r-o+1,t,i,1)}if(e+l-1>n){KV("rowspan",n-e+1,t,i,1)}}function pN(t,e){const o=e.getColumns(t),n=new Array(o).fill(0);for(const{column:e}of new ZV(t))n[e]++;const r=n.reduce(((t,e,o)=>e?t:[...t,o]),[]);if(r.length>0){const o=r[r.length-1];return e.removeColumns(t,{at:o}),!0}return!1}function mN(t,e){const o=[],n=e.getRows(t);for(let e=0;e<n;e++){t.getChild(e).isEmpty&&o.push(e)}if(o.length>0){const n=o[o.length-1];return e.removeRows(t,{at:n}),!0}return!1}function gN(t,e){pN(t,e)||mN(t,e)}function bN(t,e){const o=Array.from(new ZV(t,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(o.every((({cellHeight:t})=>1===t)))return e.lastRow;const n=o[0].cellHeight-1;return e.lastRow+n}function fN(t,e){const o=Array.from(new ZV(t,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(o.every((({cellWidth:t})=>1===t)))return e.lastColumn;const n=o[0].cellWidth-1;return e.lastColumn+n}class wN extends Ir{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,e=t.document,o=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(e.selection)[0],n=this.value,r=this.direction;t.change((t=>{const e="right"==r||"down"==r,i=e?o:n,s=e?n:o,l=s.parent;!function(t,e,o){xN(t)||(xN(e)&&o.remove(o.createRangeIn(e)),o.move(o.createRangeIn(t),o.createPositionAt(e,"end")));o.remove(t)}(s,i,t);const a=this.isHorizontal?"colspan":"rowspan",d=parseInt(o.getAttribute(a)||"1"),c=parseInt(n.getAttribute(a)||"1");t.setAttribute(a,d+c,i),t.setSelection(t.createRangeIn(i));const h=this.editor.plugins.get("TableUtils");gN(l.findAncestor("table"),h)}))}_getMergeableCell(){const t=this.editor.model.document,e=this.editor.plugins.get("TableUtils"),o=e.getTableCellsContainingSelection(t.selection)[0];if(!o)return;const n=this.isHorizontal?function(t,e,o){const n=t.parent,r=n.parent,i="right"==e?t.nextSibling:t.previousSibling,s=(r.getAttribute("headingColumns")||0)>0;if(!i)return;const l="right"==e?t:i,a="right"==e?i:t,{column:d}=o.getCellLocation(l),{column:c}=o.getCellLocation(a),h=parseInt(l.getAttribute("colspan")||"1"),u=HV(o,l),p=HV(o,a);if(s&&u!=p)return;return d+h===c?i:void 0}(o,this.direction,e):function(t,e,o){const n=t.parent,r=n.parent,i=r.getChildIndex(n);if("down"==e&&i===o.getRows(r)-1||"up"==e&&0===i)return null;const s=parseInt(t.getAttribute("rowspan")||"1"),l=r.getAttribute("headingRows")||0,a="down"==e&&i+s===l,d="up"==e&&i===l;if(l&&(a||d))return null;const c=parseInt(t.getAttribute("rowspan")||"1"),h="down"==e?i+c:i,u=[...new ZV(r,{endRow:h})],p=u.find((e=>e.cell===t)),m=p.column,g=u.find((({row:t,cellHeight:o,column:n})=>n===m&&("down"==e?t===h:h===t+o)));return g&&g.cell?g.cell:null}(o,this.direction,e);if(!n)return;const r=this.isHorizontal?"rowspan":"colspan",i=parseInt(o.getAttribute(r)||"1");return parseInt(n.getAttribute(r)||"1")===i?n:void 0}}function xN(t){const e=t.getChild(0);return 1==t.childCount&&e.is("element","paragraph")&&e.isEmpty}class kN extends Ir{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),o=e[0];if(o){const n=o.findAncestor("table"),r=t.getRows(n)-1,i=t.getRowIndexes(e),s=0===i.first&&i.last===r;this.isEnabled=!s}else this.isEnabled=!1}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(t.document.selection),n=e.getRowIndexes(o),r=o[0],i=r.findAncestor("table"),s=e.getCellLocation(r).column;t.change((t=>{const o=n.last-n.first+1;e.removeRows(i,{at:n.first,rows:o});const r=function(t,e,o,n){const r=t.getChild(Math.min(e,n-1));let i=r.getChild(0),s=0;for(const t of r.getChildren()){if(s>o)return i;i=t,s+=parseInt(t.getAttribute("colspan")||"1")}return i}(i,n.first,s,e.getRows(i));t.setSelection(t.createPositionAt(r,0))}))}}class yN extends Ir{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),o=e[0];if(o){const n=o.findAncestor("table"),r=t.getColumns(n),{first:i,last:s}=t.getColumnIndexes(e);this.isEnabled=s-i<r-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[e,o]=function(t,e){const o=e.getSelectionAffectedTableCells(t),n=o[0],r=o.pop(),i=[n,r];return n.isBefore(r)?i:i.reverse()}(this.editor.model.document.selection,t),n=e.parent.parent,r=[...new ZV(n)],i={first:r.find((t=>t.cell===e)).column,last:r.find((t=>t.cell===o)).column},s=function(t,e,o,n){const r=parseInt(o.getAttribute("colspan")||"1");return r>1?o:e.previousSibling||o.nextSibling?o.nextSibling||e.previousSibling:n.first?t.reverse().find((({column:t})=>t<n.first)).cell:t.reverse().find((({column:t})=>t>n.last)).cell}(r,e,o,i);this.editor.model.change((e=>{const o=i.last-i.first+1;t.removeColumns(n,{at:i.first,columns:o}),e.setSelection(e.createPositionAt(s,0))}))}}class vN extends Ir{refresh(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,o=t.getSelectionAffectedTableCells(e.document.selection),n=o.length>0;this.isEnabled=n,this.value=n&&o.every((t=>this._isInHeading(t,t.parent.parent)))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),o=this.editor.model,n=e.getSelectionAffectedTableCells(o.document.selection),r=n[0].findAncestor("table"),{first:i,last:s}=e.getRowIndexes(n),l=this.value?i:s+1,a=r.getAttribute("headingRows")||0;o.change((t=>{if(l){const e=aN(r,l,l>a?a:0);for(const{cell:o}of e)dN(o,l,t)}KV("headingRows",l,r,t,0)}))}_isInHeading(t,e){const o=parseInt(e.getAttribute("headingRows")||"0");return!!o&&t.parent.index<o}}class _N extends Ir{refresh(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(t.document.selection),n=o.length>0;this.isEnabled=n,this.value=n&&o.every((t=>HV(e,t)))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),o=this.editor.model,n=e.getSelectionAffectedTableCells(o.document.selection),r=n[0].findAncestor("table"),{first:i,last:s}=e.getColumnIndexes(n),l=this.value?i:s+1;o.change((t=>{if(l){const e=cN(r,l);for(const{cell:o,column:n}of e)hN(o,n,l,t)}KV("headingColumns",l,r,t,0)}))}}class AN extends Lr{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const e=t.parent,o=e.parent,n=o.getChildIndex(e),r=new ZV(o,{row:n});for(const{cell:e,row:o,column:n}of r)if(e===t)return{row:o,column:n}}createTable(t,e){const o=t.createElement("table"),n=e.rows||2,r=e.columns||2;return CN(t,o,0,n,r),e.headingRows&&KV("headingRows",Math.min(e.headingRows,n),o,t,0),e.headingColumns&&KV("headingColumns",Math.min(e.headingColumns,r),o,t,0),o}insertRows(t,e={}){const o=this.editor.model,n=e.at||0,r=e.rows||1,i=void 0!==e.copyStructureFromAbove,s=e.copyStructureFromAbove?n-1:n,l=this.getRows(t),a=this.getColumns(t);if(n>l)throw new f("tableutils-insertrows-insert-out-of-range",this,{options:e});o.change((e=>{const o=t.getAttribute("headingRows")||0;if(o>n&&KV("headingRows",o+r,t,e,0),!i&&(0===n||n===l))return void CN(e,t,n,r,a);const d=i?Math.max(n,s):n,c=new ZV(t,{endRow:d}),h=new Array(a).fill(1),u=[];for(const{row:t,column:o,cellHeight:l,cellWidth:a,cell:d}of c){const c=t+l-1,p=t<=s&&s<=c;if(t<n&&n<=c)e.setAttribute("rowspan",l+r,d),h[o]=-a;else if(i&&p){for(let t=0;t<a;t++)u.push(d.getAttributes());h[o]=a}}for(let o=0;o<r;o++){const o=e.createElement("tableRow");e.insert(o,t,n);for(let t=0;t<h.length;t++){const n=h[t],r=e.createPositionAt(o,"end");n>0&&(n>1&&(u[t].colspan=n),qV(e,r,u[t])),t+=Math.abs(n)-1}}}))}insertColumns(t,e={},o=null){const n=this.editor.model,r=e.at||0,i=e.columns||1;n.change((e=>{const n=t.getAttribute("headingColumns");r<n&&e.setAttribute("headingColumns",n+i,t);if(this.getColumns(t)===r){for(const o of t.getChildren())o.is("element","tableRow")&&SN(i,e,e.createPositionAt(o,r?"end":0));return}const s=new ZV(t,{column:r,includeAllSlots:!0});for(const t of s){const{row:n,cell:l,cellAnchorColumn:a,cellAnchorRow:d,cellWidth:c,cellHeight:h}=t;if(a<r){e.setAttribute("colspan",c+i,l);const t=d+h-1;for(let e=n;e<=t;e++)s.skipRow(e)}else SN(i,e,t.getPositionBefore(),o?l.getAttributes():l.previousSibling.getAttributes())}}))}removeRows(t,e){const o=this.editor.model,n=e.rows||1,r=this.getRows(t),i=e.at,s=i+n-1;if(s>r-1)throw new f("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});o.change((e=>{const o={first:i,last:s},{cellsToMove:n,cellsToTrim:r}=function(t,{first:e,last:o}){const n=new Map,r=[];for(const{row:i,column:s,cellHeight:l,cell:a}of new ZV(t,{endRow:o})){const t=i+l-1;if(i>=e&&i<=o&&t>o){const t=l-(o-i+1);n.set(s,{cell:a,rowspan:t})}if(i<e&&t>=e){let n;n=t>=o?o-e+1:t-e+1,r.push({cell:a,rowspan:l-n})}}return{cellsToMove:n,cellsToTrim:r}}(t,o);if(n.size){!function(t,e,o,n){const r=new ZV(t,{includeAllSlots:!0,row:e}),i=[...r],s=t.getChild(e);let l;for(const{column:t,cell:e,isAnchor:r}of i)if(o.has(t)){const{cell:e,rowspan:r}=o.get(t),i=l?n.createPositionAfter(l):n.createPositionAt(s,0);n.move(n.createRangeOn(e),i),KV("rowspan",r,e,n),l=e}else r&&(l=e)}(t,s+1,n,e)}for(let o=s;o>=i;o--)e.remove(t.getChild(o));for(const{rowspan:t,cell:o}of r)KV("rowspan",t,o,e);!function(t,{first:e,last:o},n){const r=t.getAttribute("headingRows")||0;if(e<r){KV("headingRows",o<r?r-(o-e+1):e,t,n,0)}}(t,o,e),pN(t,this)||mN(t,this)}))}removeColumns(t,e){const o=this.editor.model,n=e.at,r=e.columns||1,i=e.at+r-1;o.change((e=>{!function(t,e,o){const n=t.getAttribute("headingColumns")||0;if(n&&e.first<n){const r=Math.min(n-1,e.last)-e.first+1;o.setAttribute("headingColumns",n-r,t)}}(t,{first:n,last:i},e);for(let o=i;o>=n;o--)for(const{cell:n,column:r,cellWidth:i}of[...new ZV(t)])r<=o&&i>1&&r+i>o?KV("colspan",i-1,n,e):r===o&&e.remove(n);mN(t,this)||pN(t,this)}))}splitCellVertically(t,e=2){const o=this.editor.model,n=t.parent.parent,r=parseInt(t.getAttribute("rowspan")||"1"),i=parseInt(t.getAttribute("colspan")||"1");o.change((o=>{if(i>1){const{newCellsSpan:n,updatedSpan:s}=EN(i,e);KV("colspan",s,t,o);const l={};n>1&&(l.colspan=n),r>1&&(l.rowspan=r);SN(i>e?e-1:i-1,o,o.createPositionAfter(t),l)}if(i<e){const s=e-i,l=[...new ZV(n)],{column:a}=l.find((({cell:e})=>e===t)),d=l.filter((({cell:e,cellWidth:o,column:n})=>e!==t&&n===a||n<a&&n+o>a));for(const{cell:t,cellWidth:e}of d)o.setAttribute("colspan",e+s,t);const c={};r>1&&(c.rowspan=r),SN(s,o,o.createPositionAfter(t),c);const h=n.getAttribute("headingColumns")||0;h>a&&KV("headingColumns",h+s,n,o)}}))}splitCellHorizontally(t,e=2){const o=this.editor.model,n=t.parent,r=n.parent,i=r.getChildIndex(n),s=parseInt(t.getAttribute("rowspan")||"1"),l=parseInt(t.getAttribute("colspan")||"1");o.change((o=>{if(s>1){const n=[...new ZV(r,{startRow:i,endRow:i+s-1,includeAllSlots:!0})],{newCellsSpan:a,updatedSpan:d}=EN(s,e);KV("rowspan",d,t,o);const{column:c}=n.find((({cell:e})=>e===t)),h={};a>1&&(h.rowspan=a),l>1&&(h.colspan=l);for(const t of n){const{column:e,row:n}=t;n>=i+d&&e===c&&(n+i+d)%a==0&&SN(1,o,t.getPositionBefore(),h)}}if(s<e){const n=e-s,a=[...new ZV(r,{startRow:0,endRow:i})];for(const{cell:e,cellHeight:r,row:s}of a)if(e!==t&&s+r>i){const t=r+n;o.setAttribute("rowspan",t,e)}const d={};l>1&&(d.colspan=l),CN(o,r,i+1,n,1,d);const c=r.getAttribute("headingRows")||0;c>i&&KV("headingRows",c+n,r,o)}}))}getColumns(t){return[...t.getChild(0).getChildren()].reduce(((t,e)=>t+parseInt(e.getAttribute("colspan")||"1")),0)}getRows(t){return Array.from(t.getChildren()).reduce(((t,e)=>e.is("element","tableRow")?t+1:t),0)}createTableWalker(t,e={}){return new ZV(t,e)}getSelectedTableCells(t){const e=[];for(const o of this.sortRanges(t.getRanges())){const t=o.getContainedElement();t&&t.is("element","tableCell")&&e.push(t)}return e}getTableCellsContainingSelection(t){const e=[];for(const o of t.getRanges()){const t=o.start.findAncestor("tableCell");t&&e.push(t)}return e}getSelectionAffectedTableCells(t){const e=this.getSelectedTableCells(t);return e.length?e:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const e=t.map((t=>t.parent.index));return this._getFirstLastIndexesObject(e)}getColumnIndexes(t){const e=t[0].findAncestor("table"),o=[...new ZV(e)].filter((e=>t.includes(e.cell))).map((t=>t.column));return this._getFirstLastIndexesObject(o)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const e=new Set,o=new Set;let n=0;for(const r of t){const{row:t,column:i}=this.getCellLocation(r),s=parseInt(r.getAttribute("rowspan"))||1,l=parseInt(r.getAttribute("colspan"))||1;e.add(t),o.add(i),s>1&&e.add(t+s-1),l>1&&o.add(i+l-1),n+=s*l}const r=function(t,e){const o=Array.from(t.values()),n=Array.from(e.values()),r=Math.max(...o),i=Math.min(...o),s=Math.max(...n),l=Math.min(...n);return(r-i+1)*(s-l+1)}(e,o);return r==n}sortRanges(t){return Array.from(t).sort(MN)}_getFirstLastIndexesObject(t){const e=t.sort(((t,e)=>t-e));return{first:e[0],last:e[e.length-1]}}_areCellInTheSameTableSection(t){const e=t[0].findAncestor("table"),o=this.getRowIndexes(t),n=parseInt(e.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(o,n))return!1;const r=this.getColumnIndexes(t),i=parseInt(e.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(r,i)}_areIndexesInSameSection({first:t,last:e},o){return t<o===e<o}}function CN(t,e,o,n,r,i={}){for(let s=0;s<n;s++){const n=t.createElement("tableRow");t.insert(n,e,o),SN(r,t,t.createPositionAt(n,"end"),i)}}function SN(t,e,o,n={}){for(let r=0;r<t;r++)qV(e,o,n)}function EN(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};const o=Math.floor(t/e);return{newCellsSpan:o,updatedSpan:t-o*e+o}}function MN(t,e){const o=t.start,n=e.start;return o.isBefore(n)?-1:1}class DN extends Ir{refresh(){const t=this.editor.plugins.get(AN),e=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(e)}execute(){const t=this.editor.model,e=this.editor.plugins.get(AN);t.change((o=>{const n=e.getSelectedTableCells(t.document.selection),r=n.shift(),{mergeWidth:i,mergeHeight:s}=function(t,e,o){let n=0,r=0;for(const t of e){const{row:e,column:i}=o.getCellLocation(t);n=LN(t,i,n,"colspan"),r=LN(t,e,r,"rowspan")}const{row:i,column:s}=o.getCellLocation(t),l=n-s,a=r-i;return{mergeWidth:l,mergeHeight:a}}(r,n,e);KV("colspan",i,r,o),KV("rowspan",s,r,o);for(const t of n)TN(t,r,o);gN(r.findAncestor("table"),e),o.setSelection(r,"in")}))}}function TN(t,e,o){BN(t)||(BN(e)&&o.remove(o.createRangeIn(e)),o.move(o.createRangeIn(t),o.createPositionAt(e,"end"))),o.remove(t)}function BN(t){const e=t.getChild(0);return 1==t.childCount&&e.is("element","paragraph")&&e.isEmpty}function LN(t,e,o,n){const r=parseInt(t.getAttribute(n)||"1");return Math.max(o,e+r)}class PN extends Ir{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),o=e.getSelectionAffectedTableCells(t.document.selection),n=e.getRowIndexes(o),r=o[0].findAncestor("table"),i=[];for(let e=n.first;e<=n.last;e++)for(const o of r.getChild(e).getChildren())i.push(t.createRangeOn(o));t.change((t=>{t.setSelection(i)}))}}class IN extends Ir{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,o=t.getSelectionAffectedTableCells(e.document.selection),n=o[0],r=o.pop(),i=n.findAncestor("table"),s=t.getCellLocation(n),l=t.getCellLocation(r),a=Math.min(s.column,l.column),d=Math.max(s.column,l.column),c=[];for(const t of new ZV(i,{startColumn:a,endColumn:d}))c.push(e.createRangeOn(t.cell));e.change((t=>{t.setSelection(c)}))}}function zN(t){t.document.registerPostFixer((e=>function(t,e){const o=e.document.differ.getChanges();let n=!1;const r=new Set;for(const e of o){let o=null;"insert"==e.type&&"table"==e.name&&(o=e.position.nodeAfter),"insert"!=e.type&&"remove"!=e.type||"tableRow"!=e.name&&"tableCell"!=e.name||(o=e.position.findAncestor("table")),ON(e)&&(o=e.range.start.findAncestor("table")),o&&!r.has(o)&&(n=RN(o,t)||n,n=FN(o,t)||n,r.add(o))}return n}(e,t)))}function RN(t,e){let o=!1;const n=function(t){const e=parseInt(t.getAttribute("headingRows")||"0"),o=Array.from(t.getChildren()).reduce(((t,e)=>e.is("element","tableRow")?t+1:t),0),n=[];for(const{row:r,cell:i,cellHeight:s}of new ZV(t)){if(s<2)continue;const t=r<e?e:o;if(r+s>t){const e=t-r;n.push({cell:i,rowspan:e})}}return n}(t);if(n.length){o=!0;for(const t of n)KV("rowspan",t.rowspan,t.cell,e,1)}return o}function FN(t,e){let o=!1;const n=function(t){const e=new Array(t.childCount).fill(0);for(const{rowIndex:o}of new ZV(t,{includeAllSlots:!0}))e[o]++;return e}(t),r=[];for(const[e,o]of n.entries())!o&&t.getChild(e).is("element","tableRow")&&r.push(e);if(r.length){o=!0;for(const o of r.reverse())e.remove(t.getChild(o)),n.splice(o,1)}const i=n.filter(((e,o)=>t.getChild(o).is("element","tableRow"))),s=i[0];if(!i.every((t=>t===s))){const n=i.reduce(((t,e)=>e>t?e:t),0);for(const[r,s]of i.entries()){const i=n-s;if(i){for(let o=0;o<i;o++)qV(e,e.createPositionAt(t.getChild(r),"end"));o=!0}}}return o}function ON(t){if("attribute"!==t.type)return!1;const e=t.attributeKey;return"headingRows"===e||"colspan"===e||"rowspan"===e}function VN(t){t.document.registerPostFixer((e=>function(t,e){const o=e.document.differ.getChanges();let n=!1;for(const e of o)"insert"==e.type&&"table"==e.name&&(n=NN(e.position.nodeAfter,t)||n),"insert"==e.type&&"tableRow"==e.name&&(n=$N(e.position.nodeAfter,t)||n),"insert"==e.type&&"tableCell"==e.name&&(n=KN(e.position.nodeAfter,t)||n),"remove"!=e.type&&"insert"!=e.type||!qN(e)||(n=KN(e.position.parent,t)||n);return n}(e,t)))}function NN(t,e){let o=!1;for(const n of t.getChildren())n.is("element","tableRow")&&(o=$N(n,e)||o);return o}function $N(t,e){let o=!1;for(const n of t.getChildren())o=KN(n,e)||o;return o}function KN(t,e){if(0==t.childCount)return e.insertElement("paragraph",t),!0;const o=Array.from(t.getChildren()).filter((t=>t.is("$text")));for(const t of o)e.wrap(e.createRangeOn(t),"paragraph");return!!o.length}function qN(t){return!!t.position.parent.is("element","tableCell")&&("insert"==t.type&&"$text"==t.name||"remove"==t.type)}function HN(t,e){if(!t.is("element","paragraph"))return!1;const o=e.toViewElement(t);return!!o&&tN(t)!==o.is("element","span")}var jN=o(8777),WN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(jN.Z,WN);jN.Z.locals;class UN extends Lr{static get pluginName(){return"TableEditing"}static get requires(){return[AN]}constructor(t){super(t),this._additionalSlots=[]}init(){const t=this.editor,e=t.model,o=e.schema,n=t.conversion,r=t.plugins.get(AN);o.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),o.register("tableRow",{allowIn:"table",isLimit:!0}),o.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),n.for("upcast").add((t=>{t.on("element:figure",((t,e,o)=>{if(!o.consumable.test(e.viewItem,{name:!0,classes:"table"}))return;const n=function(t){for(const e of t.getChildren())if(e.is("element","table"))return e}(e.viewItem);if(!n||!o.consumable.test(n,{name:!0}))return;o.consumable.consume(e.viewItem,{name:!0,classes:"table"});const r=_r(o.convertItem(n,e.modelCursor).modelRange.getItems());r?(o.convertChildren(e.viewItem,o.writer.createPositionAt(r,"end")),o.updateConversionResult(r,e)):o.consumable.revert(e.viewItem,{name:!0,classes:"table"})}))})),n.for("upcast").add(WV()),n.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:YV(r,{asWidget:!0,additionalSlots:this._additionalSlots})}),n.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:YV(r,{additionalSlots:this._additionalSlots})}),n.for("upcast").elementToElement({model:"tableRow",view:"tr"}),n.for("upcast").add((t=>{t.on("element:tr",((t,e)=>{e.viewItem.isEmpty&&0==e.modelCursor.index&&t.stop()}),{priority:"high"})})),n.for("downcast").elementToElement({model:"tableRow",view:(t,{writer:e})=>t.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr")}),n.for("upcast").elementToElement({model:"tableCell",view:"td"}),n.for("upcast").elementToElement({model:"tableCell",view:"th"}),n.for("upcast").add(UV("td")),n.for("upcast").add(UV("th")),n.for("editingDowncast").elementToElement({model:"tableCell",view:XV({asWidget:!0})}),n.for("dataDowncast").elementToElement({model:"tableCell",view:XV()}),n.for("editingDowncast").elementToElement({model:"paragraph",view:QV({asWidget:!0}),converterPriority:"high"}),n.for("dataDowncast").elementToElement({model:"paragraph",view:QV(),converterPriority:"high"}),n.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),n.for("upcast").attributeToAttribute({model:{key:"colspan",value:GN("colspan")},view:"colspan"}),n.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),n.for("upcast").attributeToAttribute({model:{key:"rowspan",value:GN("rowspan")},view:"rowspan"}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new eN(t)),t.commands.add("insertTableTemplate",new nN(t)),t.commands.add("insertTableRowAbove",new rN(t,{order:"above"})),t.commands.add("insertTableRowBelow",new rN(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new iN(t,{order:"left"})),t.commands.add("insertTableColumnRight",new iN(t,{order:"right"})),t.commands.add("removeTableRow",new kN(t)),t.commands.add("removeTableColumn",new yN(t)),t.commands.add("splitTableCellVertically",new sN(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new sN(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new DN(t)),t.commands.add("mergeTableCellRight",new wN(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new wN(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new wN(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new wN(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new _N(t)),t.commands.add("setTableRowHeader",new vN(t)),t.commands.add("selectTableRow",new PN(t)),t.commands.add("selectTableColumn",new IN(t)),zN(e),VN(e),this.listenTo(e.document,"change:data",(()=>{!function(t,e){const o=t.document.differ;for(const t of o.getChanges()){let o,n=!1;if("attribute"==t.type){const e=t.range.start.nodeAfter;if(!e||!e.is("element","table"))continue;if("headingRows"!=t.attributeKey&&"headingColumns"!=t.attributeKey)continue;o=e,n="headingRows"==t.attributeKey}else"tableRow"!=t.name&&"tableCell"!=t.name||(o=t.position.findAncestor("table"),n="tableRow"==t.name);if(!o)continue;const r=o.getAttribute("headingRows")||0,i=o.getAttribute("headingColumns")||0,s=new ZV(o);for(const t of s){const o=t.row<r||t.column<i?"th":"td",s=e.mapper.toViewElement(t.cell);s&&s.is("element")&&s.name!=o&&e.reconvertItem(n?t.cell.parent:t.cell)}}}(e,t.editing),function(t,e){const o=t.document.differ,n=new Set;for(const t of o.getChanges()){const e="attribute"==t.type?t.range.start.parent:t.position.parent;e.is("element","tableCell")&&n.add(e)}for(const t of n.values()){const o=Array.from(t.getChildren()).filter((t=>HN(t,e.mapper)));for(const t of o)e.reconvertItem(t)}}(e,t.editing)}))}registerAdditionalSlot(t){this._additionalSlots.push(t)}}function GN(t){return e=>{const o=parseInt(e.getAttribute(t));return Number.isNaN(o)||o<=0?null:o}}var ZN=o(1232),JN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(ZN.Z,JN);ZN.Z.locals;class YN extends Bu{constructor(t){super(t);const e=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Cr,this.focusTracker=new Ar,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",((t,e)=>`${e} × ${t}`)),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":e.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:e.to("label")}]}],on:{mousedown:e.to((t=>{t.preventDefault()})),click:e.to((()=>{this.fire("execute-grid")}))}}),this.on("boxover",((t,e)=>{const{row:o,column:n}=e.target.dataset;this.items.get(10*(parseInt(o,10)-1)+(parseInt(n,10)-1)).focus()})),this.focusTracker.on("change:focusedElement",((t,e,o)=>{if(!o)return;const{row:n,column:r}=o.dataset;this.set({rows:parseInt(n),columns:parseInt(r)})})),this.on("change:columns",(()=>this._highlightGridBoxes())),this.on("change:rows",(()=>this._highlightGridBoxes()))}render(){super.render(),Eu({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map(((o,n)=>{const r=Math.floor(n/10)<t&&n%10<e;o.set("isOn",r)}))}_createGridButton(t,e,o,n){const r=new sp(t);return r.set({label:n,class:"ck-insert-table-dropdown-grid-box"}),r.extendTemplate({attributes:{"data-row":e,"data-column":o}}),r}_createGridCollection(){const t=[];for(let e=0;e<100;e++){const o=Math.floor(e/10),n=e%10,r=`${o+1} × ${n+1}`;t.push(this._createGridButton(this.locale,o+1,n+1,r))}return this.createCollection(t)}}var XN=o(1764),QN={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(XN.Z,QN);XN.Z.locals;class t$ extends Bu{constructor(t){super(t);this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","table-template-view"]},children:[{tag:"h3",children:"Select a Template"},{tag:"ul",attributes:{class:["ck","table-template-group"]},children:this._getTemplates()}]}),this.delegate("event:click").to(this)}_getTemplates(){const t=this.bindTemplate;return this._templates().map((e=>({tag:"li",attributes:{class:["ck","table-template-item"],"data-template-id":e.id},children:e.name,on:{click:t.to((()=>{const t=this._templates().find((t=>t.id===e.id));this.fire("execute-template",t.html)}))}})))}_templates(){return[{id:1,name:"CPJ Table",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="vertical-align:top;width:8%;" colspan="12"><span>Cash payments journal of xxx</span></td><td style="text-align:right;vertical-align:top;width:8%;" colspan="2"><span>XXX</span></td></tr><tr><td style="vertical-align:top;width:8%;"></td><td style="vertical-align:top;width:6%;"></td><td style="vertical-align:top;width:11%;"></td><td style="vertical-align:top;width:8%;"></td><td style="vertical-align:top;width:10%;"></td><td style="vertical-align:top;width:2%;"></td><td style="vertical-align:top;width:10%;"></td><td style="vertical-align:top;width:2%;"></td><td style="vertical-align:top;width:10%;"></td><td style="vertical-align:top;width:2%;"></td><td style="vertical-align:top;width:10%;"></td><td style="vertical-align:top;width:2%;"></td><td style="vertical-align:top;width:8%;"></td><td style="vertical-align:top;width:11%;"></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" rowspan="2"><span><strong>Doc.&nbsp;</strong></span><br><span><strong>no.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;" rowspan="2"><span><strong>Day</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:11%;" rowspan="2"><span><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" rowspan="2"><span><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2" rowspan="2"><span><strong>Bank&nbsp;</strong></span><br><span><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2" rowspan="2"><span><strong>Input VAT</strong></span><br><span><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2" rowspan="2"><span><strong>Trading inventory</strong></span><br><span><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="4"><span><strong>Sundry accounts</strong></span></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2"><span><strong>Amount</strong></span><br><span><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:11%;"><span><strong>Details</strong></span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"><span>xxx xxx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"><span>xxx xxx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"><span>xxx xxx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"><span>xxx xxx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;"></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:10%;"><span>xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;"><span>xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"></td></tr><tr><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:6%;"></td><td style="text-align:center;width:11%;"></td><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:11%;"></td></tr><tr><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:6%;"></td><td style="text-align:center;width:11%;"></td><td style="text-align:center;width:8%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="4"><span>xxx</span></td></tr><tr><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:6%;"></td><td style="text-align:center;width:11%;"></td><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:11%;"></td></tr><tr><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:6%;"></td><td style="text-align:center;width:11%;"></td><td style="text-align:center;width:8%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2"><span>xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2"><span>xxx</span></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:11%;"></td></tr></tbody></table></figure>'},{id:2,name:"CRJ Table",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="width:5%;" colspan="7">Cash receipts journal of xxx</span></td><td></td><td style="text-align:center;width:8%;"></td><td></td><td style="text-align:center;width:8%;" colspan="2"></td><td></td><td></td><td style="width:1%;"></td><td style="text-align:right;width:1%;" colspan="2">xxx</span></td></tr><tr><td style="text-align:center;width:5%;"></td><td style="text-align:center;width:4%;"></td><td style="text-align:center;width:14%;"></td><td style="text-align:center;width:6%;"></td><td style="text-align:center;width:8%;"></td><td></td><td style="text-align:center;width:8%;"></td><td></td><td style="text-align:center;width:8%;"></td><td></td><td style="text-align:center;width:8%;" colspan="2"></td><td></td><td></td><td style="width:1%;"></td><td style="text-align:center;width:1%;"></td><td></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;" rowspan="2"><strong>Doc.&nbsp;</strong><br><strong>no.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:4%;" rowspan="2"><strong>Day</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:14%;" rowspan="2"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;" rowspan="2"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="2" rowspan="2"><strong>Analysis of</strong><br><strong>receipts&nbsp;</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="2" rowspan="2"><strong>Bank</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="2" rowspan="2"><strong>Output VAT</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="4"><strong>Sales</strong></span></td><td style="width:1%;"></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;" colspan="2" rowspan="2"><strong>Cost of sales</strong><br><strong>(R)</strong></span></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="2"><strong>Amount</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:14%;"><strong>Details</strong></span></td><td style="width:1%;"></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:4%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:14%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:14%;">xxx xxx</span></td><td style="width:1%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:2%;">xx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:4%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:14%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:14%;">xxx xxx</span></td><td style="width:1%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:2%;">xx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:4%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:14%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:14%;">xxx xxx</span></td><td style="width:1%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:2%;">xx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:4%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:14%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:14%;">xxx xxx</span></td><td style="width:1%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:8%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:2%;">xx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:4%;"></td><td style="border:1px solid hsl(0, 0%, 0%);width:14%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:8%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;"></td><td style="border:1px solid hsl(0, 0%, 0%);width:14%;"></td><td style="width:1%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:8%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;width:2%;">xx</span></td></tr><tr><td style="text-align:center;width:5%;"></td><td style="text-align:center;width:4%;"></td><td style="width:14%;"></td><td style="text-align:center;width:6%;"></td><td style="text-align:right;vertical-align:bottom;width:8%;"></td><td style="text-align:center;vertical-align:bottom;width:2%;"></td><td style="text-align:right;vertical-align:bottom;width:8%;"></td><td style="text-align:center;vertical-align:bottom;width:2%;"></td><td style="text-align:right;vertical-align:bottom;width:8%;"></td><td style="text-align:center;vertical-align:bottom;width:2%;"></td><td style="text-align:right;vertical-align:bottom;width:8%;"></td><td style="text-align:center;vertical-align:bottom;width:2%;"></td><td style="text-align:center;width:6%;"></td><td style="width:14%;"></td><td style="width:1%;"></td><td style="text-align:right;width:8%;"></td><td style="text-align:center;width:2%;"></td></tr><tr><td style="text-align:center;width:5%;"></td><td style="text-align:center;width:4%;"></td><td style="width:14%;"></td><td style="text-align:center;width:6%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="2">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="2">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="2">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="4">xxx</span></td><td style="width:1%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="2">xxx</span></td></tr><tr><td style="text-align:center;width:5%;"></td><td style="text-align:center;width:4%;"></td><td style="width:14%;"></td><td style="text-align:center;width:6%;"></td><td style="text-align:right;vertical-align:bottom;width:8%;"></td><td style="text-align:center;vertical-align:bottom;width:2%;"></td><td style="text-align:right;vertical-align:bottom;width:8%;"></td><td style="text-align:center;vertical-align:bottom;width:2%;"></td><td style="text-align:right;vertical-align:bottom;width:8%;"></td><td style="text-align:center;vertical-align:bottom;width:2%;"></td><td style="text-align:right;vertical-align:bottom;width:8%;"></td><td style="text-align:center;vertical-align:bottom;width:2%;"></td><td style="text-align:center;width:6%;"></td><td style="width:14%;"></td><td style="width:1%;"></td><td style="text-align:right;width:8%;"></td><td style="text-align:center;width:2%;"></td></tr><tr><td style="text-align:center;width:5%;"></td><td style="text-align:center;width:4%;"></td><td style="width:14%;"></td><td style="text-align:center;width:6%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="2">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="2">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="2">xxx</span></td><td style="text-align:right;vertical-align:bottom;width:8%;"></td><td style="text-align:center;vertical-align:bottom;width:2%;"></td><td style="text-align:center;width:6%;"></td><td style="width:14%;"></td><td style="width:1%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="2">xxx</span></td></tr></tbody></table></figure>'},{id:3,name:"Creditors/debtors list",html:'<figure class="table" style="width:130mm;"><table style="border:1px solid hsl(0, 0%, 0%);"><thead><tr><th style="border:1px solid hsl(0, 0%, 0%);width:71.5%;">Details</span></th><th style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">Fol.</span></th><th style="border:1px solid hsl(0, 0%, 0%);" colspan="2">Amount (R)</span></th></tr></thead><tbody><tr><td style="border:1px solid hsl(0, 0%, 0%);width:71.5%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);width:71.5%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);width:71.5%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);width:71.5%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);width:71.5%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);width:71.5%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:15%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;width:5.5%;">xx</span></td></tr></tbody></table></figure>'},{id:4,name:"Creditors/debtors ledger",html:'<figure class="table" style="width:130mm;"><table style="border:1px solid hsl(0, 0%, 0%);"><thead><tr><th style="border:1px solid hsl(0, 0%, 0%);width:15%;">Date</span></th><th style="border:1px solid hsl(0, 0%, 0%);width:8%;">Code</span></th><th style="border:1px solid hsl(0, 0%, 0%);width:24%;">Doc. no.</span></th><th style="border:1px solid hsl(0, 0%, 0%);width:8%;">Fol.</span></th><th style="border:1px solid hsl(0, 0%, 0%);" colspan="2">Debit (R)</span></th><th style="border:1px solid hsl(0, 0%, 0%);" colspan="2">Credit (R)</span></th><th style="border:1px solid hsl(0, 0%, 0%);" colspan="2">Balance (R)</span></th></tr></thead><tbody><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:top;width:15%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border:1px solid hsl(0, 0%, 0%);width:24%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;">xx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:24%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:24%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:24%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr></tbody></table></figure>'},{id:5,name:"CJ table",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="vertical-align:top;width:8%;" colspan="12">Creditors journal of xxx</span></td><td style="text-align:right;vertical-align:top;width:8%;" colspan="2">XXX</span></td></tr><tr><td style="vertical-align:top;width:8%;"></td><td style="vertical-align:top;width:6%;"></td><td style="vertical-align:top;width:11%;"></td><td style="vertical-align:top;width:8%;"></td><td style="vertical-align:top;width:10%;"></td><td style="vertical-align:top;width:2%;"></td><td style="vertical-align:top;width:10%;"></td><td style="vertical-align:top;width:2%;"></td><td style="vertical-align:top;width:10%;"></td><td style="vertical-align:top;width:2%;"></td><td style="vertical-align:top;width:10%;"></td><td style="vertical-align:top;width:2%;"></td><td style="vertical-align:top;width:8%;"></td><td style="vertical-align:top;width:11%;"></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" rowspan="2"><strong>Doc.&nbsp;</strong><br><strong>no.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;" rowspan="2"><strong>Day</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:11%;" rowspan="2"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" rowspan="2"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2" rowspan="2"><strong>Trade payables&nbsp;</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2" rowspan="2"><strong>VAT input</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2" rowspan="2"><strong>Trading inventory</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="4"><strong>Sundry accounts</strong></span></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2"><strong>Amount</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:11%;"><strong>Details</strong></span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;"></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"></td></tr><tr><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:6%;"></td><td style="text-align:center;width:11%;"></td><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:11%;"></td></tr><tr><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:6%;"></td><td style="text-align:center;width:11%;"></td><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:10%;" colspan="2">xxx</span></td><td style="text-align:center;width:10%;" colspan="2">xxx</span></td><td style="text-align:center;width:10%;" colspan="2">xxx</span></td><td style="text-align:center;width:10%;"></td><td></td><td style="text-align:center;" colspan="2">xxx</span></td></tr></tbody></table></figure>'},{id:6,name:"DAJ table",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="width:80.53%;" colspan="10">Debtors allowances journal of xxx</span></td><td style="text-align:center;width:4.97%;" colspan="1"></td><td style="text-align:right;width:14.5%;" colspan="2">xxx</span></td></tr><tr><td style="text-align:center;width:9.52%;" colspan="1"></td><td style="text-align:center;width:7.66%;" colspan="1"></td><td style="text-align:center;width:12.22%;" colspan="1"></td><td style="text-align:center;width:7.66%;" colspan="1"></td><td style="text-align:center;width:14.49%;" colspan="2"></td><td style="text-align:center;width:14.49%;" colspan="2"></td><td style="text-align:center;width:14.49%;" colspan="2"></td><td style="text-align:center;width:4.97%;" colspan="1"></td><td style="text-align:center;width:14.5%;" colspan="2"></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:9%;" colspan="1"><strong>Doc. no.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"><strong>Date</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:18%;" colspan="1"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:14.49%;" colspan="2"><strong>Trade receivables</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:14.49%;" colspan="2"><strong>VAT input</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:14.49%;" colspan="2"><strong>Sales returns</strong><br><strong>(R)</strong></span></td><td style="text-align:center;width:1%;" colspan="1"></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:14.5%;" colspan="2"><strong>Cost of sales</strong><br><strong>(R)</strong></span></td></tr><tr><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:9%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);width:18%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xx</span></td><td style="width:1%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xx</span></td></tr><tr><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:9%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);width:18%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xx</span></td><td style="width:1%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xx</span></td></tr><tr><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:9%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);width:18%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xx</span></td><td style="width:1%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5%;">xx</span></td></tr><tr><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:9%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);width:18%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:right;width:9.5%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:center;width:5%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:right;width:9.5%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:center;width:5%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:right;width:9.5%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:center;width:5%;">xx</span></td><td style="width:1%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:right;width:9.5%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:center;width:5%;">xx</span></td></tr><tr><td style="text-align:center;width:9%;"></td><td style="text-align:center;width:7%;"></td><td style="width:18%;"></td><td style="text-align:center;width:7%;"></td><td style="text-align:right;width:9.11%;"></td><td style="text-align:center;width:5.38%;"></td><td style="text-align:right;width:9.11%;"></td><td style="text-align:center;width:5.38%;"></td><td style="text-align:right;width:9.11%;"></td><td style="text-align:center;width:5.38%;"></td><td style="width:1%;"></td><td style="text-align:right;width:9.11%;"></td><td style="text-align:center;width:5.39%;"></td></tr><tr><td style="text-align:center;width:9%;" colspan="1"></td><td style="text-align:center;width:7%;" colspan="1"></td><td style="text-align:center;width:18%;" colspan="1"></td><td style="text-align:center;width:7%;" colspan="1"></td><td style="text-align:center;width:14.49%;" colspan="2">xxx</span></td><td style="text-align:center;width:14.49%;" colspan="2">xxx</span></td><td style="text-align:center;width:14.49%;" colspan="2">xxx</span></td><td style="text-align:center;width:1%;" colspan="1"></td><td style="text-align:center;width:14.5%;" colspan="2">xxx</span></td></tr></tbody></table></figure>'},{id:7,name:"DJ table",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="width:82.8%;" colspan="10">Debtors journal of xxx</span></td><td style="text-align:center;width:4.97%;" colspan="1"></td><td style="text-align:right;width:12.23%;" colspan="2">xxx</span></td></tr><tr><td style="text-align:center;width:8.9%;" colspan="1"></td><td style="text-align:center;width:7.25%;" colspan="1"></td><td style="text-align:center;width:16.56%;" colspan="1"></td><td style="text-align:center;width:7.25%;" colspan="1"></td><td style="text-align:center;width:14.28%;" colspan="2"></td><td style="text-align:center;width:14.28%;" colspan="2"></td><td style="text-align:center;width:14.28%;" colspan="2"></td><td style="text-align:center;width:4.97%;" colspan="1"></td><td style="text-align:center;width:12.23%;" colspan="2"></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:8.9%;" colspan="1"><strong>Doc. no.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;" colspan="1"><strong>Date</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:16.56%;" colspan="1"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;" colspan="1"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:14.28%;" colspan="2"><strong>Trade receivables</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:14.28%;" colspan="2"><strong>Output VAT</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:14.28%;" colspan="2"><strong>Sales</strong><br><strong>(R)</strong></span></td><td style="text-align:center;width:4.97%;" colspan="1"></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:12.23%;" colspan="2"><strong>Cost of sales</strong><br><strong>(R)</strong></span></td></tr><tr><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:8.9%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);width:16.56%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="width:4.97%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:7.25%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:4.98%;">xx</span></td></tr><tr><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:8.9%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);width:16.56%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="width:4.97%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:7.25%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:4.98%;">xx</span></td></tr><tr><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:8.9%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);width:16.56%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="width:4.97%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:7.25%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:4.98%;">xx</span></td></tr><tr><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:8.9%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);width:16.56%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:right;width:9.5%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:center;width:5%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:right;width:9.5%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:center;width:5%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:right;width:9.5%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:center;width:5%;">xx</span></td><td style="width:4.97%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:right;width:9.5%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:center;width:5%;">xx</span></td></tr><tr><td style="text-align:center;width:8.9%;"></td><td style="text-align:center;width:7.25%;"></td><td style="width:16.56%;"></td><td style="text-align:center;width:7.25%;"></td><td style="text-align:right;width:8.9%;"></td><td style="text-align:center;width:5.38%;"></td><td style="text-align:right;width:8.9%;"></td><td style="text-align:center;width:5.38%;"></td><td style="text-align:right;width:8.9%;"></td><td style="text-align:center;width:5.38%;"></td><td style="width:4.97%;"></td><td style="text-align:right;width:7.25%;"></td><td style="text-align:center;width:4.98%;"></td></tr><tr><td style="text-align:center;width:8.9%;" colspan="1"></td><td style="text-align:center;width:7.25%;" colspan="1"></td><td style="text-align:center;width:16.56%;" colspan="1"></td><td style="text-align:center;width:7.25%;" colspan="1"></td><td style="text-align:center;width:14.28%;" colspan="2">xxx</span></td><td style="text-align:center;width:14.28%;" colspan="2">xxx</span></td><td style="text-align:center;width:14.28%;" colspan="2">xxx</span></td><td style="text-align:center;width:4.97%;" colspan="1"></td><td style="text-align:center;width:12.23%;" colspan="2">xxx</span></td></tr></tbody></table></figure>'},{id:8,name:"DAJ table B",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="width:82.8%;" colspan="10">Debtors allowances journal of xxx</span></td><td style="text-align:center;width:4.97%;" colspan="1"></td><td style="text-align:right;width:12.23%;" colspan="2">xxx</span></td></tr><tr><td style="text-align:center;width:8.9%;" colspan="1"></td><td style="text-align:center;width:7.25%;" colspan="1"></td><td style="text-align:center;width:16.56%;" colspan="1"></td><td style="text-align:center;width:7.25%;" colspan="1"></td><td style="text-align:center;width:14.28%;" colspan="2"></td><td style="text-align:center;width:14.28%;" colspan="2"></td><td style="text-align:center;width:14.28%;" colspan="2"></td><td style="text-align:center;width:4.97%;" colspan="1"></td><td style="text-align:center;width:12.23%;" colspan="2"></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:8.9%;" colspan="1"><strong>Doc. no.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;" colspan="1"><strong>Date</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:16.56%;" colspan="1"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;" colspan="1"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:14.28%;" colspan="2"><strong>Trade receivables</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:14.28%;" colspan="2"><strong>Input VAT</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:14.28%;" colspan="2"><strong>Sales return</strong><br><strong>(R)</strong></span></td><td style="text-align:center;width:4.97%;" colspan="1"></td><td style="background-color:hsl(0, 0%, 90%);border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:12.23%;" colspan="2"><strong>Cost of sales</strong><br><strong>(R)</strong></span></td></tr><tr><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:8.9%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);width:16.56%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="width:4.97%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:7.25%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:4.98%;">xx</span></td></tr><tr><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:8.9%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);width:16.56%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="width:4.97%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:7.25%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:4.98%;">xx</span></td></tr><tr><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:8.9%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);width:16.56%;">xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:8.9%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:5.38%;">xx</span></td><td style="width:4.97%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:right;width:7.25%;">xxx xxx</span></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:4.98%;">xx</span></td></tr><tr><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:8.9%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);width:16.56%;"></td><td style="border:1.5px solid hsl(0, 0%, 0%);text-align:center;width:7.25%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:right;width:9.5%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:center;width:5%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:right;width:9.5%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:center;width:5%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:right;width:9.5%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:center;width:5%;">xx</span></td><td style="width:4.97%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:right;width:9.5%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;border-right-style:solid;border-right-width:1.5px;border-top-style:solid;border-top-width:1.5px;text-align:center;width:5%;">xx</span></td></tr><tr><td style="text-align:center;width:8.9%;"></td><td style="text-align:center;width:7.25%;"></td><td style="width:16.56%;"></td><td style="text-align:center;width:7.25%;"></td><td style="text-align:right;width:8.9%;"></td><td style="text-align:center;width:5.38%;"></td><td style="text-align:right;width:8.9%;"></td><td style="text-align:center;width:5.38%;"></td><td style="text-align:right;width:8.9%;"></td><td style="text-align:center;width:5.38%;"></td><td style="width:4.97%;"></td><td style="text-align:right;width:7.25%;"></td><td style="text-align:center;width:4.98%;"></td></tr><tr><td style="text-align:center;width:8.9%;" colspan="1"></td><td style="text-align:center;width:7.25%;" colspan="1"></td><td style="text-align:center;width:16.56%;" colspan="1"></td><td style="text-align:center;width:7.25%;" colspan="1"></td><td style="text-align:center;width:14.28%;" colspan="2">xxx</span></td><td style="text-align:center;width:14.28%;" colspan="2">xxx</span></td><td style="text-align:center;width:14.28%;" colspan="2">xxx</span></td><td style="text-align:center;width:4.97%;" colspan="1"></td><td style="text-align:center;width:12.23%;" colspan="2">xxx</span></td></tr></tbody></table></figure>'},{id:9,name:"Statement of income and expenditure",html:'<figure class="table" style="width:130mm;"><table><thead><tr><th style="border:1.5px solid hsl(0, 0%, 0%);width:83%;"></th><th style="border:1.5px solid hsl(0, 0%, 0%);" colspan="3">R</span></th></tr></thead><tbody><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:83%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="text-align:center;width:15%;">xxx</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:83%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="text-align:center;width:15%;">xxx</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:83%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="text-align:center;width:15%;">xxx</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:83%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:83%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">(xxx)</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:83%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:83%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="text-align:center;width:15%;"></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);width:83%;"></td><td style="border-bottom:3px double hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-bottom:3px double hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-bottom:3px double hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr></tbody></table></figure>'},{id:10,name:"GJ table",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="width:61.19%;" colspan="3">General journal of xxx</span></td><td style="text-align:center;width:8.01%;" colspan="1"></td><td style="text-align:center;width:15.4%;" colspan="2"></td><td style="text-align:right;width:15.4%;" colspan="2">xxx</span></td></tr><tr><td style="width:61.19%;" colspan="3"></td><td style="text-align:center;width:8.01%;" colspan="1"></td><td style="text-align:center;width:15.4%;" colspan="2"></td><td style="text-align:right;width:15.4%;" colspan="2"></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="1"><strong>Doc. no.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-color:hsl(0, 0%, 0%);border-style:solid;border-top-color:hsl(0, 0%, 0%);border-width:1px;text-align:center;width:8%;" colspan="1"><strong>Day</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:center;width:33%;" colspan="1"><strong>Details&nbsp;</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-color:hsl(0, 0%, 0%);border-style:solid;border-top-color:hsl(0, 0%, 0%);border-width:1px;text-align:center;width:8%;" colspan="1"><strong>&nbsp;Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:center;width:15.4%;" colspan="2"><strong>Debit (R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);border-style:solid;border-top-color:hsl(0, 0%, 0%);border-width:1px;text-align:center;width:15.4%;" colspan="2"><strong>Credit (R)</strong></span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:33%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:33%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr><tr><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:33%;">xxx</span></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:33%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:33%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr><tr><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:33%;">xxx</span></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:33%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:33%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr><tr><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:33%;">xxx</span></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr></tbody></table></figure>'},{id:11,name:"Notes - Property, plant and equipment",html:'<figure class="table" style="width:130mm;"><table><thead><tr><th style="border:1.5px solid hsl(0, 0%, 0%);width:32%;">Property, plant and equipment</span></th><th style="border:1.5px solid hsl(0, 0%, 0%);" colspan="3">Land and buildings<br>(R)</span></th><th style="border:1.5px solid hsl(0, 0%, 0%);" colspan="3">Vehicles<br>(R)</span></th><th style="border:1.5px solid hsl(0, 0%, 0%);" colspan="3">Equipment<br>(R)</span></th><th style="border:1.5px solid hsl(0, 0%, 0%);" colspan="3">Total<br>(R)</span></th></tr></thead><tbody><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:32%;">xxx</span></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="text-align:center;width:15%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="text-align:center;width:15%;">xxx</span></td><td style="text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="text-align:center;width:15%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="text-align:center;width:15%;">xxx</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:32%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);border-top:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);border-top:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);border-top:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);border-top:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:32%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:32%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="text-align:center;width:15%;"></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="text-align:center;width:15%;"></td><td style="text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="text-align:center;width:15%;"></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="text-align:center;width:15%;"></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:32%;">xxx</span></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="text-align:center;width:15%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="text-align:center;width:15%;">xxx</span></td><td style="text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="text-align:center;width:15%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="text-align:center;width:15%;">xxx</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:32%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:32%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">(xxx)</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">(xxx)</span></td><td style="text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">(xxx)</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">(xxx)</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:32%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">–</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">–</span></td><td style="text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">–</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">–</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:32%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="text-align:center;width:15%;"></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="text-align:center;width:15%;"></td><td style="text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="text-align:center;width:15%;"></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="text-align:center;width:15%;"></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:32%;">xxx</span></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);border-top:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);border-top:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);border-top:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);border-top:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:32%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="text-align:center;width:1%;"></td><td style="border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;">xxx</span></td><td style="border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);width:32%;"></td><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1.5px;text-align:center;width:1%;"></td><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr></tbody></table></figure>'},{id:12,name:"Notes - Land and buildings",html:'<figure class="table" style="width:130mm;"><table><thead><tr><th style="border:1.5px solid hsl(0, 0%, 0%);width:40%;"></th><th style="border:1.5px solid hsl(0, 0%, 0%);width:15%;">Land and buildings<br>(R)</span></th><th style="border:1.5px solid hsl(0, 0%, 0%);width:15%;">Vehicles<br>(R)</span></th><th style="border:1.5px solid hsl(0, 0%, 0%);width:15%;">Equipment<br>(R)</span></th><th style="border:1.5px solid hsl(0, 0%, 0%);width:15%;">Total<br>(R)</span></th></tr></thead><tbody><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:40%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:40%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:40%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:40%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:40%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:40%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:40%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:40%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:40%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:40%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);width:40%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td></tr><tr><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);width:40%;"><p style="margin-left:40px;">xxx</p></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;"></td></tr></tbody></table></figure>'},{id:13,name:"Notes to the financial statements:",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="width:85%;"></td><td style="text-align:center;width:15%;">R</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);width:85%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:15%;">xxx xxx</span></td></tr></tbody></table></figure>'},{id:14,name:"PCJ",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="vertical-align:top;width:8%;" colspan="12">Petty cash journal of xxx</span></td><td style="text-align:right;vertical-align:top;width:8%;" colspan="2">XXX</span></td></tr><tr><td style="vertical-align:top;width:8%;"></td><td style="vertical-align:top;width:6%;"></td><td style="vertical-align:top;width:11%;"></td><td style="vertical-align:top;width:8%;"></td><td style="vertical-align:top;width:10%;"></td><td style="vertical-align:top;width:2%;"></td><td style="vertical-align:top;width:10%;"></td><td style="vertical-align:top;width:2%;"></td><td style="vertical-align:top;width:10%;"></td><td style="vertical-align:top;width:2%;"></td><td style="vertical-align:top;width:10%;"></td><td style="vertical-align:top;width:2%;"></td><td style="vertical-align:top;width:8%;"></td><td style="vertical-align:top;width:11%;"></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" rowspan="2"><strong>Doc.&nbsp;</strong><br><strong>no.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;" rowspan="2"><strong>Day</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:11%;" rowspan="2"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" rowspan="2"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2" rowspan="2"><strong>Trade payables&nbsp;</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2" rowspan="2"><strong>VAT input</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2" rowspan="2"><strong>Trading inventory</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="4"><strong>Sundry accounts</strong></span></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="2"><strong>Amount</strong><br><strong>(R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border:1px solid hsl(0, 0%, 0%);text-align:center;width:11%;"><strong>Details</strong></span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xxx</span></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;">xxx xxx</span></td></tr><tr><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:6%;"></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:10%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:2%;">xx</span></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border:1px solid hsl(0, 0%, 0%);width:11%;"></td></tr><tr><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:6%;"></td><td style="text-align:center;width:11%;"></td><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:10%;"></td><td style="text-align:center;width:2%;"></td><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:11%;"></td></tr><tr><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:6%;"></td><td style="text-align:center;width:11%;"></td><td style="text-align:center;width:8%;"></td><td style="text-align:center;width:10%;" colspan="2">xxx</span></td><td style="text-align:center;width:10%;" colspan="2">xxx</span></td><td style="text-align:center;width:10%;" colspan="2">xxx</span></td><td style="text-align:center;width:10%;"></td><td></td><td style="text-align:center;" colspan="2">xxx</span></td></tr></tbody></table></figure>'},{id:15,name:"Statement of profit or loss",html:'<figure class="table" style="width:130mm;"><table><thead><tr><th style="border:1px solid hsl(0, 0%, 0%);width:60%;"></th><th style="border:1px solid hsl(0, 0%, 0%);width:10%;">Notes</span></th><th style="border:1px solid hsl(0, 0%, 0%);width:15%;">R</span></th><th style="border:1px solid hsl(0, 0%, 0%);width:15%;">R</span></th></tr></thead><tbody><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">Revenue</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><i>Less:</i>&nbsp;</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-bottom:3px double hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-bottom:3px double hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr></tbody></table></figure>'},{id:16,name:"Statement of financial position 1 rands col no notes col",html:'<figure class="table" style="width:130mm;"><table><thead><tr><th style="border:1px solid hsl(0, 0%, 0%);width:85%;"></th><th style="border:1px solid hsl(0, 0%, 0%);width:15%;">R</span></th></tr></thead><tbody><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><strong>ASSESTS</strong></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><i>Non-current assets</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><i>Current assets</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><i>Total assets</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><strong>EQUITY AND LIABILITIES</strong></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><i>Non-current liabilities</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><i>Current liabilities</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><i><strong>Total liabilities</strong></i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:85%;"><i><strong>Total equity and liabilities</strong></i></span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:15%;">xxx xxx</span></td></tr></tbody></table></figure>'},{id:17,name:"Statement of financial position 2 rands columns with notes col",html:'<figure class="table" style="width:130mm;"><table><thead><tr><th style="border:1px solid hsl(0, 0%, 0%);width:60%;"></th><th style="border:1px solid hsl(0, 0%, 0%);width:10%;">Notes</span></th><th style="border:1px solid hsl(0, 0%, 0%);width:15%;">R</span></th><th style="border:1px solid hsl(0, 0%, 0%);width:15%;">R</span></th></tr></thead><tbody><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><strong>ASSESTS</strong></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><i>Non-current assets</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><i>Current assets</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><i>Total assets</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><strong>EQUITY AND LIABILITIES</strong></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><i>Non-current liabilities</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><i>Current liabilities</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><i><strong>Total liabilities</strong></i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:60%;"><i><strong>Total equity and liabilities</strong></i></span></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-bottom:3px double hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-bottom:3px double hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr></tbody></table></figure>'},{id:18,name:"Statement of financial position 1 rands cols with notes col",html:'<figure class="table" style="width:130mm;"><table><thead><tr><th style="border:1px solid hsl(0, 0%, 0%);width:75%;"></th><th style="border:1px solid hsl(0, 0%, 0%);width:10%;">Notes</span></th><th style="border:1px solid hsl(0, 0%, 0%);width:15%;">R \'000</span></th></tr></thead><tbody><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><strong>ASSESTS</strong></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><i>Non-current assets</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><i>Current assets</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><i>Total assets</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><strong>EQUITY AND LIABILITIES</strong></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><i>Non-current liabilities</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><i>Current liabilities</i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><p style="margin-left:40px;">xxx</p></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><p style="margin-left:40px;"><br data-cke-filler="true"></p></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><i><strong>Total liabilities</strong></i></span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:75%;"><i><strong>Total equity and liabilities</strong></i></span></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;"></td><td style="border-bottom:3px double hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr></tbody></table></figure> '},{id:19,name:"Statement of financial position with blocks",html:'<figure class="table" style="width:130mm;"><table><thead><tr><th style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);width:83%;"></th><th style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);width:1%;"></th><th style="border-bottom:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:center;width:15%;">R</span></th><th style="border-bottom:1px solid hsl(0, 0%, 0%);border-right:1.5px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></th></tr></thead><tbody><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:83%;"><strong>ASSETS</strong></span></td><td style="width:1%;"></td><td style="text-align:right;width:15%;"></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:83%;">xxx</span></td><td style="width:1%;"></td><td style="text-align:right;width:15%;">xxx xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:83%;"><strong>Total assets</strong></span></td><td style="width:1%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><strong>xxx xxx</strong></span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:83%;"></td><td style="width:1%;"></td><td style="text-align:right;width:15%;"></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:83%;"><strong>EQUITY AND LIABILITIES</strong></span></td><td style="width:1%;"></td><td style="text-align:right;width:15%;"></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:83%;">xxx</span></td><td style="width:1%;"></td><td style="text-align:right;width:15%;"></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:83%;">xxx</span></td><td style="width:1%;"></td><td style="text-align:right;width:15%;">xxx xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:83%;">xxx</span></td><td style="width:1%;"></td><td style="text-align:right;width:15%;">xxx xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:83%;">xxx</span></td><td style="width:1%;"></td><td style="text-align:right;width:15%;">xxx xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-left:1.5px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:83%;"><strong>Total equity and liabilities</strong></span></td><td style="width:1%;"></td><td style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><strong>xxx xxx</strong></span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr><tr><td style="border-bottom:1.5px solid hsl(0, 0%, 0%);border-left:1.5px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:83%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:1%;"></td></tr></tbody></table></figure>'},{id:20,name:"T-account table single entry",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:10.27%;" colspan="2"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:12.79%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:6.85%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:37.3%;" colspan="5">xxx</span></td><td style="width:4.32%;" colspan="1"></td><td style="width:4.32%;" colspan="1"></td><td style="width:4.32%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:6.85%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:12.98%;" colspan="2"></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:2px;border-top-style:solid;border-top-width:2px;text-align:center;width:10.27%;" colspan="2"><strong>Date</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:1px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:15%;" colspan="1"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:2px;text-align:center;width:8%;" colspan="1"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:2px;text-align:center;width:15.91%;" colspan="2"><strong>Amount (R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:2px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:10.27%;" colspan="2"><strong>Date</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-top-style:solid;border-top-width:2px;text-align:center;width:15%;" colspan="4"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:1px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:8%;" colspan="1"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:2px;border-top-style:solid;border-top-width:2px;text-align:center;width:15.91%;" colspan="2"><strong>Amount (R)</strong></span></td></tr><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);width:15%;" colspan="4"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1"></td></tr><tr><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1">xx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1">xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom:3px double hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom:3px double hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1">xx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);width:15%;" colspan="4">xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom:3px double hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom:3px double hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td></tr></tbody></table></figure>'},{id:21,name:"T-account table multiple entries",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:10.27%;" colspan="2"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:12.79%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:6.85%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:37.3%;" colspan="5">xxx</span></td><td style="width:4.32%;" colspan="1"></td><td style="width:4.32%;" colspan="1"></td><td style="width:4.32%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:6.85%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:12.98%;" colspan="2"></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:2px;border-top-style:solid;border-top-width:2px;text-align:center;width:10.27%;" colspan="2"><strong>Date</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:1px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:15%;" colspan="1"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:2px;text-align:center;width:8%;" colspan="1"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:2px;text-align:center;width:15.91%;" colspan="2"><strong>Amount (R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:2px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:10.27%;" colspan="2"><strong>Date</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-top-style:solid;border-top-width:2px;text-align:center;width:15%;" colspan="4"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:1px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:8%;" colspan="1"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:2px;border-top-style:solid;border-top-width:2px;text-align:center;width:15.91%;" colspan="2"><strong>Amount (R)</strong></span></td></tr><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1"></td></tr><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1">xx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1">xx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td></tr><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td></tr><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td></tr><tr><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-top-style:solid;border-top-width:1px;text-align:center;width:5.5%;" colspan="1">xx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:2px;border-top-style:solid;border-top-width:1px;text-align:center;width:5.5%;" colspan="1">xx</span></td></tr></tbody></table></figure>'},{id:22,name:"T-account table balances brought down",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:10.27%;" colspan="2"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:12.79%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:6.85%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:37.3%;" colspan="5">xxx</span></td><td style="width:4.32%;" colspan="1"></td><td style="width:4.32%;" colspan="1"></td><td style="width:4.32%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:6.85%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:12.98%;" colspan="2"></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:2px;border-top-style:solid;border-top-width:2px;text-align:center;width:10.27%;" colspan="2"><strong>Date</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:1px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:15%;" colspan="1"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:2px;text-align:center;width:8%;" colspan="1"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:2px;text-align:center;width:15.91%;" colspan="2"><strong>Amount (R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:2px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:10.27%;" colspan="2"><strong>Date</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-top-style:solid;border-top-width:2px;text-align:center;width:15%;" colspan="4"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:1px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:8%;" colspan="1"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:2px;border-top-style:solid;border-top-width:2px;text-align:center;width:15.91%;" colspan="2"><strong>Amount (R)</strong></span></td></tr><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1"></td></tr><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1">xx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1">xx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td></tr><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td></tr><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td></tr><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-top-style:solid;border-top-width:1px;text-align:center;width:5.5%;" colspan="1">xx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:2px;border-top-style:solid;border-top-width:1px;text-align:center;width:5.5%;" colspan="1">xx</span></td></tr><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1"></td></tr><tr><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1">xx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1">xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1">xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1">xx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1">xx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4">xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1">xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1">xx</span></td></tr></tbody></table></figure>'},{id:23,name:"T-account table debtor",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:10.27%;" colspan="2"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:12.79%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:6.85%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:37.3%;" colspan="5">xxx</span></td><td style="width:4.32%;" colspan="1"></td><td style="width:4.32%;" colspan="1"></td><td style="width:4.32%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:6.85%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:12.98%;" colspan="2"></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:2px;border-top-style:solid;border-top-width:2px;text-align:center;width:10.27%;" colspan="2"><strong>Date</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:1px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:15%;" colspan="1"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:2px;text-align:center;width:8%;" colspan="1"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:2px;text-align:center;width:15.91%;" colspan="2"><strong>Amount (R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:2px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:10.27%;" colspan="2"><strong>Date</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-top-style:solid;border-top-width:2px;text-align:center;width:15%;" colspan="4"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:1px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:8%;" colspan="1"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:2px;border-top-style:solid;border-top-width:2px;text-align:center;width:15.91%;" colspan="2"><strong>Amount (R)</strong></span></td></tr><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1"></td></tr><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1">xx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1"></td></tr><tr><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1">xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right-color:hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1"></td></tr></tbody></table></figure>'},{id:24,name:"T-account table creditor",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:10.27%;" colspan="2"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:12.79%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:6.85%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:37.3%;" colspan="5">xxx</span></td><td style="width:4.32%;" colspan="1"></td><td style="width:4.32%;" colspan="1"></td><td style="width:4.32%;" colspan="1"></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:6.85%;" colspan="1">xxx</span></td><td style="border-bottom-color:hsl(0, 0%, 0%);border-top-color:hsl(0, 0%, 0%);text-align:center;width:12.98%;" colspan="2"></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:2px;border-top-style:solid;border-top-width:2px;text-align:center;width:10.27%;" colspan="2"><strong>Date</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:1px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:15%;" colspan="1"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:2px;text-align:center;width:8%;" colspan="1"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:2px;text-align:center;width:15.91%;" colspan="2"><strong>Amount (R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:2px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:10.27%;" colspan="2"><strong>Date</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-top-style:solid;border-top-width:2px;text-align:center;width:15%;" colspan="4"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-left-width:1px;border-right-width:1px;border-style:solid;border-top-width:2px;text-align:center;width:8%;" colspan="1"><strong>Fol.</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom-style:solid;border-bottom-width:1px;border-color:hsl(0, 0%, 0%);border-right-style:solid;border-right-width:2px;border-top-style:solid;border-top-width:2px;text-align:center;width:15.91%;" colspan="2"><strong>Amount (R)</strong></span></td></tr><tr><td style="border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:9.5%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;" colspan="1"></td></tr><tr><td style="border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td></tr><tr><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:2px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;vertical-align:bottom;width:9.5%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:2px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:5.5%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:7%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5%;" colspan="1"></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:15%;" colspan="4">xxx</span></td><td style="border-bottom:2px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;vertical-align:bottom;width:8%;" colspan="1">xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;vertical-align:bottom;width:9.5%;" colspan="1">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:2px;border-top-style:solid;border-top-width:1px;text-align:center;vertical-align:bottom;width:5.5%;" colspan="1">xx</span></td></tr></tbody></table></figure>'},{id:25,name:"T-account table template without date side by side",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="border-bottom:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="4">xxx</span></td><td style="width:1%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="4">xxx</span></td></tr><tr><td style="width:14%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;">xxx xxx</span></td><td style="width:14%;">xxx</span></td><td style="text-align:right;width:10%;">xxx xxx</span></td><td style="width:1%;"></td><td style="width:14%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);width:14%;">xxx</span></td><td style="text-align:right;width:10%;">xxx xxx</span></td></tr><tr><td style="width:14%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;">xxx xxx</span></td><td style="width:14%;">xxx</span></td><td style="text-align:right;width:10%;">xxx xxx</span></td><td style="width:1%;"></td><td style="width:14%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);width:14%;">xxx</span></td><td style="text-align:right;width:10%;">xxx xxx</span></td></tr></tbody></table></figure>'},{id:26,name:"T-account table template without date single",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="border-bottom:1px solid hsl(0, 0%, 0%);text-align:center;width:10%;" colspan="4">xxx</span></td></tr><tr><td style="width:40%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;">xxx xxx</span></td><td style="width:40%;">xxx</span></td><td style="text-align:right;width:10%;">xxx xxx</span></td></tr><tr><td style="width:40%;">xxx</span></td><td style="border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:10%;">xxx xxx</span></td><td style="width:40%;">xxx</span></td><td style="text-align:right;width:10%;">xxx xxx</span></td></tr></tbody></table></figure>'},{id:27,name:"T-account table template creditors/debtors",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="text-align:center;width:32%;" colspan="6">xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);width:27%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);width:27%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:27%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:27%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:27%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:27%;"></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:15%;">xxx xxx</span></td></tr><tr><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:27%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:27%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td></tr></tbody></table></figure>'},{id:28,name:"T-account table template without date single with headings",html:'<figure class="table" style="width:130mm;"><table><tbody><tr><td style="text-align:center;width:100%;" colspan="6">xxx</span></td></tr><tr><td style="background-color:hsl(0, 0%, 90%);border-bottom-color:hsl(0, 0%, 0%);border-left-color:hsl(0, 0%, 0%);border-style:solid;border-top-color:hsl(0, 0%, 0%);border-width:1px;text-align:center;width:29.96%;" colspan="1"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom:1px solid hsl(0, 0%, 0%);border-right-style:solid;border-right-width:1px;border-top:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="2"><strong>Amount (R)</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom:1px solid hsl(0, 0%, 0%);border-right-style:solid;border-right-width:1px;border-top:1px solid hsl(0, 0%, 0%);text-align:center;width:29.5px;" colspan="1"><strong>Details</strong></span></td><td style="background-color:hsl(0, 0%, 90%);border-bottom:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);border-top:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;" colspan="2"><strong>Amount (R)</strong></span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:29.5%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:29.5px;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:29.5%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:29.5px;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr><tr><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:29.5%;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:29.5px;">xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;">xxx xxx</span></td><td style="border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;">xx</span></td></tr><tr><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:29.5%;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:15%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;width:5.5%;">xx</span></td><td style="border-bottom:1px solid hsl(0, 0%, 0%);border-left:1px solid hsl(0, 0%, 0%);border-right:1px solid hsl(0, 0%, 0%);width:29.5px;"></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:15%;">xxx xxx</span></td><td style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;width:5.5%;">xx</span></td></tr></tbody></table></figure>'},{id:29,name:"Trial balance",html:'<figure class="table" style="width:130mm;"><table style="border:1px solid hsl(0, 0%, 0%);"><thead><tr><th style="border:1px solid hsl(0, 0%, 0%);width:51%;"></th><th style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>Fol.</span></th><th style="border:1px solid hsl(0, 0%, 0%);"  colspan="2"><span>Debit (R)</span></th><th style="border:1px solid hsl(0, 0%, 0%);"  colspan="2"><span>Credit (R)</span></th></tr></thead><tbody><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span><strong>Statement of financial position section</strong></span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span><strong>Nominal accounts section</strong></span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"><span>xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"><span>xx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:5.5%;"><span>xx</span></td></tr><tr><td  style="border:1px solid hsl(0, 0%, 0%);width:51%;"></td><td  style="border:1px solid hsl(0, 0%, 0%);text-align:center;width:8%;"></td><td  style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;width:5.5%;"><span>xx</span></td><td  style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:right;width:15%;"><span>xxx xxx</span></td><td  style="border-bottom-style:double;border-bottom-width:3px;border-color:hsl(0, 0%, 0%);border-left-style:solid;border-left-width:1px;border-right-style:solid;border-right-width:1px;border-top-style:solid;border-top-width:1px;text-align:center;width:5.5%;"><span>xx</span></td></tr></tbody></table></figure>'}]}render(){super.render()}}class e$ extends Lr{static get pluginName(){return"TableUI"}init(){const t=this.editor,e=this.editor.t,o="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",(o=>{const n=t.commands.get("insertTable"),r=gm(o);let i,s;return r.bind("isEnabled").to(n),r.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:e("Insert table"),tooltip:!0}),r.on("change:isOpen",(()=>{i&&s||(i=new YN(o),s=new t$(o),r.panelView.children.add(i),r.panelView.children.add(s),i.delegate("execute-grid").to(r),s.delegate("execute-template").to(r),r.on("execute-grid",(()=>{t.execute("insertTable",{rows:i.rows,columns:i.columns}),t.editing.view.focus()})),r.on("execute-template",((e,o)=>{t.execute("insertTableTemplate",o),t.editing.view.focus()})))})),r})),t.ui.componentFactory.add("tableColumn",(t=>{const n=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:o?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:o?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return this._prepareDropdown(e("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',n,t)})),t.ui.componentFactory.add("tableRow",(t=>{const o=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return this._prepareDropdown(e("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',o,t)})),t.ui.componentFactory.add("mergeTableCells",(t=>{const n=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:o?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:o?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(e("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',n,t)}))}_prepareDropdown(t,e,o,n){const r=this.editor,i=gm(n),s=this._fillDropdownWithListOptions(i,o);return i.buttonView.set({label:t,icon:e,tooltip:!0}),i.bind("isEnabled").toMany(s,"isEnabled",((...t)=>t.some((t=>t)))),this.listenTo(i,"execute",(t=>{r.execute(t.source.commandName),t.source instanceof dp||r.editing.view.focus(),window.bus&&("setTableRowHeader"!==t.source.commandName&&"setTableColumnHeader"!==t.source.commandName||window.bus.onRefocusComponent())})),i}_prepareMergeSplitButtonDropdown(t,e,o,n){const r=this.editor,i=gm(n,cm),s="mergeTableCells",l=r.commands.get(s),a=this._fillDropdownWithListOptions(i,o);return i.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),i.bind("isEnabled").toMany([l,...a],"isEnabled",((...t)=>t.some((t=>t)))),this.listenTo(i.buttonView,"execute",(()=>{r.execute(s),r.editing.view.focus()})),this.listenTo(i,"execute",(t=>{r.execute(t.source.commandName),r.editing.view.focus()})),i}_fillDropdownWithListOptions(t,e){const o=this.editor,n=[],r=new vr;for(const t of e)o$(t,o,n,r);return wm(t,r),n}}function o$(t,e,o,n){if("button"===t.type||"switchbutton"===t.type){const n=t.model=new Xg(t.model),{commandName:r,bindIsOn:i}=t.model,s=e.commands.get(r);o.push(s),n.set({commandName:r}),n.bind("isEnabled").to(s),i&&n.bind("isOn").to(s,"value"),n.set({withText:!0})}n.add(t)}var n$=o(4231),r$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(n$.Z,r$);n$.Z.locals;class i$ extends Lr{static get pluginName(){return"TableSelection"}static get requires(){return[AN,AN]}init(){const t=this.editor,e=t.model,o=t.editing.view;this.listenTo(e,"deleteContent",((t,e)=>this._handleDeleteContent(t,e)),{priority:"high"}),this.listenTo(o.document,"insertText",((t,e)=>this._handleInsertTextEvent(t,e)),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const t=this.editor.plugins.get(AN),e=this.editor.model.document.selection,o=t.getSelectedTableCells(e);return 0==o.length?null:o}getSelectionAsFragment(){const t=this.editor.plugins.get(AN),e=this.getSelectedTableCells();return e?this.editor.model.change((o=>{const n=o.createDocumentFragment(),{first:r,last:i}=t.getColumnIndexes(e),{first:s,last:l}=t.getRowIndexes(e),a=e[0].findAncestor("table");let d=l,c=i;if(t.isSelectionRectangular(e)){const t={firstColumn:r,lastColumn:i,firstRow:s,lastRow:l};d=bN(a,t),c=fN(a,t)}const h=lN(a,{startRow:s,startColumn:r,endRow:d,endColumn:c},o);return o.insert(h,n,0),n})):null}setCellSelection(t,e){const o=this._getCellsToSelect(t,e);this.editor.model.change((t=>{t.setSelection(o.cells.map((e=>t.createRangeOn(e))),{backward:o.backward})}))}getFocusCell(){const t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){const t=_r(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add((t=>t.on("selection",((t,o,n)=>{const r=n.writer;!function(t){for(const o of e)t.removeClass("ck-editor__editable_selected",o);e.clear()}(r);const i=this.getSelectedTableCells();if(!i)return;for(const t of i){const o=n.mapper.toViewElement(t);r.addClass("ck-editor__editable_selected",o),e.add(o)}const s=n.mapper.toViewElement(i[i.length-1]);r.setSelection(s,0)}),{priority:"lowest"})))}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",(()=>{if(!this.isEnabled){const e=this.getSelectedTableCells();if(!e)return;t.model.change((o=>{const n=o.createPositionAt(e[0],0),r=t.model.schema.getNearestSelectionRange(n);o.setSelection(r)}))}}))}_handleDeleteContent(t,e){const o=this.editor.plugins.get(AN),n=e[0],r=e[1],i=this.editor.model,s=!r||"backward"==r.direction,l=o.getSelectedTableCells(n);l.length&&(t.stop(),i.change((t=>{const e=l[s?l.length-1:0];i.change((t=>{for(const e of l)i.deleteContent(t.createSelection(e,"in"))}));const o=i.schema.getNearestSelectionRange(t.createPositionAt(e,0));n.is("documentSelection")?t.setSelection(o):n.setTo(o)})))}_handleInsertTextEvent(t,e){const o=this.editor,n=this.getSelectedTableCells();if(!n)return;const r=o.editing.view,i=o.editing.mapper,s=n.map((t=>r.createRangeOn(i.toViewElement(t))));e.selection=r.createSelection(s)}_getCellsToSelect(t,e){const o=this.editor.plugins.get("TableUtils"),n=o.getCellLocation(t),r=o.getCellLocation(e),i=Math.min(n.row,r.row),s=Math.max(n.row,r.row),l=Math.min(n.column,r.column),a=Math.max(n.column,r.column),d=new Array(s-i+1).fill(null).map((()=>[])),c={startRow:i,endRow:s,startColumn:l,endColumn:a};for(const{row:e,cell:o}of new ZV(t.findAncestor("table"),c))d[e-i].push(o);const h=r.row<n.row,u=r.column<n.column;return h&&d.reverse(),u&&d.forEach((t=>t.reverse())),{cells:d.flat(),backward:h||u}}}class s$ extends Lr{static get pluginName(){return"TableClipboard"}static get requires(){return[i$,AN]}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"copy",((t,e)=>this._onCopyCut(t,e))),this.listenTo(e,"cut",((t,e)=>this._onCopyCut(t,e))),this.listenTo(t.model,"insertContent",((t,[e,o])=>this._onInsertContent(t,e,o)),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,e){const o=this.editor.plugins.get(i$);if(!o.getSelectedTableCells())return;if("cut"==t.name&&this.editor.isReadOnly)return;e.preventDefault(),t.stop();const n=this.editor.data,r=this.editor.editing.view.document,i=n.toView(o.getSelectionAsFragment());r.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:i,method:t.name})}_onInsertContent(t,e,o){if(o&&!o.is("documentSelection"))return;const n=this.editor.model,r=this.editor.plugins.get(AN);let i=this.getTableIfOnlyTableInContent(e,n);if(!i)return;const s=r.getSelectionAffectedTableCells(n.document.selection);s.length?(t.stop(),n.change((t=>{const e={width:r.getColumns(i),height:r.getRows(i)},o=function(t,e,o,n){const r=t[0].findAncestor("table"),i=n.getColumnIndexes(t),s=n.getRowIndexes(t),l={firstColumn:i.first,lastColumn:i.last,firstRow:s.first,lastRow:s.last},a=1===t.length;a&&(l.lastRow+=e.height-1,l.lastColumn+=e.width-1,function(t,e,o,n){const r=n.getColumns(t),i=n.getRows(t);o>r&&n.insertColumns(t,{at:r,columns:o-r});e>i&&n.insertRows(t,{at:i,rows:e-i})}(r,l.lastRow+1,l.lastColumn+1,n));a||!n.isSelectionRectangular(t)?function(t,e,o){const{firstRow:n,lastRow:r,firstColumn:i,lastColumn:s}=e,l={first:n,last:r},a={first:i,last:s};a$(t,i,l,o),a$(t,s+1,l,o),l$(t,n,a,o),l$(t,r+1,a,o,n)}(r,l,o):(l.lastRow=bN(r,l),l.lastColumn=fN(r,l));return l}(s,e,t,r),n=o.lastRow-o.firstRow+1,l=o.lastColumn-o.firstColumn+1,a={startRow:0,startColumn:0,endRow:Math.min(n,e.height)-1,endColumn:Math.min(l,e.width)-1};i=lN(i,a,t);const d=s[0].findAncestor("table"),c=this._replaceSelectedCellsWithPasted(i,e,d,o,t);if(this.editor.plugins.get("TableSelection").isEnabled){const e=r.sortRanges(c.map((e=>t.createRangeOn(e))));t.setSelection(e)}else t.setSelection(c[0],0)}))):gN(i,r)}_replaceSelectedCellsWithPasted(t,e,o,n,r){const{width:i,height:s}=e,l=function(t,e,o){const n=new Array(o).fill(null).map((()=>new Array(e).fill(null)));for(const{column:e,row:o,cell:r}of new ZV(t))n[o][e]=r;return n}(t,i,s),a=[...new ZV(o,{startRow:n.firstRow,endRow:n.lastRow,startColumn:n.firstColumn,endColumn:n.lastColumn,includeAllSlots:!0})],d=[];let c;for(const t of a){const{row:e,column:o}=t;o===n.firstColumn&&(c=t.getPositionBefore());const a=e-n.firstRow,h=o-n.firstColumn,u=l[a%s][h%i],p=u?r.cloneElement(u):null,m=this._replaceTableSlotCell(t,p,c,r);m&&(uN(m,e,o,n.lastRow,n.lastColumn,r),d.push(m),c=r.createPositionAfter(m))}const h=parseInt(o.getAttribute("headingRows")||"0"),u=parseInt(o.getAttribute("headingColumns")||"0"),p=n.firstRow<h&&h<=n.lastRow,m=n.firstColumn<u&&u<=n.lastColumn;if(p){const t=l$(o,h,{first:n.firstColumn,last:n.lastColumn},r,n.firstRow);d.push(...t)}if(m){const t=a$(o,u,{first:n.firstRow,last:n.lastRow},r);d.push(...t)}return d}_replaceTableSlotCell(t,e,o,n){const{cell:r,isAnchor:i}=t;return i&&n.remove(r),e?(n.insert(e,o),e):null}getTableIfOnlyTableInContent(t,e){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(1==t.childCount&&t.getChild(0).is("element","table"))return t.getChild(0);const o=e.createRangeIn(t);for(const t of o.getItems())if(t.is("element","table")){const n=e.createRange(o.start,e.createPositionBefore(t));if(e.hasContent(n,{ignoreWhitespaces:!0}))return null;const r=e.createRange(e.createPositionAfter(t),o.end);return e.hasContent(r,{ignoreWhitespaces:!0})?null:t}return null}}function l$(t,e,o,n,r=0){if(e<1)return;return aN(t,e,r).filter((({column:t,cellWidth:e})=>d$(t,e,o))).map((({cell:t})=>dN(t,e,n)))}function a$(t,e,o,n){if(e<1)return;return cN(t,e).filter((({row:t,cellHeight:e})=>d$(t,e,o))).map((({cell:t,column:o})=>hN(t,o,e,n)))}function d$(t,e,o){const n=t+e-1,{first:r,last:i}=o;return t>=r&&t<=i||t<r&&n>=r}class c$ extends Lr{static get pluginName(){return"TableKeyboard"}static get requires(){return[i$,AN]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"arrowKey",((...t)=>this._onArrowKey(...t)),{context:"table"}),this.listenTo(t,"tab",((...t)=>this._handleTabOnSelectedTable(...t)),{context:"figure"}),this.listenTo(t,"tab",((...t)=>this._handleTab(...t)),{context:["th","td"]})}_handleTabOnSelectedTable(t,e){const o=this.editor,n=o.model.document.selection.getSelectedElement();n&&n.is("element","table")&&(e.preventDefault(),e.stopPropagation(),t.stop(),o.model.change((t=>{t.setSelection(t.createRangeIn(n.getChild(0).getChild(0)))})))}_handleTab(t,e){const o=this.editor,n=this.editor.plugins.get(AN),r=this.editor.plugins.get("TableSelection"),i=o.model.document.selection,s=!e.shiftKey;let l=n.getTableCellsContainingSelection(i)[0];if(l||(l=r.getFocusCell()),!l)return;e.preventDefault(),e.stopPropagation(),t.stop();const a=l.parent,d=a.parent,c=d.getChildIndex(a),h=a.getChildIndex(l),u=0===h;if(!s&&u&&0===c)return void o.model.change((t=>{t.setSelection(t.createRangeOn(d))}));const p=h===a.childCount-1,m=c===n.getRows(d)-1;if(s&&m&&p&&(o.execute("insertTableRowBelow"),c===n.getRows(d)-1))return void o.model.change((t=>{t.setSelection(t.createRangeOn(d))}));let g;if(s&&p){const t=d.getChild(c+1);g=t.getChild(0)}else if(!s&&u){const t=d.getChild(c-1);g=t.getChild(t.childCount-1)}else g=a.getChild(h+(s?1:-1));o.model.change((t=>{t.setSelection(t.createRangeIn(g))}))}_onArrowKey(t,e){const o=this.editor,n=br(e.keyCode,o.locale.contentLanguageDirection);this._handleArrowKeys(n,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}_handleArrowKeys(t,e){const o=this.editor.plugins.get(AN),n=this.editor.plugins.get("TableSelection"),r=this.editor.model,i=r.document.selection,s=["right","down"].includes(t),l=o.getSelectedTableCells(i);if(l.length){let o;return o=e?n.getFocusCell():s?l[l.length-1]:l[0],this._navigateFromCellInDirection(o,t,e),!0}const a=i.focus.findAncestor("tableCell");if(!a)return!1;if(!i.isCollapsed)if(e){if(i.isBackward==s&&!i.containsEntireContent(a))return!1}else{const t=i.getSelectedElement();if(!t||!r.schema.isObject(t))return!1}return!!this._isSelectionAtCellEdge(i,a,s)&&(this._navigateFromCellInDirection(a,t,e),!0)}_isSelectionAtCellEdge(t,e,o){const n=this.editor.model,r=this.editor.model.schema,i=o?t.getLastPosition():t.getFirstPosition();if(!r.getLimitElement(i).is("element","tableCell")){return n.createPositionAt(e,o?"end":0).isTouching(i)}const s=n.createSelection(i);return n.modifySelection(s,{direction:o?"forward":"backward"}),i.isEqual(s.focus)}_navigateFromCellInDirection(t,e,o=!1){const n=this.editor.model,r=t.findAncestor("table"),i=[...new ZV(r,{includeAllSlots:!0})],{row:s,column:l}=i[i.length-1],a=i.find((({cell:e})=>e==t));let{row:d,column:c}=a;switch(e){case"left":c--;break;case"up":d--;break;case"right":c+=a.cellWidth;break;case"down":d+=a.cellHeight}if(d<0||d>s||c<0&&d<=0||c>l&&d>=s)return void n.change((t=>{t.setSelection(t.createRangeOn(r))}));c<0?(c=o?0:l,d--):c>l&&(c=o?l:0,d++);const h=i.find((t=>t.row==d&&t.column==c)).cell,u=["right","down"].includes(e),p=this.editor.plugins.get("TableSelection");if(o&&p.isEnabled){const e=p.getAnchorCell()||t;p.setCellSelection(e,h)}else{const t=n.createPositionAt(h,u?0:"end");n.change((e=>{e.setSelection(t)}))}}}class h$ extends yl{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}class u$ extends Lr{static get pluginName(){return"TableMouse"}static get requires(){return[i$,AN]}init(){this.editor.editing.view.addObserver(h$),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,e=t.plugins.get(AN);let o=!1;const n=t.plugins.get(i$);this.listenTo(t.editing.view.document,"mousedown",((r,i)=>{const s=t.model.document.selection;if(!this.isEnabled||!n.isEnabled)return;if(!i.domEvent.shiftKey)return;const l=n.getAnchorCell()||e.getTableCellsContainingSelection(s)[0];if(!l)return;const a=this._getModelTableCellFromDomEvent(i);a&&p$(l,a)&&(o=!0,n.setCellSelection(l,a),i.preventDefault())})),this.listenTo(t.editing.view.document,"mouseup",(()=>{o=!1})),this.listenTo(t.editing.view.document,"selectionChange",(t=>{o&&t.stop()}),{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,o,n=!1,r=!1;const i=t.plugins.get(i$);this.listenTo(t.editing.view.document,"mousedown",((t,o)=>{this.isEnabled&&i.isEnabled&&(o.domEvent.shiftKey||o.domEvent.ctrlKey||o.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(o)))})),this.listenTo(t.editing.view.document,"mousemove",((t,s)=>{if(!s.domEvent.buttons)return;if(!e)return;const l=this._getModelTableCellFromDomEvent(s);l&&p$(e,l)&&(o=l,n||o==e||(n=!0)),n&&(r=!0,i.setCellSelection(e,o),s.preventDefault())})),this.listenTo(t.editing.view.document,"mouseup",(()=>{n=!1,r=!1,e=null,o=null})),this.listenTo(t.editing.view.document,"selectionChange",(t=>{r&&t.stop()}),{priority:"highest"})}_getModelTableCellFromDomEvent(t){const e=t.target,o=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(o).parent.findAncestor("tableCell",{includeSelf:!0})}}function p$(t,e){return t.parent.parent==e.parent.parent}var m$=o(3718),g$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(m$.Z,g$);m$.Z.locals;var b$=o(2919),f$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(b$.Z,f$);b$.Z.locals;var w$=o(6584),x$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(w$.Z,x$);w$.Z.locals;var k$=o(7045),y$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(k$.Z,y$);k$.Z.locals;var v$=o(8488),_$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(v$.Z,_$);v$.Z.locals;var A$=o(8574),C$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(A$.Z,C$);A$.Z.locals;var S$=o(3285),E$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(S$.Z,E$);S$.Z.locals;var M$=o(7796),D$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(M$.Z,D$);M$.Z.locals;var T$=o(935),B$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(T$.Z,B$);T$.Z.locals;var L$=o(7614),P$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(L$.Z,P$);L$.Z.locals;function I$(t){t.document.registerPostFixer((e=>function(t,e){const o=e.document.differ.getChanges();let n=!1;for(const e of o){if("insert"!=e.type)continue;const o=e.position.parent;if(o.is("element","table")||"table"==e.name){const r="table"==e.name?e.position.nodeAfter:o,i=Array.from(r.getChildren()).filter((t=>t.is("element","caption"))),s=i.shift();if(!s)continue;for(const e of i)t.move(t.createRangeIn(e),s,"end"),t.remove(e);s.nextSibling&&(t.move(t.createRangeOn(s),r,"end"),n=!0),n=!!i.length||n}}return n}(e,t)))}function z$(t){return!!t&&t.is("element","table")}function R$(t){for(const e of t.getChildren())if(e.is("element","caption"))return e;return null}function F$(t){const e=t.parent;return"figcaption"==t.name&&e&&e.is("element","figure")&&e.hasClass("table")||"caption"==t.name&&e&&e.is("element","table")?{name:!0}:null}function O$(t){const e=t.getSelectedElement();return e&&e.is("element","table")?e:t.getFirstPosition().findAncestor("table")}class V$ extends Ir{refresh(){const t=O$(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled?this.value=!!R$(t):this.value=!1}execute({focusCaptionOnShow:t=!1}={}){this.editor.model.change((e=>{this.value?this._hideTableCaption(e):this._showTableCaption(e,t)}))}_showTableCaption(t,e){const o=this.editor.model,n=O$(o.document.selection),r=this.editor.plugins.get("TableCaptionEditing")._getSavedCaption(n)||t.createElement("caption");o.insertContent(r,n,"end"),e&&t.setSelection(r,"in")}_hideTableCaption(t){const e=this.editor.model,o=O$(e.document.selection),n=this.editor.plugins.get("TableCaptionEditing"),r=R$(o);n._saveCaption(o,r),e.deleteContent(t.createSelection(r,"on"))}}class N$ extends Lr{static get pluginName(){return"TableCaptionEditing"}constructor(t){super(t),this._savedCaptionsMap=new WeakMap}init(){const t=this.editor,e=t.model.schema,o=t.editing.view,n=t.t;e.isRegistered("caption")?e.extend("caption",{allowIn:"table"}):e.register("caption",{allowIn:"table",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleTableCaption",new V$(this.editor)),t.conversion.for("upcast").elementToElement({view:F$,model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(t,{writer:e})=>z$(t.parent)?e.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(t,{writer:e})=>{if(!z$(t.parent))return null;const r=e.createEditableElement("figcaption");return e.setCustomProperty("tableCaption",!0,r),Wr({view:o,element:r,text:n("Enter table caption"),keepOnFocus:!0}),Nw(r,e)}}),I$(t.model)}_getSavedCaption(t){const e=this._savedCaptionsMap.get(t);return e?ya.fromJSON(e):null}_saveCaption(t,e){this._savedCaptionsMap.set(t,e.toJSON())}}class $$ extends Lr{static get pluginName(){return"TableCaptionUI"}init(){const t=this.editor,e=t.editing.view,o=t.t;t.ui.componentFactory.add("toggleTableCaption",(n=>{const r=t.commands.get("toggleTableCaption"),i=new sp(n);return i.set({icon:pu.caption,tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(r,"value","isEnabled"),i.bind("label").to(r,"value",(t=>o(t?"Toggle caption off":"Toggle caption on"))),this.listenTo(i,"execute",(()=>{if(t.execute("toggleTableCaption",{focusCaptionOnShow:!0}),r.value){const o=function(t){const e=O$(t);return e?R$(e):null}(t.model.document.selection),n=t.editing.mapper.toViewElement(o);if(!n)return;e.scrollToTheSelection(),e.change((t=>{t.addClass("table__caption_highlighted",n)}))}t.editing.view.focus()})),i}))}}var K$=o(5897),q$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(K$.Z,q$);K$.Z.locals;var H$=o(7215),j$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(H$.Z,j$);H$.Z.locals;class W$ extends Bu{constructor(t,e){super(t),this.set("value",""),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isEmpty",!0),this.options=e,this.focusTracker=new Ar,this._focusables=new Mu,this.dropdownView=this._createDropdownView(),this.inputView=this._createInputTextView(),this.keystrokes=new Cr,this._stillTyping=!1,this._focusCycler=new qp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-input-color"]},children:[this.dropdownView,this.inputView]}),this.on("change:value",((t,e,o)=>this._setInputValue(o)))}render(){super.render(),this.keystrokes.listenTo(this.dropdownView.panelView.element)}focus(){this.inputView.focus()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createDropdownView(){const t=this.locale,e=t.t,o=this.bindTemplate,n=this._createColorGrid(t),r=gm(t),i=new Bu,s=this._createRemoveColorButton();return i.setTemplate({tag:"span",attributes:{class:["ck","ck-input-color__button__preview"],style:{backgroundColor:o.to("value")}},children:[{tag:"span",attributes:{class:["ck","ck-input-color__button__preview__no-color-indicator",o.if("value","ck-hidden",(t=>""!=t))]}}]}),r.buttonView.extendTemplate({attributes:{class:"ck-input-color__button"}}),r.buttonView.children.add(i),r.buttonView.label=e("Color picker"),r.buttonView.tooltip=!0,r.panelPosition="rtl"===t.uiLanguageDirection?"se":"sw",r.panelView.children.add(s),r.panelView.children.add(n),r.bind("isEnabled").to(this,"isReadOnly",(t=>!t)),this._focusables.add(s),this._focusables.add(n),this.focusTracker.add(s.element),this.focusTracker.add(n.element),r}_createInputTextView(){const t=this.locale,e=new Pp(t);return e.extendTemplate({on:{blur:e.bindTemplate.to("blur")}}),e.value=this.value,e.bind("isReadOnly","hasError").to(this),this.bind("isFocused","isEmpty").to(e),e.on("input",(()=>{const t=e.element.value,o=this.options.colorDefinitions.find((e=>t===e.label));this._stillTyping=!0,this.value=o&&o.color||t})),e.on("blur",(()=>{this._stillTyping=!1,this._setInputValue(e.element.value)})),e.delegate("input").to(this),e}_createRemoveColorButton(){const t=this.locale,e=t.t,o=new sp(t),n=this.options.defaultColorValue||"",r=e(n?"Restore default":"Remove color");return o.class="ck-input-color__remove-color",o.withText=!0,o.icon=pu.eraser,o.label=r,o.on("execute",(()=>{this.value=n,this.dropdownView.isOpen=!1,this.fire("input")})),o}_createColorGrid(t){const e=new bp(t,{colorDefinitions:this.options.colorDefinitions,columns:this.options.columns});return e.on("execute",((t,e)=>{this.value=e.value,this.dropdownView.isOpen=!1,this.fire("input")})),e.bind("selectedColor").to(this,"value"),e}_setInputValue(t){if(!this._stillTyping){const e=U$(t),o=this.options.colorDefinitions.find((t=>e===U$(t.color)));this.inputView.value=o?o.label:t||""}}}function U$(t){return t.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ")}const G$=t=>""===t;function Z$(t){return{none:t("None"),solid:t("Solid"),dotted:t("Dotted"),dashed:t("Dashed"),double:t("Double"),groove:t("Groove"),ridge:t("Ridge"),inset:t("Inset"),outset:t("Outset")}}function J$(t){return t('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".')}function Y$(t){return t('The value is invalid. Try "10px" or "2em" or simply "2".')}function X$(t){return t=t.trim(),G$(t)||Ch(t)}function Q$(t){return t=t.trim(),G$(t)||sK(t)||Dh(t)||Bh(t)}function tK(t){return"string"==typeof t}function eK(t){return t=t.trim(),G$(t)||sK(t)||Dh(t)}function oK(t,e){const o=new vr,n=Z$(t.t);for(const r in n){const i={type:"button",model:new Xg({_borderStyleValue:r,label:n[r],withText:!0})};"none"===r?i.model.bind("isOn").to(t,"borderStyle",(t=>"none"===e?!t:t===r)):i.model.bind("isOn").to(t,"borderStyle",(t=>t===r)),o.add(i)}return o}function nK(t){const{view:e,icons:o,toolbar:n,labels:r,propertyName:i,nameToValue:s,defaultValue:l}=t;for(const t in r){const a=new sp(e.locale);a.set({label:r[t],icon:o[t],tooltip:r[t]});const d=s?s(t):t;a.bind("isOn").to(e,i,(t=>{let e=t;return""===t&&l&&(e=l),d===e})),a.on("execute",(()=>{e[i]=d})),n.items.add(a)}}const rK=[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}];function iK(t){return(e,o,n)=>{const r=new W$(e.locale,{colorDefinitions:(i=t.colorConfig,i.map((t=>({color:t.model,label:t.label,options:{hasBorder:t.hasBorder}})))),columns:t.columns,defaultColorValue:t.defaultColorValue});var i;return r.inputView.set({id:o,ariaDescribedById:n}),r.bind("isReadOnly").to(e,"isEnabled",(t=>!t)),r.bind("hasError").to(e,"errorText",(t=>!!t)),r.on("input",(()=>{e.errorText=null})),e.bind("isEmpty","isFocused").to(r),r}}function sK(t){const e=parseFloat(t);return!Number.isNaN(e)&&t===String(e)}var lK=o(650),aK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(lK.Z,aK);lK.Z.locals;class dK extends Bu{constructor(t,e={}){super(t);const o=this.bindTemplate;this.set("class",e.class||null),this.children=this.createCollection(),e.children&&e.children.forEach((t=>this.children.add(t))),this.set("_role",null),this.set("_ariaLabelledBy",null),e.labelView&&this.set({_role:"group",_ariaLabelledBy:e.labelView.id}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__row",o.to("class")],role:o.to("_role"),"aria-labelledby":o.to("_ariaLabelledBy")},children:this.children})}}var cK=o(2754),hK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(cK.Z,hK);cK.Z.locals;var uK=o(941),pK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(uK.Z,pK);uK.Z.locals;var mK=o(566),gK={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(mK.Z,gK);mK.Z.locals;const bK={left:pu.alignLeft,center:pu.alignCenter,right:pu.alignRight,justify:pu.alignJustify,top:pu.alignTop,middle:pu.alignMiddle,bottom:pu.alignBottom},fK={full:'<svg fill="none" height="14" viewBox="0 0 14 14" width="14" xmlns="http://www.w3.org/2000/svg"\n>\n    <clipPath id="a">\n        <path d="m0 0h14v14h-14z"/>\n    </clipPath>\n    <g clip-path="url(#a)" stroke="#000001" stroke-linecap="round" stroke-linejoin="round">\n        <path d="m7 5.5v3"/>\n        <path d="m8.5 7h-3"/>\n        <path d="m13.5 7h-2"/>\n        <path d="m2.5 7h-2"/>\n        <path fill="none"\n              d="m12.5.5h-11c-.552285 0-1 .447715-1 1v11c0 .5523.447715 1 1 1h11c.5523 0 1-.4477 1-1v-11c0-.552285-.4477-1-1-1z"/>\n        <path d="m7 .5v2"/>\n        <path d="m7 11.5v2"/>\n    </g>\n</svg>',top:'<svg fill="none" height="14" viewBox="0 0 14 14" width="14" xmlns="http://www.w3.org/2000/svg"\n>\n    <clipPath id="a">\n        <path d="m0 0h14v14h-14z"/>\n    </clipPath>\n    <g clip-path="url(#a)" stroke="#000001" stroke-linecap="round" stroke-linejoin="round">\n        <path d="m13.5 11.5v1c0 .2652-.1054.5196-.2929.7071s-.4419.2929-.7071.2929h-1"/>\n        <path d="m13.5 4.5v4"/>\n        <path d="m8.5 13.5h-3"/>\n        <path d="m13.5.5h-13"/>\n        <path d="m7 13.5v-2"/>\n        <path d="m.5 11.5v1c0 .2652.105357.5196.292893.7071.187537.1875.441887.2929.707107.2929h1"/>\n        <path d="m.5 4.5v4"/>\n        <path d="m13.5 7h-2"/>\n        <path d="m2.5 7h-2"/>\n    </g>\n</svg>',right:'<svg fill="none" height="14" viewBox="0 0 14 14" width="14" xmlns="http://www.w3.org/2000/svg"\n>\n    <clipPath id="a">\n        <path d="m0 0h14v14h-14z"/>\n    </clipPath>\n    <g clip-path="url(#a)" stroke="#000001" stroke-linecap="round" stroke-linejoin="round">\n        <path d="m2.5 13.5h-1c-.26522 0-.51957-.1054-.707107-.2929-.187536-.1875-.292893-.4419-.292893-.7071v-1"/>\n        <path d="m9.5 13.5h-4"/>\n        <path d="m.5 8.5v-3"/>\n        <path d="m13.5 13.5v-13"/>>\n        <path d="m.5 7h2"/>\n        <path d="m2.5.5h-1c-.26522 0-.51957.105357-.707107.292893-.187536.187537-.292893.441887-.292893.707107v1"/>\n        <path d="m9.5.5h-4"/>\n        <path d="m7 13.5v-2"/>\n        <path d="m7 2.5v-2"/>\n    </g>\n</svg>',bottom:'<svg fill="none" height="14" viewBox="0 0 14 14" width="14" xmlns="http://www.w3.org/2000/svg"\n>\n    <clipPath id="a">\n        <path d="m0 0h14v14h-14z"/>\n    </clipPath>\n    <g clip-path="url(#a)" stroke="#000001" stroke-linecap="round" stroke-linejoin="round">\n        <path d="m11.5.5h1c.2652 0 .5196.105357.7071.292893.1875.187537.2929.441887.2929.707107v1"/>\n        <path d="m.5 2.5v-1c0-.26522.105357-.51957.292893-.707107.187537-.187536.441887-.292893.707107-.292893h1"/>\n        <path d="m5.5.5h3"/>\n        <path d="m.5 13.5h13"/>\n        <path d="m13.5 5.5v4"/>\n        <path d="m.5 5.5v4"/>\n        <path d="m13.5 7h-2"/>\n        <path d="m2.5 7h-2"/>\n        <path d="m7 .5v2"/>\n    </g>\n</svg>',left:'<svg fill="none" height="14" viewBox="0 0 14 14" width="14" xmlns="http://www.w3.org/2000/svg"\n>\n    <clipPath id="a">\n        <path d="m0 0h14v14h-14z"/>\n    </clipPath>\n    <g clip-path="url(#a)" stroke="#000001" stroke-linecap="round" stroke-linejoin="round">\n        <path d="m11.5.5h1c.2652 0 .5196.105357.7071.292893.1875.187537.2929.441887.2929.707107v1"/>\n        <path d="m4.5.5h4"/>\n        <path d="m13.5 5.5v3"/>\n        <path d="m.5.5v13"/>\n        <path d="m13.5 7h-2"/>\n        <path d="m11.5 13.5h1c.2652 0 .5196-.1054.7071-.2929s.2929-.4419.2929-.7071v-1"/>\n        <path d="m4.5 13.5h4"/>\n        <path d="m7 .5v2"/>\n        <path d="m7 11.5v2"/>\n    </g>\n</svg>'};class wK extends Bu{constructor(t,e){super(t),this.set({borderStyle:"",borderWidth:"",borderColor:"",borderDirection:"full",borderTopStyle:"none",borderTopWidth:"",borderTopColor:"",borderRightStyle:"none",borderRightWidth:"",borderRightColor:"",borderBottomStyle:"none",borderBottomWidth:"",borderBottomColor:"",borderLeftStyle:"none",borderLeftWidth:"",borderLeftColor:"",padding:"",backgroundColor:"",width:"",height:"",horizontalAlignment:"",verticalAlignment:"",preset:""}),this.options=e;const{borderStyleDropdown:o,borderWidthInput:n,borderColorInput:r,borderRowLabel:i,borderDirectionToolbar:s}=this._createBorderFields(),{backgroundRowLabel:l,backgroundInput:a}=this._createBackgroundFields(),{widthInput:d,operatorLabel:c,heightInput:h,dimensionsLabel:u}=this._createDimensionFields(),{horizontalAlignmentToolbar:p,verticalAlignmentToolbar:m,alignmentLabel:g}=this._createAlignmentFields();this.focusTracker=new Ar,this.keystrokes=new Cr,this.children=this.createCollection(),this.borderStyleDropdown=o,this.borderDirectionToolbar=s,this.borderWidthInput=n,this.borderColorInput=r,this.backgroundInput=a,this.paddingInput=this._createPaddingField(),this.presetField=this.createPresetField(),this.widthInput=d,this.heightInput=h,this.horizontalAlignmentToolbar=p,this.verticalAlignmentToolbar=m;const{saveButtonView:b,cancelButtonView:f}=this._createActionButtons();this.saveButtonView=b,this.cancelButtonView=f,this._focusables=new Mu,this._focusCycler=new qp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Yg(t,{label:this.t("Cell properties")})),this.children.add(new dK(t,{labelView:i,children:[i,o,r,n,s],class:"ck-table-form__border-row"})),this.children.add(new dK(t,{labelView:l,children:[l,a],class:"ck-table-form__background-row"})),this.children.add(new dK(t,{children:[new dK(t,{labelView:u,children:[u,d,c,h],class:"ck-table-form__dimensions-row"}),new dK(t,{children:[this.paddingInput],class:"ck-table-cell-properties-form__padding-row"})]})),this.children.add(new dK(t,{labelView:g,children:[g,p,m],class:"ck-table-cell-properties-form__alignment-row"}));const w=new Bu;w.setTemplate({tag:"div",attributes:{class:"spacer",style:"flex-grow:1;"}}),this.children.add(w),this.children.add(new Yg(t,{label:this.t("Presets")})),this.children.add(new dK(t,{children:[this.presetField],class:"ck-table-form__preset-dropdown"})),this.children.add(new dK(t,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),Su({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderColorInput.fieldView.dropdownView.buttonView,this.borderWidthInput,this.borderDirectionToolbar,this.backgroundInput,this.backgroundInput.fieldView.dropdownView.buttonView,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const t=this.options.defaultTableCellProperties,e={style:t.borderStyle,width:t.borderWidth,color:t.borderColor},o=iK({colorConfig:this.options.borderColors,columns:5,defaultColorValue:e.color}),n=this.locale,r=this.t,i=new Cp(n);i.text=r("Border");const s=Z$(r),l=new Mp(n,Am);l.set({label:r("Style"),class:"ck-table-form__border-style"}),l.fieldView.buttonView.set({isOn:!1,withText:!0,tooltip:r("Style")}),l.fieldView.buttonView.bind("label").to(this,"borderStyle",(t=>s[t||"none"])),l.fieldView.on("execute",(t=>{switch(this.borderDirection){case"full":this.borderStyle=t.source._borderStyleValue,this.borderTopStyle=t.source._borderStyleValue,this.borderRightStyle=t.source._borderStyleValue,this.borderBottomStyle=t.source._borderStyleValue,this.borderLeftStyle=t.source._borderStyleValue;break;case"top":this.borderTopStyle=t.source._borderStyleValue;break;case"right":this.borderRightStyle=t.source._borderStyleValue;break;case"bottom":this.borderBottomStyle=t.source._borderStyleValue;break;case"left":this.borderLeftStyle=t.source._borderStyleValue;break;default:this.borderStyle=t.source._borderStyleValue}})),l.bind("isEmpty").to(this,"borderStyle",(t=>!t)),wm(l.fieldView,oK(this,e.style));const a=new Mp(n,vm);a.set({label:r("Width"),class:"ck-table-form__border-width"}),a.fieldView.bind("value").to(this,"borderWidth"),a.bind("isEnabled").to(this,"borderStyle",xK),a.fieldView.on("input",(()=>{switch(this.borderDirection){case"full":this.borderWidth=a.fieldView.element.value,this.borderTopWidth=a.fieldView.element.value,this.borderRightWidth=a.fieldView.element.value,this.borderBottomWidth=a.fieldView.element.value,this.borderLeftWidth=a.fieldView.element.value;break;case"top":this.borderTopWidth=a.fieldView.element.value;break;case"right":this.borderRightWidth=a.fieldView.element.value;break;case"bottom":this.borderBottomWidth=a.fieldView.element.value;break;case"left":this.borderLeftWidth=a.fieldView.element.value;break;default:this.borderWidth=a.fieldView.element.value}}));const d=new Mp(n,o);d.set({label:r("Color"),class:"ck-table-form__border-color"}),d.fieldView.bind("value").to(this,"borderColor"),d.bind("isEnabled").to(this,"borderStyle",xK),d.fieldView.on("input",(()=>{switch(this.borderDirection){case"full":this.borderColor=d.fieldView.value,this.borderTopColor=d.fieldView.value,this.borderRightColor=d.fieldView.value,this.borderBottomColor=d.fieldView.value,this.borderLeftColor=d.fieldView.value;break;case"top":this.borderTopColor=d.fieldView.value;break;case"right":this.borderRightColor=d.fieldView.value;break;case"bottom":this.borderBottomColor=d.fieldView.value;break;case"left":this.borderLeftColor=d.fieldView.value;break;default:this.borderColor=d.fieldView.value}})),this.on("change:borderStyle",((t,o,n,r)=>{xK(n)||(this.borderColor="",this.borderTopColor="",this.borderRightColor="",this.borderBottomColor="",this.borderLeftColor="",this.borderWidth="",this.borderTopWidth="",this.borderRightWidth="",this.borderBottomWidth="",this.borderLeftWidth=""),xK(r)||(this.borderColor=e.color,this.borderTopColor=e.color,this.borderRightColor=e.color,this.borderBottomColor=e.color,this.borderLeftColor=e.color,this.borderWidth=e.width,this.borderTopWidth=e.width,this.borderRightWidth=e.width,this.borderBottomWidth=e.width,this.borderLeftWidth=e.width)}));const c=new Xp(n);c.set({isCompact:!0,ariaLabel:"Border Direction toolbar"});const h={full:"full",top:"top",right:"right",bottom:"bottom",left:"left"};for(const t in h){const e=new sp(this.locale);e.set({label:h[t],icon:fK[t],tooltip:h[t]});const o=t;e.bind("isOn").to(this,"borderDirection",(t=>{let e=t;return""===t&&this.options.defaultTableCellProperties.borderDirection&&(e=this.options.defaultTableCellProperties.borderDirection),o===e})),e.on("execute",(()=>{this.borderDirection=o,l.unbind("isEmpty"),l.fieldView.buttonView.unbind("label"),a.fieldView.unbind("value"),a.unbind("isEnabled"),d.fieldView.unbind("value"),d.unbind("isEnabled");const t=(t,e,o,n)=>{l.bind("isEmpty").to(this,t,(t=>!t)),l.fieldView.buttonView.bind("label").to(this,t,(t=>s[t||"none"])),a.bind("isEnabled").to(this,t,xK),d.fieldView.bind("value").to(this,o),d.bind("isEnabled").to(this,t,xK),a.fieldView.bind("value").to(this,n)};switch(o){case"full":default:t("borderStyle",0,"borderColor","borderWidth");break;case"top":t("borderTopStyle",0,"borderTopColor","borderTopWidth");break;case"right":t("borderRightStyle",0,"borderRightColor","borderRightWidth");break;case"bottom":t("borderBottomStyle",0,"borderBottomColor","borderBottomWidth");break;case"left":t("borderLeftStyle",0,"borderLeftColor","borderLeftWidth")}})),c.items.add(e)}return{borderRowLabel:i,borderStyleDropdown:l,borderColorInput:d,borderWidthInput:a,borderDirectionToolbar:c}}_createBackgroundFields(){const t=this.locale,e=this.t,o=new Cp(t);o.text=e("Background");const n=iK({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableCellProperties.backgroundColor}),r=new Mp(t,n);return r.set({label:e("Color"),class:"ck-table-cell-properties-form__background"}),r.fieldView.bind("value").to(this,"backgroundColor"),r.fieldView.on("input",(()=>{this.backgroundColor=r.fieldView.value})),{backgroundRowLabel:o,backgroundInput:r}}_createDimensionFields(){const t=this.locale,e=this.t,o=new Cp(t);o.text=e("Dimensions");const n=new Mp(t,vm);n.set({label:e("Width"),class:"ck-table-form__dimensions-row__width"}),n.fieldView.bind("value").to(this,"width"),n.fieldView.on("input",(()=>{this.width=n.fieldView.element.value}));const r=new Bu(t);r.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"×"}]});const i=new Mp(t,vm);return i.set({label:e("Height"),class:"ck-table-form__dimensions-row__height"}),i.fieldView.bind("value").to(this,"height"),i.fieldView.on("input",(()=>{this.height=i.fieldView.element.value})),{dimensionsLabel:o,widthInput:n,operatorLabel:r,heightInput:i}}_createPaddingField(){const t=this.locale,e=this.t,o=new Mp(t,vm);return o.set({label:e("Padding"),class:"ck-table-cell-properties-form__padding"}),o.fieldView.bind("value").to(this,"padding"),o.fieldView.on("input",(()=>{this.padding=o.fieldView.element.value})),o}_createAlignmentFields(){const t=this.locale,e=this.t,o=new Cp(t);o.text=e("Table cell text alignment");const n=new Xp(t),r="rtl"===t.contentLanguageDirection;n.set({isCompact:!0,ariaLabel:e("Horizontal text alignment toolbar")}),nK({view:this,icons:bK,toolbar:n,labels:this._horizontalAlignmentLabels,propertyName:"horizontalAlignment",nameToValue:t=>{if(r){if("left"===t)return"right";if("right"===t)return"left"}return t},defaultValue:this.options.defaultTableCellProperties.horizontalAlignment});const i=new Xp(t);return i.set({isCompact:!0,ariaLabel:e("Vertical text alignment toolbar")}),nK({view:this,icons:bK,toolbar:i,labels:this._verticalAlignmentLabels,propertyName:"verticalAlignment",defaultValue:this.options.defaultTableCellProperties.verticalAlignment}),{horizontalAlignmentToolbar:n,verticalAlignmentToolbar:i,alignmentLabel:o}}createPresetField(){const t=this.locale,e=this.t,o=new Mp(t,Am);return o.set({label:e("Style"),class:"ck-table-preset-style"}),o.fieldView.buttonView.set({isOn:!1,withText:!0,tooltip:e("Apply preset styles to cell")}),o.fieldView.buttonView.bind("label").to(this,"preset",(t=>e("header"===t?"Header row":"None"))),o.fieldView.on("execute",(t=>{this.preset=t.source._preset})),o.bind("isEmpty").to(this,"preset",(t=>!t)),wm(o.fieldView,this.getPresetDefinitions(this)),o}getPresetDefinitions(t){const e=new vr;return e.add({type:"button",model:new Xg({_preset:"none",label:"None",withText:!0,isOn:"none"===this.preset,isEnabled:"none"!==this.preset})}),e.add({type:"button",model:new Xg({_preset:"header",label:"Header row",withText:!0,isOn:"header"===this.preset,isEnabled:"header"!==this.preset})}),e}_createActionButtons(){const t=this.locale,e=this.t,o=new sp(t),n=new sp(t),r=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput];return o.set({label:e("Save"),icon:pu.check,class:"ck-button-save",type:"submit",withText:!0}),o.bind("isEnabled").toMany(r,"errorText",((...t)=>t.every((t=>!t)))),n.set({label:e("Cancel"),icon:pu.cancel,class:"ck-button-cancel",withText:!0}),n.delegate("execute").to(this,"cancel"),{saveButtonView:o,cancelButtonView:n}}get _horizontalAlignmentLabels(){const t=this.locale,e=this.t,o=e("Align cell text to the left"),n=e("Align cell text to the center"),r=e("Align cell text to the right"),i=e("Justify cell text");return"rtl"===t.uiLanguageDirection?{right:r,center:n,left:o,justify:i}:{left:o,center:n,right:r,justify:i}}get _verticalAlignmentLabels(){const t=this.t;return{top:t("Align cell text to the top"),middle:t("Align cell text to the middle"),bottom:t("Align cell text to the bottom")}}}function xK(t){return"none"!==t}function kK(t){const e=t.getSelectedElement();return e&&vK(e)?e:null}function yK(t){const e=t.getFirstPosition();if(!e)return null;let o=e.parent;for(;o;){if(o.is("element")&&vK(o))return o;o=o.parent}return null}function vK(t){return!!t.getCustomProperty("table")&&zw(t)}const _K=yg.defaultPositions,AK=[_K.northArrowSouth,_K.northArrowSouthWest,_K.northArrowSouthEast,_K.southArrowNorth,_K.southArrowNorthWest,_K.southArrowNorthEast,_K.viewportStickyNorth];function CK(t,e){const o=t.plugins.get("ContextualBalloon");if(yK(t.editing.view.document.selection)){let n;n="cell"===e?EK(t):SK(t),o.updatePosition(n)}}function SK(t){const e=t.model.document.selection.getFirstPosition().findAncestor("table"),o=t.editing.mapper.toViewElement(e);return{target:t.editing.view.domConverter.mapViewToDom(o),positions:AK}}function EK(t){const e=t.editing.mapper,o=t.editing.view.domConverter,n=t.model.document.selection;if(n.rangeCount>1)return{target:()=>function(t,e){const o=e.editing.mapper,n=e.editing.view.domConverter,r=Array.from(t).map((t=>{const e=MK(t.start),r=o.toViewElement(e);return new Rn(n.mapViewToDom(r))}));return Rn.getBoundingRect(r)}(n.getRanges(),t),positions:AK};const r=MK(n.getFirstPosition()),i=e.toViewElement(r);return{target:o.mapViewToDom(i),positions:AK}}function MK(t){return t.nodeAfter&&t.nodeAfter.is("element","tableCell")?t.nodeAfter:t.findAncestor("tableCell")}function DK(t){if(!t||!z(t))return t;const{top:e,right:o,bottom:n,left:r}=t;return e==o&&o==n&&n==r?e:void 0}function TK(t,e){const o=parseFloat(t);return Number.isNaN(o)||String(o)!==String(t)?t:`${o}${e}`}function BK(t,e={}){const o={borderStyle:"none",borderWidth:"",borderColor:"",borderTopStyle:"none",borderTopWidth:"",borderTopColor:"",borderRightStyle:"none",borderRightWidth:"",borderRightColor:"",borderBottomStyle:"none",borderBottomWidth:"",borderBottomColor:"",borderLeftStyle:"none",borderLeftWidth:"",borderLeftColor:"",backgroundColor:"",width:"",height:"",preset:"",...t};return e.includeAlignmentProperty&&!o.alignment&&(o.alignment="center"),e.includePaddingProperty&&!o.padding&&(o.padding=""),e.includeVerticalAlignmentProperty&&!o.verticalAlignment&&(o.verticalAlignment="middle"),e.includeHorizontalAlignmentProperty&&!o.horizontalAlignment&&(o.horizontalAlignment=e.isRightToLeftContent?"right":"left"),o}const LK={borderStyle:"tableCellBorderStyle",borderColor:"tableCellBorderColor",borderWidth:"tableCellBorderWidth",borderTopStyle:"tableCellBorderStyle",borderTopColor:"tableCellBorderColor",borderTopWidth:"tableCellBorderWidth",borderRightStyle:"tableCellBorderStyle",borderRightTopColor:"tableCellBorderColor",borderRightWidth:"tableCellBorderWidth",borderBottomStyle:"tableCellBorderStyle",borderBottomTopColor:"tableCellBorderColor",borderBottomWidth:"tableCellBorderWidth",borderLeftStyle:"tableCellBorderStyle",borderLeftTopColor:"tableCellBorderColor",borderLeftWidth:"tableCellBorderWidth",height:"tableCellHeight",width:"tableCellWidth",padding:"tableCellPadding",backgroundColor:"tableCellBackgroundColor",horizontalAlignment:"tableCellHorizontalAlignment",verticalAlignment:"tableCellVerticalAlignment",preset:"tableCellPreset"};class PK extends Lr{static get requires(){return[ib]}static get pluginName(){return"TableCellPropertiesUI"}constructor(t){super(t),t.config.define("table.tableCellProperties",{borderColors:rK,backgroundColors:rK})}init(){const t=this.editor,e=t.t;this._defaultTableCellProperties=BK(t.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:"rtl"===t.locale.contentLanguageDirection}),this._balloon=t.plugins.get(ib),this.view=null,this._isReady=!1,t.ui.componentFactory.add("tableCellProperties",(o=>{const n=new sp(o);n.set({label:e("Cell properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>',tooltip:!0}),this.listenTo(n,"execute",(()=>this._showView()));const r=Object.values(LK).map((e=>t.commands.get(e)));return n.bind("isEnabled").toMany(r,"isEnabled",((...t)=>t.some((t=>t)))),n}))}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const t=this.editor,e=t.config.get("table.tableCellProperties"),o=hp(e.borderColors),n=cp(t.locale,o),r=hp(e.backgroundColors),i=cp(t.locale,r),s=new wK(t.locale,{borderColors:n,backgroundColors:i,defaultTableCellProperties:this._defaultTableCellProperties}),l=t.t;s.render(),this.listenTo(s,"submit",(()=>{this._hideView()})),this.listenTo(s,"cancel",(()=>{this._undoStepBatch.operations.length&&t.execute("undo",this._undoStepBatch),this._hideView()})),s.keystrokes.set("Esc",((t,e)=>{this._hideView(),e()})),Au({emitter:s,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const a=J$(l),d=Y$(l);return s.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")),s.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:s.borderColorInput,commandName:"tableCellBorderColor",errorText:a,validator:X$})),s.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:s.borderWidthInput,commandName:"tableCellBorderWidth",errorText:d,validator:eK})),s.on("change:borderTopStyle",this._getPropertyChangeCallback("tableCellBorderTopStyle")),s.on("change:borderTopColor",this._getValidatedPropertyChangeCallback({viewField:s.borderColorInput,commandName:"tableCellBorderTopColor",errorText:a,validator:X$})),s.on("change:borderTopWidth",this._getValidatedPropertyChangeCallback({viewField:s.borderWidthInput,commandName:"tableCellBorderTopWidth",errorText:d,validator:eK})),s.on("change:borderRightStyle",this._getPropertyChangeCallback("tableCellBorderRightStyle")),s.on("change:borderRightColor",this._getValidatedPropertyChangeCallback({viewField:s.borderColorInput,commandName:"tableCellBorderRightColor",errorText:a,validator:X$})),s.on("change:borderRightWidth",this._getValidatedPropertyChangeCallback({viewField:s.borderWidthInput,commandName:"tableCellBorderRightWidth",errorText:d,validator:eK})),s.on("change:borderBottomStyle",this._getPropertyChangeCallback("tableCellBorderBottomStyle")),s.on("change:borderBottomColor",this._getValidatedPropertyChangeCallback({viewField:s.borderColorInput,commandName:"tableCellBorderBottomColor",errorText:a,validator:X$})),s.on("change:borderBottomWidth",this._getValidatedPropertyChangeCallback({viewField:s.borderWidthInput,commandName:"tableCellBorderBottomWidth",errorText:d,validator:eK})),s.on("change:borderLeftStyle",this._getPropertyChangeCallback("tableCellBorderLeftStyle")),s.on("change:borderLeftColor",this._getValidatedPropertyChangeCallback({viewField:s.borderColorInput,commandName:"tableCellBorderLeftColor",errorText:a,validator:X$})),s.on("change:borderLeftWidth",this._getValidatedPropertyChangeCallback({viewField:s.borderWidthInput,commandName:"tableCellBorderLeftWidth",errorText:d,validator:eK})),s.on("change:padding",this._getValidatedPropertyChangeCallback({viewField:s.paddingInput,commandName:"tableCellPadding",errorText:d,validator:Q$})),s.on("change:preset",this._getValidatedPropertyChangeCallback({viewField:s.presetField,commandName:"tableCellPreset",errorText:d,validator:tK})),s.on("change:width",this._getValidatedPropertyChangeCallback({viewField:s.widthInput,commandName:"tableCellWidth",errorText:d,validator:Q$})),s.on("change:height",this._getValidatedPropertyChangeCallback({viewField:s.heightInput,commandName:"tableCellHeight",errorText:d,validator:Q$})),s.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:s.backgroundInput,commandName:"tableCellBackgroundColor",errorText:a,validator:X$})),s.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")),s.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")),s}_fillViewFormFromCommandValues(){const t=this.editor.commands,e=t.get("tableCellBorderStyle");Object.entries(LK).map((([e,o])=>{const n=this._defaultTableCellProperties[e]||"";return[e,t.get(o).value||n]})).forEach((([t,o])=>{("borderColor"!==t&&"borderWidth"!==t||"none"!==e.value)&&this.view.set(t,o)})),this._isReady=!0}_showView(){const t=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(t.ui,"update",(()=>{this._updateView()})),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:EK(t)}),this._undoStepBatch=t.model.createBatch(),this.view.focus()}_hideView(){const t=this.editor;this.stopListening(t.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const t=this.editor;yK(t.editing.view.document.selection)?this._isViewVisible&&CK(t,"cell"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(t){return(e,o,n)=>{this._isReady&&this.editor.execute(t,{value:n,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(t){const{commandName:e,viewField:o,validator:n,errorText:r}=t,i=zl((()=>{o.errorText=r}),500);return(t,r,s)=>{i.cancel(),this._isReady&&(n(s)?(this.editor.execute(e,{value:s,batch:this._undoStepBatch}),o.errorText=null):i())}}}class IK extends Ir{constructor(t,e,o){super(t),this.attributeName=e,this._defaultValue=o}refresh(){const t=this.editor,e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t.model.document.selection);this.isEnabled=!!e.length,this.value=this._getSingleValue(e)}execute(t={}){const{value:e,batch:o}=t,n=this.editor.model,r=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n.document.selection),i=this._getValueToSet(e);n.enqueueChange(o,(t=>{i?r.forEach((e=>t.setAttribute(this.attributeName,i,e))):r.forEach((e=>t.removeAttribute(this.attributeName,e)))}))}_getAttribute(t){if(!t)return;const e=t.getAttribute(this.attributeName);return e!==this._defaultValue?e:void 0}_getValueToSet(t){if(t!==this._defaultValue)return t}_getSingleValue(t){const e=this._getAttribute(t[0]);return t.every((t=>this._getAttribute(t)===e))?e:void 0}}class zK extends IK{constructor(t,e){super(t,"tableCellWidth",e)}_getValueToSet(t){if((t=TK(t,"px"))!==this._defaultValue)return t}}class RK extends Lr{static get pluginName(){return"TableCellWidthEditing"}static get requires(){return[UN]}init(){const t=this.editor,e=BK(t.config.get("table.tableCellProperties.defaultProperties"));jV(t.model.schema,t.conversion,{modelAttribute:"tableCellWidth",styleName:"width",defaultValue:e.width}),t.commands.add("tableCellWidth",new zK(t,e.width))}}class FK extends IK{constructor(t,e){super(t,"tableCellPadding",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}_getValueToSet(t){const e=TK(t,"px");if(e!==this._defaultValue)return e}}class OK extends IK{constructor(t,e){super(t,"tableCellHeight",e)}_getValueToSet(t){const e=TK(t,"px");if(e!==this._defaultValue)return e}}class VK extends IK{constructor(t,e){super(t,"tableCellBackgroundColor",e)}}class NK extends IK{constructor(t,e){super(t,"tableCellVerticalAlignment",e)}}class $K extends IK{constructor(t,e){super(t,"tableCellHorizontalAlignment",e)}}class KK extends IK{constructor(t,e){super(t,"tableCellBorderStyle",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}}class qK extends IK{constructor(t,e){super(t,"tableCellBorderColor",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}}class HK extends IK{constructor(t,e){super(t,"tableCellBorderWidth",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}_getValueToSet(t){const e=TK(t,"px");if(e!==this._defaultValue)return e}}class jK extends IK{constructor(t,e){super(t,"tableCellBorderLeftStyle",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}}class WK extends IK{constructor(t,e){super(t,"tableCellBorderLeftColor",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}}class UK extends IK{constructor(t,e){super(t,"tableCellBorderLeftWidth",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}_getValueToSet(t){const e=TK(t,"px");if(e!==this._defaultValue)return e}}class GK extends IK{constructor(t,e){super(t,"tableCellBorderTopStyle",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}}class ZK extends IK{constructor(t,e){super(t,"tableCellBorderTopColor",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}}class JK extends IK{constructor(t,e){super(t,"tableCellBorderTopWidth",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}_getValueToSet(t){const e=TK(t,"px");if(e!==this._defaultValue)return e}}class YK extends IK{constructor(t,e){super(t,"tableCellBorderRightStyle",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}}class XK extends IK{constructor(t,e){super(t,"tableCellBorderRightColor",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}}class QK extends IK{constructor(t,e){super(t,"tableCellBorderRightWidth",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}_getValueToSet(t){const e=TK(t,"px");if(e!==this._defaultValue)return e}}class tq extends IK{constructor(t,e){super(t,"tableCellBorderBottomStyle",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}}class eq extends IK{constructor(t,e){super(t,"tableCellBorderBottomColor",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}}class oq extends IK{constructor(t,e){super(t,"tableCellBorderBottomWidth",e)}_getAttribute(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}_getValueToSet(t){const e=TK(t,"px");if(e!==this._defaultValue)return e}}class nq extends IK{constructor(t,e){super(t,"tableCellPreset",e)}}const rq=/^(top|middle|bottom)$/,iq=/^(left|center|right|justify)$/;class sq extends Lr{static get pluginName(){return"TableCellPropertiesEditing"}static get requires(){return[UN,RK]}init(){const t=this.editor,e=t.model.schema,o=t.conversion;t.config.define("table.tableCellProperties.defaultProperties",{});const n=BK(t.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty:!0,includeHorizontalAlignmentProperty:!0,includePaddingProperty:!0,isRightToLeftContent:"rtl"===t.locale.contentLanguageDirection});t.data.addStyleProcessorRules(Wh),function(t,e,o){const n={width:"tableCellBorderWidth",color:"tableCellBorderColor",style:"tableCellBorderStyle"};t.extend("tableCell",{allowAttributes:Object.values(n)}),OV(e,"td",n,o),OV(e,"th",n,o),VV(e,{modelElement:"tableCell",modelAttribute:n.style,styleName:"border-style"}),VV(e,{modelElement:"tableCell",modelAttribute:n.color,styleName:"border-color"}),VV(e,{modelElement:"tableCell",modelAttribute:n.width,styleName:"border-width"})}(e,o,{color:n.borderColor,style:n.borderStyle,width:n.borderWidth}),t.commands.add("tableCellBorderStyle",new KK(t,n.borderStyle)),t.commands.add("tableCellBorderColor",new qK(t,n.borderColor)),t.commands.add("tableCellBorderWidth",new HK(t,n.borderWidth)),lq(e,o,{color:n.borderTopColor,style:n.borderTopStyle,width:n.borderTopWidth},"Top"),t.commands.add("tableCellBorderTopStyle",new GK(t,n.borderTopStyle)),t.commands.add("tableCellBorderTopColor",new ZK(t,n.borderTopColor)),t.commands.add("tableCellBorderTopWidth",new JK(t,n.borderTopWidth)),lq(e,o,{color:n.borderRightColor,style:n.borderRightStyle,width:n.borderRightWidth},"Right"),t.commands.add("tableCellBorderRightStyle",new YK(t,n.borderRightStyle)),t.commands.add("tableCellBorderRightColor",new XK(t,n.borderRightColor)),t.commands.add("tableCellBorderRightWidth",new QK(t,n.borderRightWidth)),lq(e,o,{color:n.borderBottomColor,style:n.borderBottomStyle,width:n.borderBottomWidth},"Bottom"),t.commands.add("tableCellBorderBottomStyle",new tq(t,n.borderBottomStyle)),t.commands.add("tableCellBorderBottomColor",new eq(t,n.borderBottomColor)),t.commands.add("tableCellBorderBottomWidth",new oq(t,n.borderBottomWidth)),lq(e,o,{color:n.borderLeftColor,style:n.borderLeftStyle,width:n.borderLeftWidth},"Left"),t.commands.add("tableCellBorderLeftStyle",new jK(t,n.borderLeftStyle)),t.commands.add("tableCellBorderLeftColor",new WK(t,n.borderLeftColor)),t.commands.add("tableCellBorderLeftWidth",new UK(t,n.borderLeftWidth)),jV(e,o,{modelAttribute:"tableCellHeight",styleName:"height",defaultValue:n.height}),t.commands.add("tableCellHeight",new OK(t,n.height)),t.data.addStyleProcessorRules(nu),jV(e,o,{modelAttribute:"tableCellPadding",styleName:"padding",reduceBoxSides:!0,defaultValue:n.padding}),t.commands.add("tableCellPadding",new FK(t,n.padding)),function(t,e,o){const{modelAttribute:n}=o;t.extend("tableCell",{allowAttributes:[n]}),function(t,e){const{modelAttribute:o,viewElement:n,classNamePrefix:r="preset-",shouldUpcast:i=(()=>!0)}=e;t.for("upcast").attributeToAttribute({view:{name:n},model:{name:n,key:o,value:t=>{if(!i(t))return;const e=Array.from(t.getClassNames()).find((t=>t.startsWith(r)));return e&&i(t)?e.replace(r,""):void 0}}})}(e,{viewElement:/^(td|th)$/,...o}),function(t,e){const{modelElement:o,modelAttribute:n,classNamePrefix:r="preset-"}=e;t.for("downcast").attributeToAttribute({model:{name:o,key:n},view:t=>({key:"class",value:`${r}${t}`})})}(e,{modelElement:"tableCell",...o})}(e,o,{modelAttribute:"tableCellPreset"}),t.commands.add("tableCellPreset",new nq(t,n.preset)),t.data.addStyleProcessorRules(jh),jV(e,o,{modelAttribute:"tableCellBackgroundColor",styleName:"background-color",defaultValue:n.backgroundColor}),t.commands.add("tableCellBackgroundColor",new VK(t,n.backgroundColor)),function(t,e,o){t.extend("tableCell",{allowAttributes:["tableCellHorizontalAlignment"]}),e.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellHorizontalAlignment"},view:t=>({key:"style",value:{"text-align":t}})}),e.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"text-align":iq}},model:{key:"tableCellHorizontalAlignment",value:t=>{const e=t.getStyle("text-align");return e===o?null:e}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{align:iq}},model:{key:"tableCellHorizontalAlignment",value:t=>{const e=t.getAttribute("align");return e===o?null:e}}})}(e,o,n.horizontalAlignment),t.commands.add("tableCellHorizontalAlignment",new $K(t,n.horizontalAlignment)),function(t,e,o){t.extend("tableCell",{allowAttributes:["tableCellVerticalAlignment"]}),e.for("downcast").attributeToAttribute({model:{name:"tableCell",key:"tableCellVerticalAlignment"},view:t=>({key:"style",value:{"vertical-align":t}})}),e.for("upcast").attributeToAttribute({view:{name:/^(td|th)$/,styles:{"vertical-align":rq}},model:{key:"tableCellVerticalAlignment",value:t=>{const e=t.getStyle("vertical-align");return e===o?null:e}}}).attributeToAttribute({view:{name:/^(td|th)$/,attributes:{valign:rq}},model:{key:"tableCellVerticalAlignment",value:t=>{const e=t.getAttribute("valign");return e===o?null:e}}})}(e,o,n.verticalAlignment),t.commands.add("tableCellVerticalAlignment",new NK(t,n.verticalAlignment))}}function lq(t,e,o,n){const r={width:`tableCellBorder${n}Width`,color:`tableCellBorder${n}Color`,style:`tableCellBorder${n}Style`};t.extend("tableCell",{allowAttributes:Object.values(r)}),OV(e,"td",r,o),OV(e,"th",r,o),VV(e,{modelElement:"tableCell",modelAttribute:r.style,styleName:`border-${n.toLowerCase()}-style`}),VV(e,{modelElement:"tableCell",modelAttribute:r.color,styleName:`border-${n.toLowerCase()}-color`}),VV(e,{modelElement:"tableCell",modelAttribute:r.width,styleName:`border-${n.toLowerCase()}-width`})}const aq=5,dq=2;function cq(t,e){return 4e3/hq(t,e)}function hq(t,e){const o=uq(t,"tbody",e)||uq(t,"thead",e);return pq(e.editing.view.domConverter.mapViewToDom(o))}function uq(t,e,o){return[...[...o.editing.mapper.toViewElement(t).getChildren()].find((t=>t.is("element","table"))).getChildren()].find((t=>t.is("element",e)))}function pq(t){const e=Tn.window.getComputedStyle(t);return"border-box"===e.boxSizing?parseFloat(e.width)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth):parseFloat(e.width)}function mq(t){const e=parseFloat(t),o=parseFloat((25.4/96).toFixed(7))*e;return Math.round(o)}function gq(t){const e=Math.pow(10,dq),o="number"==typeof t?t:parseFloat(t);return Math.round(o*e)/e}function bq(t){return t.map((t=>"number"==typeof t?t:parseFloat(t))).filter((t=>!Number.isNaN(t))).reduce(((t,e)=>t+e),0)}function fq(t){let e=function(t){const e=t.filter((t=>"auto"===t)).length;if(0===e)return t.map((t=>gq(t)));const o=bq(t),n=Math.max((100-o)/e,aq);return t.map((t=>"auto"===t?n:t)).map((t=>gq(t)))}(t.map((t=>"auto"===t?t:parseFloat(t.replace("%","")))));const o=bq(e);return 100!==o&&(e=e.map((t=>gq(100*t/o))).map(((t,e,o)=>{if(!(e===o.length-1))return t;return gq(t+100-bq(o))}))),e.map((t=>t+"%"))}function wq(t){const e=Tn.window.getComputedStyle(t);return"border-box"===e.boxSizing?parseInt(e.width):parseFloat(e.width)+parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderWidth)}function xq(t,e,o,n){for(let r=0;r<Math.max(o.length,t.length);r++){const i=t[r],s=o[r];s?i?n.setAttribute("columnWidth",s,i):n.appendElement("tableColumn",{columnWidth:s},e):n.remove(i)}}function kq(t){if(t.is("element","tableColumnGroup"))return t;const e=t.getChildren();return Array.from(e).find((t=>t.is("element","tableColumnGroup")))}function yq(t){return Array.from(kq(t).getChildren())}function vq(t){return yq(t).map((t=>t.getAttribute("columnWidth")))}class _q extends Ir{refresh(){this.isEnabled=!0}execute(t={}){const{model:e,plugins:o}=this.editor;let{table:n=e.document.selection.getSelectedElement(),columnWidths:r,tableWidth:i}=t;r&&(r=Array.isArray(r)?r:r.split(",")),e.change((t=>{i?t.setAttribute("tableWidth",i,n):t.removeAttribute("tableWidth",n);const e=o.get("TableColumnResizeEditing").getColumnGroupElement(n);if(!r&&!e)return;if(!r)return t.remove(e);const s=fq(r);if(e)Array.from(e.getChildren()).forEach(((e,o)=>t.setAttribute("columnWidth",s[o],e)));else{const e=t.createElement("tableColumnGroup");s.forEach((o=>t.appendElement("tableColumn",{columnWidth:o},e))),t.append(e,n)}}))}}class Aq extends Lr{static get requires(){return[UN,AN]}static get pluginName(){return"TableColumnResizeEditing"}constructor(t){super(t),this._isResizingActive=!1,this.set("_isResizingAllowed",!0),this._resizingData=null,this._domEmitter=new(Sn()),this._tableUtilsPlugin=t.plugins.get("TableUtils"),this.on("change:_isResizingAllowed",((e,o,n)=>{t.editing.view.change((e=>{e[n?"removeClass":"addClass"]("ck-column-resize_disabled",t.editing.view.document.getRoot())}))}))}init(){this._extendSchema(),this._registerPostFixer(),this._registerConverters(),this._registerResizingListeners(),this._registerResizerInserter();const t=this.editor,e=t.plugins.get("TableColumnResize");t.plugins.get("TableEditing").registerAdditionalSlot({filter:t=>t.is("element","tableColumnGroup"),positionOffset:0});const o=new _q(t);t.commands.add("resizeTableWidth",o),t.commands.add("resizeColumnWidths",o),this.bind("_isResizingAllowed").to(t,"isReadOnly",e,"isEnabled",o,"isEnabled",((t,e,o)=>!t&&e&&o))}destroy(){this._domEmitter.stopListening(),super.destroy()}getColumnGroupElement(t){return kq(t)}getTableColumnElements(t){return yq(t)}getTableColumnsWidths(t){return vq(t)}_extendSchema(){this.editor.model.schema.extend("table",{allowAttributes:["tableWidth"]}),this.editor.model.schema.register("tableColumnGroup",{allowIn:"table",isLimit:!0}),this.editor.model.schema.register("tableColumn",{allowIn:"tableColumnGroup",allowAttributes:["columnWidth"],isLimit:!0})}_registerPostFixer(){const t=this.editor.model;function e(t,e,o){const n=o._tableUtilsPlugin.getColumns(e);if(0===n-t.length)return t;const r=t.map((t=>Number(t.replace("%","")))),i=function(t,e){const o=new Set;for(const n of t.getChanges())if("insert"==n.type&&n.position.nodeAfter&&"tableCell"==n.position.nodeAfter.name&&n.position.nodeAfter.getAncestors().includes(e))o.add(n.position.nodeAfter);else if("remove"==n.type){const t=n.position.nodeBefore||n.position.nodeAfter;"tableCell"==t.name&&t.getAncestors().includes(e)&&o.add(t)}return o}(o.editor.model.document.differ,e);for(const t of i){const i=n-r.length;if(0===i)continue;const l=i>0,a=o._tableUtilsPlugin.getCellLocation(t).column;if(l){const t=cq(e,o.editor),n=(s=t,Array(i).fill(s));r.splice(a,0,...n)}else{const t=r.splice(a,Math.abs(i));r[a]+=bq(t)}}var s;return r.map((t=>t+"%"))}t.document.registerPostFixer((o=>{let n=!1;for(const r of function(t){const e=new Set;for(const o of t.document.differ.getChanges()){let n=null;switch(o.type){case"insert":n=["table","tableRow","tableCell"].includes(o.name)?o.position:null;break;case"remove":n=["tableRow","tableCell"].includes(o.name)?o.position:null;break;case"attribute":o.range.start.nodeAfter&&(n=["table","tableRow","tableCell"].includes(o.range.start.nodeAfter.name)?o.range.start:null)}if(!n)continue;const r=n.nodeAfter&&n.nodeAfter.is("element","table")?n.nodeAfter:n.findAncestor("table");for(const o of t.createRangeOn(r).getItems())o.is("element","table")&&kq(o)&&e.add(o)}return e}(t)){const t=this.getColumnGroupElement(r),i=this.getTableColumnElements(t),s=this.getTableColumnsWidths(t);let l=fq(s);l=e(l,r,this),cc(s,l)||(xq(i,t,l,o),n=!0)}return n}))}_registerConverters(){const t=this.editor.conversion;var e;t.for("upcast").attributeToAttribute({view:{name:"figure",key:"style",value:{width:/[\s\S]+/}},model:{name:"table",key:"tableWidth",value:t=>t.getStyle("width")}}),t.for("downcast").attributeToAttribute({model:{name:"table",key:"tableWidth"},view:t=>({name:"figure",key:"style",value:{width:t}})}),t.elementToElement({model:"tableColumnGroup",view:"colgroup"}),t.elementToElement({model:"tableColumn",view:"col"}),t.for("downcast").add((t=>t.on("insert:table",((t,e,o)=>{const n=o.writer,r=e.item,i=o.mapper.toViewElement(r),s=i.is("element","table")?i:Array.from(i.getChildren()).find((t=>t.is("element","table")));kq(e.item)?n.addClass("ck-table-resized",s):n.removeClass("ck-table-resized",s)}),{priority:"low"}))),t.for("upcast").add((e=this._tableUtilsPlugin,t=>t.on("element:colgroup",((t,o,n)=>{const r=o.modelCursor.findAncestor("table"),i=kq(r);if(!i)return;const s=yq(i);let l=vq(i);const a=e.getColumns(r);l=Array.from({length:a},((t,e)=>l[e]||"auto")),(l.length!=s.length||l.includes("auto"))&&xq(s,i,fq(l),n.writer)}),{priority:"low"}))),t.for("upcast").attributeToAttribute({view:{name:"col",styles:{width:/.*/}},model:{key:"columnWidth",value:t=>{const e=t.getStyle("width");return e&&e.endsWith("%")?e:"auto"}}}),t.for("downcast").attributeToAttribute({model:{name:"tableColumn",key:"columnWidth"},view:t=>({key:"style",value:{width:t}})})}_registerResizingListeners(){const t=this.editor.editing.view;t.addObserver(h$),t.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority:"high"}),this._domEmitter.listenTo(Tn.window.document,"mousemove",wu(this._onMouseMoveHandler.bind(this),50)),this._domEmitter.listenTo(Tn.window.document,"mouseup",this._onMouseUpHandler.bind(this))}_onMouseDownHandler(t,e){const o=e.target;if(!o.hasClass("ck-table-column-resizer"))return;if(!this._isResizingAllowed)return;e.preventDefault(),t.stop();const n=this.editor,r=n.editing.mapper.toModelElement(o.findAncestor("figure")),i=r.getAttribute("tableWidth"),s=function(t,e,o){const n=Array(e.getColumns(t)),r=new ZV(t);for(const t of r){const e=o.editing.mapper.toViewElement(t.cell),r=wq(o.editing.view.domConverter.mapViewToDom(e));(!n[t.column]||r<n[t.column])&&(n[t.column]=gq(r))}return n}(r,this._tableUtilsPlugin,n),l=o.findAncestor("table"),a=n.editing.view;Array.from(l.getChildren()).find((t=>t.is("element","colgroup")))||a.change((t=>{!function(t,e,o){const n=t.createContainerElement("colgroup");for(let o=0;o<e.length;o++){const r=t.createEmptyElement("col"),i=`${gq(e[o]/bq(e)*100)}%`;t.setStyle("width",i,r),t.insert(t.createPositionAt(n,"end"),r)}t.insert(t.createPositionAt(o,0),n)}(t,s,l)})),this._isResizingActive=!0,this._resizingData=this._getResizingData(e,s),a.change((t=>function(t,e,o,n){const r="string"==typeof n&&n.endsWith("mm"),i=o.widths.viewFigureWidth/o.widths.viewFigureParentWidth;t.addClass("ck-table-resized",e),t.addClass("ck-table-column-resizer__active",o.elements.viewResizer);const s=r?`${mq(o.widths.viewFigureWidth)}mm`:`${function(t,e){const o=parseFloat(e),n=2,r=Math.abs((t-o)/o*100);return 0!==r&&r<n?o:t}(100*i,n)}%`;t.setStyle("width",s,e.findAncestor("figure"))}(t,l,this._resizingData,i)))}_onMouseMoveHandler(t,e){if(!this._isResizingActive)return;if(!this._isResizingAllowed)return void this._onMouseUpHandler();const{columnPosition:o,flags:{isRightEdge:n,isTableCentered:r,isLtrContent:i},elements:{viewFigure:s,viewLeftColumn:l,viewRightColumn:a},widths:{viewFigureParentWidth:d,tableWidth:c,leftColumnWidth:h,rightColumnWidth:u}}=this._resizingData,p=40-h,m=n?d-c:u-40,g=(i?1:-1)*(n&&r?2:1),b=(f=(e.clientX-o)*g,w=Math.min(p,0),x=Math.max(m,0),gq(f<=w?w:f>=x?x:f));var f,w,x;0!==b&&this.editor.editing.view.change((t=>{const e=gq(100*(h+b)/c);if(t.setStyle("width",`${e}%`,l),n){const e=gq(100*(c+b)/d);t.setStyle("width",`${e}%`,s)}else{const e=gq(100*(u-b)/c);t.setStyle("width",`${e}%`,a)}}))}_onMouseUpHandler(){if(!this._isResizingActive)return;const{viewResizer:t,modelTable:e,viewFigure:o,viewColgroup:n}=this._resizingData.elements,{tableWidth:r}=this._resizingData.widths,i=this.editor,s=i.editing.view,l=this.getColumnGroupElement(e),a=Array.from(n.getChildren()).filter((t=>t.is("view:element"))),d=l?this.getTableColumnsWidths(l):null,c=a.map((t=>t.getStyle("width"))),h=!cc(d,c),u=e.getAttribute("tableWidth");let p=o.getStyle("width");"string"==typeof u&&u.endsWith("mm")&&"string"==typeof p&&p.endsWith("%")&&(p=`${mq(r)}mm`);const m=!cc(u,p);(m||h)&&(this._isResizingAllowed?i.execute("resizeTableWidth",{table:e,tableWidth:p,columnWidths:c}):s.change((t=>{if(d)for(const e of a)t.setStyle("width",d.shift(),e);else t.remove(n);m&&(u?t.setStyle("width",u,o):t.removeStyle("width",o)),d||u||t.removeClass("ck-table-resized",[...o.getChildren()].find((t=>"table"===t.name)))}))),s.change((e=>{e.removeClass("ck-table-column-resizer__active",t)})),this._isResizingActive=!1,this._resizingData=null,window.bus&&window.bus.triggerColRemove()}_getResizingData(t,e){const o=this.editor,n=t.domEvent.clientX,r=t.target,i=r.findAncestor("td")||r.findAncestor("th"),s=o.editing.mapper.toModelElement(i),l=s.findAncestor("table"),a=function(t,e){const o=e.getCellLocation(t).column;return{leftEdge:o,rightEdge:o+(t.getAttribute("colspan")||1)-1}}(s,this._tableUtilsPlugin).rightEdge,d=a===this._tableUtilsPlugin.getColumns(l)-1,c=!l.hasAttribute("tableAlignment"),h="rtl"!==o.locale.contentLanguageDirection,u=i.findAncestor("table"),p=u.findAncestor("figure"),m=[...u.getChildren()].find((t=>t.is("element","colgroup"))),g=m.getChild(a),b=d?void 0:m.getChild(a+1),f=pq(o.editing.view.domConverter.mapViewToDom(p.parent)),w=pq(o.editing.view.domConverter.mapViewToDom(p));let x=hq(l,o);x=function(t){void 0===window.persistedTableWidth&&(window.persistedTableWidth=0);const e=window.persistedTableWidth,o=Math.abs((t-e)/e*100);return 0!==o&&o<2?window.persistedTableWidth:window.persistedTableWidth=t}(x);return{columnPosition:n,flags:{isRightEdge:d,isTableCentered:c,isLtrContent:h},elements:{viewResizer:r,modelTable:l,viewFigure:p,viewColgroup:m,viewLeftColumn:g,viewRightColumn:b},widths:{viewFigureParentWidth:f,viewFigureWidth:w,tableWidth:x,leftColumnWidth:e[a],rightColumnWidth:d?void 0:e[a+1]}}}_registerResizerInserter(){this.editor.conversion.for("editingDowncast").add((t=>{t.on("insert:tableCell",((t,e,o)=>{const n=e.item,r=o.mapper.toViewElement(n),i=o.writer;i.insert(i.createPositionAt(r,"end"),i.createUIElement("div",{class:"ck-table-column-resizer"}))}),{priority:"lowest"})}))}}var Cq=o(8986),Sq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Cq.Z,Sq);Cq.Z.locals;class Eq extends Ir{constructor(t,e,o){super(t),this.attributeName=e,this._defaultValue=o}refresh(){const t=this.editor.model.document.selection.getFirstPosition().findAncestor("table");this.isEnabled=!!t,this.value=this._getValue(t)}execute(t={}){const e=this.editor.model,o=e.document.selection,{value:n,batch:r}=t,i=o.getFirstPosition().findAncestor("table"),s=this._getValueToSet(n);e.enqueueChange(r,(t=>{s?t.setAttribute(this.attributeName,s,i):t.removeAttribute(this.attributeName,i)}))}_getValue(t){if(!t)return;const e=t.getAttribute(this.attributeName);return e!==this._defaultValue?e:void 0}_getValueToSet(t){if(t!==this._defaultValue)return t}}class Mq extends Eq{constructor(t,e){super(t,"tableBackgroundColor",e)}}class Dq extends Eq{constructor(t,e){super(t,"tableBorderColor",e)}_getValue(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}}class Tq extends Eq{constructor(t,e){super(t,"tableBorderStyle",e)}_getValue(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}}class Bq extends Eq{constructor(t,e){super(t,"tableBorderWidth",e)}_getValue(t){if(!t)return;const e=DK(t.getAttribute(this.attributeName));return e!==this._defaultValue?e:void 0}_getValueToSet(t){const e=TK(t,"px");if(e!==this._defaultValue)return e}}class Lq extends Eq{constructor(t,e){super(t,"tableWidth",e)}_getValueToSet(t){if((t=TK(t,"px"))!==this._defaultValue)return t}}class Pq extends Eq{constructor(t,e){super(t,"tableHeight",e)}_getValueToSet(t){if((t=TK(t,"px"))!==this._defaultValue)return t}}class Iq extends Eq{constructor(t,e){super(t,"tableAlignment",e)}}const zq=/^(left|center|right)$/,Rq=/^(left|none|right)$/;class Fq extends Lr{static get pluginName(){return"TablePropertiesEditing"}static get requires(){return[UN]}init(){const t=this.editor,e=t.model.schema,o=t.conversion;t.config.define("table.tableProperties.defaultProperties",{});const n=BK(t.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0});t.data.addStyleProcessorRules(Wh),function(t,e,o){const n={width:"tableBorderWidth",color:"tableBorderColor",style:"tableBorderStyle"};t.extend("table",{allowAttributes:Object.values(n)}),OV(e,"table",n,o),NV(e,{modelAttribute:n.color,styleName:"border-color"}),NV(e,{modelAttribute:n.style,styleName:"border-style"}),NV(e,{modelAttribute:n.width,styleName:"border-width"})}(e,o,{color:n.borderColor,style:n.borderStyle,width:n.borderWidth}),t.commands.add("tableBorderColor",new Dq(t,n.borderColor)),t.commands.add("tableBorderStyle",new Tq(t,n.borderStyle)),t.commands.add("tableBorderWidth",new Bq(t,n.borderWidth)),function(t,e,o){t.extend("table",{allowAttributes:["tableAlignment"]}),e.for("downcast").attributeToAttribute({model:{name:"table",key:"tableAlignment"},view:t=>({key:"style",value:{float:"center"===t?"none":t}}),converterPriority:"high"}),e.for("upcast").attributeToAttribute({view:{name:/^(table|figure)$/,styles:{float:Rq}},model:{key:"tableAlignment",value:t=>{let e=t.getStyle("float");return"none"===e&&(e="center"),e===o?null:e}}}).attributeToAttribute({view:{attributes:{align:zq}},model:{name:"table",key:"tableAlignment",value:t=>{const e=t.getAttribute("align");return e===o?null:e}}})}(e,o,n.alignment),t.commands.add("tableAlignment",new Iq(t,n.alignment)),Oq(e,o,{modelAttribute:"tableWidth",styleName:"width",defaultValue:n.width}),t.commands.add("tableWidth",new Lq(t,n.width)),Oq(e,o,{modelAttribute:"tableHeight",styleName:"height",defaultValue:n.height}),t.commands.add("tableHeight",new Pq(t,n.height)),t.data.addStyleProcessorRules(jh),function(t,e,o){const{modelAttribute:n}=o;t.extend("table",{allowAttributes:[n]}),FV(e,{viewElement:"table",...o}),NV(e,o)}(e,o,{modelAttribute:"tableBackgroundColor",styleName:"background-color",defaultValue:n.backgroundColor}),t.commands.add("tableBackgroundColor",new Mq(t,n.backgroundColor))}}function Oq(t,e,o){const{modelAttribute:n}=o;t.extend("table",{allowAttributes:[n]}),FV(e,{viewElement:/^(table|figure)$/,shouldUpcast:t=>!("table"==t.name&&"figure"==t.parent.name),...o}),VV(e,{modelElement:"table",...o})}var Vq=o(6174),Nq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Vq.Z,Nq);Vq.Z.locals;const $q={left:pu.objectLeft,center:pu.objectCenter,right:pu.objectRight};class Kq extends Bu{constructor(t,e){super(t),this.set({borderStyle:"",borderWidth:"",borderColor:"",backgroundColor:"",width:"",height:"",alignment:""}),this.options=e;const{borderStyleDropdown:o,borderWidthInput:n,borderColorInput:r,borderRowLabel:i}=this._createBorderFields(),{backgroundRowLabel:s,backgroundInput:l}=this._createBackgroundFields(),{widthInput:a,operatorLabel:d,heightInput:c,dimensionsLabel:h}=this._createDimensionFields(),{alignmentToolbar:u,alignmentLabel:p}=this._createAlignmentFields();this.focusTracker=new Ar,this.keystrokes=new Cr,this.children=this.createCollection(),this.borderStyleDropdown=o,this.borderWidthInput=n,this.borderColorInput=r,this.backgroundInput=l,this.widthInput=a,this.heightInput=c,this.alignmentToolbar=u;const{saveButtonView:m,cancelButtonView:g}=this._createActionButtons();this.saveButtonView=m,this.cancelButtonView=g,this._focusables=new Mu,this._focusCycler=new qp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.children.add(new Yg(t,{label:this.t("Table properties")})),this.children.add(new dK(t,{labelView:i,children:[i,o,r,n],class:"ck-table-form__border-row"})),this.children.add(new dK(t,{labelView:s,children:[s,l],class:"ck-table-form__background-row"})),this.children.add(new dK(t,{children:[new dK(t,{labelView:h,children:[h,a,d,c],class:"ck-table-form__dimensions-row"}),new dK(t,{labelView:p,children:[p,u],class:"ck-table-properties-form__alignment-row"})]})),this.children.add(new dK(t,{children:[this.saveButtonView,this.cancelButtonView],class:"ck-table-form__action-row"})),this.setTemplate({tag:"form",attributes:{class:["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex:"-1"},children:this.children})}render(){super.render(),Su({view:this}),[this.borderStyleDropdown,this.borderColorInput,this.borderColorInput.fieldView.dropdownView.buttonView,this.borderWidthInput,this.backgroundInput,this.backgroundInput.fieldView.dropdownView.buttonView,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach((t=>{this._focusables.add(t),this.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createBorderFields(){const t=this.options.defaultTableProperties,e={style:t.borderStyle,width:t.borderWidth,color:t.borderColor},o=iK({colorConfig:this.options.borderColors,columns:5,defaultColorValue:e.color}),n=this.locale,r=this.t,i=new Cp(n);i.text=r("Border");const s=Z$(r),l=new Mp(n,Am);l.set({label:r("Style"),class:"ck-table-form__border-style"}),l.fieldView.buttonView.set({isOn:!1,withText:!0,tooltip:r("Style")}),l.fieldView.buttonView.bind("label").to(this,"borderStyle",(t=>s[t||"none"])),l.fieldView.on("execute",(t=>{this.borderStyle=t.source._borderStyleValue})),l.bind("isEmpty").to(this,"borderStyle",(t=>!t)),wm(l.fieldView,oK(this,e.style));const a=new Mp(n,vm);a.set({label:r("Width"),class:"ck-table-form__border-width"}),a.fieldView.bind("value").to(this,"borderWidth"),a.bind("isEnabled").to(this,"borderStyle",qq),a.fieldView.on("input",(()=>{this.borderWidth=a.fieldView.element.value}));const d=new Mp(n,o);return d.set({label:r("Color"),class:"ck-table-form__border-color"}),d.fieldView.bind("value").to(this,"borderColor"),d.bind("isEnabled").to(this,"borderStyle",qq),d.fieldView.on("input",(()=>{this.borderColor=d.fieldView.value})),this.on("change:borderStyle",((t,o,n,r)=>{qq(n)||(this.borderColor="",this.borderWidth=""),qq(r)||(this.borderColor=e.color,this.borderWidth=e.width)})),{borderRowLabel:i,borderStyleDropdown:l,borderColorInput:d,borderWidthInput:a}}_createBackgroundFields(){const t=this.locale,e=this.t,o=new Cp(t);o.text=e("Background");const n=iK({colorConfig:this.options.backgroundColors,columns:5,defaultColorValue:this.options.defaultTableProperties.backgroundColor}),r=new Mp(t,n);return r.set({label:e("Color"),class:"ck-table-properties-form__background"}),r.fieldView.bind("value").to(this,"backgroundColor"),r.fieldView.on("input",(()=>{this.backgroundColor=r.fieldView.value})),{backgroundRowLabel:o,backgroundInput:r}}_createDimensionFields(){const t=this.locale,e=this.t,o=new Cp(t);o.text=e("Dimensions");const n=new Mp(t,vm);n.set({label:e("Width"),class:"ck-table-form__dimensions-row__width"}),n.fieldView.bind("value").to(this,"width"),n.fieldView.on("input",(()=>{this.width=n.fieldView.element.value}));const r=new Bu(t);r.setTemplate({tag:"span",attributes:{class:["ck-table-form__dimension-operator"]},children:[{text:"×"}]});const i=new Mp(t,vm);return i.set({label:e("Height"),class:"ck-table-form__dimensions-row__height"}),i.fieldView.bind("value").to(this,"height"),i.fieldView.on("input",(()=>{this.height=i.fieldView.element.value})),{dimensionsLabel:o,widthInput:n,operatorLabel:r,heightInput:i}}_createAlignmentFields(){const t=this.locale,e=this.t,o=new Cp(t);o.text=e("Alignment");const n=new Xp(t);return n.set({isCompact:!0,ariaLabel:e("Table alignment toolbar")}),nK({view:this,icons:$q,toolbar:n,labels:this._alignmentLabels,propertyName:"alignment",defaultValue:this.options.defaultTableProperties.alignment}),{alignmentLabel:o,alignmentToolbar:n}}_createActionButtons(){const t=this.locale,e=this.t,o=new sp(t),n=new sp(t),r=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput];return o.set({label:e("Save"),icon:pu.check,class:"ck-button-save",type:"submit",withText:!0}),o.bind("isEnabled").toMany(r,"errorText",((...t)=>t.every((t=>!t)))),n.set({label:e("Cancel"),icon:pu.cancel,class:"ck-button-cancel",withText:!0}),n.delegate("execute").to(this,"cancel"),{saveButtonView:o,cancelButtonView:n}}get _alignmentLabels(){const t=this.locale,e=this.t,o=e("Align table to the left"),n=e("Center table"),r=e("Align table to the right");return"rtl"===t.uiLanguageDirection?{right:r,center:n,left:o}:{left:o,center:n,right:r}}}function qq(t){return"none"!==t}const Hq={borderStyle:"tableBorderStyle",borderColor:"tableBorderColor",borderWidth:"tableBorderWidth",backgroundColor:"tableBackgroundColor",width:"tableWidth",height:"tableHeight",alignment:"tableAlignment"};class jq extends Lr{static get requires(){return[ib]}static get pluginName(){return"TablePropertiesUI"}constructor(t){super(t),this.view=null,t.config.define("table.tableProperties",{borderColors:rK,backgroundColors:rK})}init(){const t=this.editor,e=t.t;this._defaultTableProperties=BK(t.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty:!0}),this._balloon=t.plugins.get(ib),t.ui.componentFactory.add("tableProperties",(o=>{const n=new sp(o);n.set({label:e("Table properties"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>',tooltip:!0}),this.listenTo(n,"execute",(()=>this._showView()));const r=Object.values(Hq).map((e=>t.commands.get(e)));return n.bind("isEnabled").toMany(r,"isEnabled",((...t)=>t.some((t=>t)))),n}))}destroy(){super.destroy(),this.view&&this.view.destroy()}_createPropertiesView(){const t=this.editor,e=t.config.get("table.tableProperties"),o=hp(e.borderColors),n=cp(t.locale,o),r=hp(e.backgroundColors),i=cp(t.locale,r),s=new Kq(t.locale,{borderColors:n,backgroundColors:i,defaultTableProperties:this._defaultTableProperties}),l=t.t;s.render(),this.listenTo(s,"submit",(()=>{this._hideView()})),this.listenTo(s,"cancel",(()=>{this._undoStepBatch.operations.length&&t.execute("undo",this._undoStepBatch),this._hideView()})),s.keystrokes.set("Esc",((t,e)=>{this._hideView(),e()})),Au({emitter:s,activator:()=>this._isViewInBalloon,contextElements:[this._balloon.view.element],callback:()=>this._hideView()});const a=J$(l),d=Y$(l);return s.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")),s.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField:s.borderColorInput,commandName:"tableBorderColor",errorText:a,validator:X$})),s.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField:s.borderWidthInput,commandName:"tableBorderWidth",errorText:d,validator:eK})),s.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField:s.backgroundInput,commandName:"tableBackgroundColor",errorText:a,validator:X$})),s.on("change:width",this._getValidatedPropertyChangeCallback({viewField:s.widthInput,commandName:"tableWidth",errorText:d,validator:Q$})),s.on("change:height",this._getValidatedPropertyChangeCallback({viewField:s.heightInput,commandName:"tableHeight",errorText:d,validator:Q$})),s.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")),s}_fillViewFormFromCommandValues(){const t=this.editor.commands,e=t.get("tableBorderStyle");Object.entries(Hq).map((([e,o])=>{const n=e,r=this._defaultTableProperties[n]||"";return[n,t.get(o).value||r]})).forEach((([t,o])=>{("borderColor"!==t&&"borderWidth"!==t||"none"!==e.value)&&this.view.set(t,o)})),this._isReady=!0}_showView(){const t=this.editor;this.view||(this.view=this._createPropertiesView()),this.listenTo(t.ui,"update",(()=>{this._updateView()})),this._fillViewFormFromCommandValues(),this._balloon.add({view:this.view,position:SK(t)}),this._undoStepBatch=t.model.createBatch(),this.view.focus()}_hideView(){const t=this.editor;this.stopListening(t.ui,"update"),this._isReady=!1,this.view.saveButtonView.focus(),this._balloon.remove(this.view),this.editor.editing.view.focus()}_updateView(){const t=this.editor;yK(t.editing.view.document.selection)?this._isViewVisible&&CK(t,"table"):this._hideView()}get _isViewVisible(){return!!this.view&&this._balloon.visibleView===this.view}get _isViewInBalloon(){return!!this.view&&this._balloon.hasView(this.view)}_getPropertyChangeCallback(t){return(e,o,n)=>{this._isReady&&this.editor.execute(t,{value:n,batch:this._undoStepBatch})}}_getValidatedPropertyChangeCallback(t){const{commandName:e,viewField:o,validator:n,errorText:r}=t,i=zl((()=>{o.errorText=r}),500);return(t,r,s)=>{i.cancel(),this._isReady&&(n(s)?(this.editor.execute(e,{value:s,batch:this._undoStepBatch}),o.errorText=null):i())}}}var Wq=o(1420),Uq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(Wq.Z,Uq);Wq.Z.locals;class Gq extends Ir{execute(){const t=this.editor.model,e=t.document.selection;t.change((t=>{const o=e.getRanges();for(const e of o)for(const o of e.getItems())if(o.is("textProxy")||o.is("text")){const e=o.parent;"keep-together"===o.getAttribute("wrapClass")?t.removeAttribute("wrapClass",o):e.is("element","span")&&"keep-together"===e.getAttribute("wrapClass")||t.setAttribute("wrapClass","keep-together",o)}}))}refresh(){const t=this.editor.model,e=t.document.selection;if(this.isEnabled=t.schema.checkAttributeInSelection(e,"wrapClass"),e.hasAttribute("wrapClass"))this.value=!0;else{const t=e.getRanges();let o=!1;for(const e of t){for(const t of e.getItems())if(t.is("textProxy")||t.is("text")){const e=t.parent;if(e.is("element","span")&&e.hasAttribute("wrapClass")&&"keep-together"===e.getAttribute("wrapClass")){o=!0;break}}if(o)break}this.value=o}}}class Zq{constructor(t,e){this._startElement=t,this._referenceIndent=t.getAttribute("listIndent"),this._isForward="forward"==e.direction,this._includeSelf=!!e.includeSelf,this._sameAttributes=fr(e.sameAttributes||[]),this._sameIndent=!!e.sameIndent,this._lowerIndent=!!e.lowerIndent,this._higherIndent=!!e.higherIndent}static first(t,e){return _r(new this(t,e)[Symbol.iterator]())}*[Symbol.iterator](){const t=[];for(const{node:e}of Jq(this._getStartNode(),this._isForward?"forward":"backward")){const o=e.getAttribute("listIndent");if(o<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=o}else if(o>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){t.push(e);continue}}else{if(!this._sameIndent){if(this._higherIndent){t.length&&(yield*t,t.length=0);break}continue}if(this._sameAttributes.some((t=>e.getAttribute(t)!==this._startElement.getAttribute(t))))break}t.length&&(yield*t,t.length=0),yield e}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*Jq(t,e="forward"){const o="forward"==e,n=[];let r=null;for(;Qq(t);){let e=null;if(r){const o=t.getAttribute("listIndent"),i=r.getAttribute("listIndent");o>i?n[i]=r:o<i?(e=n[o],n.length=o):e=r}yield{node:t,previous:r,previousNodeInList:e},r=t,t=o?t.nextSibling:t.previousSibling}}class Yq{constructor(t){this._listHead=t}[Symbol.iterator](){return Jq(this._listHead,"forward")}}class Xq{static next(){return p()}}function Qq(t){return!!t&&t.is("element")&&t.hasAttribute("listItemId")}function tH(t,e={}){return[...eH(t,{...e,direction:"backward"}),...eH(t,{...e,direction:"forward"})]}function eH(t,e={}){const o="forward"==e.direction,n=Array.from(new Zq(t,{...e,includeSelf:o,sameIndent:!0,sameAttributes:"listItemId"}));return o?n:n.reverse()}function oH(t){const e=new Zq(t,{sameIndent:!0,sameAttributes:"listType"}),o=new Zq(t,{sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"});return[...Array.from(e).reverse(),...o]}function nH(t){return!Zq.first(t,{sameIndent:!0,sameAttributes:"listItemId"})}function rH(t){return!Zq.first(t,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function iH(t,e={}){t=fr(t);const o=!1!==e.withNested,n=new Set;for(const e of t)for(const t of tH(e,{higherIndent:o}))n.add(t);return uH(n)}function sH(t){t=fr(t);const e=new Set;for(const o of t)for(const t of oH(o))e.add(t);return uH(e)}function lH(t,e){const o=eH(t,{direction:"forward"}),n=Xq.next();for(const t of o)e.setAttribute("listItemId",n,t),e.setAttribute("htmlLiAttributes",null,t);return o}function aH(t,e,o){const n={};for(const[t,o]of e.getAttributes())t.startsWith("list")&&(n[t]=o);const r=eH(t,{direction:"forward"});for(const t of r)o.setAttributes(n,t);return r}function dH(t,e,{expand:o,indentBy:n=1}={}){t=fr(t);const r=o?iH(t):t;for(const t of r){const o=t.getAttribute("listIndent")+n;o<0?cH(t,e):e.setAttribute("listIndent",o,t)}return r}function cH(t,e){t=fr(t);for(const o of t)o.is("element","listItem")&&e.rename(o,"paragraph");for(const o of t)for(const t of o.getAttributeKeys())t.startsWith("list")&&e.removeAttribute(t,o);return t}function hH(t){if(!t.length)return!1;const e=t[0].getAttribute("listItemId");return!!e&&!t.some((t=>t.getAttribute("listItemId")!=e))}function uH(t){return Array.from(t).filter((t=>"$graveyard"!==t.root.rootName)).sort(((t,e)=>t.index-e.index))}function pH(t){const e=t.document.selection.getSelectedElement();return e&&t.schema.isObject(e)&&t.schema.isBlock(e)?e:null}function mH(t,e){return e.checkChild(t.parent,"listItem")&&e.checkChild(t,"$text")&&!e.isObject(t)}function gH(t,e,o){return eH(e,{direction:"forward"}).pop().index>t.index?aH(t,e,o):[]}class bH extends Ir{constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=fH(t.document.selection);t.change((t=>{const o=[];hH(e)&&!nH(e[0])?("forward"==this._direction&&o.push(...dH(e,t)),o.push(...lH(e[0],t))):"forward"==this._direction?o.push(...dH(e,t,{expand:!0})):o.push(...function(t,e){const o=iH(t=fr(t)),n=new Set,r=Math.min(...o.map((t=>t.getAttribute("listIndent")))),i=new Map;for(const t of o)i.set(t,Zq.first(t,{lowerIndent:!0}));for(const t of o){if(n.has(t))continue;n.add(t);const o=t.getAttribute("listIndent")-1;if(o<0)cH(t,e);else{if(t.getAttribute("listIndent")==r){const o=gH(t,i.get(t),e);for(const t of o)n.add(t);if(o.length)continue}e.setAttribute("listIndent",o,t)}}return uH(n)}(e,t));for(const e of o){if(!e.hasAttribute("listType"))continue;const o=Zq.first(e,{sameIndent:!0});o&&t.setAttribute("listType",o.getAttribute("listType"),e)}this._fireAfterExecute(o)}))}_fireAfterExecute(t){this.fire("afterExecute",uH(new Set(t)))}_checkEnabled(){let t=fH(this.editor.model.document.selection),e=t[0];if(!e)return!1;if("backward"==this._direction)return!0;if(hH(t)&&!nH(t[0]))return!0;t=iH(t),e=t[0];const o=Zq.first(e,{sameIndent:!0});return!!o&&o.getAttribute("listType")==e.getAttribute("listType")}}function fH(t){const e=Array.from(t.getSelectedBlocks()),o=e.findIndex((t=>!Qq(t)));return-1!=o&&(e.length=o),e}class wH extends Ir{constructor(t,e){super(t),this.type=e}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,o=e.document,n=pH(e),r=Array.from(o.selection.getSelectedBlocks()).filter((t=>e.schema.checkAttribute(t,"listType")||mH(t,e.schema))),i=void 0!==t.forceValue?!t.forceValue:this.value;e.change((t=>{if(i){const e=r[r.length-1],o=eH(e,{direction:"forward"}),n=[];o.length>1&&n.push(...lH(o[1],t)),n.push(...cH(r,t)),n.push(...function(t,e){const o=[];let n=Number.POSITIVE_INFINITY;for(const{node:r}of Jq(t.nextSibling,"forward")){const t=r.getAttribute("listIndent");if(0==t)break;t<n&&(n=t);const i=t-n;e.setAttribute("listIndent",i,r),o.push(r)}return o}(e,t)),this._fireAfterExecute(n)}else if((n||o.selection.isCollapsed)&&Qq(r[0])){const e=oH(n||r[0]);for(const o of e)t.setAttribute("listType",this.type,o);this._fireAfterExecute(e)}else{const o=[];for(const n of r)if(n.hasAttribute("listType"))for(const e of iH(n,{withNested:!1}))e.getAttribute("listType")!=this.type&&(t.setAttribute("listType",this.type,e),o.push(e));else!n.is("element","listItem")&&mH(n,e.schema)&&t.rename(n,"listItem"),t.setAttributes({listIndent:0,listItemId:Xq.next(),listType:this.type},n),o.push(n);this._fireAfterExecute(o)}}))}_fireAfterExecute(t){this.fire("afterExecute",uH(new Set(t)))}_getValue(){const t=this.editor.model.document.selection,e=Array.from(t.getSelectedBlocks());if(!e.length)return!1;for(const t of e)if(t.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const t=this.editor.model,e=t.schema,o=t.document.selection,n=Array.from(o.getSelectedBlocks());if(!n.length)return!1;if(this.value)return!0;for(const t of n)if(e.checkAttribute(t,"listType")||mH(t,e))return!0;return!1}}class xH extends Ir{constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:t=!1}={}){const e=this.editor.model,o=e.document.selection,n=[];e.change((r=>{const{firstElement:i,lastElement:s}=this._getMergeSubjectElements(o,t),l=i.getAttribute("listIndent")||0,a=s.getAttribute("listIndent"),d=s.getAttribute("listItemId");if(l!=a){const t=(c=s,Array.from(new Zq(c,{direction:"forward",higherIndent:!0})));n.push(...dH([s,...t],r,{indentBy:l-a,expand:l<a}))}var c;if(t){let t=o;o.isCollapsed&&(t=r.createSelection(r.createRange(r.createPositionAt(i,"end"),r.createPositionAt(s,0)))),e.deleteContent(t,{doNotResetEntireContent:o.isCollapsed});const l=t.getLastPosition().parent,a=l.nextSibling;n.push(l),a&&a!==s&&a.getAttribute("listItemId")==d&&n.push(...aH(a,l,r))}else n.push(...aH(s,i,r));this._fireAfterExecute(n)}))}_fireAfterExecute(t){this.fire("afterExecute",uH(new Set(t)))}_checkEnabled(){const t=this.editor.model,e=t.document.selection,o=pH(t);if(e.isCollapsed||o){const t=o||e.getFirstPosition().parent;if(!Qq(t))return!1;const n="backward"==this._direction?t.previousSibling:t.nextSibling;if(!n)return!1;if(hH([t,n]))return!1}else{const t=e.getLastPosition(),o=e.getFirstPosition();if(t.parent===o.parent)return!1;if(!Qq(t.parent))return!1}return!0}_getMergeSubjectElements(t,e){const o=pH(this.editor.model);let n,r;if(t.isCollapsed||o){const i=o||t.getFirstPosition().parent,s=nH(i);"backward"==this._direction?(r=i,n=s&&!e?Zq.first(i,{sameIndent:!0,lowerIndent:!0}):i.previousSibling):(n=i,r=i.nextSibling)}else n=t.getFirstPosition().parent,r=t.getLastPosition().parent;return{firstElement:n,lastElement:r}}}class kH extends Ir{constructor(t,e){super(t),this._direction=e}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change((t=>{const e=lH(this._getStartBlock(),t);this._fireAfterExecute(e)}))}_fireAfterExecute(t){this.fire("afterExecute",uH(new Set(t)))}_checkEnabled(){const t=this.editor.model.document.selection,e=this._getStartBlock();return t.isCollapsed&&Qq(e)&&!nH(e)}_getStartBlock(){const t=this.editor.model.document.selection.getFirstPosition().parent;return"before"==this._direction?t:t.nextSibling}}class yH extends Lr{static get pluginName(){return"DocumentListUtils"}expandListBlocksToCompleteList(t){return sH(t)}isFirstBlockOfListItem(t){return nH(t)}isListItemBlock(t){return Qq(t)}expandListBlocksToCompleteItems(t,e={}){return iH(t,e)}}function vH(t){return t.is("element","ol")||t.is("element","ul")}function _H(t){return t.is("element","li")}function AH(t,e,o,n=EH(o,e)){return t.createAttributeElement(SH(o),null,{priority:2*e/100-100,id:n})}function CH(t,e,o){return t.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:o})}function SH(t){return"numbered"==t?"ol":"ul"}function EH(t,e){return`list-${t}-${e}`}function MH(t,e){const o=t.nodeBefore;if(Qq(o)){let t=o;for(const{node:o}of Jq(t,"backward"))if(t=o,e.has(t))return;e.set(o,t)}else{const o=t.nodeAfter;Qq(o)&&e.set(o,o)}}function DH(){return(t,e,o)=>{const{writer:n,schema:r}=o;if(!e.modelRange)return;const i=Array.from(e.modelRange.getItems({shallow:!0})).filter((t=>r.checkAttribute(t,"listItemId")));if(!i.length)return;const s=Xq.next(),l=function(t){let e=0,o=t.parent;for(;o;){if(_H(o))e++;else{const t=o.previousSibling;t&&_H(t)&&e++}o=o.parent}return e}(e.viewItem);let a=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const d=i[0].getAttribute("listType");d&&(a=d);const c={listItemId:s,listIndent:l,listType:a};for(const t of i)t.hasAttribute("listItemId")||n.setAttributes(c,t);i.length>1&&i[1].getAttribute("listItemId")!=c.listItemId&&o.keepEmptyElement(i[0])}}function TH(){return(t,e,o)=>{if(!o.consumable.test(e.viewItem,{name:!0}))return;const n=new fh(e.viewItem.document);for(const t of Array.from(e.viewItem.getChildren()))_H(t)||vH(t)||n.remove(t)}}function BH(t,e,o,{dataPipeline:n}={}){const r=function(t){return(e,o)=>{const n=[];for(const o of t)e.hasAttribute(o)&&n.push(`attribute:${o}`);return!!n.every((t=>!1!==o.test(e,t)))&&(n.forEach((t=>o.consume(e,t))),!0)}}(t);return(i,s,l)=>{const{writer:a,mapper:d,consumable:c}=l,h=s.item;if(!t.includes(s.attributeKey))return;if(!r(h,c))return;const u=function(t,e,o){const n=o.createRangeOn(t),r=e.toViewRange(n).getTrimmed();return r.end.nodeBefore}(h,d,o);!function(t,e,o){for(;t.parent.is("attributeElement")&&t.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeIn(t.parent),t.parent);const n=e.createPositionBefore(t).getWalker({direction:"backward"}),r=[];for(const{item:t}of n){if(t.is("element")&&o.toModelElement(t))break;t.is("element")&&t.getCustomProperty("listItemMarker")&&r.push(t)}for(const t of r)e.remove(t)}(u,a,d),function(t,e){let o=t.parent;for(;o.is("attributeElement")&&["ul","ol","li"].includes(o.name);){const n=o.parent;e.unwrap(e.createRangeOn(t),o),o=n}}(u,a);const p=function(t,e,o,n,{dataPipeline:r}){let i=n.createRangeOn(e);if(!nH(t))return i;for(const s of o){if("itemMarker"!=s.scope)continue;const o=s.createElement(n,t,{dataPipeline:r});if(!o)continue;if(n.setCustomProperty("listItemMarker",!0,o),n.insert(i.start,o),i=n.createRange(n.createPositionBefore(o),n.createPositionAfter(e)),!s.createWrapperElement||!s.canWrapElement)continue;const l=s.createWrapperElement(n,t,{dataPipeline:r});n.setCustomProperty("listItemWrapper",!0,l),s.canWrapElement(t)?i=n.wrap(i,l):(i=n.wrap(n.createRangeOn(o),l),i=n.createRange(i.start,n.createPositionAfter(e)))}return i}(h,u,e,a,{dataPipeline:n});!function(t,e,o,n){if(!t.hasAttribute("listIndent"))return;const r=t.getAttribute("listIndent");let i=t;for(let t=r;t>=0;t--){const r=CH(n,t,i.getAttribute("listItemId")),s=AH(n,t,i.getAttribute("listType"));for(const t of o)"list"!=t.scope&&"item"!=t.scope||!i.hasAttribute(t.attributeName)||t.setAttributeOnDowncast(n,i.getAttribute(t.attributeName),"list"==t.scope?s:r);if(e=n.wrap(e,r),e=n.wrap(e,s),0==t)break;if(i=Zq.first(i,{lowerIndent:!0}),!i)break}}(h,p,e,a)}}function LH(t,{dataPipeline:e}={}){return(o,{writer:n})=>{if(!PH(o,t))return null;if(!e)return n.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const r=n.createContainerElement("p");return n.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}function PH(t,e,o=tH(t)){if(!Qq(t))return!1;for(const o of t.getAttributeKeys())if(!o.startsWith("selection:")&&!e.includes(o))return!1;return o.length<2}var IH=o(1204),zH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(IH.Z,zH);IH.Z.locals;var RH=o(2382),FH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(RH.Z,FH);RH.Z.locals;const OH=["listType","listIndent","listItemId"];class VH extends Lr{static get pluginName(){return"DocumentListEditing"}static get requires(){return[ow,ef,yH,Ew]}constructor(t){super(t),this._downcastStrategies=[],t.config.define("list.multiBlock",!0)}init(){const t=this.editor,e=t.model,o=t.config.get("list.multiBlock");if(t.plugins.has("ListEditing"))throw new f("document-list-feature-conflict",this,{conflictPlugin:"ListEditing"});e.schema.register("$listItem",{allowAttributes:OH}),o?(e.schema.extend("$container",{allowAttributesOf:"$listItem"}),e.schema.extend("$block",{allowAttributesOf:"$listItem"}),e.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):e.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const t of OH)e.schema.setAttributeProperties(t,{copyOnReplace:!0});t.commands.add("numberedList",new wH(t,"numbered")),t.commands.add("bulletedList",new wH(t,"bulleted")),t.commands.add("indentList",new bH(t,"forward")),t.commands.add("outdentList",new bH(t,"backward")),t.commands.add("splitListItemBefore",new kH(t,"before")),t.commands.add("splitListItemAfter",new kH(t,"after")),o&&(t.commands.add("mergeListItemBackward",new xH(t,"backward")),t.commands.add("mergeListItemForward",new xH(t,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration()}afterInit(){const t=this.editor.commands,e=t.get("indent"),o=t.get("outdent");e&&e.registerChildCommand(t.get("indentList"),{priority:"high"}),o&&o.registerChildCommand(t.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(t){this._downcastStrategies.push(t)}getListAttributeNames(){return[...OH,...this._downcastStrategies.map((t=>t.attributeName))]}_setupDeleteIntegration(){const t=this.editor,e=t.commands.get("mergeListItemBackward"),o=t.commands.get("mergeListItemForward");this.listenTo(t.editing.view.document,"delete",((n,r)=>{const i=t.model.document.selection;pH(t.model)||t.model.change((()=>{const s=i.getFirstPosition();if(i.isCollapsed&&"backward"==r.direction){if(!s.isAtStart)return;const o=s.parent;if(!Qq(o))return;if(Zq.first(o,{sameAttributes:"listType",sameIndent:!0})||0!==o.getAttribute("listIndent")){if(!e||!e.isEnabled)return;e.execute({shouldMergeOnBlocksContentLevel:NH(t.model,"backward")})}else rH(o)||t.execute("splitListItemAfter"),t.execute("outdentList");r.preventDefault(),n.stop()}else{if(i.isCollapsed&&!i.getLastPosition().isAtEnd)return;if(!o||!o.isEnabled)return;o.execute({shouldMergeOnBlocksContentLevel:NH(t.model,"forward")}),r.preventDefault(),n.stop()}}))}),{context:"li"})}_setupEnterIntegration(){const t=this.editor,e=t.model,o=t.commands,n=o.get("enter");this.listenTo(t.editing.view.document,"enter",((o,n)=>{const r=e.document,i=r.selection.getFirstPosition().parent;if(r.selection.isCollapsed&&Qq(i)&&i.isEmpty&&!n.isSoft){const e=nH(i),r=rH(i);e&&r?(t.execute("outdentList"),n.preventDefault(),o.stop()):e&&!r?(t.execute("splitListItemAfter"),n.preventDefault(),o.stop()):r&&(t.execute("splitListItemBefore"),n.preventDefault(),o.stop())}}),{context:"li"}),this.listenTo(n,"afterExecute",(()=>{const e=o.get("splitListItemBefore");if(e.refresh(),!e.isEnabled)return;2===tH(t.model.document.selection.getLastPosition().parent).length&&e.execute()}))}_setupTabIntegration(){const t=this.editor;this.listenTo(t.editing.view.document,"tab",((e,o)=>{const n=o.shiftKey?"outdentList":"indentList";this.editor.commands.get(n).isEnabled&&(t.execute(n),o.stopPropagation(),o.preventDefault(),e.stop())}),{context:"li"})}_setupConversion(){const t=this.editor,e=t.model,o=this.getListAttributeNames(),n=t.config.get("list.multiBlock"),r=n?"paragraph":"listItem";t.conversion.for("upcast").elementToElement({view:"li",model:(t,{writer:e})=>e.createElement(r,{listType:""})}).elementToElement({view:"p",model:(t,{writer:e})=>t.parent&&t.parent.is("element","li")?e.createElement(r,{listType:""}):null,converterPriority:"high"}).add((t=>{t.on("element:li",DH()),t.on("element:ul",TH(),{priority:"high"}),t.on("element:ol",TH(),{priority:"high"})})),n||t.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),t.conversion.for("editingDowncast").elementToElement({model:r,view:LH(o),converterPriority:"high"}).add((t=>{t.on("attribute",BH(o,this._downcastStrategies,e))})),t.conversion.for("dataDowncast").elementToElement({model:r,view:LH(o,{dataPipeline:!0}),converterPriority:"high"}).add((t=>{t.on("attribute",BH(o,this._downcastStrategies,e,{dataPipeline:!0}))})),this.listenTo(e.document,"change:data",function(t,e,o,n){return()=>{const n=t.document.differ.getChanges(),s=[],l=new Map,a=new Set;for(const t of n)if("insert"==t.type&&"$text"!=t.name)MH(t.position,l),t.attributes.has("listItemId")?a.add(t.position.nodeAfter):MH(t.position.getShiftedBy(t.length),l);else if("remove"==t.type&&t.attributes.has("listItemId"))MH(t.position,l);else if("attribute"==t.type){const e=t.range.start.nodeAfter;o.includes(t.attributeKey)?(MH(t.range.start,l),null===t.attributeNewValue?(MH(t.range.start.getShiftedBy(1),l),i(e)&&s.push(e)):a.add(e)):Qq(e)&&i(e)&&s.push(e)}for(const t of l.values())s.push(...r(t,a));for(const t of new Set(s))e.reconvertItem(t)};function r(t,e){const n=[],r=new Set,l=[];for(const{node:a,previous:d}of Jq(t,"forward")){if(r.has(a))continue;const t=a.getAttribute("listIndent");d&&t<d.getAttribute("listIndent")&&(l.length=t+1),l[t]=Object.fromEntries(Array.from(a.getAttributes()).filter((([t])=>o.includes(t))));const c=eH(a,{direction:"forward"});for(const t of c)r.add(t),(i(t,c)||s(t,l,e))&&n.push(t)}return n}function i(t,r){const i=e.mapper.toViewElement(t);if(!i)return!1;if(n.fire("checkElement",{modelElement:t,viewElement:i}))return!0;if(!t.is("element","paragraph")&&!t.is("element","listItem"))return!1;const s=PH(t,o,r);return!(!s||!i.is("element","p"))||!(s||!i.is("element","span"))}function s(t,o,r){if(r.has(t))return!1;const i=e.mapper.toViewElement(t);let s=o.length-1;for(let t=i.parent;!t.is("editableElement");t=t.parent){const e=_H(t),r=vH(t);if(!r&&!e)continue;const i="checkAttributes:"+(e?"item":"list");if(n.fire(i,{viewElement:t,modelAttributes:o[s]}))break;if(r&&(s--,s<0))return!1}return!0}}(e,t.editing,o,this),{priority:"high"}),this.on("checkAttributes:item",((t,{viewElement:e,modelAttributes:o})=>{e.id!=o.listItemId&&(t.return=!0,t.stop())})),this.on("checkAttributes:list",((t,{viewElement:e,modelAttributes:o})=>{e.name==SH(o.listType)&&e.id==EH(o.listType,o.listIndent)||(t.return=!0,t.stop())}))}_setupModelPostFixing(){const t=this.editor.model,e=this.getListAttributeNames();t.document.registerPostFixer((o=>function(t,e,o,n){const r=t.document.differ.getChanges(),i=new Map,s=n.editor.config.get("list.multiBlock");let l=!1;for(const n of r){if("insert"==n.type&&"$text"!=n.name){const r=n.position.nodeAfter;if(!t.schema.checkAttribute(r,"listItemId"))for(const t of Array.from(r.getAttributeKeys()))o.includes(t)&&(e.removeAttribute(t,r),l=!0);MH(n.position,i),n.attributes.has("listItemId")||MH(n.position.getShiftedBy(n.length),i);for(const{item:e,previousPosition:o}of t.createRangeIn(r))Qq(e)&&MH(o,i)}else"remove"==n.type?MH(n.position,i):"attribute"==n.type&&o.includes(n.attributeKey)&&(MH(n.range.start,i),null===n.attributeNewValue&&MH(n.range.start.getShiftedBy(1),i));if(!s&&"attribute"==n.type&&OH.includes(n.attributeKey)){const t=n.range.start.nodeAfter;null===n.attributeNewValue&&t&&t.is("element","listItem")?(e.rename(t,"paragraph"),l=!0):null===n.attributeOldValue&&t&&t.is("element")&&"listItem"!=t.name&&(e.rename(t,"listItem"),l=!0)}}const a=new Set;for(const t of i.values())l=n.fire("postFixer",{listNodes:new Yq(t),listHead:t,writer:e,seenIds:a})||l;return l}(t,o,e,this))),this.on("postFixer",((t,{listNodes:e,writer:o})=>{t.return=function(t,e){let o=0,n=-1,r=null,i=!1;for(const{node:s}of t){const t=s.getAttribute("listIndent");if(t>o){let l;null===r?(r=t-o,l=o):(r>t&&(r=t),l=t-r),l>n+1&&(l=n+1),e.setAttribute("listIndent",l,s),i=!0,n=l}else r=null,o=t+1,n=t}return i}(e,o)||t.return}),{priority:"high"}),this.on("postFixer",((t,{listNodes:e,writer:o,seenIds:n})=>{t.return=function(t,e,o){const n=new Set;let r=!1;for(const{node:i}of t){if(n.has(i))continue;let t=i.getAttribute("listType"),s=i.getAttribute("listItemId");if(e.has(s)&&(s=Xq.next()),e.add(s),i.is("element","listItem"))i.getAttribute("listItemId")!=s&&(o.setAttribute("listItemId",s,i),r=!0);else for(const e of eH(i,{direction:"forward"}))n.add(e),e.getAttribute("listType")!=t&&(s=Xq.next(),t=e.getAttribute("listType")),e.getAttribute("listItemId")!=s&&(o.setAttribute("listItemId",s,e),r=!0)}return r}(e,n,o)||t.return}),{priority:"high"})}_setupClipboardIntegration(){const t=this.editor.model,e=this.editor.plugins.get("ClipboardPipeline");this.listenTo(t,"insertContent",function(t){return(e,[o,n])=>{const r=o.is("documentFragment")?Array.from(o.getChildren()):[o];if(!r.length)return;const i=(n?t.createSelection(n):t.document.selection).getFirstPosition();let s;if(Qq(i.parent))s=i.parent;else{if(!Qq(i.nodeBefore))return;s=i.nodeBefore}t.change((t=>{const e=s.getAttribute("listType"),o=s.getAttribute("listIndent"),n=r[0].getAttribute("listIndent")||0,i=Math.max(o-n,0);for(const o of r){const n=Qq(o);s.is("element","listItem")&&o.is("element","paragraph")&&t.rename(o,"listItem"),t.setAttributes({listIndent:(n?o.getAttribute("listIndent"):0)+i,listItemId:n?o.getAttribute("listItemId"):Xq.next(),listType:e},o)}}))}}(t),{priority:"high"}),this.listenTo(e,"outputTransformation",((e,o)=>{t.change((t=>{const e=Array.from(o.content.getChildren()),n=e[e.length-1];if(e.length>1&&n.is("element")&&n.isEmpty){e.slice(0,-1).every(Qq)&&t.remove(n)}if("copy"==o.method||"cut"==o.method){const e=Array.from(o.content.getChildren());hH(e)&&cH(e,t)}}))}))}}function NH(t,e){const o=t.document.selection;if(!o.isCollapsed)return!pH(t);if("forward"===e)return!0;const n=o.getFirstPosition().parent,r=n.previousSibling;return!t.schema.isObject(r)&&(!!r.isEmpty||hH([n,r]))}function $H(t,e,o,n){t.ui.componentFactory.add(e,(r=>{const i=t.commands.get(e),s=new sp(r);return s.set({label:o,icon:n,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(i,"value","isEnabled"),s.on("execute",(()=>{t.execute(e),t.editing.view.focus()})),s}))}const KH='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',qH='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class HH extends Lr{static get pluginName(){return"ListUI"}init(){const t=this.editor.t;$H(this.editor,"numberedList",t("Numbered List"),KH),$H(this.editor,"bulletedList",t("Bulleted List"),qH)}}class jH extends Ir{refresh(){const t=this._getValue();this.value=t,this.isEnabled=null!=t}execute({startIndex:t=1}={}){const e=this.editor.model,o=e.document;let n=Array.from(o.selection.getSelectedBlocks()).filter((t=>Qq(t)&&"numbered"==t.getAttribute("listType")));n=sH(n),e.change((e=>{for(const o of n)e.setAttribute("listStart",t>=0?t:1,o)}))}_getValue(){const t=_r(this.editor.model.document.selection.getSelectedBlocks());return t&&Qq(t)&&"numbered"==t.getAttribute("listType")?t.getAttribute("listStart"):null}}const WH={},UH={},GH={},ZH=[{listStyle:"circle-solid",typeAttribute:"circle-solid",listType:"bulleted"},{listStyle:"circle-hollow",typeAttribute:"circle-hollow",listType:"bulleted"},{listStyle:"square-solid",typeAttribute:"square-solid",listType:"bulleted"},{listStyle:"diamond-filled",typeAttribute:"diamond-filled",listType:"bulleted"},{listStyle:"square-hollow",typeAttribute:"square-hollow",listType:"bulleted"},{listStyle:"diamond-hollow",typeAttribute:"diamond-hollow",listType:"bulleted"},{listStyle:"blank",typeAttribute:"blank",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"},{listStyle:"blank",typeAttribute:"blank",listType:"numbered"}];for(const{listStyle:t,typeAttribute:e,listType:o}of ZH)WH[t]=o,UH[t]=e,e&&(GH[e]=t);function JH(){return ZH.map((t=>t.listStyle))}function YH(t){return WH[t]||null}function XH(t){return GH[t]||null}function QH(t){return UH[t]||null}class tj extends Ir{constructor(t,e,o){super(t),this.defaultType=e,this._supportedTypes=o}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,o=e.document;e.change((e=>{this._tryToConvertItemsToList(t);let n=Array.from(o.selection.getSelectedBlocks()).filter((t=>t.hasAttribute("listType")));if(n.length){n=sH(n);for(const o of n)e.setAttribute("listStyle",t.type||this.defaultType,o)}}))}isStyleTypeSupported(t){return!this._supportedTypes||this._supportedTypes.includes(t)}_getValue(){const t=_r(this.editor.model.document.selection.getSelectedBlocks());return Qq(t)?t.getAttribute("listStyle"):null}_checkEnabled(){const t=this.editor,e=t.commands.get("numberedList"),o=t.commands.get("bulletedList");return e.isEnabled||o.isEnabled}_tryToConvertItemsToList(t){if(!t.type)return;const e=YH(t.type);if(!e)return;const o=this.editor,n=`${e}List`;o.commands.get(n).value||o.execute(n)}}class ej extends Ir{refresh(){const t=this._getValue();this.value=t,this.isEnabled=null!=t}execute(t={}){const e=this.editor.model,o=e.document;let n=Array.from(o.selection.getSelectedBlocks()).filter((t=>Qq(t)&&"numbered"==t.getAttribute("listType")));n=sH(n),e.change((e=>{for(const o of n)e.setAttribute("listReversed",!!t.reversed,o)}))}_getValue(){const t=_r(this.editor.model.document.selection.getSelectedBlocks());return Qq(t)&&"numbered"==t.getAttribute("listType")?t.getAttribute("listReversed"):null}}class oj extends Ir{refresh(){const t=this._getValue();this.value=t,this.isEnabled=null!=t}execute(t={}){const e=this.editor.model,o=e.document;let n=Array.from(o.selection.getSelectedBlocks()).filter((t=>Qq(t)&&"numbered"==t.getAttribute("listType")));n=sH(n),e.change((e=>{for(const o of n)e.setAttribute("listBracketed",!!t.bracketed,o)}))}_getValue(){const t=_r(this.editor.model.document.selection.getSelectedBlocks());return Qq(t)&&"numbered"==t.getAttribute("listType")?t.getAttribute("listBracketed"):null}}function nj(t){return(e,o,n)=>{const{writer:r,schema:i,consumable:s}=n;if(!1===s.test(o.viewItem,t.viewConsumables))return;o.modelRange||Object.assign(o,n.convertChildren(o.viewItem,o.modelCursor));let l=!1;for(const e of o.modelRange.getItems({shallow:!0}))i.checkAttribute(e,t.attributeName)&&t.appliesToListItem(e)&&(e.hasAttribute(t.attributeName)||(r.setAttribute(t.attributeName,t.getAttributeOnUpcast(o.viewItem),e),l=!0));l&&s.consume(o.viewItem,t.viewConsumables)}}class rj extends Lr{static get pluginName(){return"DocumentListPropertiesUtils"}getAllSupportedStyleTypes(){return JH()}getListTypeFromListStyleType(t){return YH(t)}getListStyleTypeFromTypeAttribute(t){return XH(t)}getTypeAttributeFromListStyleType(t){return QH(t)}}const ij="default";class sj extends Lr{static get requires(){return[VH,rj]}static get pluginName(){return"DocumentListPropertiesEditing"}constructor(t){super(t),t.config.define("list.properties",{styles:!0,startIndex:!1,reversed:!1,bracketed:!1})}init(){const t=this.editor,e=t.model,o=t.plugins.get(VH),n=function(t){const e=[];if(t.styles){const o="object"==typeof t.styles&&t.styles.useAttribute;e.push({attributeName:"listStyle",defaultValue:ij,viewConsumables:{styles:"list-style-type"},addCommand(t){let e=JH();o&&(e=e.filter((t=>!!QH(t)))),t.commands.add("listStyle",new tj(t,ij,e))},appliesToListItem:t=>"numbered"==t.getAttribute("listType")||"bulleted"==t.getAttribute("listType"),hasValidAttribute(t){if(!this.appliesToListItem(t))return!t.hasAttribute("listStyle");if(!t.hasAttribute("listStyle"))return!1;const e=t.getAttribute("listStyle");return e==ij||YH(e)==t.getAttribute("listType")},setAttributeOnDowncast(t,e,n){if(e&&e!==ij){if(!o)return void t.setStyle("list-style-type",e,n);{const o=QH(e);if(o)return void t.setAttribute("type",o,n)}}t.removeStyle("list-style-type",n),t.removeAttribute("type",n)},getAttributeOnUpcast(t){const e=t.getStyle("list-style-type");if(e)return e;const o=t.getAttribute("type");return o?XH(o):ij}})}t.reversed&&e.push({attributeName:"listReversed",defaultValue:!1,viewConsumables:{attributes:"reversed"},addCommand(t){t.commands.add("listReversed",new ej(t))},appliesToListItem:t=>"numbered"==t.getAttribute("listType"),hasValidAttribute(t){return this.appliesToListItem(t)==t.hasAttribute("listReversed")},setAttributeOnDowncast(t,e,o){e?t.setAttribute("reversed","reversed",o):t.removeAttribute("reversed",o)},getAttributeOnUpcast:t=>t.hasAttribute("reversed")});t.bracketed&&e.push({attributeName:"listBracketed",defaultValue:!1,viewConsumables:{attributes:"bracketed"},addCommand(t){t.commands.add("listBracketed",new oj(t))},appliesToListItem:t=>"numbered"==t.getAttribute("listType"),hasValidAttribute(t){return this.appliesToListItem(t)==t.hasAttribute("listBracketed")},setAttributeOnDowncast(t,e,o){e?t.setAttribute("bracketed","bracketed",o):t.removeAttribute("bracketed",o)},getAttributeOnUpcast:t=>t.hasAttribute("bracketed")});t.startIndex&&e.push({attributeName:"listStart",defaultValue:1,viewConsumables:{attributes:"start"},addCommand(t){t.commands.add("listStart",new jH(t))},appliesToListItem:t=>"numbered"==t.getAttribute("listType"),hasValidAttribute(t){return this.appliesToListItem(t)==t.hasAttribute("listStart")},setAttributeOnDowncast(t,e,o){0==e||e>1?t.setAttribute("start",e,o):t.removeAttribute("start",o)},getAttributeOnUpcast(t){const e=t.getAttribute("start");return e>=0?e:1}});return e}(t.config.get("list.properties"));for(const r of n)r.addCommand(t),e.schema.extend("$listItem",{allowAttributes:r.attributeName}),o.registerDowncastStrategy({scope:"list",attributeName:r.attributeName,setAttributeOnDowncast(t,e,o){r.setAttributeOnDowncast(t,e,o)}});t.conversion.for("upcast").add((t=>{for(const e of n)t.on("element:ol",nj(e)),t.on("element:ul",nj(e))})),o.on("checkAttributes:list",((t,{viewElement:e,modelAttributes:o})=>{for(const r of n)r.getAttributeOnUpcast(e)!=o[r.attributeName]&&(t.return=!0,t.stop())})),this.listenTo(t.commands.get("indentList"),"afterExecute",((t,o)=>{e.change((t=>{for(const e of o)for(const o of n)o.appliesToListItem(e)&&t.setAttribute(o.attributeName,o.defaultValue,e)}))})),o.on("postFixer",((t,{listNodes:e,writer:o})=>{for(const{node:r}of e)for(const e of n)e.hasValidAttribute(r)||(e.appliesToListItem(r)?o.setAttribute(e.attributeName,e.defaultValue,r):o.removeAttribute(e.attributeName,r),t.return=!0)})),o.on("postFixer",((t,{listNodes:e,writer:o})=>{for(const{node:r,previousNodeInList:i}of e)if(i&&i.getAttribute("listType")==r.getAttribute("listType"))for(const e of n){const{attributeName:n}=e;if(!e.appliesToListItem(r))continue;const s=i.getAttribute(n);r.getAttribute(n)!=s&&(o.setAttribute(n,s,r),t.return=!0)}}))}}var lj=o(6941),aj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(lj.Z,aj);lj.Z.locals;class dj extends Bu{constructor(t,e){super(t);const o=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),e&&this.children.addMany(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",o.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:o.if("isCollapsed","hidden"),"aria-labelledby":o.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}_createButtonView(){const t=new sp(this.locale),e=t.bindTemplate;return t.set({withText:!0,icon:$p}),t.extendTemplate({attributes:{"aria-expanded":e.to("isOn",(t=>String(t)))}}),t.bind("label").to(this),t.bind("isOn").to(this,"isCollapsed",(t=>!t)),t.on("execute",(()=>{this.isCollapsed=!this.isCollapsed})),t}}var cj=o(1467),hj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(cj.Z,hj);cj.Z.locals;class uj extends Bu{constructor(t,{enabledProperties:e,styleButtonViews:o,styleGridAriaLabel:n}){super(t),this.stylesView=null,this.additionalPropertiesCollapsibleView=null,this.startIndexFieldView=null,this.reversedSwitchButtonView=null,this.bracketedSwitchButtonView=null,this.focusTracker=new Ar,this.keystrokes=new Cr,this.focusables=new Mu;const r=["ck","ck-list-properties"];this.children=this.createCollection(),this.focusCycler=new qp({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),e.styles?(this.stylesView=this._createStylesView(o,n),this.children.add(this.stylesView)):r.push("ck-list-properties_without-styles"),(e.startIndex||e.reversed)&&(this._addNumberedListPropertyViews(e),r.push("ck-list-properties_with-numbered-properties")),this.setTemplate({tag:"div",attributes:{class:r},children:this.children})}render(){if(super.render(),this.stylesView){this.focusables.add(this.stylesView),this.focusTracker.add(this.stylesView.element),(this.startIndexFieldView||this.reversedSwitchButtonView||this.bracketedSwitchButtonView)&&(this.focusables.add(this.children.last.buttonView),this.focusTracker.add(this.children.last.buttonView.element));for(const t of this.stylesView.children)this.stylesView.focusTracker.add(t.element);Eu({keystrokeHandler:this.stylesView.keystrokes,focusTracker:this.stylesView.focusTracker,gridItems:this.stylesView.children,numberOfColumns:()=>Tn.window.getComputedStyle(this.stylesView.element).getPropertyValue("grid-template-columns").split(" ").length,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection})}if(this.startIndexFieldView){this.focusables.add(this.startIndexFieldView),this.focusTracker.add(this.startIndexFieldView.element);const t=t=>t.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t)}this.reversedSwitchButtonView&&(this.focusables.add(this.reversedSwitchButtonView),this.focusTracker.add(this.reversedSwitchButtonView.element)),this.bracketedSwitchButtonView&&(this.focusables.add(this.bracketedSwitchButtonView),this.focusTracker.add(this.bracketedSwitchButtonView.element)),this.keystrokes.listenTo(this.element)}focus(){this.focusCycler.focusFirst()}focusLast(){this.focusCycler.focusLast()}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createStylesView(t,e){const o=new Bu(this.locale);return o.children=o.createCollection(),o.children.addMany(t),o.setTemplate({tag:"div",attributes:{"aria-label":e,class:["ck","ck-list-styles-list"]},children:o.children}),o.children.delegate("execute").to(this),o.focus=function(){this.children.first.focus()},o.focusTracker=new Ar,o.keystrokes=new Cr,o.render(),o.keystrokes.listenTo(o.element),o}_addNumberedListPropertyViews(t){const e=this.locale.t,o=[];t.startIndex&&(this.startIndexFieldView=this._createStartIndexField(),o.push(this.startIndexFieldView)),t.reversed&&(this.reversedSwitchButtonView=this._createReversedSwitchButton(),o.push(this.reversedSwitchButtonView)),t.bracketed&&(this.bracketedSwitchButtonView=this._createBracketedSwitchButton(),o.push(this.bracketedSwitchButtonView)),t.styles?(this.additionalPropertiesCollapsibleView=new dj(this.locale,o),this.additionalPropertiesCollapsibleView.set({label:e("List properties"),isCollapsed:!0}),this.additionalPropertiesCollapsibleView.buttonView.bind("isEnabled").toMany(o,"isEnabled",((...t)=>t.some((t=>t)))),this.additionalPropertiesCollapsibleView.buttonView.on("change:isEnabled",((t,e,o)=>{o||(this.additionalPropertiesCollapsibleView.isCollapsed=!0)})),this.children.add(this.additionalPropertiesCollapsibleView)):this.children.addMany(o)}_createStartIndexField(){const t=this.locale.t,e=new Mp(this.locale,_m);return e.set({label:t("Start at"),class:"ck-numbered-list-properties__start-index"}),e.fieldView.set({min:0,step:1,value:1,inputMode:"numeric"}),e.fieldView.on("input",(()=>{const o=e.fieldView.element,n=o.valueAsNumber;Number.isNaN(n)||(o.checkValidity()?this.fire("listStart",{startIndex:n}):e.errorText=t("Start index must be greater than 0."))})),e}_createReversedSwitchButton(){const t=this.locale.t,e=new dp(this.locale);return e.set({withText:!0,label:t("Reversed order"),class:"ck-numbered-list-properties__reversed-order"}),e.delegate("execute").to(this,"listReversed"),e}_createBracketedSwitchButton(){const t=new dp(this.locale);return t.set({withText:!0,label:"Bracketed Markers",class:"ck-numbered-list-properties__bracketed"}),t.delegate("execute").to(this,"listBracketed"),t}}const pj='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="10" viewBox="0 0 22 10">\n  <text id="Font" transform="translate(11 8)" fill="rgba(34,34,34,0.87)" font-size="8" font-family="Barlow-Bold, Barlow"\n        font-weight="700" letter-spacing="0.05em">\n    <tspan x="-10.704" y="0">Blank</tspan>\n  </text>\n</svg>\n';var mj=o(1168),gj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(mj.Z,gj);mj.Z.locals;class bj extends Lr{static get pluginName(){return"ListPropertiesUI"}init(){const t=this.editor,e=t.locale.t,o=t.config.get("list.properties");o.styles&&t.ui.componentFactory.add("bulletedList",fj({editor:t,parentCommandName:"bulletedList",buttonLabel:e("Bulleted List"),buttonIcon:qH,styleGridAriaLabel:e("Bulleted list styles toolbar"),styleDefinitions:[{label:e("Toggle the circle list style"),tooltip:e("Circle"),type:"circle-solid",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="5" height="5" viewBox="0 0 20 20">\n  <g id="Ellipse_527" data-name="Ellipse 527" fill="#222" stroke="#222" stroke-width="1">\n    <circle cx="10" cy="10" r="2.7" stroke="none"/>\n    <circle cx="10" cy="10" r="2.7" fill="none"/>\n  </g>\n</svg>\n'},{label:e("Toggle the disc list style"),tooltip:e("Disc"),type:"circle-hollow",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="5" height="5" viewBox="0 0 20 20">\n  <style>\n    .no-fill{fill:none!important;}\n  </style>\n  <g id="Ellipse_527" data-name="Ellipse 527" fill="#222" stroke="#222" stroke-width="1">\n    <circle cx="10" cy="10" r="2.7" stroke="none" class="no-fill"/>\n    <circle cx="10" cy="10" r="2.5" class="no-fill"/>\n  </g>\n</svg>\n'},{label:e("Toggle the square list style"),tooltip:e("Square"),type:"square-solid",icon:'<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M10.4054 10H15V15H10V10H10.4054Z" fill="black" stroke="#333333" stroke-width="0.0611111" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n'},{label:"Toggle the hollow square list style",tooltip:"Square hollow",type:"square-hollow",icon:'<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <style>\n    .no-fill{fill:none!important;}\n  </style>\n  <path d="M10.4054 10H15V15H10V10H10.4054Z" stroke="black" stroke-width="0.72" stroke-linecap="round"\n        stroke-linejoin="round" class="no-fill"/>\n</svg>\n'},{label:"Toggle the filled diamond list style",tooltip:"Diamond filled",type:"diamond-filled",icon:'<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M15.1524 12.2113L12 9L8.84758 12.2113L12 15.4225L15.1524 12.2113Z" fill="black" stroke="black"\n        stroke-width="0.718713"/>\n</svg>\n'},{label:"Toggle the hollow diamond list style",tooltip:"Diamond hollow",type:"diamond-hollow",icon:'<svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <style>\n    .no-fill{fill:none!important;}\n  </style>\n  <path d="M15.1524 12.2113L12 9L8.84758 12.2113L12 15.4225L15.1524 12.2113Z" fill="none" stroke="black" class="no-fill"\n        stroke-width="0.718713"/>\n</svg>\n'},{label:"Toggle the blank list style",tooltip:"Blank",type:"blank",icon:pj}]})),(o.styles||o.startIndex||o.reversed||o.bracketed)&&t.ui.componentFactory.add("numberedList",fj({editor:t,parentCommandName:"numberedList",buttonLabel:e("Numbered List"),buttonIcon:KH,styleGridAriaLabel:e("Numbered list styles toolbar"),styleDefinitions:[{label:e("Toggle the decimal list style"),tooltip:e("Decimal"),type:"decimal",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M10.29 15V8.531H9.286c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.343 0v-1.235h-1.235V15h1.235zM11.3 24v-1.147H8.848c.064-.111.148-.226.252-.343.104-.117.351-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.494-.824.104-.263.156-.539.156-.829 0-.51-.182-.936-.545-1.279-.363-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.153-.155.358-.233.616-.233.26 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.468.536-1.024 1.055-.692.641-1.155 1.156-1.389 1.544-.234.389-.375.8-.422 1.233H11.3zm2.333 0v-1.235h-1.235V24h1.235zM9.204 34.11c.615 0 1.129-.2 1.542-.598.413-.398.62-.88.62-1.446 0-.39-.11-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.619-.337.928-.788.928-1.353 0-.399-.151-.756-.453-1.073-.366-.386-.852-.58-1.459-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.668.55c-.16.232-.28.544-.358.933l1.138.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.215 0 .386.065.515.194s.193.302.193.518c0 .255-.087.46-.263.613-.176.154-.43.227-.765.218l-.136 1.006c.22-.061.409-.092.567-.092.24 0 .444.09.61.272.168.182.251.428.251.739 0 .328-.087.589-.261.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.307-.698l-1.196.145c.062.542.285.98.668 1.316.384.335.868.503 1.45.503zm4.43-.11v-1.235h-1.236V34h1.235z"/></svg>'},{label:e("Toggle the decimal with leading zero list style"),tooltip:e("Decimal with leading zero"),type:"decimal-leading-zero",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M5.714 15.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm6.078.914V8.531H10.79c-.14.393-.4.736-.778 1.03-.378.295-.728.495-1.05.6v1.121a4.257 4.257 0 0 0 1.595-.936V15h1.235zm3.344 0v-1.235h-1.235V15h1.235zm-9.422 9.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm7.088.914v-1.147H10.35c.065-.111.149-.226.253-.343.104-.117.35-.354.74-.712.39-.357.66-.631.81-.821.225-.288.39-.562.493-.824.104-.263.156-.539.156-.829 0-.51-.181-.936-.544-1.279-.364-.342-.863-.514-1.499-.514-.58 0-1.063.148-1.45.444-.387.296-.617.784-.69 1.463l1.23.124c.024-.36.112-.619.264-.774.152-.155.357-.233.615-.233.261 0 .465.074.613.222.148.148.222.36.222.635 0 .25-.085.501-.255.756-.126.185-.467.536-1.024 1.055-.691.641-1.154 1.156-1.388 1.544-.235.389-.375.8-.422 1.233h4.328zm2.334 0v-1.235h-1.235V24h1.235zM5.714 34.11c.624 0 1.11-.22 1.46-.66.421-.533.632-1.408.632-2.627 0-1.222-.21-2.096-.629-2.624-.351-.445-.839-.668-1.463-.668-.624 0-1.11.22-1.459.66-.422.533-.633 1.406-.633 2.619 0 1.236.192 2.095.576 2.577.384.482.89.723 1.516.723zm0-1.024a.614.614 0 0 1-.398-.14c-.115-.094-.211-.283-.287-.565-.077-.283-.115-.802-.115-1.558s.043-1.294.128-1.613c.064-.246.155-.417.272-.512a.617.617 0 0 1 .4-.143.61.61 0 0 1 .398.143c.116.095.211.284.288.567.076.283.114.802.114 1.558s-.043 1.292-.128 1.608c-.064.246-.155.417-.272.512a.617.617 0 0 1-.4.143zm4.992 1.024c.616 0 1.13-.2 1.543-.598.413-.398.62-.88.62-1.446 0-.39-.111-.722-.332-.997a1.5 1.5 0 0 0-.886-.532c.618-.337.927-.788.927-1.353 0-.399-.15-.756-.452-1.073-.366-.386-.853-.58-1.46-.58a2.25 2.25 0 0 0-.96.2 1.617 1.617 0 0 0-.667.55c-.16.232-.28.544-.359.933l1.139.194c.032-.282.123-.495.272-.642.15-.146.33-.22.54-.22.214 0 .386.065.515.194s.193.302.193.518c0 .255-.088.46-.264.613-.175.154-.43.227-.764.218l-.136 1.006c.22-.061.408-.092.566-.092.24 0 .444.09.611.272.167.182.25.428.25.739 0 .328-.086.589-.26.782a.833.833 0 0 1-.644.29.841.841 0 0 1-.607-.242c-.167-.16-.27-.394-.308-.698l-1.195.145c.062.542.284.98.668 1.316.384.335.867.503 1.45.503zm4.43-.11v-1.235h-1.235V34h1.235z"/></svg>'},{label:e("Toggle the lower–roman list style"),tooltip:e("Lower–roman"),type:"lower-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.88 8.7V7.558h-1.234V8.7h1.234zm0 5.3V9.333h-1.234V14h1.234zm2.5 0v-1.235h-1.234V14h1.235zm-4.75 4.7v-1.142H8.395V18.7H9.63zm0 5.3v-4.667H8.395V24H9.63zm2.5-5.3v-1.142h-1.234V18.7h1.235zm0 5.3v-4.667h-1.234V24h1.235zm2.501 0v-1.235h-1.235V24h1.235zM7.38 28.7v-1.142H6.145V28.7H7.38zm0 5.3v-4.667H6.145V34H7.38zm2.5-5.3v-1.142H8.646V28.7H9.88zm0 5.3v-4.667H8.646V34H9.88zm2.5-5.3v-1.142h-1.234V28.7h1.235zm0 5.3v-4.667h-1.234V34h1.235zm2.501 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:e("Toggle the upper–roman list style"),tooltip:e("Upper-roman"),type:"upper-roman",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M11.916 15V8.558h-1.301V15h1.3zm2.465 0v-1.235h-1.235V15h1.235zM9.665 25v-6.442h-1.3V25h1.3zm2.5 0v-6.442h-1.3V25h1.3zm2.466 0v-1.235h-1.235V25h1.235zm-7.216 9v-6.442h-1.3V34h1.3zm2.5 0v-6.442h-1.3V34h1.3zm2.501 0v-6.442h-1.3V34h1.3zm2.465 0v-1.235h-1.235V34h1.235z"/></svg>'},{label:e("Toggle the lower–latin list style"),tooltip:e("Lower-latin"),type:"lower-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="M9.62 14.105c.272 0 .528-.05.768-.153s.466-.257.677-.462c.009.024.023.072.044.145.047.161.086.283.119.365h1.221a2.649 2.649 0 0 1-.222-.626c-.04-.195-.059-.498-.059-.908l.013-1.441c0-.536-.055-.905-.165-1.105-.11-.201-.3-.367-.569-.497-.27-.13-.68-.195-1.23-.195-.607 0-1.064.108-1.371.325-.308.217-.525.55-.65 1.002l1.12.202c.076-.217.176-.369.299-.455.123-.086.294-.13.514-.13.325 0 .546.05.663.152.118.101.176.27.176.508v.123c-.222.093-.622.194-1.2.303-.427.082-.755.178-.982.288-.227.11-.403.268-.53.474a1.327 1.327 0 0 0-.188.706c0 .398.138.728.415.988.277.261.656.391 1.136.391zm.368-.87a.675.675 0 0 1-.492-.189.606.606 0 0 1-.193-.448c0-.176.08-.32.241-.435.106-.07.33-.142.673-.215a7.19 7.19 0 0 0 .751-.19v.247c0 .296-.016.496-.048.602a.773.773 0 0 1-.295.409 1.07 1.07 0 0 1-.637.22zm4.645.765v-1.235h-1.235V14h1.235zM10.2 25.105c.542 0 1.003-.215 1.382-.646.38-.43.57-1.044.57-1.84 0-.771-.187-1.362-.559-1.774a1.82 1.82 0 0 0-1.41-.617c-.522 0-.973.216-1.354.65v-2.32H7.594V25h1.147v-.686a1.9 1.9 0 0 0 .67.592c.26.133.523.2.79.2zm-.299-.975c-.354 0-.638-.164-.852-.492-.153-.232-.229-.59-.229-1.073 0-.468.098-.818.295-1.048a.93.93 0 0 1 .738-.345c.302 0 .55.118.743.354.193.236.29.62.29 1.154 0 .5-.096.868-.288 1.1-.192.233-.424.35-.697.35zm4.478.87v-1.235h-1.234V25h1.234zm-4.017 9.105c.6 0 1.08-.142 1.437-.426.357-.284.599-.704.725-1.261l-1.213-.207c-.061.326-.167.555-.316.688a.832.832 0 0 1-.576.2.916.916 0 0 1-.75-.343c-.185-.228-.278-.62-.278-1.173 0-.498.091-.853.274-1.066.183-.212.429-.318.736-.318.232 0 .42.061.565.184.145.123.238.306.28.55l1.216-.22c-.146-.501-.387-.874-.722-1.119-.336-.244-.788-.366-1.356-.366-.695 0-1.245.214-1.653.643-.407.43-.61 1.03-.61 1.8 0 .762.202 1.358.608 1.788.406.431.95.646 1.633.646zM14.633 34v-1.235h-1.235V34h1.235z"/></svg>'},{label:e("Toggle the upper–latin list style"),tooltip:e("Upper-latin"),type:"upper-latin",icon:'<svg viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><path d="M35 29a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17zm0-9a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H18a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h17z" fill-opacity=".163"/><path d="m7.88 15 .532-1.463h2.575L11.549 15h1.415l-2.58-6.442H9.01L6.5 15h1.38zm2.69-2.549H8.811l.87-2.39.887 2.39zM14.88 15v-1.235h-1.234V15h1.234zM9.352 25c.83-.006 1.352-.02 1.569-.044.346-.038.636-.14.872-.305.236-.166.422-.387.558-.664.137-.277.205-.562.205-.855 0-.372-.106-.695-.317-.97-.21-.276-.512-.471-.905-.585a1.51 1.51 0 0 0 .661-.567 1.5 1.5 0 0 0 .244-.83c0-.28-.066-.53-.197-.754a1.654 1.654 0 0 0-.495-.539 1.676 1.676 0 0 0-.672-.266c-.25-.042-.63-.063-1.14-.063H7.158V25h2.193zm.142-3.88H8.46v-1.49h.747c.612 0 .983.007 1.112.022.217.026.38.102.49.226.11.125.165.287.165.486a.68.68 0 0 1-.192.503.86.86 0 0 1-.525.23 11.47 11.47 0 0 1-.944.023h.18zm.17 2.795H8.46v-1.723h1.05c.592 0 .977.03 1.154.092.177.062.313.16.406.295a.84.84 0 0 1 .14.492c0 .228-.06.41-.181.547a.806.806 0 0 1-.473.257c-.126.026-.423.04-.892.04zM14.88 25v-1.235h-1.234V25h1.234zm-5.018 9.11c.691 0 1.262-.17 1.711-.512.45-.341.772-.864.965-1.567l-1.261-.4c-.109.472-.287.818-.536 1.037-.25.22-.547.33-.892.33-.47 0-.85-.173-1.143-.519-.293-.345-.44-.925-.44-1.74 0-.767.15-1.322.447-1.665.297-.343.684-.514 1.162-.514.346 0 .64.096.881.29.242.193.4.457.477.79l1.288-.307c-.147-.516-.367-.911-.66-1.187-.492-.465-1.132-.698-1.92-.698-.902 0-1.63.296-2.184.89-.554.593-.83 1.426-.83 2.498 0 1.014.275 1.813.825 2.397.551.585 1.254.877 2.11.877zM14.88 34v-1.235h-1.234V34h1.234z"/></svg>'},{label:e("Toggle the blank list style"),tooltip:e("Blank"),type:"blank",icon:pj}]}))}}function fj({editor:t,parentCommandName:e,buttonLabel:o,buttonIcon:n,styleGridAriaLabel:r,styleDefinitions:i}){const s=t.commands.get(e);return l=>{const a=gm(l,cm),d=a.buttonView;return a.bind("isEnabled").to(s),a.class="ck-list-styles-dropdown",d.on("execute",(()=>{t.execute(e),t.editing.view.focus()})),d.set({label:o,icon:n,tooltip:!0,isToggleable:!0}),d.bind("isOn").to(s,"value",(t=>!!t)),a.once("change:isOpen",(()=>{const o=function({editor:t,dropdownView:e,parentCommandName:o,styleDefinitions:n,styleGridAriaLabel:r}){const i=t.locale,s=t.config.get("list.properties");let l=null;"numberedList"!=o&&(s.startIndex=!1,s.reversed=!1,s.bracketed=!1);if(s.styles){const e=t.commands.get("listStyle"),r=function({editor:t,listStyleCommand:e,parentCommandName:o}){const n=t.locale,r=t.commands.get(o);return({label:o,type:i,icon:s,tooltip:l})=>{const a=new sp(n);return a.set({label:o,icon:s,tooltip:l}),e.on("change:value",(()=>{a.isOn=e.value===i})),a.on("execute",(()=>{r.value?e.value!==i?t.execute("listStyle",{type:i}):t.execute("listStyle",{type:e.defaultType}):t.model.change((()=>{t.execute("listStyle",{type:i})}))})),a}}({editor:t,parentCommandName:o,listStyleCommand:e}),i="function"==typeof e.isStyleTypeSupported?t=>e.isStyleTypeSupported(t.type):()=>!0;l=n.filter(i).map(r)}const a=new uj(i,{styleGridAriaLabel:r,enabledProperties:s,styleButtonViews:l});s.styles&&km(e,(()=>a.stylesView.children.find((t=>t.isOn))));if(s.startIndex){const e=t.commands.get("listStart");a.startIndexFieldView.bind("isEnabled").to(e),a.startIndexFieldView.fieldView.bind("value").to(e),a.on("listStart",((e,o)=>t.execute("listStart",o)))}if(s.reversed){const e=t.commands.get("listReversed");a.reversedSwitchButtonView.bind("isEnabled").to(e),a.reversedSwitchButtonView.bind("isOn").to(e,"value",(t=>!!t)),a.on("listReversed",(()=>{const o=e.value;t.execute("listReversed",{reversed:!o})}))}if(s.bracketed){const e=t.commands.get("listBracketed");a.bracketedSwitchButtonView.bind("isEnabled").to(e),a.bracketedSwitchButtonView.bind("isOn").to(e,"value",(t=>!!t)),a.on("listBracketed",(()=>{const o=e.value;t.execute("listBracketed",{bracketed:!o})}))}return a.delegate("execute").to(e),a}({editor:t,dropdownView:a,parentCommandName:e,styleGridAriaLabel:r,styleDefinitions:i});a.panelView.children.add(o)})),a.on("execute",(()=>{t.editing.view.focus()})),a}}mr("Ctrl+Enter");class wj extends Lr{static get pluginName(){return"TodoListUI"}init(){const t=this.editor.t;$H(this.editor,"todoList",t("To-do List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>')}}var xj=o(1520),kj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};$r()(xj.Z,kj);xj.Z.locals;class yj extends Ir{constructor(t){super(t),this.on("execute",(()=>{this.refresh()}),{priority:"highest"})}refresh(){const t=this._getSelectedItems();this.value=this._getValue(t),this.isEnabled=!!t.length}execute(t={}){this.editor.model.change((e=>{const o=this._getSelectedItems(),n=void 0===t.forceValue?!this._getValue(o):t.forceValue;for(const t of o)n?e.setAttribute("todoListChecked",!0,t):e.removeAttribute("todoListChecked",t)}))}_getValue(t){return t.every((t=>t.getAttribute("todoListChecked")))}_getSelectedItems(){const t=this.editor.model,e=t.schema,o=t.document.selection.getFirstRange(),n=o.start.parent,r=[];e.checkAttribute(n,"todoListChecked")&&r.push(...tH(n));for(const t of o.getItems({shallow:!0}))e.checkAttribute(t,"todoListChecked")&&!r.includes(t)&&r.push(...tH(t));return r}}class vj extends yl{constructor(){super(...arguments),this.domEventType=["change"]}onDomEvent(t){if(t.target){const e=this.view.domConverter.mapDomToView(t.target);e&&e.is("element","input")&&"checkbox"==e.getAttribute("type")&&e.findAncestor({classes:"todo-list__label"})&&this.fire("todoCheckboxChange",t)}}}const _j=mr("Ctrl+Enter");class Aj extends Lr{static get pluginName(){return"TodoDocumentListEditing"}static get requires(){return[VH]}init(){const t=this.editor,e=t.model,o=t.editing,n=t.plugins.get(VH),r=t.config.get("list.multiBlock")?"paragraph":"listItem";t.commands.add("todoList",new wH(t,"todo")),t.commands.add("checkTodoList",new yj(t)),o.view.addObserver(vj),e.schema.extend("$listItem",{allowAttributes:"todoListChecked"}),e.schema.addAttributeCheck(((t,e)=>{const o=t.last;if("todoListChecked"==e)return!(!o.getAttribute("listItemId")||"todo"!=o.getAttribute("listType"))&&void 0})),t.conversion.for("upcast").add((t=>{t.on("element:input",((t,e,o)=>{const n=e.modelCursor,r=n.parent,i=e.viewItem;if(!o.consumable.test(i,{name:!0}))return;if("checkbox"!=i.getAttribute("type")||!n.isAtStart||!r.hasAttribute("listType"))return;o.consumable.consume(i,{name:!0});const s=o.writer;s.setAttribute("listType","todo",r),e.viewItem.hasAttribute("checked")&&s.setAttribute("todoListChecked",!0,r),e.modelRange=s.createRange(n)})),t.on("element:label",Cj({name:"label",classes:"todo-list__label"})),t.on("element:label",Cj({name:"label",classes:["todo-list__label","todo-list__label_without-description"]})),t.on("element:span",Cj({name:"span",classes:"todo-list__label__description"})),t.on("element:ul",function(t){const e=new oi(t);return(t,o,n)=>{const r=e.match(o.viewItem);if(!r)return;const i=r.match;i.name=!1,n.consumable.consume(o.viewItem,i)}}({name:"ul",classes:"todo-list"}))})),t.conversion.for("downcast").elementToElement({model:r,view:(t,{writer:e})=>{if(Sj(t,n.getListAttributeNames()))return e.createContainerElement("span",{class:"todo-list__label__description"})},converterPriority:"highest"}),n.registerDowncastStrategy({scope:"list",attributeName:"listType",setAttributeOnDowncast(t,e,o){"todo"==e?t.addClass("todo-list",o):t.removeClass("todo-list",o)}}),n.registerDowncastStrategy({scope:"itemMarker",attributeName:"todoListChecked",createElement(t,e,{dataPipeline:o}){if("todo"!=e.getAttribute("listType"))return null;const n=t.createEmptyElement("input",{type:"checkbox",...e.getAttribute("todoListChecked")?{checked:"checked"}:null,...o?{disabled:"disabled"}:{tabindex:"-1"}});return o?n:t.createContainerElement("span",{contenteditable:"false"},n)},canWrapElement:t=>Sj(t,n.getListAttributeNames()),createWrapperElement(t,e,{dataPipeline:o}){const r=["todo-list__label"];return Sj(e,n.getListAttributeNames())||r.push("todo-list__label_without-description"),t.createAttributeElement(o?"label":"span",{class:r.join(" ")})}}),o.mapper.registerViewToModelLength("input",(t=>"checkbox"==t.getAttribute("type")&&t.findAncestor({classes:"todo-list__label"})?0:o.mapper.toModelElement(t)?1:0)),n.on("checkElement",((t,{modelElement:e,viewElement:o})=>{const r=Sj(e,n.getListAttributeNames());o.hasClass("todo-list__label__description")!=r&&(t.return=!0,t.stop())})),n.on("checkElement",((e,{modelElement:o,viewElement:n})=>{const r="todo"==o.getAttribute("listType")&&nH(o);let i=!1;const s=t.editing.view.createPositionBefore(n).getWalker({direction:"backward"});for(const{item:e}of s){if(e.is("element")&&t.editing.mapper.toModelElement(e))break;e.is("element","input")&&"checkbox"==e.getAttribute("type")&&(i=!0)}i!=r&&(e.return=!0,e.stop())})),n.on("postFixer",((t,{listNodes:e,writer:o})=>{for(const{node:n,previousNodeInList:r}of e){if(!r)continue;if(r.getAttribute("listItemId")!=n.getAttribute("listItemId"))continue;const e=r.hasAttribute("todoListChecked"),i=n.hasAttribute("todoListChecked");i&&!e?(o.removeAttribute("todoListChecked",n),t.return=!0):!i&&e&&(o.setAttribute("todoListChecked",!0,n),t.return=!0)}})),e.document.registerPostFixer((t=>{const o=e.document.differ.getChanges();let n=!1;for(const e of o)if("attribute"==e.type&&"listType"==e.attributeKey){const o=e.range.start.nodeAfter;"todo"==e.attributeOldValue&&o.hasAttribute("todoListChecked")&&(t.removeAttribute("todoListChecked",o),n=!0)}else if("insert"==e.type&&"$text"!=e.name)for(const{item:o}of t.createRangeOn(e.position.nodeAfter))o.is("element")&&"todo"!=o.getAttribute("listType")&&o.hasAttribute("todoListChecked")&&(t.removeAttribute("todoListChecked",o),n=!0);return n})),this.listenTo(o.view.document,"keydown",((e,o)=>{pr(o)===_j&&(t.execute("checkTodoList"),e.stop())}),{priority:"high"}),this.listenTo(o.view.document,"todoCheckboxChange",((t,e)=>{const n=e.target;if(!n||!n.is("element","input"))return;const r=o.view.createPositionAfter(n),i=o.mapper.toModelPosition(r).parent;i&&Qq(i)&&"todo"==i.getAttribute("listType")&&this._handleCheckmarkChange(i)})),this.listenTo(o.view.document,"arrowKey",function(t,e){return(o,n)=>{const r=br(n.keyCode,e.contentLanguageDirection),i=t.schema,s=t.document.selection;if(!s.isCollapsed)return;const l=s.getFirstPosition(),a=l.parent;if("right"==r&&l.isAtEnd){const e=i.getNearestSelectionRange(t.createPositionAfter(a),"forward");if(!e)return;const r=e.start.parent;r&&Qq(r)&&"todo"==r.getAttribute("listType")&&(t.change((t=>t.setSelection(e))),n.preventDefault(),n.stopPropagation(),o.stop())}else if("left"==r&&l.isAtStart&&Qq(a)&&"todo"==a.getAttribute("listType")){const e=i.getNearestSelectionRange(t.createPositionBefore(a),"backward");if(!e)return;t.change((t=>t.setSelection(e))),n.preventDefault(),n.stopPropagation(),o.stop()}}}(e,t.locale),{context:"$text"}),this.listenTo(o.mapper,"viewToModelPosition",((t,o)=>{const n=o.viewPosition.parent,r=n.is("attributeElement","li")&&0==o.viewPosition.offset,i=Ej(n)&&o.viewPosition.offset<=1,s=n.is("element","span")&&"false"==n.getAttribute("contenteditable")&&Ej(n.parent);if(!r&&!i&&!s)return;const l=o.modelPosition.nodeAfter;l&&"todo"==l.getAttribute("listType")&&(o.modelPosition=e.createPositionAt(l,0))}),{priority:"low"})}_handleCheckmarkChange(t){const e=this.editor,o=e.model,n=Array.from(o.document.selection.getRanges());o.change((o=>{o.setSelection(t,"end"),e.execute("checkTodoList"),o.setSelection(n)}))}}function Cj(t){const e=new oi(t);return(t,o,n)=>{const r=e.match(o.viewItem);r&&n.consumable.consume(o.viewItem,r.match)&&Object.assign(o,n.convertChildren(o.viewItem,o.modelCursor))}}function Sj(t,e){return(t.is("element","paragraph")||t.is("element","listItem"))&&"todo"==t.getAttribute("listType")&&nH(t)&&function(t,e){for(const o of t.getAttributeKeys())if(!o.startsWith("selection:")&&!e.includes(o))return!1;return!0}(t,e)}function Ej(t){return!!t&&t.is("attributeElement")&&t.hasClass("todo-list__label")}class Mj extends Bb{constructor(t,e){super(t,e),this.listenTo(this.editing.view.document,"clipboardInput",((t,e)=>{const o=e.dataTransfer.getData("text/html");if(o)try{const e=this.removeIdAttributes(o);this.model.change((t=>{const o=this.data.processor.toView(e),n=this.data.toModel(o);this.model.insertContent(n,this.model.document.selection)})),t.stop()}catch(t){console.error("Error handling clipboard input:",t)}}))}removeIdAttributes(t){const e=document.createElement("div");e.innerHTML=t;return e.querySelectorAll("[id]").forEach((t=>{t.removeAttribute("id")})),e.innerHTML}}Mj.builtinPlugins=[class extends Lr{static get requires(){return[Vb,$b]}static get pluginName(){return"Alignment"}},P_,class extends Lr{static get requires(){return[ef]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&kf(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&kf(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&kf(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&kf(this.editor,this,/^\[\s?x\s?\]\s$/,(()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")}))}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const t=_f(this.editor,"bold");yf(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),yf(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(t.get("italic")){const t=_f(this.editor,"italic");yf(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),yf(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(t.get("code")){const t=_f(this.editor,"code");yf(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(t.get("strikethrough")){const t=_f(this.editor,"strikethrough");yf(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter((t=>t.match(/^heading[1-6]$/))).forEach((e=>{const o=e[7],n=new RegExp(`^(#{${o}})\\s$`);kf(this.editor,this,n,(()=>{if(!t.isEnabled||t.value===e)return!1;this.editor.execute("heading",{value:e})}))}))}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&kf(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const t=this.editor,e=t.model.document.selection;t.commands.get("codeBlock")&&kf(t,this,/^```$/,(()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})}))}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&kf(this.editor,this,/^---$/,"horizontalLine")}},class extends Lr{static get requires(){return[vA]}static get pluginName(){return"Base64UploadAdapter"}init(){this.editor.plugins.get(vA).createUploadAdapter=t=>new AA(t)}},class extends Lr{static get requires(){return[hw,mw]}static get pluginName(){return"BlockQuote"}},class extends Lr{static get requires(){return[Sf,Mf]}static get pluginName(){return"Bold"}},class extends Vr{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[yw]}async init(){const t=this.context.config.get("cloudServices")||{};for(const[e,o]of Object.entries(t))this[e]=o;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=await e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)}async registerTokenUrl(t){if(this._tokens.has(t))return this.getTokenFor(t);const e=this.context.plugins.get("CloudServicesCore"),o=await e.createToken(t).init();return this._tokens.set(t,o),o}getTokenFor(t){const e=this._tokens.get(t);if(!e)throw new f("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const t of this._tokens.values())t.destroy()}},Cv,mv,class extends Lr{static get requires(){return[VH,HH]}static get pluginName(){return"DocumentList"}},class extends Lr{static get requires(){return[sj,bj]}static get pluginName(){return"DocumentListProperties"}},class extends Lr{static get requires(){return[Cx,ow,Bx,sw,of,$x]}static get pluginName(){return"Essentials"}},class extends Lr{static get requires(){return[ik,Ux]}static get pluginName(){return"FindAndReplace"}init(){const t=this.editor.plugins.get("FindAndReplaceUI"),e=this.editor.plugins.get("FindAndReplaceEditing"),o=e.state;t.on("findNext",((t,e)=>{e?(o.searchText=e.searchText,this.editor.execute("find",e.searchText,e)):this.editor.execute("findNext")})),t.on("findPrevious",((t,e)=>{e&&o.searchText!==e.searchText?this.editor.execute("find",e.searchText):this.editor.execute("findPrevious")})),t.on("replace",((t,e)=>{o.searchText!==e.searchText&&this.editor.execute("find",e.searchText);const n=o.highlightedResult;n&&this.editor.execute("replace",e.replaceText,n)})),t.on("replaceAll",((t,e)=>{o.searchText!==e.searchText&&this.editor.execute("find",e.searchText),this.editor.execute("replaceAll",e.replaceText,o.results)})),t.on("searchReseted",(()=>{o.clear(this.editor.model),e.stop()}))}},class extends Lr{static get requires(){return[Ik,zk]}static get pluginName(){return"FontBackgroundColor"}},class extends Lr{static get requires(){return[Tk,Lk]}static get pluginName(){return"FontColor"}},class extends Lr{static get requires(){return[wk,xk]}static get pluginName(){return"FontFamily"}},class extends Lr{static get requires(){return[Ck,Mk]}static get pluginName(){return"FontSize"}normalizeSizeOptions(t){return yk(t)}},class extends Lr{static get pluginName(){return"GeneralHtmlSupport"}static get requires(){return[Cv,Bv,Lv,Pv,zv,Rv,Fv,Ov,Vv,Nv,qv]}init(){const t=this.editor,e=t.plugins.get(Cv);e.loadAllowedEmptyElementsConfig(t.config.get("htmlSupport.allowEmpty")||[]),e.loadAllowedConfig(t.config.get("htmlSupport.allow")||[]),e.loadDisallowedConfig(t.config.get("htmlSupport.disallow")||[])}getGhsAttributeNameForElement(t){const e=this.editor.plugins.get("DataSchema"),o=Array.from(e.getDefinitionsForView(t,!1)),n=o.find((t=>t.isInline&&!o[0].isObject));return n?n.model:ov(t)}addModelHtmlClass(t,e,o){const n=this.editor.model,r=this.getGhsAttributeNameForElement(t);n.change((t=>{for(const i of Hv(n,o,r))ev(t,i,r,"classes",(t=>{for(const o of fr(e))t.add(o)}))}))}removeModelHtmlClass(t,e,o){const n=this.editor.model,r=this.getGhsAttributeNameForElement(t);n.change((t=>{for(const i of Hv(n,o,r))ev(t,i,r,"classes",(t=>{for(const o of fr(e))t.delete(o)}))}))}setModelHtmlAttributes(t,e,o){const n=this.editor.model,r=this.getGhsAttributeNameForElement(t);n.change((t=>{for(const i of Hv(n,o,r))ev(t,i,r,"attributes",(t=>{for(const[o,n]of Object.entries(e))t.set(o,n)}))}))}removeModelHtmlAttributes(t,e,o){const n=this.editor.model,r=this.getGhsAttributeNameForElement(t);n.change((t=>{for(const i of Hv(n,o,r))ev(t,i,r,"attributes",(t=>{for(const o of fr(e))t.delete(o)}))}))}setModelHtmlStyles(t,e,o){const n=this.editor.model,r=this.getGhsAttributeNameForElement(t);n.change((t=>{for(const i of Hv(n,o,r))ev(t,i,r,"styles",(t=>{for(const[o,n]of Object.entries(e))t.set(o,n)}))}))}removeModelHtmlStyles(t,e,o){const n=this.editor.model,r=this.getGhsAttributeNameForElement(t);n.change((t=>{for(const i of Hv(n,o,r))ev(t,i,r,"styles",(t=>{for(const o of fr(e))t.delete(o)}))}))}},class extends Lr{static get requires(){return[qk,Wk]}static get pluginName(){return"Heading"}},class extends Lr{static get requires(){return[Jk,Yk,ox]}static get pluginName(){return"HorizontalLine"}},class extends Lr{static get pluginName(){return"Indent"}static get requires(){return[jv,Gv]}},class extends Lr{constructor(t){super(t),t.config.define("indentBlock",{offset:40,unit:"px"})}static get pluginName(){return"IndentBlock"}init(){const t=this.editor,e=t.config.get("indentBlock");e.classes&&e.classes.length?(this._setupConversionUsingClasses(e.classes),t.commands.add("indentBlock",new Zv(t,new Yv({direction:"forward",classes:e.classes}))),t.commands.add("outdentBlock",new Zv(t,new Yv({direction:"backward",classes:e.classes})))):(t.data.addStyleProcessorRules(ou),this._setupConversionUsingOffset(),t.commands.add("indentBlock",new Zv(t,new Jv({direction:"forward",offset:e.offset,unit:e.unit}))),t.commands.add("outdentBlock",new Zv(t,new Jv({direction:"backward",offset:e.offset,unit:e.unit}))))}afterInit(){const t=this.editor,e=t.model.schema,o=t.commands.get("indent"),n=t.commands.get("outdent"),r=t.config.get("heading.options");(r&&r.map((t=>t.model))||Xv).forEach((t=>{e.isRegistered(t)&&e.extend(t,{allowAttributes:"blockIndent"})})),e.setAttributeProperties("blockIndent",{isFormatting:!0}),o.registerChildCommand(t.commands.get("indentBlock")),n.registerChildCommand(t.commands.get("outdentBlock"))}_setupConversionUsingOffset(){const t=this.editor.conversion,e="rtl"===this.editor.locale.contentLanguageDirection?"margin-right":"margin-left";t.for("upcast").attributeToAttribute({view:{styles:{[e]:/[\s\S]+/}},model:{key:"blockIndent",value:t=>{if(!t.is("element","li"))return t.getStyle(e)}}}),t.for("downcast").attributeToAttribute({model:"blockIndent",view:t=>({key:"style",value:{[e]:t}})})}_setupConversionUsingClasses(t){const e={model:{key:"blockIndent",values:[]},view:{}};for(const o of t)e.model.values.push(o),e.view[o]={key:"class",value:[o]};this.editor.conversion.attributeToAttribute(e)}},class extends Lr{static get requires(){return[Lf,If]}static get pluginName(){return"Italic"}},class extends Lr{static get requires(){return[x_,T_,P_]}static get pluginName(){return"Link"}},Vk,class extends Lr{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Ew]}init(){const t=this.editor,e=t.plugins.get("ClipboardPipeline"),o=t.editing.view.document,n=[];n.push(new j_(o)),n.push(new Z_(o)),n.push(new Y_(o)),e.on("inputTransformation",((e,r)=>{if(r._isTransformedWithPasteFromOffice)return;if(t.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const i=r.dataTransfer.getData("text/html"),s=n.find((t=>t.isActive(i)));s&&(r._parsedData||(r._parsedData=Q_(i,o.stylesProcessor)),s.execute(r),r._isTransformedWithPasteFromOffice=!0)}),{priority:"high"})}},class extends Lr{static get requires(){return[nA,eA]}static get pluginName(){return"RemoveFormat"}},Bx,class extends Lr{static get requires(){return[of]}static get pluginName(){return"SpecialCharacters"}constructor(t){super(t);const e=t.t;this._characters=new Map,this._groups=new Map,this._allSpecialCharactersGroupLabel=e("All")}init(){const t=this.editor,e=t.t,o=t.commands.get("insertText");t.ui.componentFactory.add("specialCharacters",(n=>{const r=gm(n);let i;return r.buttonView.set({label:e("Special characters"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2.5a7.47 7.47 0 0 1 4.231 1.31 7.268 7.268 0 0 1 2.703 3.454 7.128 7.128 0 0 1 .199 4.353c-.39 1.436-1.475 2.72-2.633 3.677h2.013c0-.226.092-.443.254-.603a.876.876 0 0 1 1.229 0c.163.16.254.377.254.603v.853c0 .209-.078.41-.22.567a.873.873 0 0 1-.547.28l-.101.006h-4.695a.517.517 0 0 1-.516-.518v-1.265c0-.21.128-.398.317-.489a5.601 5.601 0 0 0 2.492-2.371 5.459 5.459 0 0 0 .552-3.693 5.53 5.53 0 0 0-1.955-3.2A5.71 5.71 0 0 0 10 4.206 5.708 5.708 0 0 0 6.419 5.46 5.527 5.527 0 0 0 4.46 8.663a5.457 5.457 0 0 0 .554 3.695 5.6 5.6 0 0 0 2.497 2.37.55.55 0 0 1 .317.49v1.264c0 .286-.23.518-.516.518H2.618a.877.877 0 0 1-.614-.25.845.845 0 0 1-.254-.603v-.853c0-.226.091-.443.254-.603a.876.876 0 0 1 1.228 0c.163.16.255.377.255.603h1.925c-1.158-.958-2.155-2.241-2.545-3.678a7.128 7.128 0 0 1 .199-4.352 7.268 7.268 0 0 1 2.703-3.455A7.475 7.475 0 0 1 10 2.5z"/></svg>',tooltip:!0}),r.bind("isEnabled").to(o),r.on("execute",((e,o)=>{t.execute("insertText",{text:o.character}),t.editing.view.focus()})),r.on("change:isOpen",(()=>{if(!i){i=this._createDropdownPanelContent(n,r);const t=new uA(n,i.navigationView,i.gridView,i.infoView);r.panelView.children.add(t)}i.infoView.set({character:null,name:null})})),r}))}addItems(t,e,o={label:t}){if(t===gA)throw new f("special-character-invalid-group-name",null);const n=this._getGroup(t,o.label);for(const t of e)n.items.add(t.title),this._characters.set(t.title,t.character)}getGroups(){const t=Array.from(this._groups.keys()),e=this.editor.config.get("specialCharacters.order")||[],o=e.find((e=>!t.includes(e)));if(o)throw new f("special-character-invalid-order-group-name",null,{invalidGroup:o});return new Set([...e,...t])}getCharactersForGroup(t){if(t===gA)return new Set(this._characters.keys());const e=this._groups.get(t);return e?e.items:void 0}getCharacter(t){return this._characters.get(t)}_getGroup(t,e){return this._groups.has(t)||this._groups.set(t,{items:new Set,label:e}),this._groups.get(t)}_updateGrid(t,e){e.tiles.clear();const o=this.getCharactersForGroup(t);for(const t of o){const o=this.getCharacter(t);e.tiles.add(e.createTile(o,t))}}_createDropdownPanelContent(t,e){const o=Array.from(this.getGroups()).map((t=>[t,this._groups.get(t).label])),n=new Map([[gA,this._allSpecialCharactersGroupLabel],...o]),r=new rA(t,n),i=new lA(t),s=new cA(t);return i.delegate("execute").to(e),i.on("tileHover",((t,e)=>{s.set(e)})),i.on("tileFocus",((t,e)=>{s.set(e)})),r.on("execute",(()=>{this._updateGrid(r.currentGroupName,i)})),this._updateGrid(r.currentGroupName,i),{navigationView:r,gridView:i,infoView:s}}},bA,kA,class extends Lr{static get pluginName(){return"SpecialCharactersEssentials"}static get requires(){return[kA,fA,wA,bA,xA]}},xA,wA,fA,class extends Lr{static get requires(){return[Rf,Of]}static get pluginName(){return"Strikethrough"}},class extends Lr{static get requires(){return[Nf,Kf]}static get pluginName(){return"Subscript"}},class extends Lr{static get requires(){return[Hf,Wf]}static get pluginName(){return"Superscript"}},class extends Lr{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(t){super(t),t.config.define("typing",{transformations:{include:pf}})}init(){const t=this.editor.model.document.selection;t.on("change:range",(()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")})),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,o=t.plugins.get("Delete"),n=function(t){const e=t.extra||[],o=t.remove||[],n=t=>!o.includes(t);return function(t){const e=new Set;for(const o of t)if("string"==typeof o&&uf[o])for(const t of uf[o])e.add(t);else e.add(o);return Array.from(e)}(t.include.concat(e).filter(n)).filter(n).map((t=>"string"==typeof t&&hf[t]?hf[t]:t)).filter((t=>"object"==typeof t)).map((t=>({from:mf(t.from),to:gf(t.to)})))}(t.config.get("typing.transformations")),r=new rf(t.model,(t=>{for(const e of n){if(e.from.test(t))return{normalizedTransformation:e}}}));r.on("matched:data",((t,n)=>{if(!n.batch.isTyping)return;const{from:r,to:i}=n.normalizedTransformation,s=r.exec(n.text),l=i(s.slice(1)),a=n.range;let d=s.index;e.enqueueChange((t=>{for(let o=1;o<s.length;o++){const n=s[o],r=l[o-1];if(null==r){d+=n.length;continue}const i=a.start.getShiftedBy(d),c=e.createRange(i,i.getShiftedBy(n.length)),h=bf(i);e.insertContent(t.createText(r,h),c),d+=r.length}e.enqueueChange((()=>{o.requestUndoOnBackspace()}))}))})),r.bind("isEnabled").to(this)}},class extends Lr{static get requires(){return[Aj,wj]}static get pluginName(){return"TodoDocumentList"}},class extends Lr{static get requires(){return[Gf,Jf]}static get pluginName(){return"Underline"}},class extends Lr{constructor(t){super(t),this.set("characters",0),this.set("words",0),Object.defineProperties(this,{characters:{get(){return this.characters=this._getCharacters(this._getText())}},words:{get(){return this.words=this._getWords(this._getText())}}}),this.set("_wordsLabel",void 0),this.set("_charactersLabel",void 0),this._config=t.config.get("wordCount")||{},this._outputView=void 0,this._wordsMatchRegExp=r.features.isRegExpUnicodePropertySupported?new RegExp("([\\p{L}\\p{N}]+\\S?)+","gu"):/([a-zA-Z0-9À-ž]+\S?)+/gu}static get pluginName(){return"WordCount"}init(){this.editor.model.document.on("change:data",wu(this._refreshStats.bind(this),250)),"function"==typeof this._config.onUpdate&&this.on("update",((t,e)=>{this._config.onUpdate(e)})),xn(this._config.container)&&this._config.container.appendChild(this.wordCountContainer)}destroy(){this._outputView&&(this._outputView.element.remove(),this._outputView.destroy()),super.destroy()}get wordCountContainer(){const t=this.editor,e=t.t,o=t.config.get("wordCount.displayWords"),n=t.config.get("wordCount.displayCharacters"),r=Lu.bind(this,this),i=[];return this._outputView||(this._outputView=new Bu,(o||void 0===o)&&(this.bind("_wordsLabel").to(this,"words",(t=>e("Words: %0",t))),i.push({tag:"div",children:[{text:[r.to("_wordsLabel")]}],attributes:{class:"ck-word-count__words"}})),(n||void 0===n)&&(this.bind("_charactersLabel").to(this,"characters",(t=>e("Characters: %0",t))),i.push({tag:"div",children:[{text:[r.to("_charactersLabel")]}],attributes:{class:"ck-word-count__characters"}})),this._outputView.setTemplate({tag:"div",attributes:{class:["ck","ck-word-count"]},children:i}),this._outputView.render()),this._outputView.element}_getText(){let t="";for(const e of this.editor.model.document.getRoots())""!==t&&(t+="\n"),t+=CA(e);return t}_getCharacters(t){return t.replace(/\n/g,"").length}_getWords(t){return(t.match(this._wordsMatchRegExp)||[]).length}_refreshStats(){const t=this._getText(),e=this.words=this._getWords(t),o=this.characters=this._getCharacters(t);this.fire("update",{words:e,characters:o})}},class extends Lr{static get requires(){return[BV,DV]}},class extends Lr{static get requires(){return[UN,e$,i$,u$,c$,s$,ox]}static get pluginName(){return"Table"}},class extends Lr{static get pluginName(){return"TableCaption"}static get requires(){return[N$,$$]}},class extends Lr{static get pluginName(){return"TableCellProperties"}static get requires(){return[sq,PK]}},class extends Lr{static get requires(){return[Aq,RK]}static get pluginName(){return"TableColumnResize"}},class extends Lr{static get pluginName(){return"TableProperties"}static get requires(){return[Fq,jq]}},class extends Lr{static get requires(){return[rx]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor,e=t.t,o=t.plugins.get(rx),n=t.config.get("table.contentToolbar"),r=t.config.get("table.tableToolbar");n&&o.register("tableContent",{ariaLabel:e("Table toolbar"),items:n,getRelatedElement:yK}),r&&o.register("table",{ariaLabel:e("Table toolbar"),items:r,getRelatedElement:kK})}},class extends Lr{static get requires(){return[RV,IV]}},class extends Lr{init(){const t=this.editor;t.commands.add("wrapSpan",new Gq(t)),t.ui.componentFactory.add("wrapSpan",(e=>{const o=new sp(e),n=t.commands.get("wrapSpan");return o.set({label:"Wrap together",tooltip:!0,icon:'<svg id="Text_Left" data-name="Text Left" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path id="Vector" d="M24,0V24H0V0Z" fill="none"/>\n    <g id="Group" transform="translate(6 5.7)">\n        <path id="Vector-2" data-name="Vector" d="M1.816,0H0" transform="translate(0 10)" fill="none" stroke="#000"\n              stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" stroke-dasharray="0 0"/>\n        <path id="Vector-3" data-name="Vector" d="M6,0H0" transform="translate(0 5)" fill="none" stroke="#000"\n              stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" stroke-dasharray="0 0"/>\n        <path id="Vector-4" data-name="Vector" d="M12,0H0" fill="none" stroke="#000" stroke-linecap="round"\n              stroke-linejoin="round" stroke-width="1.5" stroke-dasharray="0 0"/>\n        <g id="Group_9477" data-name="Group 9477" transform="translate(-6 -7)">\n            <g id="Group_9477-2" data-name="Group 9477">\n                <path id="Vector-5" data-name="Vector" d="M9.844,5.5V2c0-1.56-1.029-2-2.294-2V0"\n                      transform="translate(18.002 7.156) rotate(90)" fill="none" stroke="#000" stroke-linecap="round"\n                      stroke-linejoin="round" stroke-width="1.5" stroke-dasharray="0 0"/>\n                <path id="Vector-6" data-name="Vector" d="M2.514-.479V3.5c0,1.56-1.128,2-2.514,2v0"\n                      transform="translate(12.5 14.514) rotate(-90)" fill="none" stroke="#000" stroke-linecap="round"\n                      stroke-linejoin="round" stroke-width="1.5" stroke-dasharray="0 0"/>\n            </g>\n            <g id="Group-2" data-name="Group" transform="translate(14.45 14.36) rotate(90)">\n                <path id="Vector-7" data-name="Vector" d="M2.64,2.64,0,0" transform="translate(0)" fill="none"\n                      stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"\n                      stroke-dasharray="0 0"/>\n                <path id="Vector-8" data-name="Vector" d="M0,2.64,2.64,0" transform="translate(2.64)" fill="none"\n                      stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"\n                      stroke-dasharray="0 0"/>\n            </g>\n        </g>\n    </g>\n</svg>\n',isOn:n.value}),o.bind("isOn").to(n,"value"),o.on("execute",(()=>{t.execute("wrapSpan")})),o})),t.model.schema.extend("$text",{allowAttributes:"wrapClass"}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"class",classes:"keep-together"},model:{key:"wrapClass",value:"keep-together"}}),t.conversion.for("downcast").attributeToElement({model:"wrapClass",view:(t,{writer:e})=>t?e.createAttributeElement("span",{class:t},{priority:1}):null,converterPriority:"high"})}}],Mj.defaultConfig={toolbar:{items:["heading","|","bold","italic","underline","strikethrough","link","horizontalLine","|","fontColor","fontBackgroundColor","fontSize","fontFamily","|","bulletedList","numberedList","todoList","|","subscript","superscript","specialCharacters","equations","|","alignment","outdent","indent","|","cb-media","removeFormat","findAndReplace","blockQuote","insertTable","wrapSpan","undo","redo"]},language:"en",table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableCellProperties","tableProperties"]},htmlSupport:{allow:[{name:/.*/,attributes:!0,classes:!0,styles:!0}]},link:{addTargetToExternalLinks:!0,defaultProtocol:"http://"},list:{properties:{styles:!0,startIndex:!0,reversed:!0,bracketed:!0}}};const Dj=Mj})(),n=n.default})()));
//# sourceMappingURL=ckeditor.js.map